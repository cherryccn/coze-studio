{"version":3,"file":"static/js/async/3334.00efe9ca.js","sources":["webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/@douyinfe+semi-icons@2.81.0_react@18.2.0/node_modules/@douyinfe/semi-icons/lib/es/icons/IconAlertCircle.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/extend@3.0.2/node_modules/extend/index.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/is-buffer@2.0.5/node_modules/is-buffer/index.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/style-to-object@0.4.4/node_modules/style-to-object/index.js","webpack://@coze-studio/app/../../packages/agent-ide/commons/src/utils/index.ts","webpack://@coze-studio/app/../../packages/agent-ide/commons/src/hooks/use-send-diff-event.ts","webpack://@coze-studio/app/../../packages/agent-ide/commons/src/components/diff-node-render/index.module.less?9b55","webpack://@coze-studio/app/../../packages/agent-ide/commons/src/components/diff-node-render/index.tsx","webpack://@coze-studio/app/../../packages/agent-ide/commons/src/components/term-service/term-service-modal/index.module.less?9283","webpack://@coze-studio/app/../../packages/agent-ide/commons/src/components/term-service/term-service-modal/index.tsx","webpack://@coze-studio/app/../../packages/agent-ide/commons/src/components/term-service/index.tsx","webpack://@coze-studio/app/../../packages/agent-ide/commons/src/constants/index.ts","webpack://@coze-studio/app/../../packages/agent-ide/space-bot/src/component/authorize-button/index.tsx","webpack://@coze-studio/app/../../packages/agent-ide/space-bot/src/component/bot-diff-view/index.tsx","webpack://@coze-studio/app/../../packages/agent-ide/space-bot/src/component/bot-diff-view/new-diff-view.tsx","webpack://@coze-studio/app/../../packages/arch/idl/src/auto-generated/developer_api/namespaces/bot_connector_manage.ts","webpack://@coze-studio/app/../../packages/agent-ide/space-bot/src/component/bind-connector-modal/hooks/use-step-action.ts","webpack://@coze-studio/app/../../packages/agent-ide/space-bot/src/component/bind-connector-modal/connector-link/index.module.less?6b05","webpack://@coze-studio/app/../../packages/agent-ide/space-bot/src/component/bind-connector-modal/connector-link/index.tsx","webpack://@coze-studio/app/../../packages/agent-ide/space-bot/src/component/bind-connector-modal/connector-guide/index.module.less?ca7e","webpack://@coze-studio/app/../../packages/agent-ide/space-bot/src/component/bind-connector-modal/connector-guide/index.tsx","webpack://@coze-studio/app/../../packages/agent-ide/space-bot/src/component/bind-connector-modal/connector-field/index.module.less?8011","webpack://@coze-studio/app/../../packages/agent-ide/space-bot/src/component/bind-connector-modal/connector-field/index.tsx","webpack://@coze-studio/app/../../packages/agent-ide/space-bot/src/component/bind-connector-modal/connector-form/index.module.less?457e","webpack://@coze-studio/app/../../packages/agent-ide/space-bot/src/component/bind-connector-modal/connector-form/index.tsx","webpack://@coze-studio/app/../../packages/agent-ide/space-bot/src/component/bind-connector-modal/connector-error/index.module.less?224a","webpack://@coze-studio/app/../../packages/agent-ide/space-bot/src/component/bind-connector-modal/connector-error/index.tsx","webpack://@coze-studio/app/../../packages/agent-ide/space-bot/src/component/bind-connector-modal/use-connector-form-modal.tsx","webpack://@coze-studio/app/../../packages/agent-ide/space-bot/src/component/connector-action/kv-bind-button.tsx","webpack://@coze-studio/app/../../packages/agent-ide/space-bot/src/hook/use-connector-diff-modal.tsx","webpack://@coze-studio/app/../../packages/agent-ide/space-bot/src/component/connector-action/diff-view-button.tsx","webpack://@coze-studio/app/../../packages/agent-ide/space-bot/src/util/auth.ts","webpack://@coze-studio/app/../../packages/agent-ide/space-bot/src/util/index.ts","webpack://@coze-studio/app/../../packages/arch/bot-flags/src/use-flags.ts","webpack://@coze-studio/app/../../packages/arch/idl/src/auto-generated/dp_manage/namespaces/flow_devops_dp_manage.ts","webpack://@coze-studio/app/../../packages/common/md-editor-adapter/src/types.ts","webpack://@coze-studio/app/../../packages/common/md-editor-adapter/src/utils.ts","webpack://@coze-studio/app/../../packages/common/md-editor-adapter/src/index.tsx","webpack://@coze-studio/app/../../packages/studio/components/src/monetize/monetize-credit-refresh-cycle/index.tsx","webpack://@coze-studio/app/../../packages/studio/components/src/monetize/monetize-publish-info/index.tsx","webpack://@coze-studio/app/../../packages/studio/open-platform/open-env-adapter/src/chat/index.ts","webpack://@coze-studio/app/../../packages/studio/premium/premium-components-adapter/src/components/premium-paywall/index.tsx","webpack://@coze-studio/app/../../packages/studio/premium/premium-components-adapter/src/components/premium-paywall-banner/index.tsx","webpack://@coze-studio/app/../../packages/studio/premium/premium-components-adapter/src/components/premium-manage/use-premium-manage-modal.tsx","webpack://@coze-studio/app/../../packages/studio/publish-manage-hooks/src/hooks/use-is-publish-record-ready.ts","webpack://@coze-studio/app/../../packages/arch/idl/src/auto-generated/intelligence_api/namespaces/domain_connector.ts","webpack://@coze-studio/app/../../packages/arch/idl/src/auto-generated/intelligence_api/namespaces/publish.ts","webpack://@coze-studio/app/../../packages/arch/idl/src/auto-generated/intelligence_api/namespaces/common_struct.ts","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/utils/constants.ts","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/store.ts","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/utils/setter-factory.ts","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-main/utils/publish-draft.ts","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-main/utils/increment-version-number.ts","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-main/utils/get-fixed-version-number.ts","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-main/utils/connector-disabled-publish.ts","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-main/utils/init-publish-store.ts","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/utils/is-publish-finish.ts","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/context/publish-container-context.tsx","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-main/publish-title-bar.tsx","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/web-sdk-guide/index.module.less?2c4e","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/web-sdk-guide/index.tsx","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-progress/components/publish-step-title.tsx","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-progress/components/publish-step-icon.tsx","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-progress/components/connector-status.tsx","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-progress/index.tsx","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-main/publish-record.tsx","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-main/hooks/use-connector-scroll.ts","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/service/connector-anchor.ts","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/hooks/use-biz-connector-anchor.ts","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-main/hooks/use-auto-scroll-to-connector.ts","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-main/hooks/use-chatflow-options.ts","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-main/components/option-with-tooltip.tsx","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-main/components/social-platform-chatflow.tsx","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-main/components/connector-tab-bar/index.module.less?502d","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-main/components/connector-tab-bar/index.tsx","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-main/components/connector-group-header.module.less?c881","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-main/components/connector-group-header.tsx","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-main/utils/is-store-bind-configured.ts","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/union.js","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/hooks/use-mcp-config-modal.tsx","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-main/components/mcp-config-btn.tsx","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-main/components/connector-union-select.tsx","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-main/components/bind-actions/web-sdk-bind.tsx","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-main/utils/display-screen-option.ts","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-main/components/bind-actions/template-bind/types.ts","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/utils/upload-custom-request.ts","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-main/hooks/use-product-category-options.ts","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-main/components/bind-actions/template-bind/template-preview-card.tsx","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-main/components/bind-actions/template-bind/index.module.less?9816","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-main/components/bind-actions/template-bind/template-config-form.tsx","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-main/components/bind-actions/template-bind/index.tsx","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-main/components/bind-actions/store-bind.tsx","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-main/components/connector-action.tsx","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-main/utils/get-config-status.ts","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-main/components/config-status.tsx","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-main/components/bind-actions/undo-button.tsx","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-main/components/connector-card.tsx","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-main/index.module.less?47e7","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-main/publish-connectors.tsx","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-main/utils/format-connector-groups.ts","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-main/utils/version-number-check.ts","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-main/components/version-desc-input/index.module.less?6f6d","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-main/components/version-desc-input/index.tsx","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-main/publish-basic-info.tsx","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-main/components/publish-container/index.tsx","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-main/index.tsx","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/hooks/use-publish-status.tsx","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-button/index.tsx","webpack://@coze-studio/app/../../packages/agent-ide/space-bot/src/component/bot-diff-view/index.module.less?b9bd","webpack://@coze-studio/app/../../packages/agent-ide/space-bot/src/assets/image/diff-empty.svg","webpack://@coze-studio/app/../../packages/agent-ide/commons/src/components/diff-node-render/index.module.less","webpack://@coze-studio/app/../../packages/agent-ide/commons/src/components/term-service/term-service-modal/index.module.less","webpack://@coze-studio/app/../../packages/agent-ide/space-bot/src/component/bind-connector-modal/connector-error/index.module.less","webpack://@coze-studio/app/../../packages/agent-ide/space-bot/src/component/bind-connector-modal/connector-field/index.module.less","webpack://@coze-studio/app/../../packages/agent-ide/space-bot/src/component/bind-connector-modal/connector-form/index.module.less","webpack://@coze-studio/app/../../packages/agent-ide/space-bot/src/component/bind-connector-modal/connector-guide/index.module.less","webpack://@coze-studio/app/../../packages/agent-ide/space-bot/src/component/bind-connector-modal/connector-link/index.module.less","webpack://@coze-studio/app/../../packages/agent-ide/space-bot/src/component/bot-diff-view/index.module.less","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-main/components/bind-actions/template-bind/index.module.less","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-main/components/connector-group-header.module.less","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-main/components/connector-tab-bar/index.module.less","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-main/components/version-desc-input/index.module.less","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/publish-main/index.module.less","webpack://@coze-studio/app/../../packages/studio/workspace/project-publish/src/web-sdk-guide/index.module.less","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/@monaco-editor+loader@1.5.0/node_modules/@monaco-editor/loader/lib/es/_virtual/_rollupPluginBabelHelpers.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/state-local@1.0.7/node_modules/state-local/lib/es/state-local.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/@monaco-editor+loader@1.5.0/node_modules/@monaco-editor/loader/lib/es/utils/curry.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/@monaco-editor+loader@1.5.0/node_modules/@monaco-editor/loader/lib/es/validators/index.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/@monaco-editor+loader@1.5.0/node_modules/@monaco-editor/loader/lib/es/utils/isObject.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/@monaco-editor+loader@1.5.0/node_modules/@monaco-editor/loader/lib/es/utils/compose.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/@monaco-editor+loader@1.5.0/node_modules/@monaco-editor/loader/lib/es/utils/makeCancelable.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/@monaco-editor+loader@1.5.0/node_modules/@monaco-editor/loader/lib/es/loader/index.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/@monaco-editor+loader@1.5.0/node_modules/@monaco-editor/loader/lib/es/config/index.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/@monaco-editor+loader@1.5.0/node_modules/@monaco-editor/loader/lib/es/utils/deepMerge.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/@monaco-editor+react@4.7.0_monaco-editor@0.45.0_react-dom@18.2.0_react@18.2.0/node_modules/@monaco-editor/react/dist/index.mjs","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/comma-separated-tokens@2.0.3/node_modules/comma-separated-tokens/index.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/findIndex.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/find.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/micromark-util-sanitize-uri@1.2.0/node_modules/micromark-util-sanitize-uri/index.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/unist-util-position@4.0.4/node_modules/unist-util-position/lib/index.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/mdast-util-definitions@5.1.2/node_modules/mdast-util-definitions/lib/index.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/mdast-util-to-hast@12.3.0/node_modules/mdast-util-to-hast/lib/handlers/footnote-reference.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/mdast-util-to-hast@12.3.0/node_modules/mdast-util-to-hast/lib/revert.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/mdast-util-to-hast@12.3.0/node_modules/mdast-util-to-hast/lib/handlers/list-item.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/trim-lines@3.0.1/node_modules/trim-lines/index.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/mdast-util-to-hast@12.3.0/node_modules/mdast-util-to-hast/lib/handlers/index.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/mdast-util-to-hast@12.3.0/node_modules/mdast-util-to-hast/lib/handlers/blockquote.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/mdast-util-to-hast@12.3.0/node_modules/mdast-util-to-hast/lib/handlers/break.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/mdast-util-to-hast@12.3.0/node_modules/mdast-util-to-hast/lib/handlers/code.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/mdast-util-to-hast@12.3.0/node_modules/mdast-util-to-hast/lib/handlers/delete.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/mdast-util-to-hast@12.3.0/node_modules/mdast-util-to-hast/lib/handlers/emphasis.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/mdast-util-to-hast@12.3.0/node_modules/mdast-util-to-hast/lib/handlers/footnote.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/mdast-util-to-hast@12.3.0/node_modules/mdast-util-to-hast/lib/handlers/heading.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/mdast-util-to-hast@12.3.0/node_modules/mdast-util-to-hast/lib/handlers/html.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/mdast-util-to-hast@12.3.0/node_modules/mdast-util-to-hast/lib/handlers/image-reference.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/mdast-util-to-hast@12.3.0/node_modules/mdast-util-to-hast/lib/handlers/image.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/mdast-util-to-hast@12.3.0/node_modules/mdast-util-to-hast/lib/handlers/inline-code.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/mdast-util-to-hast@12.3.0/node_modules/mdast-util-to-hast/lib/handlers/link-reference.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/mdast-util-to-hast@12.3.0/node_modules/mdast-util-to-hast/lib/handlers/link.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/mdast-util-to-hast@12.3.0/node_modules/mdast-util-to-hast/lib/handlers/list.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/mdast-util-to-hast@12.3.0/node_modules/mdast-util-to-hast/lib/handlers/paragraph.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/mdast-util-to-hast@12.3.0/node_modules/mdast-util-to-hast/lib/handlers/root.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/mdast-util-to-hast@12.3.0/node_modules/mdast-util-to-hast/lib/handlers/strong.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/mdast-util-to-hast@12.3.0/node_modules/mdast-util-to-hast/lib/handlers/table.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/mdast-util-to-hast@12.3.0/node_modules/mdast-util-to-hast/lib/handlers/table-cell.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/mdast-util-to-hast@12.3.0/node_modules/mdast-util-to-hast/lib/handlers/table-row.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/mdast-util-to-hast@12.3.0/node_modules/mdast-util-to-hast/lib/handlers/text.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/mdast-util-to-hast@12.3.0/node_modules/mdast-util-to-hast/lib/handlers/thematic-break.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/mdast-util-to-hast@12.3.0/node_modules/mdast-util-to-hast/lib/state.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/mdast-util-to-hast@12.3.0/node_modules/mdast-util-to-hast/lib/index.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/unist-util-generated@2.0.1/node_modules/unist-util-generated/lib/index.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/mdast-util-to-hast@12.3.0/node_modules/mdast-util-to-hast/lib/footer.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/remark-rehype@10.1.0/node_modules/remark-rehype/lib/index.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/property-information@6.5.0/node_modules/property-information/lib/util/schema.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/property-information@6.5.0/node_modules/property-information/lib/util/merge.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/property-information@6.5.0/node_modules/property-information/lib/normalize.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/property-information@6.5.0/node_modules/property-information/lib/util/info.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/property-information@6.5.0/node_modules/property-information/lib/util/types.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/property-information@6.5.0/node_modules/property-information/lib/util/defined-info.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/property-information@6.5.0/node_modules/property-information/lib/util/create.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/property-information@6.5.0/node_modules/property-information/lib/xlink.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/property-information@6.5.0/node_modules/property-information/lib/xml.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/property-information@6.5.0/node_modules/property-information/lib/util/case-sensitive-transform.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/property-information@6.5.0/node_modules/property-information/lib/util/case-insensitive-transform.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/property-information@6.5.0/node_modules/property-information/lib/xmlns.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/property-information@6.5.0/node_modules/property-information/lib/aria.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/property-information@6.5.0/node_modules/property-information/lib/html.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/property-information@6.5.0/node_modules/property-information/lib/svg.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/property-information@6.5.0/node_modules/property-information/index.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/react-markdown@8.0.7_@types+react@18.2.37_react@18.2.0/node_modules/react-markdown/lib/rehype-filter.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/property-information@6.5.0/node_modules/property-information/lib/find.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/property-information@6.5.0/node_modules/property-information/lib/hast-to-react.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/react-markdown@8.0.7_@types+react@18.2.37_react@18.2.0/node_modules/react-markdown/lib/ast-to-react.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/style-to-object@0.4.4/node_modules/style-to-object/index.mjs","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/hast-util-whitespace@2.0.1/node_modules/hast-util-whitespace/index.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/react-markdown@8.0.7_@types+react@18.2.37_react@18.2.0/node_modules/react-markdown/lib/react-markdown.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/react-markdown@8.0.7_@types+react@18.2.37_react@18.2.0/node_modules/react-markdown/lib/uri-transformer.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/remark-parse@10.0.2/node_modules/remark-parse/lib/index.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/space-separated-tokens@2.0.2/node_modules/space-separated-tokens/index.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/bail@2.0.2/node_modules/bail/index.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/is-plain-obj@4.1.0/node_modules/is-plain-obj/index.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/unified@10.1.2/node_modules/unified/lib/index.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/trough@2.2.0/node_modules/trough/lib/index.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/vfile-message@3.1.4/node_modules/vfile-message/lib/index.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/vfile@5.3.7/node_modules/vfile/lib/minpath.browser.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/vfile@5.3.7/node_modules/vfile/lib/minproc.browser.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/vfile@5.3.7/node_modules/vfile/lib/minurl.shared.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/vfile@5.3.7/node_modules/vfile/lib/index.js","webpack://@coze-studio/app/../../../common/temp/default/node_modules/.pnpm/vfile@5.3.7/node_modules/vfile/lib/minurl.browser.js"],"sourcesContent":["import * as React from 'react';\nimport { convertIcon } from '../components/Icon';\nfunction SvgComponent(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"1em\",\n    height: \"1em\",\n    focusable: false,\n    \"aria-hidden\": true\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M23 12a11 11 0 1 1-22 0 11 11 0 0 1 22 0Zm-9.5 5.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0ZM12 5a1.9 1.9 0 0 0-1.89 2l.3 5.5a1.59 1.59 0 0 0 3.17 0l.3-5.5c.07-1.09-.8-2-1.88-2Z\",\n    fill: \"currentColor\"\n  }));\n}\nconst IconComponent = convertIcon(SvgComponent, 'alert_circle');\nexport default IconComponent;","'use strict';\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\nvar defineProperty = Object.defineProperty;\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nvar isArray = function isArray(arr) {\n\tif (typeof Array.isArray === 'function') {\n\t\treturn Array.isArray(arr);\n\t}\n\n\treturn toStr.call(arr) === '[object Array]';\n};\n\nvar isPlainObject = function isPlainObject(obj) {\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) { /**/ }\n\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\n// If name is '__proto__', and Object.defineProperty is available, define __proto__ as an own property on target\nvar setProperty = function setProperty(target, options) {\n\tif (defineProperty && options.name === '__proto__') {\n\t\tdefineProperty(target, options.name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\t\t\tvalue: options.newValue,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\ttarget[options.name] = options.newValue;\n\t}\n};\n\n// Return undefined instead of __proto__ if '__proto__' is not an own property\nvar getProperty = function getProperty(obj, name) {\n\tif (name === '__proto__') {\n\t\tif (!hasOwn.call(obj, name)) {\n\t\t\treturn void 0;\n\t\t} else if (gOPD) {\n\t\t\t// In early versions of node, obj['__proto__'] is buggy when obj has\n\t\t\t// __proto__ as an own property. Object.getOwnPropertyDescriptor() works.\n\t\t\treturn gOPD(obj, name).value;\n\t\t}\n\t}\n\n\treturn obj[name];\n};\n\nmodule.exports = function extend() {\n\tvar options, name, src, copy, copyIsArray, clone;\n\tvar target = arguments[0];\n\tvar i = 1;\n\tvar length = arguments.length;\n\tvar deep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t}\n\tif (target == null || (typeof target !== 'object' && typeof target !== 'function')) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = getProperty(target, name);\n\t\t\t\tcopy = getProperty(options, name);\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target !== copy) {\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: extend(deep, clone, copy) });\n\n\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t\t} else if (typeof copy !== 'undefined') {\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: copy });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\nmodule.exports = function isBuffer (obj) {\n  return obj != null && obj.constructor != null &&\n    typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n","var parse = require('inline-style-parser');\n\n/**\n * Parses inline style to object.\n *\n * @example\n * // returns { 'line-height': '42' }\n * StyleToObject('line-height: 42;');\n *\n * @param  {String}      style      - The inline style.\n * @param  {Function}    [iterator] - The iterator function.\n * @return {null|Object}\n */\nfunction StyleToObject(style, iterator) {\n  var output = null;\n  if (!style || typeof style !== 'string') {\n    return output;\n  }\n\n  var declaration;\n  var declarations = parse(style);\n  var hasIterator = typeof iterator === 'function';\n  var property;\n  var value;\n\n  for (var i = 0, len = declarations.length; i < len; i++) {\n    declaration = declarations[i];\n    property = declaration.property;\n    value = declaration.value;\n\n    if (hasIterator) {\n      iterator(property, value, declaration);\n    } else if (value) {\n      output || (output = {});\n      output[property] = value;\n    }\n  }\n\n  return output;\n}\n\nmodule.exports = StyleToObject;\nmodule.exports.default = StyleToObject; // ESM support\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport dayjs from 'dayjs';\nimport { userStoreService } from '@coze-studio/user-store';\nimport { useBotInfoStore } from '@coze-studio/bot-detail-store/bot-info';\nimport { sendTeaEvent, type EVENT_NAMES } from '@coze-arch/bot-tea';\nimport { useSpaceStore } from '@coze-arch/bot-studio-store';\nimport { SpaceType } from '@coze-arch/bot-api/developer_api';\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function sendTeaEventInBot(event: EVENT_NAMES, params?: any) {\n  const { botId: botID } = useBotInfoStore.getState();\n  const userInfo = userStoreService.getUserInfo();\n\n  const {\n    space: { id: spaceId, space_type },\n  } = useSpaceStore.getState();\n  const isPersonal = space_type === SpaceType.Personal;\n  const timestamp = Date.now();\n  sendTeaEvent(event, {\n    user_id: userInfo?.user_id_str,\n    timestamp,\n    bot_id: botID,\n    workspace_id: spaceId,\n    workspace_type: isPersonal ? 'personal_workspace' : 'team_workspace',\n    ...params,\n  });\n}\n\nconst UNIX_LEN = 10;\nconst UNIX_LEN2 = 13;\n\nexport const transTimestampText = (text: string | undefined) => {\n  try {\n    if (!text) {\n      return text;\n    }\n    const regex = /timestamp:\"(\\d{10,13})\"/;\n    const match = text.match(regex);\n    if (match) {\n      const timestamp = match?.[1];\n      const format = 'YYYY-MM-DD HH:mm:ss';\n      const strLen = `${timestamp}`.length;\n      if (strLen === UNIX_LEN) {\n        return `\"${dayjs.unix(Number(timestamp)).format(format)}\"`;\n      } else if (strLen === UNIX_LEN2) {\n        return `\"${dayjs(Number(timestamp)).format(format)}\"`;\n      }\n    }\n    return text;\n  } catch (error) {\n    return text;\n  }\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useParams } from 'react-router-dom';\n\nimport { EVENT_NAMES, sendTeaEvent } from '@coze-arch/bot-tea';\nexport const useSendDiffEvent = () => {\n  const params = useParams();\n  const spaceId = params.space_id || '';\n  const botId = params.bot_id || '';\n  const sendViewDiffEvent = () => {\n    sendTeaEvent(EVENT_NAMES.bot_diff_viewdetail, {\n      workspace_id: spaceId,\n      bot_id: botId,\n    });\n  };\n  const sendManualMergeEvent = (isSubmit: boolean) => {\n    sendTeaEvent(EVENT_NAMES.bot_merge_manual, {\n      workspace_id: spaceId,\n      bot_id: botId,\n      submit_or_not: isSubmit,\n    });\n  };\n  return {\n    sendViewDiffEvent,\n    sendManualMergeEvent,\n  };\n};\n","\n      import API from \"!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n       export default content && content.locals ? content.locals : undefined;\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useState } from 'react';\n\nimport { DiffEditor } from '@monaco-editor/react';\nimport { I18n } from '@coze-arch/i18n';\nimport { Modal } from '@coze-arch/coze-design';\nimport { Divider, Spin, Typography } from '@coze-arch/bot-semi';\nimport {\n  DiffStyle,\n  type DiffDisplayNode,\n} from '@coze-arch/bot-api/dp_manage_api';\n\nimport { transTimestampText } from '../../utils';\nimport { useSendDiffEvent } from '../../hooks/use-send-diff-event';\n\nimport styles from './index.module.less';\n\ninterface DiffNodeRenderProps {\n  left: string;\n  right: string;\n  node?: DiffDisplayNode;\n  type?: 'diff' | 'publish';\n}\n\n/* eslint-disable-next-line @typescript-eslint/no-explicit-any */\nconst safeJSONParse = (data: any) => {\n  try {\n    return JSON.parse(data);\n  } catch (e) {\n    return '';\n  }\n};\n\nexport const DiffNodeRender: React.FC<DiffNodeRenderProps> = props => {\n  const { left, right, node } = props;\n  if (node?.diff_res?.diff_style === DiffStyle.TextDetail) {\n    return <TextDiffView {...props} />;\n  }\n  const displayLeft = transTimestampText(left);\n  const displayRight = transTimestampText(right);\n\n  const isMultiLine = displayLeft?.includes('template_NewLine');\n  const dealLineBreak = (text: string) => (\n    <Typography.Text\n      className={styles['multiline-text']}\n      type=\"secondary\"\n      size=\"small\"\n    >\n      {text.replaceAll('template_NewLine', '\\n')}\n    </Typography.Text>\n  );\n  return isMultiLine ? (\n    <Typography.Text\n      className={styles['multiline-container']}\n      type=\"secondary\"\n      size=\"small\"\n    >\n      {dealLineBreak(displayLeft ?? '')}\n      <Typography.Text className=\"mx-2\" type=\"secondary\" size=\"small\">\n        {'->'}\n      </Typography.Text>\n      {dealLineBreak(displayRight ?? '')}\n    </Typography.Text>\n  ) : (\n    <Typography.Text\n      type=\"secondary\"\n      size=\"small\"\n      ellipsis={{\n        showTooltip: {\n          opts: {\n            content: `${displayLeft} -> ${displayRight}`,\n            style: { wordBreak: 'break-word' },\n          },\n        },\n      }}\n    >{`${displayLeft} -> ${displayRight}`}</Typography.Text>\n  );\n};\n\nexport const TextDiffView: React.FC<DiffNodeRenderProps> = ({\n  node,\n  type = 'diff',\n}) => {\n  const isDiffView = type === 'diff';\n  const [visible, setVisible] = useState(false);\n  const { sendViewDiffEvent } = useSendDiffEvent();\n  const originText = safeJSONParse(\n    safeJSONParse(node?.diff_res?.origin_left)?.OriginStr,\n  );\n  const modifyText = safeJSONParse(\n    safeJSONParse(node?.diff_res?.origin_right)?.OriginStr,\n  );\n  return (\n    <div>\n      <Typography.Text\n        link\n        onClick={() => {\n          setVisible(true);\n          sendViewDiffEvent();\n        }}\n        className=\"text-xs\"\n      >\n        {I18n.t('coze_bot_diff_btn_view_diff')}\n      </Typography.Text>\n      <Modal\n        visible={visible}\n        title={\n          <div className=\"flex gap-1 items-center\">\n            {I18n.t('coze_bot_diff_diffdetail_pagetitle')}\n          </div>\n        }\n        footer={null}\n        width={1000}\n        onCancel={() => {\n          setVisible(false);\n        }}\n      >\n        <div className={styles['editor-container']}>\n          <div className={styles['editor-header']}>\n            <div className={styles['editor-title']}>\n              {I18n.t(\n                isDiffView\n                  ? 'coze_bot_diff_diffdetail_latestversion'\n                  : 'coze_bot_diff_diffdetail_onlineversion',\n              )}\n            </div>\n            <Divider className={styles['editor-divider']} layout=\"vertical\" />\n            <div className={styles['editor-title']}>\n              {I18n.t(\n                isDiffView\n                  ? 'coze_bot_diff_diffdetail_mydraft'\n                  : 'coze_bot_diff_diffdetail_tobereleasedversion',\n              )}\n            </div>\n          </div>\n          <div className=\"h-[600px]\">\n            <DiffEditor\n              theme=\"light\"\n              className={styles.editor}\n              original={originText}\n              modified={modifyText}\n              language=\"text\"\n              options={{\n                minimap: { enabled: false },\n                wordWrap: 'on',\n                diffWordWrap: 'on',\n                lineNumbers: 'on',\n                readOnly: true,\n                scrollBeyondLastLine: false,\n                renderOverviewRuler: false,\n                // You can optionally disable the resizing\n                enableSplitViewResizing: false,\n                unicodeHighlight: { ambiguousCharacters: false },\n                suggestLineHeight: 32,\n                lineHeight: 20,\n                fontSize: 12,\n              }}\n              loading={\n                <div className=\"h-[100%] w-[100%] flex items-center justify-center\">\n                  <Spin />\n                </div>\n              }\n            />\n          </div>\n        </div>\n      </Modal>\n    </div>\n  );\n};\n","\n      import API from \"!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n       export default content && content.locals ? content.locals : undefined;\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useState } from 'react';\n\nimport { I18n } from '@coze-arch/i18n';\nimport {\n  List,\n  UIButton,\n  UIModal,\n  Image,\n  Typography,\n  Space,\n} from '@coze-arch/bot-semi';\n\nimport styles from './index.module.less';\n\ninterface TermServiceModalReturnType {\n  node: JSX.Element;\n  open: () => void;\n  close: () => void;\n}\n\nexport interface TermServiceInfo {\n  name: string;\n  icon: string;\n  privacy_policy?: string;\n  user_agreement?: string;\n}\n\nexport const useTermServiceModal = ({\n  dataSource,\n}: {\n  dataSource: TermServiceInfo[];\n}): TermServiceModalReturnType => {\n  const [visible, setVisible] = useState(false);\n  const handleClose = () => {\n    setVisible(false);\n  };\n\n  const handleOpen = () => {\n    setVisible(true);\n  };\n\n  return {\n    node: (\n      <UIModal\n        type=\"info\"\n        title={I18n.t('publish_terms_title')}\n        visible={visible}\n        centered\n        footer={\n          <UIButton onClick={handleClose} theme=\"solid\">\n            {I18n.t('got_it')}\n          </UIButton>\n        }\n        onCancel={handleClose}\n      >\n        <List\n          dataSource={dataSource}\n          renderItem={item => (\n            <List.Item\n              className={styles.list}\n              align=\"center\"\n              header={\n                <div className=\"flex items-center w-full\">\n                  <Image\n                    className={'border-1'}\n                    src={item.icon}\n                    width={24}\n                    height={24}\n                    preview={false}\n                    style={{ flexShrink: 0 }}\n                  ></Image>\n                  <Typography.Text\n                    className=\"ml-2 font-semibold\t\"\n                    style={{ minWidth: 90 }}\n                    ellipsis={{\n                      showTooltip: {\n                        opts: {\n                          content: item.name,\n                        },\n                      },\n                    }}\n                  >\n                    {item.name}\n                  </Typography.Text>\n                </div>\n              }\n              main={\n                <Space spacing={0} className=\"justify-end\">\n                  {item.privacy_policy ? (\n                    <UIButton theme=\"borderless\" className=\"!px-2\">\n                      <Typography.Text\n                        link={{ href: item.privacy_policy, target: '_blank' }}\n                      >\n                        {I18n.t('about_privacy_policy')}\n                      </Typography.Text>\n                    </UIButton>\n                  ) : null}\n                  {item.user_agreement ? (\n                    <UIButton theme=\"borderless\" className=\"!px-2\">\n                      <Typography.Text\n                        link={{ href: item.user_agreement, target: '_blank' }}\n                      >\n                        {I18n.t('terms_of_service')}\n                      </Typography.Text>\n                    </UIButton>\n                  ) : null}\n                </Space>\n              }\n            />\n          )}\n        />\n      </UIModal>\n    ),\n    close: handleClose,\n    open: handleOpen,\n  };\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport classNames from 'classnames';\nimport { I18n } from '@coze-arch/i18n';\nimport { Typography } from '@coze-arch/coze-design';\n\nimport {\n  useTermServiceModal,\n  type TermServiceInfo,\n} from './term-service-modal';\n\nexport const PublishTermService = ({\n  termServiceData,\n  scene = 'bot',\n  className,\n}: {\n  termServiceData: TermServiceInfo[];\n  scene?: 'bot' | 'project';\n  className?: string;\n}) => {\n  const { node: termServiceModal, open: openTermServiceModal } =\n    useTermServiceModal({\n      dataSource: termServiceData,\n    });\n\n  const BotScene = scene === 'bot';\n  return (\n    <>\n      {termServiceModal}\n      <Typography.Text\n        className={classNames(\n          'py-[12px] coz-fg-primary leading-[16px]',\n          className,\n        )}\n      >\n        {I18n.t(\n          BotScene\n            ? 'bot_publish_select_desc_compliance_new'\n            : 'project_publish_select_desc_compliance_new',\n          {\n            publish_terms_title: (\n              <Typography.Text\n                link\n                onClick={openTermServiceModal}\n                className=\"!coz-fg-hglt !font-normal\"\n              >\n                {I18n.t('publish_terms_title')}\n              </Typography.Text>\n            ),\n          },\n        )}\n      </Typography.Text>\n    </>\n  );\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// The length of the diff table indent\n// Diff table sub-node indented length\nexport const DIFF_TABLE_INDENT_LENGTH = 20;\n// Base length of diff table indentation\nexport const DIFF_TABLE_INDENT_BASE = 8;\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { type ConnectorConfigStatus } from '@coze-arch/idl/intelligence_api';\nimport { I18n } from '@coze-arch/i18n';\nimport { Button, type ButtonProps } from '@coze-arch/coze-design';\nimport { EVENT_NAMES, sendTeaEvent } from '@coze-arch/bot-tea';\nimport { useUIModal, UIButton, Typography } from '@coze-arch/bot-semi';\nimport {\n  AuthStatus,\n  type AuthLoginInfo,\n  ConfigStatus,\n} from '@coze-arch/bot-api/developer_api';\nimport { IconAlertCircle } from '@douyinfe/semi-icons';\n\nimport {\n  checkAuthInfoValid,\n  executeAuthRedirect,\n  logAndToastAuthInfoError,\n  useRevokeAuth,\n} from '../../util/auth';\n\nexport interface AuthorizeButtonProps {\n  origin: 'setting' | 'publish';\n  id: string;\n  agentType?: 'bot' | 'project';\n  channelName: string;\n  status: ConfigStatus | AuthStatus | ConnectorConfigStatus;\n  revokeSuccess: (id: string) => void;\n  authInfo: AuthLoginInfo;\n  isMouseIn?: boolean;\n  /** Whether to use the Button component of Coze 2.0, the default is false */\n  isV2?: boolean;\n  /** Custom Coze 2.0 Button props */\n  v2ButtonProps?: ButtonProps;\n  onBeforeAuthRedirect?: (\n    parameters: Pick<AuthorizeButtonProps, 'id' | 'authInfo' | 'origin'>,\n  ) => void;\n}\n\nexport const AuthorizeButton = ({\n  status,\n  id,\n  agentType = 'bot',\n  channelName,\n  revokeSuccess,\n  origin,\n  authInfo,\n  isMouseIn = true,\n  isV2 = false,\n  v2ButtonProps = {\n    color: 'highlight',\n    size: 'small',\n  },\n  onBeforeAuthRedirect,\n}: AuthorizeButtonProps) => {\n  const isConfiguredOrConfiguring = [\n    ConfigStatus.Configured,\n    ConfigStatus.Configuring,\n  ].includes(status as ConfigStatus);\n\n  const handleAuth = () => {\n    if (!checkAuthInfoValid(authInfo)) {\n      logAndToastAuthInfoError();\n      return;\n    }\n\n    if (\n      (origin === 'publish' && status === ConfigStatus.NotConfigured) ||\n      (origin === 'setting' && status === AuthStatus.Unauthorized)\n    ) {\n      sendTeaEvent(\n        origin === 'publish'\n          ? EVENT_NAMES.publish_oauth_button_click\n          : EVENT_NAMES.settings_oauth_button_click,\n        { action: '', channel_name: channelName },\n      );\n      onBeforeAuthRedirect?.({ id, authInfo, origin });\n      executeAuthRedirect({ id, authInfo, origin });\n    }\n\n    if (\n      (origin === 'publish' && isConfiguredOrConfiguring) ||\n      (origin === 'setting' && status === AuthStatus.Authorized)\n    ) {\n      sendTeaEvent(\n        origin === 'publish'\n          ? EVENT_NAMES.publish_oauth_button_click\n          : EVENT_NAMES.settings_oauth_button_click,\n        { action: '', channel_name: channelName },\n      );\n      openRevokeAuthModal();\n    }\n  };\n\n  const { revokeLoading, runRevoke } = useRevokeAuth({\n    id,\n    onRevokeSuccess: revokeSuccess,\n    onRevokeFinally: () => closeRevokeAuthModal(),\n  });\n\n  const {\n    open: openRevokeAuthModal,\n    close: closeRevokeAuthModal,\n    modal: revokeModal,\n    visible: revokeModalVisible,\n  } = useUIModal({\n    confirmLoading: revokeLoading,\n    type: 'info',\n    title: I18n.t('user_revoke_authorization_title'),\n    onOk: runRevoke,\n    okText: I18n.t('Confirm'),\n    cancelText: I18n.t('Cancel'),\n    icon: (\n      <IconAlertCircle\n        style={{ color: 'var(--semi-color-danger)' }}\n        size=\"extra-large\"\n      />\n    ),\n    onCancel: () => {\n      closeRevokeAuthModal();\n    },\n    okButtonProps: {\n      type: 'danger',\n    },\n  });\n\n  const buttonText = I18n.t(\n    isConfiguredOrConfiguring\n      ? 'bot_publish_columns_action_revoke_authorize'\n      : 'bot_publish_columns_action_authorize',\n  );\n\n  const authButton = isV2 ? (\n    <Button onClick={handleAuth} {...v2ButtonProps}>\n      {buttonText}\n    </Button>\n  ) : (\n    <UIButton onClick={handleAuth} theme=\"borderless\">\n      {buttonText}\n    </UIButton>\n  );\n\n  return status === ConfigStatus.Configured ? (\n    <>\n      {/* Display the \"Revoke Authorization\" button in the corresponding line of the hover channel form, or in the display of the \"Revoke Authorization\" pop-up window */}\n      {isMouseIn || revokeModalVisible ? authButton : null}\n      {revokeModal(\n        agentType === 'project' ? (\n          <Typography.Text type=\"secondary\">\n            {I18n.t('project_release_cancel1_desc')}\n          </Typography.Text>\n        ) : null,\n      )}\n    </>\n  ) : (\n    authButton\n  );\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { I18n } from '@coze-arch/i18n';\nimport { Table, Typography, UITag } from '@coze-arch/bot-semi';\nimport {\n  type DiffDisplayNode,\n  DiffActionType,\n} from '@coze-arch/bot-api/dp_manage_api';\nimport {\n  DIFF_TABLE_INDENT_BASE,\n  DIFF_TABLE_INDENT_LENGTH,\n  DiffNodeRender,\n} from '@coze-agent-ide/agent-ide-commons';\n\nimport { flatDataSource } from '../../util';\nimport EmptyIcon from '../../assets/image/diff-empty.svg';\n\nimport styles from './index.module.less';\n\nconst ActionTypeEnum = {\n  [DiffActionType.Add]: 'devops_publish_multibranch_changeset_add',\n  [DiffActionType.Delete]: 'devops_publish_multibranch_changeset_delete',\n  [DiffActionType.Modify]: 'devops_publish_multibranch_changeset_modify',\n  [DiffActionType.Remove]: 'devops_publish_multibranch_changeset_remove',\n};\n\nexport const BotDiffView: React.FC<{\n  diffData: DiffDisplayNode[];\n  hasError: boolean;\n}> = ({ diffData, hasError }) => (\n  <div className={styles.container}>\n    {diffData?.length > 0 ? (\n      diffData.map(item => (\n        <div className={styles['info-block']} key={item.display_name}>\n          <div className={styles['info-title']}>{item.display_name}</div>\n          {item?.sub_nodes?.length ? (\n            <BotDiffBlockTable blockDiffData={item.sub_nodes} />\n          ) : null}\n        </div>\n      ))\n    ) : (\n      <div className={styles['empty-container']}>\n        <img src={EmptyIcon} />\n        <Typography.Text className={styles['empty-info']}>\n          {I18n.t(\n            hasError\n              ? 'devops_publish_multibranch_NetworkError'\n              : 'devops_publish_multibranch_nodiff',\n          )}\n        </Typography.Text>\n      </div>\n    )}\n  </div>\n);\n\nexport const BotDiffBlockTable: React.FC<{\n  blockDiffData: DiffDisplayNode[];\n}> = ({ blockDiffData }) => {\n  const columns = [\n    {\n      title: I18n.t('devops_publish_multibranch_property'),\n      width: 280,\n      render: node => (\n        <Typography.Text\n          ellipsis={{\n            showTooltip: {\n              opts: {\n                content: node.display_name,\n                className: styles['property-tooltip'],\n              },\n            },\n          }}\n          className={styles['cell-span']}\n        >\n          {node.level > 0 ? (\n            <Typography.Text\n              style={{\n                marginLeft:\n                  DIFF_TABLE_INDENT_BASE +\n                  DIFF_TABLE_INDENT_LENGTH * (node.level - 1),\n                marginRight: 8,\n              }}\n            >\n              -\n            </Typography.Text>\n          ) : null}\n          {node.display_name}\n        </Typography.Text>\n      ),\n    },\n    {\n      title: I18n.t('devops_publish_multibranch_changetype'),\n      render: (node: DiffDisplayNode) => {\n        if (\n          !node.diff_res ||\n          node.diff_res?.action === DiffActionType.Unknown\n        ) {\n          return '';\n        }\n        return (\n          <UITag className={styles[`tag-${node.diff_res.action}`]}>\n            {I18n.t(ActionTypeEnum[node.diff_res.action])}\n          </UITag>\n        );\n      },\n      width: 120,\n    },\n    {\n      title: I18n.t('devops_publish_multibranch_changes'),\n      render: (node: DiffDisplayNode) =>\n        node?.diff_res?.action === DiffActionType.Modify ? (\n          <DiffNodeRender\n            node={node}\n            left={node?.diff_res?.display_left || ''}\n            right={node?.diff_res?.display_right || ''}\n          />\n        ) : (\n          ''\n        ),\n      ellipsis: true,\n    },\n  ];\n\n  if (!blockDiffData) {\n    return null;\n  }\n\n  return (\n    <Table\n      dataSource={flatDataSource(blockDiffData)}\n      columns={columns}\n      pagination={false}\n      onRow={() => ({\n        className: styles['table-row'],\n      })}\n      className={styles['diff-table']}\n    />\n  );\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { I18n } from '@coze-arch/i18n';\nimport { List, Typography, UITag } from '@coze-arch/bot-semi';\nimport {\n  type DiffDisplayNode,\n  DiffActionType,\n} from '@coze-arch/bot-api/dp_manage_api';\nimport {\n  DIFF_TABLE_INDENT_BASE,\n  DIFF_TABLE_INDENT_LENGTH,\n  DiffNodeRender,\n} from '@coze-agent-ide/agent-ide-commons';\n\nimport { flatDataSource } from '../../util';\nimport EmptyIcon from '../../assets/image/diff-empty.svg';\nimport { type FlatDiffDisplayNode } from './type';\n\nimport styles from './index.module.less';\n\nconst ActionTypeEnum = {\n  [DiffActionType.Add]: 'devops_publish_multibranch_changeset_add',\n  [DiffActionType.Delete]: 'devops_publish_multibranch_changeset_delete',\n  [DiffActionType.Modify]: 'devops_publish_multibranch_changeset_modify',\n  [DiffActionType.Remove]: 'devops_publish_multibranch_changeset_remove',\n};\n\nexport const NewBotDiffView: React.FC<{\n  diffData: DiffDisplayNode[];\n  hasError: boolean;\n  type?: 'diff' | 'publish';\n}> = ({ diffData, hasError, type = 'diff' }) => (\n  <div className={styles.container}>\n    {diffData?.length > 0 ? (\n      diffData.map(item => (\n        <div className={styles['info-block']} key={item.display_name}>\n          <div className={styles['info-title']}>{item.display_name}</div>\n          {item?.sub_nodes?.length\n            ? item?.sub_nodes?.map((node, index) => (\n                <BotSubNode node={node} key={index} type={type} />\n              ))\n            : null}\n        </div>\n      ))\n    ) : (\n      <div className={styles['empty-container']}>\n        <img src={EmptyIcon} />\n        <Typography.Text className={styles['empty-info']}>\n          {I18n.t(\n            hasError\n              ? 'devops_publish_multibranch_NetworkError'\n              : 'devops_publish_multibranch_nodiff',\n          )}\n        </Typography.Text>\n      </div>\n    )}\n    <div className=\"h-[32px]\"></div>\n    <div className={styles.mask}></div>\n  </div>\n);\n\nexport const BotSubNode: React.FC<{\n  node: DiffDisplayNode;\n  type?: 'diff' | 'publish';\n}> = ({ node, type = 'diff' }) => {\n  const { display_name } = node;\n  return (\n    <div>\n      {display_name ? (\n        <div className={styles['info-subtitle']}>{display_name}</div>\n      ) : (\n        <></>\n      )}\n      {node?.sub_nodes?.length ? (\n        <BotDiffBlockTable blockDiffData={node?.sub_nodes} type={type} />\n      ) : null}\n    </div>\n  );\n};\n\nexport const BotDiffBlockTable: React.FC<{\n  blockDiffData: DiffDisplayNode[];\n  type: 'diff' | 'publish';\n}> = ({ blockDiffData, type = 'diff' }) => {\n  if (!blockDiffData) {\n    return null;\n  }\n  const renderTitle = (node: FlatDiffDisplayNode) => (\n    <Typography.Text\n      ellipsis={{\n        showTooltip: {\n          opts: {\n            content: node.display_name,\n            className: styles['property-tooltip'],\n          },\n        },\n      }}\n      className={styles['property-title']}\n    >\n      {node.level > 0 ? (\n        <Typography.Text\n          style={{\n            marginLeft:\n              DIFF_TABLE_INDENT_BASE +\n              DIFF_TABLE_INDENT_LENGTH * (node.level - 1),\n            marginRight: 8,\n          }}\n        >\n          -\n        </Typography.Text>\n      ) : null}\n      {node.display_name}\n    </Typography.Text>\n  );\n  const renderModify = (node: DiffDisplayNode) => {\n    if (!node.diff_res || node.diff_res?.action === DiffActionType.Unknown) {\n      return '';\n    }\n    return (\n      <UITag className={styles[`tag-${node.diff_res.action}`]}>\n        {I18n.t(ActionTypeEnum[node.diff_res.action])}\n      </UITag>\n    );\n  };\n  const renderView = (node: DiffDisplayNode) =>\n    node?.diff_res?.action === DiffActionType.Modify ? (\n      <DiffNodeRender\n        left={node?.diff_res?.display_left || ''}\n        right={node?.diff_res?.display_right || ''}\n        node={node}\n        type={type}\n      />\n    ) : (\n      ''\n    );\n\n  return (\n    <List\n      dataSource={flatDataSource(blockDiffData)}\n      bordered\n      className={styles.list}\n      renderItem={item => (\n        <List.Item>\n          <div className={styles['list-item']}>\n            {renderTitle(item)}\n            <div> {renderModify(item)}</div>\n\n            {renderView(item)}\n          </div>\n        </List.Item>\n      )}\n    />\n  );\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\n/* eslint-disable */\n/* tslint:disable */\n// @ts-nocheck\n\nexport type Int64 = string | number;\n\n/** AgentType  0-bot 1-project */\nexport enum AgentType {\n  AgentTypeBot = 0,\n  AgentTypeProject = 1,\n}\n\nexport enum AuditEventType {\n  AuditPass = 1,\n  AuditReject = 2,\n  AuditDelay = 3,\n}\n\nexport enum BindOption {\n  Install = 1,\n  Uninstall = 2,\n}\n\nexport enum BindStatus {\n  InvalidStatus = 0,\n  ValidStatus = 1,\n  SaveNotPublishStatus = 2,\n  /** token  reset.\nDiscord   */\n  Disconnected = 3,\n  /**  */\n  NeedReconfigure = 4,\n}\n\nexport enum ConnectorAttributeType {\n  SamiAppKey = 1,\n  EventCallbackURL = 2,\n  Token = 3,\n  OauthConfig = 4,\n}\n\nexport enum ConnectorAuditStatus {\n  /**  */\n  Unknown = 0,\n  /**  */\n  Progress = 1,\n  /**  */\n  Audited = 2,\n  /**  */\n  Reject = 3,\n}\n\nexport enum ConnectorBindType {\n  /**  */\n  NoBindRequired = 1,\n  /** Auth */\n  AuthBind = 2,\n  /** Kv */\n  KvBind = 3,\n  /** KvAuth */\n  KvAuthBind = 4,\n  /** api */\n  ApiBind = 5,\n  /** WebSDK  */\n  WebSDKBind = 6,\n  /**  */\n  StoreBind = 7,\n  /**  */\n  AuthAndConfig = 8,\n  /**  */\n  BindWithConnectorID = 9,\n}\n\n/** Discord \n */\nexport enum ConnectorStatus {\n  /**  */\n  Normal = 0,\n  /**  */\n  InReview = 1,\n  /**  */\n  Offline = 2,\n}\n\nexport enum ListConnectorScene {\n  /** bot */\n  Bot = 0,\n  /** project */\n  Project = 1,\n  /**  */\n  All = 2,\n}\n\nexport enum ManageAccountConnectorAction {\n  /**  */\n  Add = 0,\n  /**  */\n  Remove = 1,\n}\n\nexport enum MiniProgramDomainAction {\n  /**  */\n  Add = 0,\n  /**  */\n  Remove = 1,\n}\n\nexport enum OperateType {\n  /** 1   2-4  */\n  Update = 1,\n  Delete = 2,\n  StopUse = 3,\n  Activate = 4,\n}\n\nexport enum ResourceType {\n  TenantAccessToken = 1,\n}\n\nexport enum SchemaAreaPageApi {\n  /**  */\n  NotQuery = 0,\n  /** config */\n  GetBindConnectorConfig = 1,\n  /** config */\n  SaveBindConnectorConfig = 2,\n  /**  */\n  BindConnector = 3,\n  /**  */\n  UnBindConnector = 4,\n}\n\nexport enum SpaceConnectorType {\n  Team = 1,\n  Public = 2,\n  Official = 3,\n  /**  */\n  InstalledPublic = 4,\n}\n/* eslint-enable */\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useState } from 'react';\n\nimport { useRequest } from 'ahooks';\nimport { type DynamicParams } from '@coze-arch/bot-typings/teamspace';\nimport {\n  type SchemaAreaPage,\n  SchemaAreaPageApi,\n  type GetBindConnectorConfigResponse,\n  type SaveBindConnectorConfigResponse,\n  type BindConnectorResponse,\n} from '@coze-arch/bot-api/developer_api';\nimport { DeveloperApi } from '@coze-arch/bot-api';\nimport { useParams } from 'react-router-dom';\n\nexport type ActionResponse =\n  | {\n      action: SchemaAreaPageApi.BindConnector;\n      data: BindConnectorResponse;\n    }\n  | {\n      action: SchemaAreaPageApi.GetBindConnectorConfig;\n      data: GetBindConnectorConfigResponse;\n    }\n  | {\n      action: SchemaAreaPageApi.SaveBindConnectorConfig;\n      data: SaveBindConnectorConfigResponse;\n    }\n  | {\n      action: SchemaAreaPageApi.NotQuery;\n      data: undefined;\n    };\n\ninterface StepActionProps {\n  botId: string;\n  origin?: 'bot' | 'project';\n  schemaPages: SchemaAreaPage[];\n  onNextStepSuccess: (resp: ActionResponse) => void;\n  onNextStepError: (error: Error) => void;\n}\ninterface StepRunParams {\n  connectorId: string;\n  assignFormValue: Record<string, string>;\n}\n\nexport const useStepAction = ({\n  botId,\n  origin = 'bot',\n  schemaPages,\n  onNextStepSuccess,\n  onNextStepError,\n}: StepActionProps) => {\n  const [step, setStep] = useState(0);\n\n  const { space_id = '' } = useParams<DynamicParams>();\n\n  const agentType = origin === 'bot' ? 0 : 1;\n\n  const currentAction =\n    schemaPages?.[step]?.api_action ?? SchemaAreaPageApi.BindConnector;\n\n  const SERVICE_MAP = {\n    [SchemaAreaPageApi.NotQuery]: async () => await Promise.resolve(),\n    [SchemaAreaPageApi.GetBindConnectorConfig]: async (\n      params?: StepRunParams,\n    ) => {\n      const data = await DeveloperApi.GetBindConnectorConfig({\n        connector_id: params?.connectorId ?? '',\n        detail: params?.assignFormValue ?? {},\n        agent_type: agentType,\n        bot_id: botId,\n        space_id,\n      });\n      return data;\n    },\n    [SchemaAreaPageApi.SaveBindConnectorConfig]: async (\n      params?: StepRunParams,\n    ) => {\n      const data = await DeveloperApi.SaveBindConnectorConfig({\n        connector_id: params?.connectorId ?? '',\n        detail: params?.assignFormValue ?? {},\n        agent_type: agentType,\n        bot_id: botId,\n        space_id,\n      });\n      return data;\n    },\n    [SchemaAreaPageApi.BindConnector]: async (params?: StepRunParams) => {\n      const res = await DeveloperApi.BindConnector(\n        {\n          connector_id: params?.connectorId ?? '',\n          connector_info: params?.assignFormValue ?? {},\n          agent_type: agentType,\n          bot_id: botId,\n          space_id,\n        },\n        { __disableErrorToast: true },\n      );\n      return res;\n    },\n  };\n\n  const { run, loading } = useRequest(\n    async (params?: StepRunParams) => await SERVICE_MAP[currentAction](params),\n    {\n      manual: true,\n      ready: Object.keys(SERVICE_MAP).includes(String(currentAction)),\n      onSuccess: data => {\n        const action = currentAction as\n          | SchemaAreaPageApi.BindConnector\n          | SchemaAreaPageApi.GetBindConnectorConfig;\n        onNextStepSuccess?.({ data, action });\n      },\n      onError: error => {\n        onNextStepError(error);\n      },\n    },\n  );\n\n  return {\n    run,\n    loading,\n    step,\n    setStep,\n  };\n};\n","\n      import API from \"!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n       export default content && content.locals ? content.locals : undefined;\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport ReactMarkdown from 'react-markdown';\n\nimport { Space, Typography } from '@coze-arch/bot-semi';\nimport { type CopyLinkAreaInfo } from '@coze-arch/bot-api/developer_api';\n\nimport { type TFormData } from '../types';\n\nimport styles from './index.module.less';\n\nexport const ConnectorLink = ({\n  copyLinkAreaInfo = {},\n  agentType = 'bot',\n  botId = '',\n  initValue = {},\n}: {\n  copyLinkAreaInfo?: CopyLinkAreaInfo;\n  agentType?: 'bot' | 'project';\n  botId: string;\n  initValue?: TFormData;\n}) => {\n  //Support for wildcard URLs\n  const formatUrl = (url?: string) => {\n    let newUrl = url ?? '';\n    if (newUrl) {\n      if (agentType === 'project') {\n        newUrl = newUrl.replace(/{project_id}/g, botId);\n      } else {\n        newUrl = newUrl.replace(/{bot_id}/g, botId);\n      }\n      newUrl = newUrl\n        .replace(/{hostname}/g, window.location.hostname)\n        .replace(/{corp_id}/g, initValue.corp_id);\n    }\n\n    return newUrl;\n  };\n\n  return (\n    <div className={styles['link-area']}>\n      {copyLinkAreaInfo?.title_text ? (\n        <Space spacing={12} align=\"start\">\n          <span className={styles['step-order']}>\n            {copyLinkAreaInfo.step_order || 1}\n          </span>\n\n          <div className={styles['step-content']}>\n            <div className={styles['step-title']}>\n              {copyLinkAreaInfo.title_text}\n            </div>\n          </div>\n        </Space>\n      ) : null}\n      {copyLinkAreaInfo?.description ? (\n        <ReactMarkdown skipHtml={true} className={styles.markdown}>\n          {copyLinkAreaInfo.description}\n        </ReactMarkdown>\n      ) : null}\n\n      {copyLinkAreaInfo?.link_list?.length ? (\n        <div className={styles['link-list']}>\n          {copyLinkAreaInfo?.link_list.map(item => (\n            <div key={item.link} style={{ marginBottom: 32 }}>\n              <Typography.Title className={styles.title}>\n                {item.title}\n              </Typography.Title>\n              <Typography.Text className={styles.link} copyable>\n                {formatUrl(item.link)}\n              </Typography.Text>\n            </div>\n          ))}\n        </div>\n      ) : null}\n    </div>\n  );\n};\n","\n      import API from \"!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n       export default content && content.locals ? content.locals : undefined;\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport ReactMarkdown from 'react-markdown';\n\nimport { Typography } from '@coze-arch/bot-semi';\nimport { type QuerySchemaConfig } from '@coze-arch/bot-api/developer_api';\n\nimport styles from './index.module.less';\n\nexport const ConnectorGuide = ({\n  connectorConfigInfo = {},\n}: {\n  connectorConfigInfo?: QuerySchemaConfig;\n}) => (\n  <div className={styles.guide}>\n    {connectorConfigInfo?.start_text ? (\n      <ReactMarkdown\n        skipHtml={true}\n        linkTarget=\"_blank\"\n        className={styles.markdown}\n      >\n        {connectorConfigInfo?.start_text}\n      </ReactMarkdown>\n    ) : null}\n    {connectorConfigInfo?.guide_link_url &&\n    connectorConfigInfo?.guide_link_text ? (\n      <div>\n        <Typography.Text\n          link={{\n            href: connectorConfigInfo?.guide_link_url,\n          }}\n          className={styles['config-link']}\n        >\n          {connectorConfigInfo?.guide_link_text}\n        </Typography.Text>\n      </div>\n    ) : null}\n  </div>\n);\n","\n      import API from \"!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n       export default content && content.locals ? content.locals : undefined;\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { logger } from '@coze-arch/logger';\nimport { I18n, type I18nKeysNoOptionsType } from '@coze-arch/i18n';\nimport { IconCozTrashCan, IconCozPlus } from '@coze-arch/coze-design/icons';\nimport { TagGroup, ArrayField, Button } from '@coze-arch/coze-design';\nimport { typeSafeJSONParse } from '@coze-arch/bot-utils';\nimport { type RuleItem } from '@coze-arch/bot-semi/Form';\nimport { UIFormInput, Form, Typography } from '@coze-arch/bot-semi';\nimport {\n  type Options,\n  type FormSchemaItem,\n} from '@coze-arch/bot-api/developer_api';\n\nimport { type TFormData } from '../types';\n\nimport styles from './index.module.less';\n\nfunction formatMultiSelectValue(rawValue: string, enums?: Options[]) {\n  const arrayValue = typeSafeJSONParse(rawValue) as string[] | undefined;\n  if (!arrayValue) {\n    return [];\n  }\n  return arrayValue.map(value => ({\n    children: enums?.find(option => option.value === value)?.label ?? value,\n  }));\n}\n\nexport interface ConnectorFieldProps {\n  formItemSchema: FormSchemaItem;\n  isReadOnly: boolean;\n  initValue?: TFormData;\n}\n\nexport const ConnectorField = (props: ConnectorFieldProps) => {\n  const { formItemSchema, isReadOnly, initValue } = props;\n  const rawInitValue = initValue?.[formItemSchema.name];\n\n  if (isReadOnly) {\n    return (\n      <div className={styles['disable-field']}>\n        <div className={styles.title}>{formItemSchema.title}</div>\n        {formItemSchema.type === 'array' ? (\n          <TagGroup\n            tagList={formatMultiSelectValue(rawInitValue, formItemSchema.enums)}\n          />\n        ) : (\n          <Typography.Text\n            style={{ width: '100%' }}\n            ellipsis={{\n              showTooltip: {\n                opts: {\n                  content: rawInitValue,\n                  style: { wordBreak: 'break-word' },\n                },\n              },\n            }}\n          >\n            {rawInitValue}\n          </Typography.Text>\n        )}\n      </div>\n    );\n  }\n\n  function createRules(fieldSchema: FormSchemaItem): RuleItem[] {\n    // Make sure formItemSchema.rules is an array\n    const itemRules = fieldSchema.rules ?? [];\n\n    const rules = itemRules.map(rule => {\n      const ruleMessage = rule.message\n        ? I18n.t(rule.message as I18nKeysNoOptionsType, {\n            field: fieldSchema.name,\n          })\n        : undefined;\n\n      return { ...rule, ...(ruleMessage && { message: ruleMessage }) };\n    });\n\n    // Add'required 'rule\n    rules.push({\n      required: fieldSchema.required,\n      message: I18n.t('bot_publish_field_placeholder', {\n        field: fieldSchema.title ?? '',\n      }),\n    });\n\n    return rules as RuleItem[];\n  }\n\n  if (!formItemSchema.name) {\n    return null;\n  }\n\n  switch (formItemSchema.component) {\n    case 'Input':\n      if (formItemSchema.type === 'array') {\n        let values: string[] = [];\n        try {\n          values = JSON.parse(rawInitValue);\n        } catch (e) {\n          logger.error({ error: e as Error });\n          values = [];\n        }\n        // Add a default null value\n        if (!values.length) {\n          values.push('');\n        }\n\n        return (\n          <ArrayField field={formItemSchema.name} initValue={values}>\n            {({ arrayFields, add }) => (\n              <>\n                {arrayFields.map(({ key, field, remove }, i) => (\n                  <UIFormInput\n                    key={key}\n                    placeholder={I18n.t('bot_publish_field_placeholder', {\n                      field: formItemSchema.title ?? '',\n                    })}\n                    field={field}\n                    label={formItemSchema.title}\n                    noLabel={i > 0}\n                    required={formItemSchema.required}\n                    rules={createRules(formItemSchema)}\n                    fieldClassName={styles.input}\n                    suffix={\n                      arrayFields.length <= 1 ? null : (\n                        <IconCozTrashCan onClick={remove} />\n                      )\n                    }\n                  />\n                ))}\n                <Button\n                  className={styles['link-button']}\n                  color=\"highlight\"\n                  size=\"small\"\n                  icon={<IconCozPlus />}\n                  onClick={add}\n                >\n                  {I18n.t('binding_add_card')}\n                </Button>\n              </>\n            )}\n          </ArrayField>\n        );\n      }\n      return (\n        <UIFormInput\n          key={formItemSchema.name}\n          placeholder={I18n.t('bot_publish_field_placeholder', {\n            field: formItemSchema.title ?? '',\n          })}\n          field={formItemSchema.name}\n          label={formItemSchema.title}\n          required={formItemSchema.required}\n          showClear\n          rules={createRules(formItemSchema)}\n          initValue={rawInitValue}\n        />\n      );\n\n    case 'Select': {\n      const isMultiple = formItemSchema.type === 'array';\n      const selectInitValue = isMultiple\n        ? (typeSafeJSONParse(rawInitValue) as string[] | undefined)\n        : rawInitValue;\n      return (\n        <Form.Select\n          key={formItemSchema.name}\n          placeholder={`Enter ${formItemSchema.title}`}\n          field={formItemSchema.name}\n          label={formItemSchema.title}\n          optionList={formItemSchema.enums}\n          multiple={isMultiple}\n          rules={createRules(formItemSchema)}\n          initValue={selectInitValue}\n        />\n      );\n    }\n\n    default:\n      return null;\n  }\n};\n","\n      import API from \"!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n       export default content && content.locals ? content.locals : undefined;\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* eslint-disable complexity -- ignore */\nimport ReactMarkdown from 'react-markdown';\nimport {\n  forwardRef,\n  type Ref,\n  useRef,\n  useImperativeHandle,\n  useEffect,\n} from 'react';\n\nimport { useUpdate } from 'ahooks';\nimport type { FormApi } from '@coze-arch/bot-semi/Form';\nimport { Space, Form } from '@coze-arch/bot-semi';\nimport { type ApiError } from '@coze-arch/bot-http';\nimport { type SchemaAreaInfo } from '@coze-arch/bot-api/developer_api';\n\nimport { type FormActions, type TFormData } from '../types';\nimport { ConnectorField } from '../connector-field';\n\nimport styles from './index.module.less';\n\nexport interface ConnectorFormProps {\n  schemaAreaInfo?: SchemaAreaInfo;\n  initValue?: TFormData;\n  getFormDisable: (disable: boolean) => void;\n  isReadOnly: boolean;\n  setErrorMessage: (error?: ApiError) => void;\n}\n\nconst DEFAULT_FORM_STEP = 2;\n\n// Multiple Select The value in the Form is string [], but it needs to be converted to a JSON string when submitted to the backend.\ntype FormValues = Record<string, string | string[]>;\n\nexport const ConnectorForm = forwardRef(\n  (props: ConnectorFormProps, ref: Ref<FormActions>) => {\n    const {\n      schemaAreaInfo,\n      initValue,\n      getFormDisable,\n      isReadOnly,\n      setErrorMessage,\n    } = props;\n\n    const formApiRef = useRef<FormApi<FormValues>>();\n    const update = useUpdate();\n\n    useImperativeHandle<FormActions, FormActions>(ref, () => ({\n      submit: async () => {\n        const values = await formApiRef.current?.validate();\n        return Object.fromEntries(\n          Object.entries(values ?? {}).map(([key, value]) => [\n            key,\n            Array.isArray(value) ? JSON.stringify(value) : value,\n          ]),\n        );\n      },\n      reset: () => formApiRef.current?.reset(),\n    }));\n\n    useEffect(() => {\n      // Solve the problem that the value of formApiRef.current is not real-time\n      update();\n      // eslint-disable-next-line react-hooks/exhaustive-deps -- ignore\n    }, [schemaAreaInfo]);\n\n    const formDisabled =\n      schemaAreaInfo?.schema_list\n        ?.filter(item => item.required)\n        .some(field => {\n          const value = formApiRef.current?.getValue(field.name);\n          if (Array.isArray(value)) {\n            return !value.length || (value.length === 1 && !value[0]);\n          }\n          return !value;\n        }) || !schemaAreaInfo?.schema_list?.length;\n\n    useEffect(() => {\n      getFormDisable(formDisabled);\n      // eslint-disable-next-line react-hooks/exhaustive-deps -- ignore\n    }, [formDisabled]);\n\n    return (\n      <div>\n        {schemaAreaInfo?.title_text ? (\n          <Space spacing={12} align=\"start\">\n            <span className={styles['step-order']}>\n              {schemaAreaInfo.step_order || DEFAULT_FORM_STEP}\n            </span>\n\n            <div className={styles['step-content']}>\n              <div className={styles['step-title']}>\n                {schemaAreaInfo.title_text}\n              </div>\n            </div>\n          </Space>\n        ) : null}\n        {schemaAreaInfo?.description ? (\n          <ReactMarkdown skipHtml={true} className={styles.markdown}>\n            {schemaAreaInfo?.description}\n          </ReactMarkdown>\n        ) : null}\n\n        {schemaAreaInfo?.schema_list?.length ? (\n          <Form<FormValues>\n            initValues={initValue}\n            className={styles['config-form']}\n            onValueChange={() => {\n              update();\n              setErrorMessage(undefined);\n            }}\n            getFormApi={formApi => (formApiRef.current = formApi)}\n            autoScrollToError\n            allowEmpty\n          >\n            {schemaAreaInfo?.schema_list?.map(item => (\n              <ConnectorField\n                initValue={initValue}\n                formItemSchema={item}\n                isReadOnly={isReadOnly}\n                key={item.name}\n              />\n            ))}\n          </Form>\n        ) : null}\n      </div>\n    );\n  },\n);\n","\n      import API from \"!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n       export default content && content.locals ? content.locals : undefined;\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  type BindConnectorResponse,\n  type GetBindConnectorConfigResponse,\n  type SaveBindConnectorConfigResponse,\n} from '@coze-arch/idl/developer_api';\nimport { I18n } from '@coze-arch/i18n';\nimport { Form, Typography } from '@coze-arch/bot-semi';\nimport { type ApiError } from '@coze-arch/bot-http';\n\nimport styles from './index.module.less';\n\ntype ErrorResponse =\n  | GetBindConnectorConfigResponse\n  | SaveBindConnectorConfigResponse\n  | BindConnectorResponse;\n\nfunction isBindConnectorResponse(\n  res: ErrorResponse,\n): res is BindConnectorResponse {\n  return ['bind_bot_id', 'bind_bot_name', 'bind_space_id'].every(\n    key => key in res,\n  );\n}\n\nexport interface ConnectorErrorProps {\n  errorMessage: ApiError;\n}\n\nexport const ConnectorError = ({ errorMessage }: ConnectorErrorProps) => {\n  const res = (errorMessage?.raw ?? {}) as ErrorResponse;\n\n  return (\n    <Form.ErrorMessage\n      error={\n        isBindConnectorResponse(res) ? (\n          <div className={styles['error-link']}>\n            {I18n.t('bot_publish_bind_error', {\n              bot_name: (\n                <Typography.Text\n                  className={styles['error-link-underline']}\n                  link={{\n                    href: `/space/${res.bind_space_id}/${\n                      res.bind_agent_type === 1 ? 'project-ide' : 'bot'\n                    }/${res.bind_bot_id}`,\n                  }}\n                  ellipsis={{\n                    showTooltip: {\n                      opts: {\n                        content: res.bind_bot_name,\n                      },\n                    },\n                  }}\n                >\n                  {res.bind_bot_name}\n                </Typography.Text>\n              ),\n              key_name: 'token',\n            })}\n          </div>\n        ) : (\n          errorMessage?.msg\n        )\n      }\n      className={styles['error-container']}\n    />\n  );\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* eslint-disable @coze-arch/max-line-per-function */\nimport { useRef, useState } from 'react';\n\nimport { useRequest } from 'ahooks';\nimport { type PublishConnectorInfo } from '@coze-arch/idl/intelligence_api';\nimport { I18n } from '@coze-arch/i18n';\nimport { UIButton, useUIModal, UIToast, Spin } from '@coze-arch/bot-semi';\nimport { isApiError, type ApiError } from '@coze-arch/bot-http';\nimport {\n  type PublishConnectorInfo as BotPublishConnectorInfo,\n  type QuerySchemaConfig,\n  BindType,\n  SchemaAreaPageApi,\n  type BindConnectorResponse,\n  type SchemaAreaInfo,\n  type CopyLinkAreaInfo,\n} from '@coze-arch/bot-api/developer_api';\nimport { DeveloperApi } from '@coze-arch/bot-api';\nimport { connector2Redirect } from '@coze-foundation/account-adapter';\n\nimport styles from '../../pages/publish/index.module.less';\nimport { useUnbindPlatformModal } from '../../hook/use-unbind-platform';\nimport { type FormActions, type TSubmitValue } from './types';\nimport { type ActionResponse, useStepAction } from './hooks/use-step-action';\nimport { ConnectorLink } from './connector-link';\nimport { ConnectorGuide } from './connector-guide';\nimport { ConnectorForm } from './connector-form';\nimport { ConnectorError } from './connector-error';\n\ninterface ConnectorConfigureProps {\n  botId: string;\n  origin?: 'project' | 'bot';\n  onSuccess: (\n    val: BotPublishConnectorInfo | PublishConnectorInfo | undefined,\n  ) => void;\n  onUnbind?: () => void;\n}\n\ninterface ConnectorConfigureValueType {\n  initValue: BotPublishConnectorInfo | PublishConnectorInfo;\n}\n\n// eslint-disable-next-line complexity\nexport const useConnectorFormModal = ({\n  botId,\n  origin = 'bot',\n  onSuccess,\n  onUnbind,\n}: ConnectorConfigureProps) => {\n  const formRef = useRef<FormActions>(null);\n\n  const [propsValue, setPropsValue] = useState<ConnectorConfigureValueType>();\n\n  const { initValue } = propsValue ?? {};\n  const [errorMessage, setErrorMessage] = useState<ApiError>();\n\n  const [formDisabled, setFormDisabled] = useState(false);\n\n  const [assignValue, setAssignValue] = useState<TSubmitValue>();\n  const bindId = useRef('');\n  const handleClose = () => {\n    setErrorMessage(undefined);\n    setStep(0);\n    setAssignValue(undefined);\n    formRef.current?.reset();\n    close();\n  };\n\n  const handleUnbind = () => {\n    handleClose();\n    if (onUnbind) {\n      onUnbind();\n    } else {\n      // Compatible with historical logic, when onUnbind is not passed in, onSuccess is also called after unbinding.\n      onSuccess({\n        ...(initValue as BotPublishConnectorInfo),\n        bind_info: {},\n        bind_id: '',\n      });\n    }\n    UIToast.success(I18n.t('bot_publish_disconnect_success'));\n  };\n\n  const [connectorConfigInfo, setConnectorConfigInfo] =\n    useState<QuerySchemaConfig>();\n\n  const lastConnectId = useRef<string>();\n\n  const { loading: formSchemaLoading } = useRequest(\n    async () => {\n      const data = await DeveloperApi.QuerySchemaList({\n        connector_id: initValue?.id ?? '',\n        scene: origin,\n      });\n      return data;\n    },\n    {\n      ready: Boolean(initValue?.id),\n      refreshDeps: [initValue?.id],\n      onBefore: () => {\n        if (initValue?.id !== lastConnectId.current) {\n          lastConnectId.current = initValue?.id;\n          setConnectorConfigInfo({});\n        }\n      },\n      onSuccess: data => {\n        if (!data.schema_area_pages?.length) {\n          data.schema_area_pages = [\n            {\n              schema_area: data.schema_area,\n              copy_link_area: data.copy_link_area,\n            },\n          ];\n        }\n        setConnectorConfigInfo(data);\n      },\n      onError: () => {\n        setConnectorConfigInfo({});\n      },\n    },\n  );\n  const { schema_area_pages: schemaPages = [] } = connectorConfigInfo ?? {};\n\n  const bindCb = (data: BindConnectorResponse) => {\n    /** Applicable to Kv + Auth authorization scenarios: KvAuthBind = 4\n     * Reddit channel: If the client_id is successfully returned, the client_id in the auth_login_info will be overwritten and the encrypted state jump authorization page will be attached\n     * Other channels: If the auth_params is successfully returned, the merge auth_login_info jump as the authorization link parameter\n     * */\n    if (\n      initValue?.bind_type === BindType.KvAuthBind &&\n      (data?.client_id || data?.auth_params)\n    ) {\n      connector2Redirect(\n        {\n          navigatePath: `${location.pathname}${location.search}`,\n          type: 'oauth',\n          extra: {\n            origin: 'publish',\n            encrypt_state: data?.encrypt_state,\n          },\n        },\n        initValue?.id || '',\n        {\n          ...initValue?.auth_login_info,\n          client_id: data?.client_id,\n          ...data.auth_params,\n        },\n      );\n    } else {\n      bindId.current = data?.bind_id ?? '';\n    }\n  };\n\n  const stepCallback = () => {\n    const isLastStep = step === schemaPages?.length - 1;\n    if (isLastStep) {\n      if (initValue) {\n        onSuccess({\n          ...initValue,\n          bind_info: { ...assignValue },\n          bind_id: bindId.current,\n        });\n      }\n      handleClose();\n    } else {\n      setStep(step + 1);\n    }\n  };\n\n  const {\n    loading,\n    run: nextStepRun,\n    step,\n    setStep,\n  } = useStepAction({\n    botId,\n    origin,\n    schemaPages,\n    onNextStepSuccess: (resp: ActionResponse) => {\n      if (resp.action === SchemaAreaPageApi.BindConnector) {\n        bindCb(resp.data);\n      }\n      if (resp.action === SchemaAreaPageApi.GetBindConnectorConfig) {\n        setAssignValue({\n          ...assignValue,\n          ...resp.data.config?.detail,\n        });\n      }\n      stepCallback();\n    },\n    onNextStepError: error => {\n      if (isApiError(error)) {\n        setErrorMessage(error);\n      }\n    },\n  });\n\n  const { node: unbindPlatformModal, open: openUnbindPlatformModal } =\n    useUnbindPlatformModal({\n      botId,\n      origin,\n      platformInfo: initValue as BotPublishConnectorInfo,\n      onUnbind: () => {\n        handleUnbind();\n      },\n    });\n\n  const nextBtnClick = async () => {\n    const value = await formRef.current?.submit();\n    setAssignValue({ ...assignValue, ...value });\n    nextStepRun({\n      connectorId: initValue?.id ?? '',\n      assignFormValue: { ...assignValue, ...value },\n    });\n  };\n\n  const renderFooter = () =>\n    initValue?.bind_id ? (\n      <>\n        <UIButton\n          theme=\"light\"\n          type=\"tertiary\"\n          onClick={() => {\n            close();\n            setStep(0);\n          }}\n        >\n          {I18n.t('Cancel')}\n        </UIButton>\n        <UIButton theme=\"solid\" type=\"danger\" onClick={openUnbindPlatformModal}>\n          {I18n.t('bot_publish_disconnect', {\n            platform: initValue?.name ?? '',\n          })}\n        </UIButton>\n      </>\n    ) : (\n      <>\n        {schemaPages?.length &&\n        step !== 0 &&\n        schemaPages[step]?.api_action !== SchemaAreaPageApi.NotQuery ? (\n          // When the page button does not perform any action, the previous step is not displayed\n          <UIButton\n            theme=\"solid\"\n            onClick={() => {\n              setErrorMessage(undefined);\n              setStep(step - 1);\n            }}\n          >\n            {I18n.t('Previous_1')}\n          </UIButton>\n        ) : null}\n        <UIButton\n          theme=\"solid\"\n          onClick={nextBtnClick}\n          disabled={formDisabled}\n          loading={loading}\n        >\n          {step === (schemaPages?.length ?? 0) - 1\n            ? schemaPages[step]?.api_action !== SchemaAreaPageApi.NotQuery\n              ? I18n.t('Save')\n              : I18n.t('Complete')\n            : I18n.t('Next_1')}\n        </UIButton>\n      </>\n    );\n\n  const { modal, open, close } = useUIModal({\n    type: 'action-small',\n    footer: renderFooter(),\n    onCancel: handleClose,\n    title: connectorConfigInfo?.title_text,\n  });\n\n  const renderConnectorArea = (\n    copyArea?: CopyLinkAreaInfo,\n    schemaArea?: SchemaAreaInfo,\n  ) => (\n    <>\n      {copyArea ? (\n        <ConnectorLink\n          copyLinkAreaInfo={copyArea}\n          agentType={origin}\n          botId={botId}\n          initValue={{ ...initValue?.bind_info, ...assignValue }}\n        />\n      ) : null}\n      {schemaArea ? (\n        <ConnectorForm\n          schemaAreaInfo={schemaArea}\n          initValue={{ ...initValue?.bind_info, ...assignValue }}\n          ref={formRef}\n          getFormDisable={disable => setFormDisabled(disable)}\n          isReadOnly={Boolean(initValue?.bind_id)}\n          setErrorMessage={setErrorMessage}\n        />\n      ) : null}\n      {errorMessage ? <ConnectorError errorMessage={errorMessage} /> : null}\n    </>\n  );\n  return {\n    node: modal(\n      <Spin\n        wrapperClassName={styles['config-area']}\n        spinning={formSchemaLoading}\n      >\n        <ConnectorGuide connectorConfigInfo={connectorConfigInfo} />\n\n        {schemaPages?.length && !initValue?.bind_id ? (\n          <div>\n            {renderConnectorArea(\n              schemaPages[step]?.copy_link_area,\n              schemaPages[step]?.schema_area,\n            )}\n          </div>\n        ) : null}\n        {initValue?.bind_id && schemaPages?.length ? (\n          <>\n            {schemaPages?.map((item, i) => (\n              <div key={i}>\n                {renderConnectorArea(item.copy_link_area, item.schema_area)}\n              </div>\n            ))}\n          </>\n        ) : null}\n        {unbindPlatformModal}\n      </Spin>,\n    ),\n    open: (props: ConnectorConfigureValueType) => {\n      setPropsValue(props);\n      open();\n    },\n    close,\n  };\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { type SetStateAction } from 'react';\n\nimport { type PublishConnectorInfo } from '@coze-arch/idl/intelligence_api';\nimport { I18n } from '@coze-arch/i18n';\nimport { Button } from '@coze-arch/coze-design';\nimport { type DynamicParams } from '@coze-arch/bot-typings/teamspace';\nimport { UIButton } from '@coze-arch/bot-semi';\nimport {\n  type PublishConnectorInfo as BotPublishConnectorInfo,\n  ConfigStatus,\n} from '@coze-arch/bot-api/developer_api';\nimport { useParams } from 'react-router-dom';\n\nimport { useConnectorFormModal } from '../bind-connector-modal/use-connector-form-modal';\nimport { OLD_WX_FWH_ID } from '../../util';\n\ninterface KvBindButtonProps {\n  setDataSource?: (value: SetStateAction<BotPublishConnectorInfo[]>) => void;\n  setSelectedPlatforms?: (id: SetStateAction<string[]>) => void;\n  record: BotPublishConnectorInfo | PublishConnectorInfo;\n  /** The callback of the successful channel configuration. If'unbindCallback 'is not passed, the callback will also be called by unbinding the channel, and the bind_id is empty string \"\" */\n  bindSuccessCallback?: (value: PublishConnectorInfo | undefined) => void;\n  /** Callback of untied channels */\n  unbindCallback?: () => void;\n  /** Bound agent_type. Defaults to bot */\n  origin?: 'project' | 'bot';\n  /** The bound bot_id/project_id. If not passed, get it from the route parameter according to origin */\n  originId?: string;\n}\n\nexport const KvBindButton = ({\n  setDataSource,\n  setSelectedPlatforms,\n  record,\n  bindSuccessCallback,\n  unbindCallback,\n  origin = 'bot',\n  originId,\n}: KvBindButtonProps) => {\n  const { bot_id = '', project_id = '' } = useParams<DynamicParams>();\n  // The name of the parameter passed to the backend is bot_id, and the parameter agent_type is used to distinguish 0-bot 1-project.\n  const botId = originId ?? (origin === 'bot' ? bot_id : project_id);\n  const bindSuccessCb = (\n    value: BotPublishConnectorInfo | PublishConnectorInfo | undefined,\n  ) => {\n    if (bindSuccessCallback) {\n      bindSuccessCallback(value as PublishConnectorInfo);\n      return;\n    }\n    setDataSource?.((list: BotPublishConnectorInfo[]) => {\n      const target = list.find(l => l.id === value?.id);\n      if (target) {\n        // After unbinding the old service number, you need to hide the old service number channel and do not allow it to be bound again.\n        if (target.id === OLD_WX_FWH_ID && !value?.bind_id) {\n          return list.filter(item => item.id !== OLD_WX_FWH_ID);\n        }\n        target.bind_id = value?.bind_id;\n        target.bind_info = value?.bind_info ?? {};\n        target.config_status = value?.bind_id\n          ? ConfigStatus.Configured\n          : ConfigStatus.NotConfigured;\n      }\n\n      return [...list];\n    });\n\n    if (!value?.bind_id) {\n      setSelectedPlatforms?.(list => list.filter(item => item !== value?.id));\n    }\n  };\n  const { node: connectorFormModal, open: openConnectorsForm } =\n    useConnectorFormModal({\n      botId,\n      origin,\n      onSuccess: bindSuccessCb,\n      onUnbind: unbindCallback,\n    });\n\n  const handleConfigure = () => openConnectorsForm({ initValue: record });\n  const buttonText = I18n.t('bot_publish_action_configure');\n\n  return (\n    <>\n      {origin === 'project' ? (\n        <Button onClick={handleConfigure} size=\"small\" color=\"primary\">\n          {buttonText}\n        </Button>\n      ) : (\n        <UIButton onClick={handleConfigure} theme=\"borderless\">\n          {buttonText}\n        </UIButton>\n      )}\n      {connectorFormModal}\n    </>\n  );\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useState } from 'react';\n\nimport { useRequest } from 'ahooks';\nimport {\n  createReportEvent,\n  REPORT_EVENTS as ReportEventNames,\n} from '@coze-arch/report-events';\nimport { I18n } from '@coze-arch/i18n';\nimport { type DynamicParams } from '@coze-arch/bot-typings/teamspace';\nimport { Spin, useUIModal } from '@coze-arch/bot-semi';\nimport { useFlags } from '@coze-arch/bot-flags';\nimport { Branch } from '@coze-arch/bot-api/dp_manage_api';\nimport { type PublishConnectorInfo } from '@coze-arch/bot-api/developer_api';\nimport { dpManageApi } from '@coze-arch/bot-api';\nimport { useParams } from 'react-router-dom';\n\nimport styles from '../pages/publish/index.module.less';\nimport { NewBotDiffView } from '../component/bot-diff-view/new-diff-view';\nimport { BotDiffView } from '../component/bot-diff-view';\nconst getBotPublishDiffReportEvent = createReportEvent({\n  eventName: ReportEventNames.getBotDiffError,\n});\n\nexport const useConnectorDiffModal = () => {\n  const [selectedRecord, setSelectedRecord] = useState<PublishConnectorInfo>();\n  const params = useParams<DynamicParams>();\n  const [Flags] = useFlags();\n  const isUseNewTemplate = !!Flags?.['bot.devops.merge_prompt_diff'];\n  const {\n    data: botDiffData,\n    loading,\n    run,\n    mutate,\n    error: requestError,\n  } = useRequest(\n    async (record: PublishConnectorInfo) => {\n      const { bot_id = '', space_id = '', commit_version } = params;\n      const result = await dpManageApi.BotDiff({\n        space_id,\n        bot_id,\n        left: {\n          branch: Branch.Publish,\n          connector_id: record.id,\n        },\n        template_key: isUseNewTemplate ? 'diff_template_when_publish_v2' : '',\n        right: { branch: Branch.Base, version_id: commit_version },\n      });\n      return result.data;\n    },\n    {\n      manual: true,\n      onBefore: () => {\n        getBotPublishDiffReportEvent.start();\n      },\n      onSuccess: data => {\n        getBotPublishDiffReportEvent.success();\n      },\n      onError: error => {\n        getBotPublishDiffReportEvent.error({\n          reason: 'get publish diff error',\n          error,\n        });\n      },\n    },\n  );\n  const closeModal = () => {\n    mutate({ origin_bot_dl: '', diff_display_node: [] });\n    close();\n  };\n  const openModal = (record: PublishConnectorInfo) => {\n    setSelectedRecord(record);\n    run(record);\n    open();\n  };\n  const { modal, open, close } = useUIModal({\n    type: 'info',\n    okText: I18n.t('devops_publish_multibranch_done'),\n    okType: 'tertiary',\n    okButtonProps: { className: 'semi-button-light' },\n    hasCancel: false,\n\n    className: styles['diff-modal'],\n    onCancel: closeModal,\n    onOk: closeModal,\n    title: I18n.t('devops_publish_multibranch_diffwithin', {\n      connectorName: selectedRecord?.name ?? '',\n    }),\n  });\n\n  return {\n    node: modal(\n      <div className={styles['diff-modal-container']}>\n        {loading ? (\n          <Spin />\n        ) : isUseNewTemplate ? (\n          <NewBotDiffView\n            diffData={botDiffData?.diff_display_node || []}\n            hasError={requestError !== undefined}\n            type={'publish'}\n          />\n        ) : (\n          <BotDiffView\n            diffData={botDiffData?.diff_display_node || []}\n            hasError={requestError !== undefined}\n          />\n        )}\n      </div>,\n    ),\n    open: openModal,\n    close,\n  };\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { I18n } from '@coze-arch/i18n';\nimport { EVENT_NAMES } from '@coze-arch/bot-tea';\nimport { Tooltip, UIIconButton } from '@coze-arch/bot-semi';\nimport { IconViewDiff } from '@coze-arch/bot-icons';\nimport { type PublishConnectorInfo } from '@coze-arch/bot-api/developer_api';\nimport { sendTeaEventInBot } from '@coze-agent-ide/agent-ide-commons';\n\nimport { useBotModeStore } from '../../store/bot-mode';\nimport { useConnectorDiffModal } from '../../hook/use-connector-diff-modal';\n\nexport const DiffViewButton: React.FC<{\n  record: PublishConnectorInfo;\n  isMouseIn: boolean;\n}> = ({ record, isMouseIn }) => {\n  const { open: connectorDiffModalOpen, node: connectorDiffModalNode } =\n    useConnectorDiffModal();\n  const isCollaboration = useBotModeStore(s => s.isCollaboration);\n  const openConnectorDiffModal = (info: PublishConnectorInfo) => {\n    sendTeaEventInBot(EVENT_NAMES.bot_publish_difference, {\n      platform_type: info.name,\n    });\n    connectorDiffModalOpen(info);\n  };\n\n  return (\n    <>\n      {isMouseIn && isCollaboration ? (\n        <Tooltip content={I18n.t('devops_publish_multibranch_viewdiff')}>\n          <UIIconButton\n            onClick={() => {\n              openConnectorDiffModal(record);\n            }}\n            icon={<IconViewDiff color=\"#4D53E8\" />}\n          ></UIIconButton>\n        </Tooltip>\n      ) : null}\n      {connectorDiffModalNode}\n    </>\n  );\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { isEmpty } from 'lodash-es';\nimport { useRequest } from 'ahooks';\nimport { withSlardarIdButton } from '@coze-studio/bot-utils';\nimport { logger } from '@coze-arch/logger';\nimport { I18n } from '@coze-arch/i18n';\nimport { CustomError } from '@coze-arch/bot-error';\nimport { type AuthLoginInfo } from '@coze-arch/bot-api/developer_api';\nimport { DeveloperApi } from '@coze-arch/bot-api';\nimport { connector2Redirect } from '@coze-foundation/account-adapter';\nimport { Toast } from '@coze-arch/coze-design';\n\nexport const useRevokeAuth = ({\n  id,\n  onRevokeSuccess,\n  onRevokeFinally,\n}: {\n  id: string;\n  onRevokeSuccess?: (id: string) => void;\n  onRevokeFinally?: () => void;\n}) => {\n  const { loading, runAsync } = useRequest(\n    async () =>\n      await DeveloperApi.CancelUserAuth({\n        connector_id: id,\n      }),\n    {\n      manual: true,\n      onSuccess: () => {\n        onRevokeSuccess?.(id);\n      },\n      onFinally: () => {\n        onRevokeFinally?.();\n      },\n    },\n  );\n\n  return {\n    revokeLoading: loading,\n    runRevoke: runAsync,\n  };\n};\n\nexport const executeAuthRedirect = async ({\n  id,\n  authInfo,\n  origin,\n}: {\n  id: string;\n  authInfo: AuthLoginInfo;\n  origin?: 'setting' | 'publish';\n}) => {\n  const resp = await DeveloperApi.GetConnectorAuthState({\n    connector_id: id,\n  });\n  const state = resp?.data?.state ?? {};\n  connector2Redirect(\n    {\n      navigatePath: location.pathname,\n      type: 'oauth',\n      extra: {\n        origin,\n        ...state,\n      },\n    },\n    id,\n    authInfo,\n  );\n};\n\nexport const checkAuthInfoValid = (authInfo?: AuthLoginInfo) =>\n  !isEmpty(authInfo) && !!authInfo?.authorize_url;\n\nexport const logAndToastAuthInfoError = () => {\n  logger.error({\n    message: 'connection_missing_oauth_info',\n    error: new CustomError(\n      'normal_error',\n      'Connection missing oauth information',\n    ),\n  });\n  Toast.error({\n    content: withSlardarIdButton(I18n.t('error')),\n  });\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { I18n } from '@coze-arch/i18n';\nimport { UIModal } from '@coze-arch/bot-semi';\nimport { type DiffDisplayNode } from '@coze-arch/bot-api/dp_manage_api';\nimport {\n  PublishResultStatus,\n  type ConnectorBindResult,\n  type PublishConnectorInfo,\n} from '@coze-arch/bot-api/developer_api';\n\nimport { type ConnectResultInfo } from '../type';\n\nexport { skillKeyToApiStatusKeyTransformer } from '@coze-arch/bot-utils';\n\nexport {\n  checkAuthInfoValid,\n  executeAuthRedirect,\n  logAndToastAuthInfoError,\n  useRevokeAuth,\n} from './auth';\n\n/**\n * Get the path to bot details pages, not explore pages\n * @param {String} spaceID - space ID\n * @param {String} botID - bot ID\n */\nexport const getBotDetailPagePath = (spaceID: string, botID: string) =>\n  `/space/${spaceID}/bot/${botID}`;\n\n/**\n * Flatten bot diff data, flat subtree structure within array, and add hierarchy to each node\n * @param {Array < DiffDisplayNode & {level?: number} >} dataSource - space ID\n * @param {String} botID - bot ID\n */\nexport const flatDataSource = (\n  dataSource: Array<DiffDisplayNode & { level?: number }>,\n  level = 0,\n) => {\n  const res: DiffDisplayNode[] = [];\n  dataSource?.forEach(item => {\n    item.level = level;\n    res.push(item);\n    if (item.sub_nodes) {\n      res.push(...flatDataSource(item.sub_nodes, level + 1));\n    }\n  });\n  return res;\n};\n\nexport const setPCBodyWithDebugPanel = () => {\n  const bodyStyle = document.body.style;\n  const htmlStyle = document.getElementsByTagName('html')[0].style;\n  bodyStyle.minHeight = '600px';\n  htmlStyle.minHeight = '600px';\n  bodyStyle.minWidth = '1680px';\n  htmlStyle.minWidth = '1680px';\n};\n\n// The old service number id to be offline.\nexport const OLD_WX_FWH_ID = '10000114';\n\n// New WeChat service ID\nexport const NEW_WX_FWH_ID = '10000120';\n\n// Store channel id\nexport const STORE_CONNECTOR_ID = '10000122';\n\nexport const getPublishResult: (\n  publishResult: Record<string, ConnectorBindResult>,\n  connectInfoList: PublishConnectorInfo[],\n) => ConnectResultInfo[] = (publishResult, connectInfoList) => {\n  if (!connectInfoList?.length) {\n    return [];\n  }\n  return connectInfoList.map(item => {\n    const result = publishResult?.[item.id] ?? {};\n    return {\n      ...item,\n      publish_status:\n        result.publish_result_status ?? PublishResultStatus.Failed,\n      fail_text: result.msg ?? '',\n      share_link: result.connector?.share_link ?? '',\n      bind_info: result.connector?.bind_info ?? item.bind_info,\n    };\n  });\n};\n\n// New and old WeChat official account migration special judgment logic: When binding a new WeChat channel, it is prompted to unbind the bound old channel first to prevent repeated binding with the bot\nexport const isWeChatMigration = (\n  record: PublishConnectorInfo,\n  dataSource: PublishConnectorInfo[],\n): boolean => {\n  const hasBindOldWeChatId = dataSource.find(\n    i => i.id === OLD_WX_FWH_ID,\n  )?.bind_id;\n  if (hasBindOldWeChatId && record.id === NEW_WX_FWH_ID) {\n    UIModal.warning({\n      title: I18n.t('publish_wechat_old_disconnect_title'),\n      content: I18n.t('publish_wechat_old_disconnect'),\n      okText: I18n.t('got_it'),\n      hasCancel: false,\n    });\n    return true;\n  } else {\n    return false;\n  }\n};\nexport const safeJSONParse = (data?: string) => {\n  try {\n    return JSON.parse(data);\n  } catch (e) {\n    return '';\n  }\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useState, useEffect } from 'react';\n\nimport { featureFlagStorage } from './utils/storage';\nimport { type FEATURE_FLAGS } from './types';\nimport { getFlags } from './get-flags';\n\nexport const useFlags = (): [FEATURE_FLAGS] => {\n  const plainFlags = getFlags();\n  // Listens to the fg store event and triggers the react component to respond to changes\n  const [, setTick] = useState<number>(0);\n\n  useEffect(() => {\n    const cb = () => {\n      setTick(Date.now());\n    };\n    featureFlagStorage.on('change', cb);\n    return () => {\n      featureFlagStorage.off('change', cb);\n    };\n  }, []);\n\n  return [plainFlags];\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\n/* eslint-disable */\n/* tslint:disable */\n// @ts-nocheck\n\nimport * as base from './base';\nimport * as model_arena from './model_arena';\nimport * as multi_version from './multi_version';\n\nexport type Int64 = string | number;\n\n/**  */\nexport enum Branch {\n  Undefined = 0,\n  /**  */\n  PersonalDraft = 1,\n  /** space */\n  Base = 2,\n  /**  */\n  Publish = 3,\n}\n\nexport enum DiffActionType {\n  Unknown = 0,\n  Add = 1,\n  Delete = 2,\n  Modify = 3,\n  Remove = 4,\n  /**  */\n  Remain = 5,\n}\n\n/** - env boe-online()\n - publish -\n - version  */\nexport enum DiffIsolation {\n  Env = 10,\n  Publish = 20,\n  Version = 30,\n}\n\nexport enum DiffMode {\n  Default = 0,\n  OnlyDetermineDiff = 1,\n}\n\nexport enum DiffScene {\n  BotDraft = 0,\n}\n\nexport enum DiffStyle {\n  Default = 0,\n  /**  */\n  TextDetail = 1,\n}\n\nexport enum Env {\n  Online = 1,\n  Submit = 2,\n  Draft = 3,\n}\n\nexport enum ResourceType {\n  Bot = 1,\n  Workflow = 2,\n}\n\nexport enum TopoType {\n  AgentFlow = 1,\n  Agent = 2,\n  Workflow = 3,\n}\n\nexport interface ArenaChatBreakMsgReq {\n  conversation_id?: string;\n  query_message_id?: string;\n  answer_message_id?: string;\n  broken_pos?: number;\n  local_message_id?: string;\n  Base?: base.Base;\n}\n\nexport interface ArenaChatBreakMsgResp {\n  code: number;\n  msg: string;\n  BaseResp?: base.BaseResp;\n}\n\nexport interface ArenaChatStreamReq {\n  bot_id?: string;\n  conversation_id: string;\n  bot_version?: string;\n  user?: string;\n  query: string;\n  extra?: Record<string, string>;\n  /**  file  image  */\n  content_type?: string;\n  /** id */\n  regen_message_id?: string;\n  /** message_id extra_info  */\n  local_message_id?: string;\n  insert_history_message_list?: Array<string>;\n  device_id?: string;\n  space_id?: string;\n  toolList?: Array<Tool>;\n  Origin?: string;\n  Host?: string;\n}\n\nexport interface ArenaChatStreamResp {}\n\nexport interface ArenaGetConfReq {\n  Base?: base.Base;\n}\n\nexport interface ArenaGetConfResp {\n  data?: ArenaGetConfRespData;\n  code: number;\n  msg: string;\n  BaseResp?: base.BaseResp;\n}\n\nexport interface ArenaGetConfRespData {\n  /** botproduct id */\n  blank_bot_product_id?: string;\n  bot_types?: Array<model_arena.ArenaBotType>;\n  question_bank_types?: Array<model_arena.ArenaQuestionBankType>;\n  leaderboards?: Array<model_arena.ArenaLeaderboardBasic>;\n  /**  */\n  access_to_leaderboard?: boolean;\n}\n\nexport interface ArenaGetModelListReq {\n  Host?: string;\n  Base?: base.Base;\n}\n\nexport interface ArenaGetModelListResp {\n  data?: ArenaGetModelListRespData;\n  code: number;\n  msg: string;\n  BaseResp?: base.BaseResp;\n}\n\nexport interface ArenaGetModelListRespData {\n  /**  */\n  models?: Array<model_arena.ArenaModel>;\n}\n\nexport interface ArenaLeaderBoardCreateNewVersionRespData {\n  version?: string;\n}\n\nexport interface ArenaLeaderBoardGetReq {\n  Base?: base.Base;\n}\n\nexport interface ArenaLeaderBoardGetResp {\n  data?: ArenaLeaderBoardGetRespData;\n  code: number;\n  msg: string;\n  BaseResp?: base.BaseResp;\n}\n\nexport interface ArenaLeaderBoardGetRespData {\n  /**  */\n  reveal_time?: string;\n  /** 1-n */\n  ranks?: Array<model_arena.ArenaRank>;\n  /**  */\n  data_ddl_time?: string;\n  /**  */\n  vote_count?: string;\n}\n\nexport interface ArenaLeaderboardGetV2Req {\n  /** id */\n  id?: string;\n  Host?: string;\n  Base?: base.Base;\n}\n\nexport interface ArenaLeaderboardGetV2Resp {\n  data?: ArenaLeaderboardGetV2RespData;\n  code: number;\n  msg: string;\n  BaseResp?: base.BaseResp;\n}\n\nexport interface ArenaLeaderboardGetV2RespData {\n  arena_leaderboard?: model_arena.ArenaLeaderboard;\n}\n\nexport interface ArenaListQuestionBankReq {\n  bank_type_id?: string;\n  page_size?: number;\n  page_num?: number;\n  Base?: base.Base;\n}\n\nexport interface ArenaListQuestionBankResp {\n  data?: ArenaListQuestionBankRespData;\n  code: number;\n  msg: string;\n  BaseResp?: base.BaseResp;\n}\n\nexport interface ArenaListQuestionBankRespData {\n  banks?: Array<model_arena.ArenaQuestionBank>;\n  has_more?: boolean;\n}\n\nexport interface ArenaRandQuestionReq {\n  bank_id?: string;\n  count?: number;\n  used_seq_id_list?: Array<number>;\n  Base?: base.Base;\n}\n\nexport interface ArenaRandQuestionResp {\n  data?: ArenaRandQuestionRespData;\n  code: number;\n  msg: string;\n  BaseResp?: base.BaseResp;\n}\n\nexport interface ArenaRandQuestionRespData {\n  questions?: Array<model_arena.ArenaQuestion>;\n  /** seqid=reqseqid+seqid */\n  used_seq_id_list?: Array<number>;\n}\n\nexport interface ArenaRegisterModelRespData {\n  Version?: string;\n}\n\nexport interface ArenaSubmitPkFeedbackTagReq {\n  pk_id: string;\n  left_model_tags?: Array<string>;\n  right_model_tags?: Array<string>;\n  Base?: base.Base;\n}\n\nexport interface ArenaSubmitPkFeedbackTagResp {\n  code: number;\n  msg: string;\n  BaseResp?: base.BaseResp;\n}\n\nexport interface ArenaSubmitPkFeedbackTextReq {\n  pk_id: string;\n  feedback_text?: string;\n  Base?: base.Base;\n}\n\nexport interface ArenaSubmitPkFeedbackTextResp {\n  code: number;\n  msg: string;\n  BaseResp?: base.BaseResp;\n}\n\nexport interface ArenaUpdateQuestionBankRespData {\n  AddCount?: number;\n  UpdateCount?: number;\n  DeleteCount?: number;\n}\n\nexport interface ArenaUpdateQuestionRespData {\n  AddCount?: number;\n  UpdateCount?: number;\n  DeleteCount?: number;\n}\n\nexport interface ArenaVoteReq {\n  pk_id?: string;\n  result?: model_arena.VoteResult;\n  Base?: base.Base;\n}\n\nexport interface ArenaVoteResp {\n  data?: ArenaVoteRespData;\n  code: number;\n  msg: string;\n  BaseResp?: base.BaseResp;\n}\n\nexport interface ArenaVoteRespData {\n  left_model?: model_arena.ArenaModel;\n  right_model?: model_arena.ArenaModel;\n  left_total_votes?: string;\n  right_total_votes?: string;\n}\n\nexport interface BotDiff3WayReq {\n  space_id: string;\n  bot_id: string;\n  /**  */\n  current_version: BotVersion;\n  /** space */\n  target_version: BotVersion;\n  /** diffdiff_template_v2 */\n  template_key?: string;\n  Base?: base.Base;\n}\n\nexport interface BotDiff3WayResp {\n  data?: BotDiff3WayRespDate;\n  code: number;\n  msg: string;\n  BaseResp?: base.BaseResp;\n}\n\nexport interface BotDiff3WayRespDate {\n  diff_res?: Array<DiffDisplay3WayNode>;\n  /** botmerge */\n  origin_bot_dl: string;\n  /**  */\n  target_version: string;\n  /**  */\n  latest_commit_version?: string;\n  BaseResp?: base.BaseResp;\n}\n\nexport interface BotDiffReq {\n  space_id: string;\n  bot_id: string;\n  left: BotVersion;\n  right: BotVersion;\n  filter?: DiffFilter;\n  /** diffdiff_template_v2diffdiff_template_when_publish_v2 */\n  template_key?: string;\n  Base?: base.Base;\n}\n\nexport interface BotDiffResp {\n  data?: BotDiffRespData;\n  code: number;\n  msg: string;\n  BaseResp?: base.BaseResp;\n}\n\nexport interface BotDiffRespData {\n  diff_display_node?: Array<DiffDisplayNode>;\n  origin_bot_dl: string;\n  /**  */\n  target_version?: string;\n}\n\nexport interface BotMergeRequest {\n  space_id: string;\n  bot_id: string;\n  diff_res?: Array<DiffDisplayNode>;\n  origin_bot_dl: string;\n  Base?: base.Base;\n}\n\nexport interface BotMergeResponse {\n  code: number;\n  msg: string;\n  BaseResp?: base.BaseResp;\n}\n\nexport interface BotVersion {\n  branch?: Branch;\n  version_id?: string;\n  connector_id?: string;\n}\n\nexport interface CheckBotInReviewWhiteListRequest {\n  space_id: Int64;\n  bot_id: Int64;\n  Base?: base.Base;\n}\n\nexport interface CheckBotInReviewWhiteListResponse {\n  in_white_list?: boolean;\n  BaseResp?: base.BaseResp;\n}\n\nexport interface CheckHookConfigRequest {\n  psm: string;\n  Base?: base.Base;\n}\n\nexport interface CheckHookConfigResponse {\n  psm_check_result?: boolean;\n  code: number;\n  msg: string;\n  BaseResp?: base.BaseResp;\n}\n\nexport interface CozeIDEPluginFgRequest {\n  Base?: base.Base;\n}\n\nexport interface CozeIDEPluginFgResponse {\n  enable_multi_version?: boolean;\n  enable_gray?: boolean;\n  code: number;\n  msg: string;\n  BaseResp?: base.BaseResp;\n}\n\nexport interface CreateArenaPKReq {\n  /** bot or bot */\n  product_id?: string;\n  bot_id?: string;\n  bot_version?: string;\n  Host?: string;\n  Base?: base.Base;\n}\n\nexport interface CreateArenaPKResp {\n  data?: CreateArenaPKRespData;\n  code: number;\n  msg: string;\n  BaseResp?: base.BaseResp;\n}\n\nexport interface CreateArenaPKRespData {\n  pk_id?: string;\n  bot_id?: string;\n  bot_version?: string;\n  left_conversation_id?: string;\n  right_conversation_id?: string;\n  left_feedback_tags?: Array<model_arena.PkFeedbackTag>;\n  right_feedback_tags?: Array<model_arena.PkFeedbackTag>;\n}\n\nexport interface DiffDisplay3WayNode {\n  /**  */\n  display_name: string;\n  /**  */\n  diff_res_current?: DiffDisplayAction;\n  /**  */\n  diff_res_target?: DiffDisplayAction;\n  /**  */\n  sub_nodes?: Array<DiffDisplay3WayNode>;\n  /**  */\n  is_conflict?: boolean;\n}\n\nexport interface DiffDisplayAction {\n  action: DiffActionType;\n  /**  */\n  display_left?: string;\n  /**  */\n  display_right?: string;\n  /** UpdateBotDraft */\n  origin_left?: string;\n  /** UpdateBotDraft */\n  origin_right?: string;\n  /** merge */\n  selected_value?: string;\n  /** UpdateBotDraft */\n  json_path?: string;\n  /**  */\n  overwrite_display?: string;\n  /** diff1diff */\n  diff_style?: DiffStyle;\n  /** mergemergeselectedValue */\n  manual_merge_value?: string;\n}\n\nexport interface DiffDisplayNode {\n  /**  */\n  display_name: string;\n  /**  */\n  diff_res?: DiffDisplayAction;\n  /**  */\n  sub_nodes?: Array<DiffDisplayNode>;\n}\n\nexport interface DiffFilter {\n  Isolation?: DiffIsolation;\n}\n\nexport interface Edge {\n  edge_id?: string;\n  edge_name?: string;\n  source_node_id?: string;\n  target_node_id?: string;\n}\n\nexport interface GetDiffRespData {\n  diff_display_node?: Array<DiffDisplayNode>;\n}\n\nexport interface GetMultiVersionActiveListRequest {\n  space_id: Int64;\n  bot_id: Int64;\n  /** 0 */\n  page?: number;\n  /** 20 */\n  size?: number;\n  /**  */\n  version_type?: multi_version.VersionType;\n  /**  */\n  query_type?: multi_version.VersionType;\n  /** , commitVersion */\n  version?: Int64;\n  Base?: base.Base;\n}\n\nexport interface GetMultiVersionActiveListResponse {\n  active_rules?: Array<multi_version.ActiveRule>;\n  code: number;\n  msg: string;\n  BaseResp?: base.BaseResp;\n}\n\nexport interface GetMultiVersionAllowedConnectorsRequest {\n  space_id: Int64;\n  bot_id: Int64;\n  Base?: base.Base;\n}\n\nexport interface GetMultiVersionAllowedConnectorsResponse {\n  allowed_connectors?: Array<multi_version.AllowedConnector>;\n  code: number;\n  msg: string;\n  BaseResp?: base.BaseResp;\n}\n\nexport interface GetMultiVersionLatestParamsRequest {\n  space_id: Int64;\n  bot_id: Int64;\n  Base?: base.Base;\n}\n\nexport interface GetMultiVersionLatestParamsResponse {\n  params_map?: Partial<Record<multi_version.VersionType, string>>;\n  code: number;\n  msg: string;\n  BaseResp?: base.BaseResp;\n}\n\nexport interface GetPKRecordRespData {\n  PKRecord?: model_arena.ArenaPKRecord;\n}\n\nexport interface GetTopoInfoReq {\n  space_id: string;\n  resource_id: string;\n  version: string;\n  env: Env;\n  resource_type: ResourceType;\n  Base?: base.Base;\n}\n\nexport interface GetTopoInfoResp {\n  data?: TopoInfo;\n  BaseResp?: base.BaseResp;\n}\n\nexport interface InactivateMultiVersionRequest {\n  space_id: Int64;\n  bot_id: Int64;\n  rule_id: Int64;\n  Base?: base.Base;\n}\n\nexport interface InactivateMultiVersionResponse {\n  code: number;\n  msg: string;\n  BaseResp?: base.BaseResp;\n}\n\nexport interface ListArenaBotReq {\n  /** 11-3orbot */\n  bot_type_id?: string;\n  page_size?: number;\n  page_number?: number;\n  /** 43bot */\n  rand3?: boolean;\n  Base?: base.Base;\n}\n\nexport interface ListArenaBotResp {\n  data?: ListArenaBotRespData;\n  code: number;\n  msg: string;\n  BaseResp?: base.BaseResp;\n}\n\nexport interface ListArenaBotRespData {\n  bots?: Array<model_arena.ArenaBot>;\n  has_more?: boolean;\n}\n\nexport interface ListCurrentPublishVersionsRequest {\n  space_id: Int64;\n  bot_id: Int64;\n  Base?: base.Base;\n}\n\nexport interface ListCurrentPublishVersionsResponse {\n  versions?: Array<multi_version.BotPublishVersion>;\n  BaseResp?: base.BaseResp;\n}\n\nexport interface ListHistoryVersionsRequest {\n  space_id: Int64;\n  bot_id: Int64;\n  /**  */\n  version_types?: Array<multi_version.HistoryVersionType>;\n  /**  */\n  connector_ids?: Array<string>;\n  Base?: base.Base;\n}\n\nexport interface ListHistoryVersionsResponse {\n  versions?: Array<multi_version.BotHistoryVersion>;\n  BaseResp?: base.BaseResp;\n}\n\nexport interface ListOperationHistoryRequest {\n  space_id: Int64;\n  bot_id: Int64;\n  /**  */\n  version_types?: Array<multi_version.HistoryVersionType>;\n  /**  */\n  connector_ids?: Array<string>;\n  Base?: base.Base;\n}\n\nexport interface ListOperationHistoryResponse {\n  histories?: Array<multi_version.BotOperationHistory>;\n  BaseResp?: base.BaseResp;\n}\n\nexport interface MultiVersionUpdateKey {\n  bot_id?: Int64;\n  connector_id?: string;\n}\n\nexport interface Node {\n  node_id?: string;\n  resource_name?: string;\n  resource_kind?: Int64;\n  resource_id?: string;\n}\n\nexport interface parametersStruct {\n  value?: string;\n  /** \"uri\" */\n  resource_type?: string;\n}\n\nexport interface PingReq {\n  PingMessage: string;\n}\n\nexport interface PingResp {\n  PongMessage: string;\n}\n\nexport interface PublishMultiVersionRequest {\n  space_id: Int64;\n  bot_id: Int64;\n  connector_ids: Array<string>;\n  version_type: multi_version.VersionType;\n  /**  */\n  publish_id: string;\n  x_tt_env?: string;\n  version_identifier?: string;\n  /** ID */\n  gray_id_list?: Array<string>;\n  /** precommitversion */\n  commit_version?: string;\n  /** ppe */\n  bot_version?: string;\n  /**  */\n  gray_config?: multi_version.GrayConfig;\n  Base?: base.Base;\n}\n\nexport interface PublishMultiVersionResponse {\n  code: number;\n  msg: string;\n  BaseResp?: base.BaseResp;\n}\n\nexport interface RandBotIDReq {\n  Base?: base.Base;\n}\n\nexport interface RandBotIDResp {\n  data?: RandBotIDRespData;\n  code: number;\n  msg: string;\n  BaseResp?: base.BaseResp;\n}\n\nexport interface RandBotIDRespData {\n  product_id?: string;\n}\n\nexport interface RecordChangelogRequest {\n  bot_id: string;\n  llm_result: string;\n  user_result: string;\n  publish_id: string;\n  space_id?: string;\n  Base?: base.Base;\n}\n\nexport interface RecordChangelogResponse {\n  code: number;\n  msg: string;\n  BaseResp?: base.BaseResp;\n}\n\nexport interface RollbackBotRequest {\n  space_id: Int64;\n  bot_id: Int64;\n  connector_ids: Array<string>;\n  /** commitVersion */\n  commit_version?: string;\n  /** botVersion() */\n  bot_version?: string;\n  /**  */\n  publish_id?: string;\n  Base?: base.Base;\n}\n\nexport interface RollbackBotResponse {\n  BaseResp?: base.BaseResp;\n}\n\nexport interface Tool {\n  plugin_id?: string;\n  parameters?: Record<string, parametersStruct>;\n  api_name?: string;\n}\n\nexport interface TopoInfo {\n  topo_type?: TopoType;\n  nodes?: Array<Node>;\n  edges?: Array<Edge>;\n}\n\nexport interface UpdateGrayIDListRequest {\n  space_id: Int64;\n  bot_id: Int64;\n  rule_id?: Int64;\n  gray_id_list?: Array<string>;\n  gray_config?: multi_version.GrayConfig;\n  Base?: base.Base;\n}\n\nexport interface UpdateGrayIDListResponse {\n  code: number;\n  msg: string;\n  BaseResp?: base.BaseResp;\n}\n/* eslint-enable */\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* eslint-disable @typescript-eslint/naming-convention */\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { type CSSProperties } from 'react';\n\nimport { type CommonFieldProps } from '@coze-arch/coze-design';\n\nexport interface Delta {\n  insert: string;\n}\nexport interface Editor {\n  setHTML: (htmlContent: string) => void;\n  setContent: (content: { deltas: Delta[] }) => void;\n  getContent: () => {\n    deltas: Delta[];\n  };\n  setText: (text: string) => void;\n  getText: () => string;\n  getRootContainer: () => HTMLDivElement | null;\n  getContentState: () => any;\n  selection: any;\n  registerCommand: (command: string, callback: () => void) => void;\n  scrollModule: {\n    scrollTo: (props: any) => void;\n  };\n  on: (event: string, callback: (...args: any[]) => void) => void;\n}\nexport interface EditorHandle {\n  setDeltaContent: (delta?: any) => void;\n  getMarkdown: () => string;\n  getEditor: () => Editor;\n}\nexport interface EditorInputProps extends CommonFieldProps {\n  value?: string;\n  className?: string;\n  style?: CSSProperties;\n  onChange?: (value: string) => void;\n  onFocus?: () => void;\n  onBlur?: () => void;\n  placeholder?: string;\n  validateStatus?: 'error' | 'default';\n  /**\n   * Register custom plugins\n   * @param plugins\n   */\n  registerPlugins?: any;\n  /**\n   * Custom toolbar\n   */\n  registerToolItem?: any;\n  /** Custom schema */\n  schema?: any;\n  businessKey?: string; // To register the toolbar\n  getMentionData?: (query?: string) => Promise<any[]>;\n  maxCount?: number; // Number of characters displayed, default to -1 (unlimited)\n  disabled?: boolean; // disable\n  noToolbar?: boolean; // Hide Toolbar\n  noExpand?: boolean; // Expand icon in lower right corner\n  onExpand?: () => void; // Click expand icon\n  /**\n   * When plainText mode is enabled, the input content will not be different from the native textarea, markdown support will be removed, and toolbar will be hidden (the noToolbar property will be overridden).\n   * @default false\n   */\n  plainText?: boolean;\n  withInputTitle?: {\n    placeholder: string;\n    maxCount?: number;\n    onChange: (value: string) => void;\n  }; // With title editor (similar to Feishu, title and body together)\n\n  getUploadToken?: () => Promise<any>; // Customize to get the token of the uploaded image.\n\n  getImgURL?: (req?: any) => Promise<any>; // Customize to get the picture url according to the picture uri.\n  getEditor?: (editor: Editor) => void;\n}\n\nexport interface IRenderContext {\n  insert: string;\n  domAttributes: {\n    [key: string]: any;\n  };\n  key: string;\n  children: JSX.Element;\n  style: React.CSSProperties;\n  index: number;\n  zoneId: string;\n}\n\nexport interface IApplyMetadata {\n  id: string;\n  type: string;\n  options: any;\n}\n\nexport enum displayType {\n  inline = 'inline',\n  block = 'block',\n}\n\nexport enum ToolbarItemEnum {\n  Bold = 'Bold',\n  Italic = 'Italic',\n  Underline = 'Underline',\n  Undo = 'Undo',\n  Redo = 'Redo',\n  Strikethrough = 'Strikethrough',\n  Blockquote = 'Blockquote',\n  UnorderedList = 'UnorderedList',\n  OrderedList = 'OrderedList',\n  Checkbox = 'Checkbox',\n  Indent = 'Indent',\n  H1 = 'H1',\n  H2 = 'H2',\n  H3 = 'H3',\n  AlignCenter = 'AlignCenter',\n  AlignLeft = 'AlignLeft',\n  AlignRight = 'AlignRight',\n  HorizontalLine = 'HorizontalLine',\n  Hyperlink = 'Hyperlink',\n  Image = 'Image',\n  Table = 'Table',\n  CodeBlock = 'CodeBlock',\n  Video = 'Video',\n  DIVIDER = 'DIVIDER',\n  ColorPicker = 'ColorPicker',\n  FontSizeDropdown = 'FontSizeDropdown',\n  AlignDropdown = 'AlignDropdown',\n  HeadingDropdown = 'HeadingDropdown',\n  FontFamilyDropdown = 'FontFamilyDropdown',\n}\n\nexport const DEFAULT_ZONE = '0';\n\nexport const ZoneDelta: any = {};\n\nexport interface MentionType {\n  avatar_url: string;\n  cn_name: string;\n  en_name: string;\n  type: string;\n  id: string;\n}\n\nexport interface Delta2mdResult {\n  markdown: string;\n  images?: string[];\n  links?: string[];\n  mentions?: MentionType[];\n  codeblocks: string[];\n}\n\nexport class DeltaSet {\n  constructor(public deltas: Delta[]) {\n    this.deltas = deltas;\n  }\n}\n\nexport type DeltaSetOptions =\n  | Delta[]\n  | {\n      [zoneId: string]: {\n        zoneId: string;\n        ops: any;\n        zoneType: any;\n      };\n    };\nexport enum EditorEventType {\n  DID_PASTE = 'didPaste',\n  RESIZE = 'resize',\n  RECT_CHANGE = 'rectchange',\n  SELECTION_CHANGE = 'selectionchange',\n  SELECTION_CHANGE_AND_DOM_UPDATE = 'editorUpdateDomSelection',\n  CONTENT_WILL_CHANGE = 'contentWillChange',\n  CONTENT_CHANGE = 'contentchange',\n  EDITABLE_CHANGE = 'editablechange',\n  PAINT = 'paint',\n  COPY = 'copy',\n  CUT = 'cut',\n  PASTE = 'paste',\n  WILL_DELETE_FROM_CUT = 'willDeleteFromCut',\n  INPUT = 'input',\n  BEFORE_INPUT = 'beforeinput',\n  KEYDOWN = 'keydown',\n  KEYPRESS = 'keypress',\n  KEYUP = 'keyup',\n  EXEC_COMMAND = 'execCommand',\n  ERROR = 'error',\n  DELETE_KEY = 'keyDelete',\n  FOCUS = 'focus',\n  BLUR = 'blur',\n  SCROLL_END = 'scrollend',\n  SCROLL = 'scroll',\n  KEYBAORDCHANGE = 'keyboardchange',\n  COMPOSITION_END = 'compositionend',\n  COMPOSITION_START = 'compositionstart',\n  COMPOSITION_UPDATE = 'compositionupdate',\n  REACT_CONTEXT_UPDATE = 'reactContextUpdate',\n  BEFORE_DOM_RENDERER_RECONCILE = 'beforeDomRendererReconcile',\n  AFTER_DOM_RENDERER_RECONCILE = 'afterDomRendererReconcile',\n  UNDO_DID_INIT = 'undoDidInit',\n}\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { type Delta, type Editor } from './types';\n\n/**\n * Empty implementation for open-closed source unification\n * @param md\n * @returns\n */\nexport const md2html = (md: string) => md;\n\nexport const delta2md = (\n  delta: Delta,\n  zoneDelta: unknown,\n  ignoreAttr = false,\n) => ({\n  markdown: delta.insert,\n  images: [],\n  links: [],\n  mentions: [],\n  codeblocks: [],\n});\n\nexport const checkAndGetMarkdown = ({\n  editor,\n}: {\n  editor: Editor;\n  validate: boolean;\n  onImageUploadProgress?: any;\n}) => ({\n  content: editor.getText(),\n  images: [],\n  links: [],\n});\n/* eslint-disable @typescript-eslint/no-explicit-any */\nexport const normalizeSchema = (input: any): any => ({\n  '0': {\n    zoneType: input[0]?.zoneType,\n    zoneId: input[0]?.zoneId,\n    ops: input[0]?.ops,\n  },\n});\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* eslint-disable @typescript-eslint/no-extraneous-class */\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport type React from 'react';\nimport { lazy } from 'react';\n\nimport { type EditorInputProps } from './types';\nexport {\n  DEFAULT_ZONE,\n  displayType,\n  type EditorInputProps,\n  type EditorHandle,\n  type Delta,\n  type Editor,\n  type IRenderContext,\n  ToolbarItemEnum,\n  ZoneDelta,\n  IApplyMetadata,\n  DeltaSet,\n  DeltaSetOptions,\n  EditorEventType,\n} from './types';\n\nexport const Text: React.FC<any> = () => null;\n\nexport const ToolbarButton: React.FC<any> = () => null;\n\nexport class Plugin {}\n\nexport {\n  md2html,\n  checkAndGetMarkdown,\n  delta2md,\n  normalizeSchema,\n} from './utils';\n\nconst LazyEditorFullInput: React.FC<EditorInputProps> = lazy(() =>\n  import('./editor').then(module => ({\n    default: module.EditorInput,\n  })),\n);\n\nconst LazyEditorFullInputInner: React.FC<EditorInputProps> = lazy(() =>\n  import('./editor').then(module => ({\n    default: module.EditorFullInputInner,\n  })),\n);\n\nexport { LazyEditorFullInput, LazyEditorFullInputInner };\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { I18n } from '@coze-arch/i18n';\nimport { IconCozInfoCircle } from '@coze-arch/coze-design/icons';\nimport { Tooltip, Select } from '@coze-arch/coze-design';\nimport { BotMonetizationRefreshPeriod } from '@coze-arch/bot-api/benefit';\n\nconst refreshCycleTextMap: Record<BotMonetizationRefreshPeriod, string> = {\n  [BotMonetizationRefreshPeriod.Unknown]: I18n.t(\n    'coze_premium_credits_cycle_4',\n  ),\n  [BotMonetizationRefreshPeriod.Never]: I18n.t('coze_premium_credits_cycle_4'),\n  [BotMonetizationRefreshPeriod.Day]: I18n.t('coze_premium_credits_cycle_1'),\n  [BotMonetizationRefreshPeriod.Week]: I18n.t('coze_premium_credits_cycle_2'),\n  [BotMonetizationRefreshPeriod.Month]: I18n.t('coze_premium_credits_cycle_3'),\n};\n\nconst getOptionList = () => [\n  {\n    value: BotMonetizationRefreshPeriod.Never,\n    text: refreshCycleTextMap[BotMonetizationRefreshPeriod.Never],\n  },\n  {\n    value: BotMonetizationRefreshPeriod.Day,\n    text: refreshCycleTextMap[BotMonetizationRefreshPeriod.Day],\n    tooltip: I18n.t('coze_premium_credits_cycle_tip6'),\n  },\n  {\n    value: BotMonetizationRefreshPeriod.Week,\n    text: refreshCycleTextMap[BotMonetizationRefreshPeriod.Week],\n    tooltip: I18n.t('coze_premium_credits_cycle_tip7'),\n  },\n  {\n    value: BotMonetizationRefreshPeriod.Month,\n    text: refreshCycleTextMap[BotMonetizationRefreshPeriod.Month],\n    tooltip: I18n.t('coze_premium_credits_cycle_tip8'),\n  },\n];\n\nexport function MonetizeCreditRefreshCycle({\n  refreshCycle,\n  onRefreshCycleChange,\n  disabled,\n  freeCount,\n}: {\n  freeCount: number;\n  disabled: boolean;\n  refreshCycle: number;\n  onRefreshCycleChange: (value: number) => void;\n}) {\n  return (\n    <div className=\"flex items-center justify-between\">\n      <div className=\"flex items-center gap-4px\">\n        <div className=\"coz-fg-primary text-lg font-medium\">\n          {I18n.t('coze_premium_credits_cycle_5')}\n        </div>\n        <Tooltip\n          theme=\"dark\"\n          content={I18n.t('coze_premium_credits_cycle_tip1')}\n        >\n          <IconCozInfoCircle className=\"text-base coz-fg-secondary\" />\n        </Tooltip>\n      </div>\n\n      <Tooltip\n        key={freeCount}\n        trigger={freeCount <= 0 ? 'hover' : 'custom'}\n        content={I18n.t('coze_premium_credits_cycle_tip4')}\n      >\n        <Select\n          disabled={disabled}\n          onChange={value => {\n            onRefreshCycleChange(Number(value));\n          }}\n          value={refreshCycle}\n          position=\"bottomRight\"\n          className=\"w-[140px]\"\n          renderSelectedItem={(item: Record<string, unknown>) =>\n            refreshCycleTextMap[item.value as BotMonetizationRefreshPeriod]\n          }\n        >\n          {getOptionList().map(item => (\n            <Select.Option key={item.value} value={item.value}>\n              <div className=\"mx-8px w-[100px]\">{item.text}</div>\n              {item.tooltip ? (\n                <Tooltip theme=\"dark\" position=\"right\" content={item.tooltip}>\n                  <IconCozInfoCircle className=\"mr-8px coz-fg-secondary text-base\" />\n                </Tooltip>\n              ) : null}\n            </Select.Option>\n          ))}\n        </Select>\n      </Tooltip>\n    </div>\n  );\n}\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport cls from 'classnames';\nimport { I18n } from '@coze-arch/i18n';\nimport { IconCozInfoCircle } from '@coze-arch/coze-design/icons';\nimport { Avatar, Tooltip } from '@coze-arch/coze-design';\nimport { type PublishConnectorInfo } from '@coze-arch/bot-api/developer_api';\nimport { type BotMonetizationConfigData } from '@coze-arch/bot-api/benefit';\n\nexport function MonetizePublishInfo({\n  className,\n  monetizeConfig,\n  supportPlatforms,\n}: {\n  className?: string;\n  monetizeConfig: BotMonetizationConfigData;\n  supportPlatforms: Array<Pick<PublishConnectorInfo, 'id' | 'name' | 'icon'>>;\n}) {\n  const supportPlatformsText = supportPlatforms.map(p => p.name).join(', ');\n\n  return (\n    <div className={cls('flex justify-end items-center gap-[12px]', className)}>\n      <div className=\"flex items-center gap-[4px]\">\n        <span className=\"font-medium coz-fg-plus\">\n          {`${I18n.t('monetization')}: ${\n            monetizeConfig.is_enable\n              ? I18n.t('monetization_publish_on')\n              : I18n.t('monetization_publish_off')\n          }`}\n        </span>\n        <Tooltip\n          content={\n            <div className=\"flex flex-col\">\n              <div>\n                {monetizeConfig.is_enable\n                  ? I18n.t('monetization_on_des')\n                  : I18n.t('monetization_off_des')}\n              </div>\n              {monetizeConfig.is_enable ? (\n                <div className=\"mt-[8px] pt-[8px] border-0 border-t border-solid coz-stroke-primary\">\n                  {`${I18n.t('free_chat_allowance')} : ${\n                    monetizeConfig.free_chat_allowance_count\n                  }`}\n                </div>\n              ) : null}\n            </div>\n          }\n        >\n          <IconCozInfoCircle className=\"w-[16px] h-[16px] coz-fg-secondary\" />\n        </Tooltip>\n      </div>\n\n      <div className=\"flex items-center gap-[4px]\">\n        <span className=\"font-normal coz-fg-tertiary\">\n          {I18n.t('monetization_support')}:\n        </span>\n        <span className=\"flex items-center gap-[4px]\">\n          {supportPlatforms.map(p => (\n            <Avatar\n              key={p.id}\n              className=\"h-[16px] w-[16px] rounded-[4px]\"\n              size=\"extra-extra-small\"\n              shape=\"square\"\n              src={p.icon}\n            />\n          ))}\n        </span>\n        <Tooltip\n          content={`${I18n.t(\n            'monetization_support_tips',\n          )}: ${supportPlatformsText}`}\n        >\n          <IconCozInfoCircle className=\"w-[16px] h-[16px] coz-fg-secondary\" />\n        </Tooltip>\n      </div>\n    </div>\n  );\n}\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Dependency treeShaking Removes Extraneous Configuration (Argus)\n */\nconst sdkRegion = 'cn';\nexport const iframeAppHost = '';\n\nexport const cozeOfficialHost = '';\n\nexport const openApiCdnUrlByRegion = IS_OVERSEA\n  ? // cp-disable-next-line\n    'https://sf16-sg.tiktokcdn.com/obj/eden-sg/rkzild_lgvj/ljhwZthlaukjlkulzlp/'\n  : // cp-disable-next-line\n    'https://lf3-static.bytednsdoc.com/obj/eden-cn/rkzild_lgvj/ljhwZthlaukjlkulzlp/';\n\n// The user needs to modify the baseurl here to open the domain name configuration of the API interface\nexport const openApiHostByRegion =\n  typeof location !== 'undefined' ? location.origin : 'https://api.xxx.com';\nexport const openApiHostByRegionWithToken = openApiHostByRegion;\n\nexport const openSdkPrefix = '';\nexport const getOpenSDKUrl = (_version: string) => '';\n\nexport const getOpenSDKPath = (_version: string) => '';\n\nexport const eventMeta = {\n  region: sdkRegion,\n  is_release: false,\n  dev: false,\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport enum PremiumPaywallScene {\n  // Create a new space\n  AddSpace,\n  // New model experience\n  NewModel,\n  // paid user template\n  ProTemplate,\n  // Add space member\n  AddSpaceMember,\n  // collaboration\n  Collaborate,\n  // Cross-spatial resource replication\n  CopyResourceCrossSpace,\n  // Publish to API or SDK\n  API,\n  // Add Timbre Resources\n  AddVoice,\n  // real-time voice conversation\n  RTC,\n  // export log\n  ExportLog,\n  // query log\n  FilterLog,\n}\nexport function useBenefitAvailable(_props: unknown) {\n  return true;\n}\nconst voidFunc = () => {\n  console.log('unImplement void func');\n};\nexport function usePremiumPaywallModal(_props: unknown) {\n  return {\n    node: <></>,\n    open: voidFunc,\n    close: voidFunc,\n  };\n}\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport { useFetchKnowledgeBenefit } from './use-fetch-knowledge-benefit';\nexport enum PremiumPaywallBannerScene {\n  Knowledge, // Knowledge base scenario\n  Token, // Token consumption scenarios\n}\n\nexport function PremiumPaywallBanner(_props: {\n  scene: PremiumPaywallBannerScene;\n  knowledgeBenefit?: {\n    total: number;\n    used: number;\n  };\n  center?: boolean;\n}) {\n  return <></>;\n}\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nconst voidFunc = () => {\n  console.log('unImplement void func');\n};\nexport function usePremiumManageModal(_props?: unknown) {\n  return {\n    node: <></>,\n    open: voidFunc,\n    close: voidFunc,\n  };\n}\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useEffect, useState } from 'react';\n\nimport { useRequest } from 'ahooks';\nimport { type IntelligenceType } from '@coze-arch/bot-api/intelligence_api';\nimport { intelligenceApi } from '@coze-arch/bot-api';\n\nexport interface UseIsPublishRecordReadyProps {\n  type: IntelligenceType;\n  intelligenceId: string;\n  spaceId: string;\n  enable?: boolean;\n}\n\nexport const useIsPublishRecordReady = ({\n  type,\n  intelligenceId,\n  spaceId,\n  enable,\n}: UseIsPublishRecordReadyProps) => {\n  const [inited, setInited] = useState(false);\n  const res = useRequest(\n    async () => {\n      const data = await intelligenceApi.PublishIntelligenceList(\n        {\n          space_id: spaceId,\n          intelligence_type: type,\n          intelligence_ids: [intelligenceId],\n          size: 1,\n        },\n        {\n          __disableErrorToast: true,\n        },\n      );\n      return data.data?.intelligences?.[0];\n    },\n    {\n      manual: true,\n      ready: enable,\n      pollingInterval: 60 * 1000, // Polling once every 60 seconds to avoid server level stress due to high frequency requests\n      pollingErrorRetryCount: 3,\n      onSuccess: target => {\n        if (target) {\n          res.cancel();\n        }\n      },\n      onFinally: () => {\n        setInited(true);\n      },\n    },\n  );\n\n  useEffect(() => {\n    setInited(false);\n    res.run();\n    return res.cancel;\n  }, [type, intelligenceId, spaceId, enable]);\n\n  return {\n    inited,\n    ready: !!res.data,\n  };\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\n/* eslint-disable */\n/* tslint:disable */\n// @ts-nocheck\n\nexport type Int64 = string | number;\n\nexport enum ConnectorAuditStatus {\n  /**  */\n  Unknown = 0,\n  /**  */\n  Progress = 1,\n  /**  */\n  Audited = 2,\n  /**  */\n  Reject = 3,\n}\n\nexport enum ConnectorBindStatus {\n  Invalid = 0,\n  Valid = 1,\n  SaveNotPublish = 2,\n  /** Token */\n  Disconnected = 3,\n  /**  */\n  NeedReconfigure = 4,\n}\n\nexport enum ConnectorBindType {\n  /**  */\n  NoBindRequired = 1,\n  /** Auth */\n  AuthBind = 2,\n  /** Kv */\n  KvBind = 3,\n  /** KvAuth */\n  KvAuthBind = 4,\n  /** api */\n  ApiBind = 5,\n  /** WebSDK */\n  WebSDKBind = 6,\n  /**  */\n  StoreBind = 7,\n  /**  */\n  AuthAndConfig = 8,\n  /**  */\n  TemplateBind = 9,\n}\n\nexport enum ConnectorClassification {\n  /** apisdk */\n  APIOrSDK = 1,\n  /**  */\n  SocialPlatform = 2,\n  /** Coze/ */\n  Coze = 3,\n  /**  */\n  MiniProgram = 4,\n  /** MCP */\n  CozeSpaceExtensionLibrary = 5,\n}\n\nexport enum ConnectorStatus {\n  /**  */\n  Normal = 0,\n  /**  */\n  InReview = 1,\n  /**  */\n  Offline = 2,\n}\n/* eslint-enable */\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\n/* eslint-disable */\n/* tslint:disable */\n// @ts-nocheck\n\nimport * as common_struct from './common_struct';\nimport * as intelligence_common_struct from './intelligence_common_struct';\n\nexport type Int64 = string | number;\n\n/** bot */\nexport enum BotConnectorPublishStatus {\n  /**  */\n  Using = 0,\n  /**  */\n  Delete = 1,\n  /**  */\n  Disable = 3,\n}\n\nexport enum ConnectorBindType {\n  /**  */\n  NoBindRequired = 1,\n  /** Auth */\n  AuthBind = 2,\n  /** Kv */\n  KvBind = 3,\n  /** KvAuth */\n  KvAuthBind = 4,\n  /** api */\n  ApiBind = 5,\n  WebSDKBind = 6,\n  StoreBind = 7,\n  /**  */\n  AuthAndConfig = 8,\n  /**  */\n  TemplateBind = 9,\n}\n\nexport enum ConnectorClassification {\n  /** apisdk */\n  APIOrSDK = 1,\n  /**  */\n  SocialPlatform = 2,\n  /** Coze/ */\n  Coze = 3,\n  /**  */\n  MiniProgram = 4,\n  /** MCP */\n  CozeSpaceExtensionLibrary = 5,\n}\n\nexport enum ConnectorConfigStatus {\n  /**  */\n  Configured = 1,\n  /**  */\n  NotConfigured = 2,\n  /** Token */\n  Disconnected = 3,\n  /**  */\n  Configuring = 4,\n  /**   */\n  NeedReconfiguring = 5,\n}\n\n/** project */\nexport enum ConnectorPublishStatus {\n  /**  */\n  Default = 0,\n  /**  */\n  Auditing = 1,\n  /**  */\n  Success = 2,\n  /**  */\n  Failed = 3,\n  /**  */\n  Disable = 4,\n}\n\nexport enum ConnectorStatus {\n  /**  */\n  Normal = 0,\n  /**  */\n  InReview = 1,\n  /**  */\n  Offline = 2,\n}\n\nexport enum PublishRecordStatus {\n  /**  */\n  Packing = 0,\n  /**  */\n  PackFailed = 1,\n  /**  */\n  Auditing = 2,\n  /**  */\n  AuditNotPass = 3,\n  /**  */\n  ConnectorPublishing = 4,\n  /**  */\n  PublishDone = 5,\n}\n\nexport enum UserAuthStatus {\n  /**  */\n  Authorized = 1,\n  /**  */\n  UnAuthorized = 2,\n  /**  */\n  Authorizing = 3,\n}\n\nexport interface AuthLoginInfo {\n  app_id?: string;\n  response_type?: string;\n  authorize_url?: string;\n  scope?: string;\n  client_id?: string;\n  duration?: string;\n  aid?: string;\n  client_key?: string;\n}\n\nexport interface CheckProjectVersionNumberData {\n  is_duplicate?: boolean;\n}\n\nexport interface CheckProjectVersionNumberRequest {\n  project_id: string;\n  version_number: string;\n}\n\nexport interface CheckProjectVersionNumberResponse {\n  data?: CheckProjectVersionNumberData;\n  code?: Int64;\n  msg?: string;\n}\n\nexport interface ConnectorPublishConfig {\n  /** Workflow/ChatFlow */\n  selected_workflows?: Array<SelectedWorkflow>;\n}\n\nexport interface ConnectorPublishResult {\n  connector_id?: string;\n  connector_name?: string;\n  connector_icon_url?: string;\n  /**  */\n  connector_publish_status?: ConnectorPublishStatus;\n  /**  */\n  connector_publish_status_msg?: string;\n  /** OpenIn */\n  share_link?: string;\n  /**  */\n  download_link?: string;\n  /**  */\n  connector_publish_config?: ConnectorPublishConfig;\n  /**  key value */\n  connector_bind_info?: Record<string, string>;\n}\n\nexport interface ConnectorUnionInfo {\n  id: string;\n  name: string;\n  description: string;\n  icon_url: string;\n  connector_options: Array<ConnectorUnionInfoOption>;\n}\n\nexport interface ConnectorUnionInfoOption {\n  /**  ID */\n  connector_id: string;\n  /**  */\n  show_name: string;\n}\n\nexport interface GetProjectPublishedConnectorRequest {\n  project_id: string;\n}\n\nexport interface GetProjectPublishedConnectorResponse {\n  data?: Array<common_struct.ConnectorInfo>;\n  code?: Int64;\n  msg?: string;\n}\n\nexport interface GetPublishRecordDetailRequest {\n  project_id: string;\n  /**  */\n  publish_record_id?: string;\n}\n\nexport interface GetPublishRecordDetailResponse {\n  data?: PublishRecordDetail;\n  code?: Int64;\n  msg?: string;\n}\n\nexport interface GetPublishRecordListRequest {\n  project_id: string;\n}\n\nexport interface GetPublishRecordListResponse {\n  data?: Array<PublishRecordDetail>;\n  code?: Int64;\n  msg?: string;\n}\n\nexport interface LastPublishInfo {\n  version_number?: string;\n  connector_ids?: Array<string>;\n  /**  */\n  connector_publish_config?: Record<Int64, ConnectorPublishConfig>;\n}\n\nexport interface PackFailedDetail {\n  entity_id?: string;\n  entity_type?: common_struct.ResourceType;\n  entity_name?: string;\n}\n\nexport interface PublishConnectorInfo {\n  id: string;\n  name: string;\n  icon_url: string;\n  /**  */\n  description: string;\n  /**  */\n  description_extra?: string;\n  /**  */\n  connector_classification: ConnectorClassification;\n  /**  */\n  config_status: ConnectorConfigStatus;\n  /**  */\n  connector_status?: ConnectorStatus;\n  /**  */\n  bind_type: ConnectorBindType;\n  /**  key value */\n  bind_info: Record<string, string>;\n  /** id */\n  bind_id?: string;\n  /**  */\n  auth_login_info?: AuthLoginInfo;\n  /**  */\n  privacy_policy?: string;\n  /**  */\n  user_agreement?: string;\n  /**  */\n  allow_publish?: boolean;\n  /**  */\n  not_allow_publish_reason?: string;\n  /** id */\n  connector_union_id?: string;\n  /** UI */\n  UIOptions?: Array<UIOption>;\n  /**  */\n  support_monetization?: boolean;\n  /**  */\n  installation_guide?: string;\n  /**  bind_type == 8   */\n  auth_status?: UserAuthStatus;\n  /** toast */\n  config_status_toast?: string;\n  /** connector_statusurl */\n  to_complete_info_url?: string;\n  /**  */\n  connector_tips?: string;\n}\n\nexport interface PublishConnectorListData {\n  connector_list?: Array<PublishConnectorInfo>;\n  last_publish_info?: LastPublishInfo;\n  /** keyconnector_union_id */\n  connector_union_info_map?: Record<Int64, ConnectorUnionInfo>;\n}\n\nexport interface PublishConnectorListRequest {\n  project_id: string;\n}\n\nexport interface PublishConnectorListResponse {\n  data?: PublishConnectorListData;\n  code?: Int64;\n  msg?: string;\n}\n\nexport interface PublishIntelligenceUnListData {\n  /** keyconnector_idvalue */\n  connector_unlist_result_map?: Record<Int64, PublishIntelligenceUnListResult>;\n}\n\nexport interface PublishIntelligenceUnListRequest {\n  /**  */\n  intelligence_id: string;\n  connector_ids: Array<string>;\n  intelligence_type: intelligence_common_struct.IntelligenceType;\n}\n\nexport interface PublishIntelligenceUnListResponse {\n  data?: PublishIntelligenceUnListData;\n  code?: Int64;\n  msg?: string;\n}\n\nexport interface PublishIntelligenceUnListResult {\n  is_success?: boolean;\n  fail_reason?: string;\n}\n\nexport interface PublishProjectData {\n  /** ID */\n  publish_record_id?: string;\n  /**  */\n  publish_monetization_result?: boolean;\n}\n\nexport interface PublishProjectRequest {\n  project_id: string;\n  /**  */\n  version_number: string;\n  /**  */\n  description?: string;\n  /** keyconnector_idvalue */\n  connectors?: Record<Int64, Record<string, string>>;\n  /** keyconnector_id */\n  connector_publish_config?: Record<Int64, ConnectorPublishConfig>;\n}\n\nexport interface PublishProjectResponse {\n  data?: PublishProjectData;\n  code?: Int64;\n  msg?: string;\n}\n\nexport interface PublishRecordDetail {\n  publish_record_id?: string;\n  version_number?: string;\n  /**  */\n  publish_status?: PublishRecordStatus;\n  /** publish_status_detail */\n  publish_status_msg?: string;\n  /**  */\n  connector_publish_result?: Array<ConnectorPublishResult>;\n  /**  */\n  publish_status_detail?: PublishRecordStatusDetail;\n}\n\nexport interface PublishRecordStatusDetail {\n  /**  */\n  pack_failed_detail?: Array<PackFailedDetail>;\n}\n\nexport interface SelectedWorkflow {\n  workflow_id?: string;\n  workflow_name?: string;\n}\n\nexport interface UIOption {\n  /** UIChannel */\n  ui_channel?: string;\n  /**  */\n  available?: boolean;\n  /**  */\n  unavailable_reason?: string;\n}\n/* eslint-enable */\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\n/* eslint-disable */\n/* tslint:disable */\n// @ts-nocheck\n\nexport type Int64 = string | number;\n\n/** *************************** audit ********************************* */\nexport enum AuditStatus {\n  /**  */\n  Auditing = 0,\n  /**  */\n  Success = 1,\n  /**  */\n  Failed = 2,\n}\n\n/** *************************** publish ********************************* */\nexport enum ConnectorDynamicStatus {\n  Normal = 0,\n  Offline = 1,\n  TokenDisconnect = 2,\n}\n\nexport enum FolderType {\n  /** / */\n  App = 1,\n  /**  */\n  Resource = 2,\n}\n\nexport enum OrderByType {\n  Asc = 1,\n  Desc = 2,\n}\n\nexport enum PermissionType {\n  /**  */\n  NoDetail = 1,\n  /**  */\n  Detail = 2,\n  /**  */\n  Operate = 3,\n}\n\nexport enum ResourceType {\n  Plugin = 1,\n  Workflow = 2,\n  Imageflow = 3,\n  Knowledge = 4,\n  UI = 5,\n  Prompt = 6,\n  Database = 7,\n  Variable = 8,\n}\n\nexport enum SpaceStatus {\n  Valid = 1,\n  Invalid = 2,\n}\n\n/**  */\nexport interface AuditData {\n  /** true */\n  check_not_pass?: boolean;\n  /**  */\n  check_not_pass_msg?: string;\n}\n\nexport interface AuditInfo {\n  audit_status?: AuditStatus;\n  publish_id?: string;\n  commit_version?: string;\n}\n\nexport interface ConnectorInfo {\n  id?: string;\n  name?: string;\n  icon?: string;\n  connector_status?: ConnectorDynamicStatus;\n  share_link?: string;\n}\n\nexport interface FolderBasicInfo {\n  id?: string;\n  /** id */\n  parent_id?: string;\n  /**  */\n  folder_type?: FolderType;\n  name?: string;\n  description?: string;\n  space_id?: string;\n  creator_id?: string;\n  /**  */\n  create_time?: string;\n  /**  */\n  update_time?: string;\n  /**  */\n  is_deleted?: boolean;\n}\n\nexport interface FolderInfo {\n  folder_basic_info?: FolderBasicInfo;\n  /** tree */\n  children_list?: Array<FolderInfo>;\n  /**  */\n  parent_path?: Array<FolderBasicInfo>;\n  /**  */\n  full_path?: Array<FolderBasicInfo>;\n  /**  */\n  folder_creator_info?: User;\n}\n\nexport interface Space {\n  id?: Int64;\n  owner_id?: Int64;\n  status?: SpaceStatus;\n  name?: string;\n}\n\nexport interface User {\n  user_id?: string;\n  /**  */\n  nickname?: string;\n  /**  */\n  avatar_url?: string;\n  /**  */\n  user_unique_name?: string;\n  /**  */\n  user_label?: UserLabel;\n}\n\n/** *************************** user ********************************* */\nexport interface UserLabel {\n  label_id?: string;\n  label_name?: string;\n  icon_uri?: string;\n  icon_url?: string;\n  jump_link?: string;\n}\n\nexport interface Variable {\n  /**  */\n  keyword?: string;\n  /**  */\n  default_value?: string;\n  /**  */\n  variable_type?: string;\n  /**  */\n  channel?: string;\n  /**  */\n  description?: string;\n  /**  */\n  enable?: boolean;\n  /** PromptPromptWorkflow */\n  prompt_enable?: boolean;\n}\n/* eslint-enable */\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** Channel IDs published as Web SDKs */\nexport const WEB_SDK_CONNECTOR_ID = '999';\n/** Post to Button - Template Channel ID */\nexport const TEMPLATE_CONNECTOR_ID = '10000129';\n/** Channel ID published as Mini Program - Douyin Mini Program (self-download) */\nexport const MINI_PROGRAM_DOUYIN_DOWNLOAD_CONNECTOR_ID = '10000130';\n/** Channel ID published as Mini Program - WeChat Mini Program (self-download) */\nexport const MINI_PROGRAM_WECHAT_DOWNLOAD_CONNECTOR_ID = '10000131';\n/** Publish channel header height when banner exists */\nexport const DEFAULT_PUBLISH_HEADER_HEIGHT = 97;\n/** Publish channel header height when banner is closed */\nexport const MIN_PUBLISH_HEADER_HEIGHT = 65;\n/** z-index of channel tab */\nexport const CONNECTOR_TAB_BAR_Z_INDEX = 1;\n/** The default version_number that users fill in when they publish a new post */\nexport const DEFAULT_VERSION_NUMBER = 'v0.0.1';\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { devtools } from 'zustand/middleware';\nimport { create } from 'zustand';\nimport { produce as immerProduce } from 'immer';\nimport {\n  type PublishConnectorInfo,\n  type ConnectorPublishConfig,\n  type PublishRecordDetail,\n  type PublishProjectData,\n  type ConnectorUnionInfo,\n} from '@coze-arch/idl/intelligence_api';\nimport { type BotMonetizationConfigData } from '@coze-arch/bot-api/benefit';\n\nimport { setterActionFactory, type SetterAction } from './utils/setter-factory';\nimport { WEB_SDK_CONNECTOR_ID } from './utils/constants';\nimport { type ProjectPublishDraft } from './publish-main/utils/publish-draft';\n\nexport type StoreBindKey = 'display_screen' | 'category_id';\n\nexport interface ProjectPublishStore {\n  /** page load status */\n  pageLoading: boolean;\n  /** Channel list */\n  connectorList: PublishConnectorInfo[];\n  /** List of channels that need to be aggregated, the key is PublishConnectorInfo ['connector_union_id'] */\n  connectorUnionMap: Record<string, ConnectorUnionInfo>;\n  /** ID of channel selection */\n  selectedConnectorIds: string[];\n  /** Whether to display the published results */\n  showPublishResult: boolean;\n  /** Last released version number */\n  lastVersionNumber: string;\n  /** version number */\n  versionNumber: string;\n  /** version description */\n  versionDescription: string;\n  /** Channel Selection Workflow/ChatFlow */\n  connectorPublishConfig: Record<string, ConnectorPublishConfig>;\n  /** Chatflow for unified selection of social platform channels */\n  socialPlatformChatflow: ConnectorPublishConfig;\n  /** Release configuration information, key represents connector_id, value is the parameter of channel release */\n  connectors: Record<string, Record<string, string>>;\n  /** Aggregate channel selection information, key represents connector_union_id, value is union selection information */\n  unions: Record<string, string>;\n  /** Whether the template information has been configured */\n  templateConfigured: boolean;\n  /** Publish result details (poll interface return value) */\n  publishRecordDetail: PublishRecordDetail &\n    // This information is returned by the PublishProject interface\n    // But in order to conform to the existing data flow logic (PublishProject gets the id, polls with the id GetPublishRecordDetail gets the result as the only data source)\n    // So the frontend manually spells the value into the polling results\n    Pick<PublishProjectData, 'publish_monetization_result'>;\n  /** paid configuration */\n  monetizeConfig?: BotMonetizationConfigData;\n}\n\ninterface ProjectPublishAction {\n  reset: () => void;\n  setMonetizeConfig: (\n    monetizeConfig: BotMonetizationConfigData | undefined,\n  ) => void;\n  setConnectorList: (connectorList: PublishConnectorInfo[]) => void;\n  setSelectedConnectorIds: (selectedConnectorIds: string[]) => void;\n  updateSelectedConnectorIds: (produce: (prev: string[]) => string[]) => void;\n  setShowPublishResult: (showPublishResult: boolean) => void;\n  setProjectPublishInfo: SetterAction<ProjectPublishStore>;\n  setProjectPublishInfoByImmer: (\n    updateFn: (draft: ProjectPublishStore['connectorPublishConfig']) => void,\n  ) => void;\n  setPublishRecordDetail: (\n    val: Partial<ProjectPublishStore['publishRecordDetail']>,\n  ) => void;\n  resetProjectPublishInfo: () => void;\n  exportDraft: (projectId: string) => ProjectPublishDraft;\n}\n\nconst initialStore: ProjectPublishStore = {\n  connectorList: [],\n  connectorUnionMap: {},\n  selectedConnectorIds: [],\n  showPublishResult: false,\n  lastVersionNumber: '',\n  versionNumber: '',\n  versionDescription: '',\n  connectorPublishConfig: {},\n  socialPlatformChatflow: {},\n  // The template information has been configured by default (it does not affect the template channel is checked by default). When the template-bind component initializes to obtain the template information, it is set to false on demand.\n  templateConfigured: true,\n  connectors: {},\n  unions: {},\n  publishRecordDetail: {},\n  pageLoading: false,\n};\n\nexport const useProjectPublishStore = create<\n  ProjectPublishStore & ProjectPublishAction\n>()(\n  devtools(\n    (set, get) => ({\n      ...initialStore,\n\n      reset: () => {\n        set(initialStore);\n      },\n      setMonetizeConfig: monetizeConfig => set({ monetizeConfig }),\n      setConnectorList: connectorList => {\n        set({ connectorList });\n      },\n      setSelectedConnectorIds: selectedConnectorIds => {\n        set({ selectedConnectorIds });\n      },\n      updateSelectedConnectorIds: produce => {\n        set(prev => ({\n          selectedConnectorIds: produce(prev.selectedConnectorIds),\n        }));\n      },\n      setShowPublishResult: showPublishResult => {\n        set({ showPublishResult });\n      },\n      setProjectPublishInfo: setterActionFactory<ProjectPublishStore>(set),\n      setProjectPublishInfoByImmer: updateFn => {\n        set(\n          {\n            connectorPublishConfig: immerProduce(\n              get().connectorPublishConfig,\n              updateFn,\n            ),\n          },\n          false,\n          'setProjectPublishInfoByImmer',\n        );\n      },\n      setPublishRecordDetail: publishRecordDetail =>\n        set(prev => ({\n          publishRecordDetail: {\n            ...prev.publishRecordDetail,\n            ...publishRecordDetail,\n          },\n        })),\n      resetProjectPublishInfo: () => {\n        set(initialStore);\n      },\n      exportDraft: (projectId: string) => {\n        const {\n          versionNumber,\n          versionDescription,\n          selectedConnectorIds,\n          connectorPublishConfig,\n          unions,\n          socialPlatformChatflow,\n        } = get();\n        return {\n          projectId,\n          versionNumber,\n          versionDescription,\n          selectedConnectorIds,\n          unions,\n          sdkConfig: connectorPublishConfig[WEB_SDK_CONNECTOR_ID],\n          socialPlatformConfig: socialPlatformChatflow,\n        };\n      },\n    }),\n    {\n      enabled: IS_DEV_MODE,\n      name: 'botStudio.projectPublishStore',\n    },\n  ),\n);\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { type create } from 'zustand';\n\nexport interface SetterAction<T> {\n  /**\n   * incremental update\n   *\n   * @example\n   * // store.x: { a: 1, b: 2 }\n   * setX({a: 2});\n   * // store.x: { a: 2, b: 2 }\n   */\n  (state: Partial<T>): void;\n  /**\n   * full update\n   *\n   * @example\n   * // store.x: { a: 1, b: 2 }\n   * setX({a: 2}, { replace: true });\n   * // store.x: { a: 2 }\n   */\n  (state: T, config: { replace: true }): void;\n}\n\nexport function setterActionFactory<T>(\n  set: Parameters<Parameters<typeof create<T, []>>[0]>[0],\n): SetterAction<T> {\n  return (state: Partial<T>, config?: { replace: true }) => {\n    if (config?.replace) {\n      set(state);\n    } else {\n      set(prevState => ({ ...prevState, ...state }));\n    }\n  };\n}\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { type ConnectorPublishConfig } from '@coze-arch/idl/intelligence_api';\nimport { typeSafeJSONParse } from '@coze-arch/bot-utils';\n\nexport const PUBLISH_DRAFT_KEY = 'coz_project_publish_draft';\n\nexport interface ProjectPublishDraft {\n  projectId: string;\n  versionNumber: string;\n  versionDescription: string;\n  selectedConnectorIds: string[];\n  unions: Record<string, string>;\n  sdkConfig?: ConnectorPublishConfig;\n  socialPlatformConfig?: ConnectorPublishConfig;\n}\n\nexport function loadProjectPublishDraft(projectId: string) {\n  const str = localStorage.getItem(PUBLISH_DRAFT_KEY);\n  localStorage.removeItem(PUBLISH_DRAFT_KEY);\n  if (!str) {\n    return undefined;\n  }\n  const draft = typeSafeJSONParse(str) as ProjectPublishDraft | undefined;\n  if (draft?.projectId === projectId) {\n    return draft;\n  }\n  return undefined;\n}\n\nexport function saveProjectPublishDraft(draft: ProjectPublishDraft) {\n  localStorage.setItem(PUBLISH_DRAFT_KEY, JSON.stringify(draft));\n}\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport const incrementVersionNumber = (input: string) => {\n  // Define regular expressions that match the pattern of \"number. number. number\"\n  const regex = /(\\d+)\\.(\\d+)\\.(\\d+)/g;\n\n  // Use the replace method and callback function to replace the matching part\n  // eslint-disable-next-line max-params\n  const result = input.replace(regex, (_match, p1, p2, p3) => {\n    // Add 1 to the last number.\n    const incrementedP3 = parseInt(String(p3), 10) + 1;\n    // Return a new string\n    return `${p1}.${p2}.${incrementedP3}`;\n  });\n\n  return result;\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { incrementVersionNumber } from './increment-version-number';\n\nexport const getFixedVersionNumber = ({\n  lastPublishVersionNumber,\n  draftVersionNumber,\n  defaultVersionNumber,\n}: {\n  lastPublishVersionNumber: string | undefined;\n  draftVersionNumber: string | undefined;\n  defaultVersionNumber: string;\n}): string => {\n  if (lastPublishVersionNumber && !draftVersionNumber) {\n    return incrementVersionNumber(lastPublishVersionNumber);\n  }\n  if (draftVersionNumber) {\n    return draftVersionNumber;\n  }\n  return defaultVersionNumber;\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  type PublishConnectorInfo,\n  ConnectorBindType,\n  ConnectorConfigStatus,\n} from '@coze-arch/idl/intelligence_api';\n\n// Unconfigured/Authorized Scenario\nexport const getConnectorNotConfigured = (\n  connector: PublishConnectorInfo,\n): boolean => {\n  const { bind_type, config_status } = connector;\n  // Unbound & Unauthorized\n  const notConfigured =\n    [\n      ConnectorBindType.KvBind,\n      ConnectorBindType.AuthBind,\n      ConnectorBindType.KvAuthBind,\n      ConnectorBindType.TemplateBind, // Disable when mcp is not configured, the template is always configured\n    ].includes(bind_type) &&\n    config_status === ConnectorConfigStatus.NotConfigured;\n  return notConfigured;\n};\n\n// Scenarios that cannot be published:\n// 1. Unbound & Unauthorized\n// 2. Those sent by the backend cannot be released (such as: APIs cannot be sent without workflow, templates cannot be sent with private plugins, and channels that cannot be released during review)\nexport const getDisabledPublish = (\n  connector: PublishConnectorInfo,\n): boolean => {\n  const { allow_publish } = connector;\n  // Unbound & Unauthorized\n  const notConfigured = getConnectorNotConfigured(connector);\n\n  const connectorDisabled = notConfigured || !allow_publish;\n\n  // The backend of the scenario where the channel cannot be released during the review is issued allow_publish\n  return connectorDisabled;\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  ConnectorClassification,\n  type ConnectorPublishConfig,\n} from '@coze-arch/idl/intelligence_api';\nimport { MonetizationEntityType } from '@coze-arch/idl/benefit';\nimport { benefitApi, intelligenceApi } from '@coze-arch/bot-api';\n\nimport {\n  DEFAULT_VERSION_NUMBER,\n  WEB_SDK_CONNECTOR_ID,\n} from '@/utils/constants';\nimport { useProjectPublishStore } from '@/store';\n\nimport { type ProjectPublishDraft } from './publish-draft';\nimport { getFixedVersionNumber } from './get-fixed-version-number';\nimport { getDisabledPublish } from './connector-disabled-publish';\n\n// eslint-disable-next-line complexity -- it's complex\nexport async function initPublishStore(\n  projectId: string,\n  errorHandle: (e: unknown) => void,\n  draft?: ProjectPublishDraft,\n) {\n  const { setProjectPublishInfo, setSelectedConnectorIds, setMonetizeConfig } =\n    useProjectPublishStore.getState();\n  setProjectPublishInfo({ pageLoading: true });\n  try {\n    const [publishResp, monetizeConfigResp] = await Promise.all([\n      intelligenceApi.PublishConnectorList({\n        project_id: projectId,\n      }),\n      IS_OVERSEA\n        ? benefitApi.PublicGetBotMonetizationConfig({\n            entity_id: projectId,\n            entity_type: MonetizationEntityType.Project,\n          })\n        : Promise.resolve(undefined),\n    ]);\n    const {\n      connector_list = [],\n      last_publish_info = {},\n      connector_union_info_map = {},\n    } = publishResp.data ?? {};\n    const { connector_ids = [], connector_publish_config = {} } =\n      last_publish_info;\n\n    // Initialize the default selected channel\n    const initSelectedConnectors: string[] = [];\n    const initConnectors: Record<string, Record<string, string>> = {};\n    for (const id of connector_ids) {\n      const connector = connector_list.find(c => c.id === id);\n      // Filter out channels that are not allowed to publish\n      if (!connector || getDisabledPublish(connector)) {\n        continue;\n      }\n      if (connector.connector_union_id) {\n        // For the connector of union, select its union id.\n        initSelectedConnectors.push(connector.connector_union_id);\n        initConnectors[connector.id] = connector.bind_info;\n      } else {\n        initSelectedConnectors.push(connector.id);\n        initConnectors[connector.id] = connector.bind_info;\n      }\n    }\n\n    // Initialize the connector selected by each union, and select the first one if the channel was not published last time\n    const initUnions: Record<string, string> = {};\n    for (const [unionId, info] of Object.entries(connector_union_info_map)) {\n      initUnions[unionId] =\n        info.connector_options.find(o => connector_ids.includes(o.connector_id))\n          ?.connector_id ?? info.connector_options[0].connector_id;\n    }\n\n    // Backfill the chatflow of social channel selection, priority:\n    // 1. Saved chatflows in drafts\n    // 2. Chatflow selected by the first SocialPlatform released last time\n    let lastSocialPlatformChatflow: ConnectorPublishConfig | undefined;\n    if (draft?.socialPlatformConfig?.selected_workflows?.[0].workflow_id) {\n      lastSocialPlatformChatflow = draft.socialPlatformConfig;\n    } else {\n      for (const c of connector_list) {\n        if (\n          !initSelectedConnectors.includes(c.id) ||\n          c.connector_classification !== ConnectorClassification.SocialPlatform\n        ) {\n          continue;\n        }\n        const lastConfig = connector_publish_config[c.id];\n        if (lastConfig?.selected_workflows?.[0].workflow_id) {\n          lastSocialPlatformChatflow = lastConfig;\n          break;\n        }\n      }\n    }\n\n    // Backfill the chatflow selected by the WebSDK channel based on the information saved in the draft\n    if (draft?.sdkConfig?.selected_workflows?.[0].workflow_id) {\n      connector_publish_config[WEB_SDK_CONNECTOR_ID] = draft.sdkConfig;\n    }\n\n    setSelectedConnectorIds(\n      draft?.selectedConnectorIds ?? initSelectedConnectors,\n    );\n\n    const lastPublishVersionNumber = last_publish_info.version_number;\n    // If the user does not have a draft and there is a published version, the last released version number will be processed\n    const fixedVersionNumber = getFixedVersionNumber({\n      lastPublishVersionNumber,\n      draftVersionNumber: draft?.versionNumber,\n      defaultVersionNumber: DEFAULT_VERSION_NUMBER,\n    });\n\n    setProjectPublishInfo({\n      lastVersionNumber: lastPublishVersionNumber,\n      versionNumber: fixedVersionNumber,\n      versionDescription: draft?.versionDescription,\n      connectorPublishConfig: connector_publish_config,\n      connectorList: connector_list,\n      connectorUnionMap: connector_union_info_map,\n      connectors: initConnectors,\n      unions: draft?.unions ?? initUnions,\n      socialPlatformChatflow: lastSocialPlatformChatflow,\n    });\n    setMonetizeConfig(monetizeConfigResp?.data);\n  } catch (e) {\n    errorHandle(e);\n  } finally {\n    setProjectPublishInfo({ pageLoading: false });\n  }\n}\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  type PublishRecordDetail,\n  PublishRecordStatus,\n  ConnectorPublishStatus,\n} from '@coze-arch/idl/intelligence_api';\n\n/**\n * Determine whether the publishing process has ended and stop polling\n */\nexport function isPublishFinish(record: PublishRecordDetail) {\n  // Project packaging failed/review failed\n  const projectFinish =\n    record.publish_status === PublishRecordStatus.PackFailed ||\n    record.publish_status === PublishRecordStatus.AuditNotPass;\n  // All channels are under review, failed, or successful\n  const connectorsFinish =\n    record.connector_publish_result?.every(\n      item =>\n        item.connector_publish_status === ConnectorPublishStatus.Auditing ||\n        item.connector_publish_status === ConnectorPublishStatus.Failed ||\n        item.connector_publish_status === ConnectorPublishStatus.Success,\n    ) ?? false;\n  return projectFinish || connectorsFinish;\n}\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { createContext, type RefObject, useContext } from 'react';\n\nexport interface PublishContainerContextProps {\n  getContainerRef: () => RefObject<HTMLDivElement> | null;\n  /** The layout of the distribution channel is influenced by the height of the top header. Use this variable to associate them */\n  publishHeaderHeight: number;\n  setPublishHeaderHeight: (height: number) => void;\n}\n\nexport const PublishContainerContext =\n  createContext<PublishContainerContextProps>({\n    getContainerRef: () => null,\n    publishHeaderHeight: 0,\n    setPublishHeaderHeight: () => 0,\n  });\n\nexport const usePublishContainer = () => useContext(PublishContainerContext);\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* eslint-disable @coze-arch/max-line-per-function */\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { Helmet } from 'react-helmet';\nimport { useState } from 'react';\n\nimport { useShallow } from 'zustand/react/shallow';\nimport { useRequest } from 'ahooks';\nimport {\n  ConnectorClassification,\n  type ConnectorPublishConfig,\n  type GetPublishRecordDetailRequest,\n} from '@coze-arch/idl/intelligence_api';\nimport { I18n } from '@coze-arch/i18n';\nimport { IconCozArrowLeft } from '@coze-arch/coze-design/icons';\nimport {\n  Banner,\n  Button,\n  IconButton,\n  Toast,\n  useFormApi,\n} from '@coze-arch/coze-design';\nimport { type DynamicParams } from '@coze-arch/bot-typings/teamspace';\nimport { intelligenceApi } from '@coze-arch/bot-api';\n\nimport { isPublishFinish } from '../utils/is-publish-finish';\nimport { MIN_PUBLISH_HEADER_HEIGHT } from '../utils/constants';\nimport { useProjectPublishStore } from '../store';\nimport { usePublishContainer } from '../context/publish-container-context';\n\nexport function PublishTitleBar() {\n  const navigate = useNavigate();\n  const formApi = useFormApi();\n  const { space_id = '', project_id = '' } = useParams<DynamicParams>();\n  const goBack = () => navigate(`/space/${space_id}/project-ide/${project_id}`);\n  const {\n    connectorList,\n    showPublishResult,\n    setShowPublishResult,\n    versionDescription,\n    versionNumber,\n    connectors,\n    unions,\n    connectorPublishConfig,\n    socialPlatformChatflow,\n    selectedConnectorIds,\n    setPublishRecordDetail,\n  } = useProjectPublishStore(\n    useShallow(s => ({\n      connectorList: s.connectorList,\n      showPublishResult: s.showPublishResult,\n      setShowPublishResult: s.setShowPublishResult,\n      versionNumber: s.versionNumber,\n      versionDescription: s.versionDescription,\n      connectors: s.connectors,\n      unions: s.unions,\n      connectorPublishConfig: s.connectorPublishConfig,\n      socialPlatformChatflow: s.socialPlatformChatflow,\n      selectedConnectorIds: s.selectedConnectorIds,\n      setPublishRecordDetail: s.setPublishRecordDetail,\n    })),\n  );\n  const [publishing, setPublishing] = useState(false);\n  const { publishHeaderHeight, setPublishHeaderHeight } = usePublishContainer();\n  // publish results poll\n  const { run: getPublishRecordDetail, cancel } = useRequest(\n    async (params: GetPublishRecordDetailRequest) =>\n      await intelligenceApi.GetPublishRecordDetail(params),\n    {\n      pollingInterval: 3000,\n      pollingWhenHidden: false,\n      pollingErrorRetryCount: 3,\n      manual: true,\n      onSuccess: res => {\n        if (res?.data) {\n          setPublishRecordDetail(res.data);\n\n          if (isPublishFinish(res.data)) {\n            cancel();\n          }\n          if (!showPublishResult) {\n            setShowPublishResult(true);\n          }\n        } else {\n          cancel();\n        }\n      },\n      onError: () => {\n        cancel();\n      },\n    },\n  );\n\n  const handlePublishProject = async () => {\n    if (showPublishResult) {\n      goBack();\n    } else {\n      try {\n        setPublishing(true);\n        await formApi.validate();\n        if (!selectedConnectorIds.length) {\n          Toast.error(I18n.t('publish_tooltip_select_platform'));\n          return;\n        }\n        const publishConnectors: Record<string, Record<string, string>> = {};\n        const publishConnectorConfigs: Record<string, ConnectorPublishConfig> =\n          {};\n        selectedConnectorIds.forEach(id => {\n          const connectorId = unions[id] ?? id;\n          publishConnectors[connectorId] = connectors[connectorId] ?? {};\n          // Unified chatflow options for social platforms\n          if (\n            connectorList.find(c => c.id === connectorId)\n              ?.connector_classification ===\n            ConnectorClassification.SocialPlatform\n          ) {\n            publishConnectorConfigs[connectorId] = socialPlatformChatflow;\n          } else if (connectorPublishConfig[connectorId]) {\n            publishConnectorConfigs[connectorId] =\n              connectorPublishConfig[connectorId];\n          }\n        });\n\n        const { data } = await intelligenceApi.PublishProject({\n          project_id,\n          version_number: versionNumber,\n          description: versionDescription,\n          connectors: publishConnectors,\n          connector_publish_config: publishConnectorConfigs,\n        });\n\n        setPublishRecordDetail({\n          publish_monetization_result: data?.publish_monetization_result,\n        });\n        if (data?.publish_record_id) {\n          getPublishRecordDetail({\n            publish_record_id: data.publish_record_id,\n            project_id,\n          });\n        }\n      } catch (error) {\n        // Verification errors also need to be Toast Notification\n        if (typeof Object.values(error as Error)[0] === 'string') {\n          Toast.error(Object.values(error as Error)[0]);\n        }\n      } finally {\n        setPublishing(false);\n      }\n    }\n  };\n  return (\n    <div\n      className=\"sticky top-0 z-[100] coz-bg-primary overflow-y-hidden\"\n      style={{ height: publishHeaderHeight }}\n    >\n      <Helmet>\n        <title>{I18n.t('Publish')}</title>\n      </Helmet>\n      <div className=\"flex p-[16px] justify-between items-center  coz-stroke-primary border-b\tborder-x-0 border-t-0 border-solid pl-2\">\n        <div className=\"flex items-center\">\n          <IconButton\n            icon={<IconCozArrowLeft className=\"h-[18px] w-[18px]\" />}\n            color=\"secondary\"\n            iconSize=\"large\"\n            onClick={goBack}\n          />\n          <span className=\"ml-[8px] font-medium text-[20px]\">\n            {I18n.t('Publish')}\n          </span>\n        </div>\n\n        <Button\n          onClick={handlePublishProject}\n          loading={publishing}\n          data-testid=\"project.publish\"\n        >\n          {showPublishResult\n            ? I18n.t('bot_publish_success_back')\n            : I18n.t('Publish')}\n        </Button>\n      </div>\n      <Banner\n        type=\"info\"\n        description={I18n.t('project_release_notify')}\n        onClose={() => {\n          setPublishHeaderHeight(MIN_PUBLISH_HEADER_HEIGHT);\n        }}\n      ></Banner>\n    </div>\n  );\n}\n","\n      import API from \"!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n       export default content && content.locals ? content.locals : undefined;\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useState } from 'react';\n\nimport { getOpenSDKUrl } from '@coze-studio/open-env-adapter';\nimport { I18n } from '@coze-arch/i18n';\nimport { MdBoxLazy } from '@coze-arch/bot-md-box-adapter/lazy';\nimport { Button, Modal, Typography } from '@coze-arch/coze-design';\n\nimport s from './index.module.less';\n\nexport interface WebSdkGuideParams {\n  projectId: string;\n  workflowId: string;\n  token?: string;\n  version?: string;\n}\n\nfunction getWebSdkScriptTagMD({\n  projectId,\n  workflowId,\n  version = '<version>',\n}: WebSdkGuideParams) {\n  return `${'```'}html\n<script type=\"text/javascript\">\nvar webSdkScript = document.createElement('script');\nwebSdkScript.src = '${getOpenSDKUrl(version)}';\ndocument.head.appendChild(webSdkScript);\nwebSdkScript.onload = function () {\n  new CozeWebSDK.WebChatClient({\n    \"config\": {\n      \"type\": \"app\",\n      \"appInfo\": {\n        \"appId\": \"${projectId}\",\n        \"workflowId\": \"${workflowId}\"\n      }\n    },\n    \"auth\": {\n      \"type\": \"token\",\n      \"token\": \"pat_********\",\n      onRefreshToken: function () {\n        return \"pat_********\"\n      }\n    }\n  });\n}\n</script>\n${'```'}`;\n}\n\nfunction ListIndex({ index }: { index: number }) {\n  return (\n    <div className=\"w-[20px] h-[20px] rounded-full inline-flex items-center justify-center mr-[4px] coz-mg-primary\">\n      <span className=\"font-medium coz-fg-secondary\">{index}</span>\n    </div>\n  );\n}\n\nexport function useWebSdkGuideModal() {\n  const [visible, setVisible] = useState(false);\n  const [scriptTagMd, setScriptTagMd] = useState('');\n\n  const show = (params: WebSdkGuideParams) => {\n    const md = getWebSdkScriptTagMD(params);\n    setScriptTagMd(md);\n    setVisible(true);\n  };\n  const close = () => setVisible(false);\n\n  const node = (\n    <Modal\n      title={I18n.t('app_publish_sdk_title')}\n      closable\n      visible={visible}\n      width={640}\n      onCancel={close}\n      footer={\n        <Button onClick={close}>{I18n.t('app_publish_sdk_confirm')}</Button>\n      }\n      // z-index requires a Popover greater than publish-status.\n      zIndex={2000}\n    >\n      <Typography.Paragraph className=\"font-medium mb-[8px]\">\n        <ListIndex index={1} />\n        {I18n.t('app_publish_sdk_step_1', {\n          doc_link: (\n            <Typography.Text\n              link={{\n                href: '/docs/developer_guides/oauth_apps',\n                target: '_blank',\n              }}\n            >\n              {I18n.t('app_publish_sdk_step_1_doc')}\n            </Typography.Text>\n          ),\n        })}\n      </Typography.Paragraph>\n      <Typography.Paragraph className=\"font-medium mb-[8px]\">\n        <ListIndex index={2} />\n        {I18n.t('app_publish_sdk_step_2')}\n      </Typography.Paragraph>\n      <MdBoxLazy className={s['web-sdk-guide']} markDown={scriptTagMd} />\n      <Typography.Paragraph className=\"font-medium mb-[8px]\">\n        <ListIndex index={3} />\n        {I18n.t('app_publish_sdk_step_3')}\n      </Typography.Paragraph>\n    </Modal>\n  );\n\n  return { node, show };\n}\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Tag, type TagProps, Typography } from '@coze-arch/coze-design';\n\nexport interface PublishStepTitleProps {\n  title: string;\n  tag?: string;\n  color?: TagProps['color'];\n}\n\nexport function PublishStepTitle({ title, tag, color }: PublishStepTitleProps) {\n  return (\n    <div className=\"flex items-center gap-[4px]\">\n      <Typography.Text\n        className=\"leading-[20px] font-normal\"\n        data-testid=\"project.publish.result\"\n      >\n        {title}\n      </Typography.Text>\n      {typeof tag === 'string' ? (\n        <Tag size=\"mini\" color={color}>\n          {tag}\n        </Tag>\n      ) : null}\n    </div>\n  );\n}\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  IconCozCheckMarkCircle,\n  IconCozClock,\n  IconCozClockFill,\n  IconCozCrossCircle,\n  IconCozWarningCircle,\n  type OriginIconProps,\n} from '@coze-arch/coze-design/icons';\nimport { type StepProps } from '@coze-arch/coze-design';\n\nexport interface PublishStepIconProps {\n  status: StepProps['status'] | 'warn';\n}\n\nexport function PublishStepIcon({ status }: PublishStepIconProps) {\n  const iconProps: Pick<OriginIconProps, 'width' | 'height'> = {\n    width: '16px',\n    height: '16px',\n  };\n  switch (status) {\n    case 'wait':\n      return <IconCozClock className=\"coz-fg-secondary\" {...iconProps} />;\n    case 'process':\n      return <IconCozClockFill className=\"coz-fg-hglt\" {...iconProps} />;\n    case 'finish':\n      return (\n        <IconCozCheckMarkCircle className=\"coz-fg-hglt-green\" {...iconProps} />\n      );\n    case 'warn':\n      return (\n        <IconCozWarningCircle className=\"coz-fg-hglt-yellow\" {...iconProps} />\n      );\n    case 'error':\n      return <IconCozCrossCircle className=\"coz-fg-hglt-red\" {...iconProps} />;\n    default:\n      return null;\n  }\n}\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  type publish,\n  ConnectorPublishStatus,\n} from '@coze-arch/idl/intelligence_api';\nimport { I18n, type I18nKeysNoOptionsType } from '@coze-arch/i18n';\nimport {\n  CozAvatar,\n  Tag,\n  type TagProps,\n  Typography,\n} from '@coze-arch/coze-design';\n\nimport {\n  MINI_PROGRAM_DOUYIN_DOWNLOAD_CONNECTOR_ID,\n  MINI_PROGRAM_WECHAT_DOWNLOAD_CONNECTOR_ID,\n  WEB_SDK_CONNECTOR_ID,\n} from '@/utils/constants';\n\nfunction getMiniProgramGuideUrl(connectorId?: string) {\n  switch (connectorId) {\n    case MINI_PROGRAM_DOUYIN_DOWNLOAD_CONNECTOR_ID:\n      return '/docs/guides/publish_app_to_douyin_microapp';\n    case MINI_PROGRAM_WECHAT_DOWNLOAD_CONNECTOR_ID:\n      return '/docs/guides/publish_app_to_wechat_mini_program';\n    default:\n      return '';\n  }\n}\n\nexport interface ConnectorStatusProps {\n  result: publish.ConnectorPublishResult;\n  showTag?: boolean;\n  onShowWebSdkGuide?: (workflowId: string) => void;\n}\n\nconst ConnectorTagMap: Record<\n  ConnectorPublishStatus,\n  (Pick<TagProps, 'color'> & { text: I18nKeysNoOptionsType }) | null\n> = {\n  [ConnectorPublishStatus.Default]: {\n    color: 'brand',\n    text: 'project_releasing',\n  },\n  [ConnectorPublishStatus.Auditing]: {\n    color: 'brand',\n    text: 'under_review',\n  },\n  [ConnectorPublishStatus.Failed]: {\n    color: 'red',\n    text: 'project_release_failed',\n  },\n  [ConnectorPublishStatus.Success]: {\n    color: 'green',\n    text: 'project_release_success',\n  },\n  [ConnectorPublishStatus.Disable]: null, // The corresponding state will not be returned to the front end and will not be adapted.\n};\n\nexport function ConnectorStatus({\n  result,\n  showTag,\n  onShowWebSdkGuide,\n}: ConnectorStatusProps) {\n  const tagConfig = ConnectorTagMap[result.connector_publish_status ?? 0];\n  // When the Web SDK channel is successfully released, the installation instructions will be displayed\n  const shouldShowWebSdkGuide =\n    result.connector_id === WEB_SDK_CONNECTOR_ID &&\n    result.connector_publish_status === ConnectorPublishStatus.Success;\n  const workflowId =\n    result.connector_publish_config?.selected_workflows?.[0]?.workflow_id;\n  const showWebSdkGuide = () => onShowWebSdkGuide?.(workflowId ?? '');\n  return (\n    <div\n      className=\"h-[40px] flex items-center border-0 border-b border-solid coz-stroke-primary last:border-none\"\n      key={result.connector_id}\n    >\n      <CozAvatar\n        size=\"small\"\n        type=\"platform\"\n        className=\"mr-[8px] rounded-[6px] shrink-0\"\n        src={result.connector_icon_url}\n      />\n      <Typography.Text\n        weight={500}\n        className=\"whitespace-nowrap\"\n        ellipsis={{ showTooltip: true }}\n      >\n        {result.connector_name}\n      </Typography.Text>\n      {showTag !== false && tagConfig ? (\n        <Tag\n          size=\"mini\"\n          color={tagConfig.color}\n          className=\"!px-[4px] ml-[4px] shrink-0\"\n        >\n          {I18n.t(tagConfig.text)}\n        </Tag>\n      ) : null}\n      <div className=\"px-[8px] ml-auto max-w-[206px]\">\n        {result.connector_publish_status_msg ? (\n          <Typography.Text\n            type=\"secondary\"\n            fontSize=\"14px\"\n            ellipsis={{\n              showTooltip: {\n                type: 'tooltip',\n                opts: {\n                  theme: 'dark',\n                  style: {\n                    maxWidth: 200,\n                  },\n                },\n              },\n            }}\n          >\n            {result.connector_publish_status_msg}\n          </Typography.Text>\n        ) : null}\n        {/* Web SDK Channel - Installation Guide */}\n        {shouldShowWebSdkGuide ? (\n          <Typography.Text fontSize=\"14px\" link onClick={showWebSdkGuide}>\n            {I18n.t('project_release_guide')}\n          </Typography.Text>\n        ) : null}\n        {/* Mini Program Channel - Download Code & Installation Guide */}\n        {result.download_link ? (\n          <>\n            <Typography.Text\n              fontSize=\"14px\"\n              link={{ href: result.download_link, target: '_blank' }}\n            >\n              {I18n.t('project_release_download_code')}\n            </Typography.Text>\n            <Typography.Text\n              className=\"ml-[12px]\"\n              fontSize=\"14px\"\n              link={{\n                href: getMiniProgramGuideUrl(result.connector_id),\n                target: '_blank',\n              }}\n            >\n              {I18n.t('project_release_guide')}\n            </Typography.Text>\n          </>\n        ) : null}\n        {result.share_link ? (\n          <Typography.Text\n            fontSize=\"14px\"\n            link={{ href: result.share_link, target: '_blank' }}\n          >\n            {I18n.t('project_release_open_in_store')}\n          </Typography.Text>\n        ) : null}\n      </div>\n    </div>\n  );\n}\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useParams } from 'react-router-dom';\nimport React, { useLayoutEffect, useRef, useState } from 'react';\n\nimport {\n  ConnectorPublishStatus,\n  type PublishRecordDetail,\n  PublishRecordStatus,\n  ResourceType,\n} from '@coze-arch/idl/intelligence_api';\nimport { I18n } from '@coze-arch/i18n';\nimport { IconCozPlugin, IconCozWorkflow } from '@coze-arch/coze-design/icons';\nimport {\n  type StepProps,\n  Steps,\n  TagGroup,\n  Typography,\n} from '@coze-arch/coze-design';\nimport { type DynamicParams } from '@coze-arch/bot-typings/teamspace';\nimport { type UITagProps } from '@coze-arch/bot-semi';\n\nimport { useWebSdkGuideModal } from '@/web-sdk-guide';\nimport { WEB_SDK_CONNECTOR_ID } from '@/utils/constants';\nimport { type ProjectPublishStore } from '@/store';\n\nimport { PublishStepTitle } from './components/publish-step-title';\nimport { PublishStepIcon } from './components/publish-step-icon';\nimport {\n  ConnectorStatus,\n  type ConnectorStatusProps,\n} from './components/connector-status';\n\nfunction getDefaultStepProps(title: string): StepProps {\n  return {\n    icon: <PublishStepIcon status=\"wait\" />,\n    title: <PublishStepTitle title={title} />,\n  };\n}\n\nfunction toPackStepProps(\n  record: PublishRecordDetail,\n  tagGroupRef: React.RefObject<HTMLDivElement>,\n  maxTagCount?: number,\n): StepProps {\n  const title = I18n.t('project_release_package');\n  if (typeof record.publish_status !== 'number') {\n    return getDefaultStepProps(title);\n  }\n  switch (record.publish_status) {\n    case PublishRecordStatus.Packing: {\n      return {\n        icon: <PublishStepIcon status=\"process\" />,\n        title: (\n          <PublishStepTitle\n            title={title}\n            tag={I18n.t('project_release_in_progress')}\n            color=\"brand\"\n          />\n        ),\n      };\n    }\n    case PublishRecordStatus.PackFailed: {\n      const tags: UITagProps[] | undefined =\n        record.publish_status_detail?.pack_failed_detail?.map(item => ({\n          tagKey: item.entity_id,\n          className: 'pack-status-tag',\n          prefixIcon:\n            item.entity_type === ResourceType.Workflow ? (\n              <IconCozWorkflow />\n            ) : (\n              <IconCozPlugin />\n            ),\n          children: item.entity_name,\n        }));\n      return {\n        icon: <PublishStepIcon status=\"error\" />,\n        title: (\n          <PublishStepTitle\n            title={title}\n            tag={I18n.t('project_release_package_failed')}\n            color=\"red\"\n          />\n        ),\n        description: tags ? (\n          <div ref={tagGroupRef}>\n            <Typography.Paragraph className=\"coz-fg-secondary mb-[4px]\">\n              {I18n.t('project_release_pack_fail_reason')}\n            </Typography.Paragraph>\n            <TagGroup\n              tagList={tags}\n              maxTagCount={maxTagCount}\n              showPopover\n              popoverProps={{\n                position: 'top',\n                style: {\n                  padding: 8,\n                  maxWidth: 800,\n                },\n              }}\n            />\n          </div>\n        ) : null,\n      };\n    }\n    default: {\n      return {\n        icon: <PublishStepIcon status=\"finish\" />,\n        title: (\n          <PublishStepTitle\n            title={title}\n            tag={I18n.t('project_release_finish')}\n            color=\"green\"\n          />\n        ),\n      };\n    }\n  }\n}\n\nfunction PackStep(props: { record: PublishRecordDetail }) {\n  const ref = useRef<HTMLDivElement>(null);\n  const [maxTagCount, setMaxTagCount] = useState<number | undefined>(undefined);\n  const stepProps = toPackStepProps(props.record, ref, maxTagCount);\n\n  /**\n   * TagGroup only supports setting maxTagCount to control the number of display tags, not the number of display rows.\n   * Here, the number of rows it is in is determined by iterating over the offsetTop of all Tags, and maxTagCount\n   * Set to just enough to display the number of two rows.\n   */\n  useLayoutEffect(() => {\n    if (!ref.current) {\n      return;\n    }\n    const tags = ref.current.getElementsByClassName(\n      'pack-status-tag',\n    ) as HTMLCollectionOf<HTMLElement>;\n    if (tags.length <= 0) {\n      return;\n    }\n    let top = -1;\n    let rowCount = 0;\n    for (let i = 0; i < tags.length; i++) {\n      const tagTop = tags[i].offsetTop;\n      if (top !== tagTop) {\n        top = tagTop;\n        rowCount++;\n        // eslint-disable-next-line @typescript-eslint/no-magic-numbers -- offsetTop The third change, the current Tag is in the third line\n        if (rowCount >= 3) {\n          setMaxTagCount(i);\n          break;\n        }\n      }\n    }\n  }, [props.record.publish_status_detail?.pack_failed_detail]);\n\n  return <Steps.Step {...stepProps} />;\n}\n\nfunction toAuditStepProps(record: PublishRecordDetail): StepProps {\n  const title = I18n.t('project_release_coze_audit');\n  if (typeof record.publish_status !== 'number') {\n    return getDefaultStepProps(title);\n  }\n  switch (record.publish_status) {\n    case PublishRecordStatus.Packing:\n    case PublishRecordStatus.PackFailed: {\n      return getDefaultStepProps(title);\n    }\n    case PublishRecordStatus.Auditing: {\n      return {\n        status: 'process',\n        icon: <PublishStepIcon status=\"process\" />,\n        title: (\n          <PublishStepTitle\n            title={title}\n            tag={I18n.t('project_release_in_progress')}\n            color=\"brand\"\n          />\n        ),\n      };\n    }\n    case PublishRecordStatus.AuditNotPass: {\n      return {\n        status: 'error',\n        icon: <PublishStepIcon status=\"error\" />,\n        title: (\n          <PublishStepTitle\n            title={title}\n            tag={I18n.t('project_release_not_pass')}\n            color=\"red\"\n          />\n        ),\n      };\n    }\n    default: {\n      return {\n        status: 'finish',\n        icon: <PublishStepIcon status=\"finish\" />,\n        title: (\n          <PublishStepTitle\n            title={title}\n            tag={I18n.t('project_release_pass')}\n            color=\"green\"\n          />\n        ),\n      };\n    }\n  }\n}\n\nfunction getConnectorsPublishStatus(\n  record: ProjectPublishStore['publishRecordDetail'],\n) {\n  const connectorResults = record.connector_publish_result ?? [];\n  if (connectorResults.length <= 0) {\n    return 'wait';\n  }\n  const failedCount = connectorResults.filter(\n    item => item.connector_publish_status === ConnectorPublishStatus.Failed,\n  ).length;\n  if (failedCount > 0) {\n    // All channels failed with a red cross; some channels failed with a yellow exclamation mark\n    return failedCount === connectorResults.length ? 'error' : 'warn';\n  }\n  const publishingCount = connectorResults.filter(\n    item =>\n      item.connector_publish_status === ConnectorPublishStatus.Default ||\n      item.connector_publish_status === ConnectorPublishStatus.Auditing,\n  ).length;\n  if (publishingCount > 0) {\n    // Some channels are in the release, showing the clock icon.\n    return 'process';\n  }\n  return 'finish';\n}\n\nfunction toPublishStepProps(\n  record: ProjectPublishStore['publishRecordDetail'],\n  onShowWebSdkGuide: ConnectorStatusProps['onShowWebSdkGuide'],\n): StepProps {\n  const title = I18n.t('project_release_channel');\n  if (typeof record.publish_status !== 'number') {\n    return getDefaultStepProps(title);\n  }\n  // The \"Channel Review and Publish\" step has not been reached, the default gray clock icon is displayed\n  if (record.publish_status < PublishRecordStatus.ConnectorPublishing) {\n    return {\n      ...getDefaultStepProps(title),\n      description: record.connector_publish_result?.map(item => (\n        <ConnectorStatus result={item} showTag={false} />\n      )),\n    };\n  }\n  return {\n    icon: <PublishStepIcon status={getConnectorsPublishStatus(record)} />,\n    title: (\n      <PublishStepTitle\n        title={title}\n        {...(IS_OVERSEA &&\n          // publish_monetization_result nil indicates that the interface may fail and does not show\n          record.publish_monetization_result === false && {\n            tag: I18n.t('monetization_publish_fail'),\n            color: 'red',\n          })}\n      />\n    ),\n    description: record.connector_publish_result?.map(item => (\n      <ConnectorStatus result={item} onShowWebSdkGuide={onShowWebSdkGuide} />\n    )),\n  };\n}\n\nfunction PublishStep(props: { record: PublishRecordDetail }) {\n  const { project_id = '' } = useParams<DynamicParams>();\n  const { node, show: showWebSdkGuideModal } = useWebSdkGuideModal();\n  const onShowWebSdkGuide = (workflowId: string) =>\n    showWebSdkGuideModal({\n      projectId: project_id,\n      workflowId,\n      version: props.record.connector_publish_result?.find(\n        item => item.connector_id === WEB_SDK_CONNECTOR_ID,\n      )?.connector_bind_info?.sdk_version,\n    });\n  const stepProps = toPublishStepProps(props.record, onShowWebSdkGuide);\n  return (\n    <>\n      <Steps.Step {...stepProps} />\n      {node}\n    </>\n  );\n}\n\nexport interface ProjectPublishProgressProps {\n  record: ProjectPublishStore['publishRecordDetail'];\n}\n\nexport function ProjectPublishProgress({\n  record,\n}: ProjectPublishProgressProps) {\n  return (\n    <Steps type=\"basic\" direction=\"vertical\" size=\"small\">\n      <PackStep record={record} />\n      <Steps.Step {...toAuditStepProps(record)} />\n      <PublishStep record={record} />\n    </Steps>\n  );\n}\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { NavLink } from 'react-router-dom';\nimport { type FC } from 'react';\n\nimport { useShallow } from 'zustand/react/shallow';\nimport classNames from 'classnames';\nimport { IntelligenceType } from '@coze-arch/idl/intelligence_api';\nimport { I18n } from '@coze-arch/i18n';\nimport { useFlags } from '@coze-arch/bot-flags';\nimport { useIsPublishRecordReady } from '@coze-studio/publish-manage-hooks';\nimport { IconCozCheckMarkCircle } from '@coze-arch/coze-design/icons';\n\nimport { useProjectPublishStore } from '../store';\nimport { ProjectPublishProgress } from '../publish-progress';\n\nexport const PublishRecord: FC<{\n  projectId: string;\n  spaceId: string;\n}> = ({ projectId, spaceId }) => {\n  const { publishRecordDetail } = useProjectPublishStore(\n    useShallow(state => ({\n      publishRecordDetail: state.publishRecordDetail,\n    })),\n  );\n\n  const [FLAGS] = useFlags();\n\n  const { ready, inited } = useIsPublishRecordReady({\n    type: IntelligenceType.Project,\n    spaceId,\n    intelligenceId: projectId,\n    // Support soon, so stay tuned.\n    enable: FLAGS['bot.studio.publish_management'] && !IS_OPEN_SOURCE,\n  });\n\n  return (\n    <div>\n      <div className=\"my-[32px] p-[16px] flex flex-col items-center\">\n        <IconCozCheckMarkCircle className=\"text-[48px] coz-fg-dim\" />\n        <div className=\"text-[16px] font-medium mt-[8px] leading-[22px]\">\n          {I18n.t('project_release_already_released')}\n        </div>\n        <div className=\"text-[12px] coz-fg-dim leading-[16px]\">\n          {I18n.t('project_release_already_released_desc')}\n        </div>\n        {/* Support soon, so stay tuned. */}\n        {FLAGS['bot.studio.publish_management'] && !IS_OPEN_SOURCE ? (\n          <div className=\"text-[12px] coz-fg-dim leading-[16px]\">\n            {I18n.t('release_management_detail1', {\n              button: (\n                <NavLink\n                  className={classNames(\n                    'no-underline',\n                    ready || !inited\n                      ? 'coz-fg-hglt'\n                      : 'coz-fg-secondary cursor-not-allowed',\n                  )}\n                  onClick={e => {\n                    if (!ready) {\n                      e.preventDefault();\n                    }\n                  }}\n                  to={`/space/${spaceId}/publish/app/${projectId}`}\n                >\n                  {I18n.t('release_management')}\n                  {ready || !inited\n                    ? null\n                    : `(${I18n.t('release_management_generating')})`}\n                </NavLink>\n              ),\n            })}\n          </div>\n        ) : null}\n      </div>\n\n      <div className=\"rounded-[12px] w-[480px] coz-stroke-primary coz-bg-max border border-solid px-[24px] pt-[16px] m-auto mb-[48px]\">\n        <ProjectPublishProgress record={publishRecordDetail} />\n      </div>\n    </div>\n  );\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* eslint-disable max-lines-per-function */\nimport { type RefObject, useEffect, useRef, useState } from 'react';\n\nimport { useDebounceFn } from 'ahooks';\nimport { ConnectorClassification } from '@coze-arch/idl/intelligence_api';\n\nimport { usePublishContainer } from '../../context/publish-container-context';\n\nexport type ConnectorRefMap = Record<\n  ConnectorClassification,\n  RefObject<HTMLDivElement>\n>;\n\nconst useConnectorRefMap = (): ConnectorRefMap => ({\n  [ConnectorClassification.APIOrSDK]: useRef<HTMLDivElement>(null),\n  [ConnectorClassification.MiniProgram]: useRef<HTMLDivElement>(null),\n  [ConnectorClassification.SocialPlatform]: useRef<HTMLDivElement>(null),\n  [ConnectorClassification.Coze]: useRef<HTMLDivElement>(null),\n  [ConnectorClassification.CozeSpaceExtensionLibrary]:\n    useRef<HTMLDivElement>(null),\n});\n\nconst getActiveConnectorTarget = ({\n  containerScrollTop,\n  connectorRefMap,\n  connectorBarHeight,\n  publishHeaderHeight,\n}: {\n  containerScrollTop: number;\n  connectorBarHeight: number;\n  connectorRefMap: ConnectorRefMap;\n  publishHeaderHeight: number;\n}) => {\n  const connectorTargetLis = Object.entries(connectorRefMap)\n    .map(([, ref]) => ref.current)\n    .filter((element): element is HTMLDivElement => Boolean(element));\n\n  const offsetTopList = connectorTargetLis.map(target => ({\n    offsetTop:\n      target.offsetTop -\n      containerScrollTop -\n      publishHeaderHeight -\n      connectorBarHeight,\n    target,\n  }));\n\n  const sortedTopList = offsetTopList.sort(\n    (prev, cur) => prev.offsetTop - cur.offsetTop,\n  );\n  const preActiveConnectorList = sortedTopList.filter(\n    item => item.offsetTop <= 0,\n  );\n  const activeConnector = preActiveConnectorList.length\n    ? preActiveConnectorList.at(-1)\n    : sortedTopList.at(0);\n\n  return activeConnector?.target;\n};\n/** experience point */\nconst LOCK_TIME = 300;\n\nexport const useConnectorScroll = () => {\n  const [activeConnectorTarget, setActiveConnectorTarget] =\n    useState<HTMLDivElement>();\n  const connectorBarRef = useRef<HTMLDivElement>(null);\n\n  const { getContainerRef } = usePublishContainer();\n\n  const connectorRefMap = useConnectorRefMap();\n\n  const { publishHeaderHeight } = usePublishContainer();\n\n  const [animationStateMap, setAnimationMap] = useState<\n    Record<ConnectorClassification, boolean>\n  >({\n    [ConnectorClassification.APIOrSDK]: false,\n    [ConnectorClassification.MiniProgram]: false,\n    [ConnectorClassification.SocialPlatform]: false,\n    [ConnectorClassification.Coze]: false,\n    [ConnectorClassification.CozeSpaceExtensionLibrary]: false,\n  });\n\n  /**\n   * All three conditions need to be met simultaneously\n   * 1. As the page scrolls to different anchors, the tab bar activates the button for the corresponding area\n   * 2. Click the tab bar, activate the corresponding button, and scroll directly to the corresponding area of the page\n   * 3. When the page height is insufficient to scroll, click the tab bar to activate the corresponding button\n   *\n   * Since the scroll is a smooth effect, conditions 2 and 3 will conflict, and the lock needs to be performed when the user clicks the tab bar to scroll.\n   * Condition 1 does not fire when locked\n   * Need to give condition 3 an unlocking mechanism with a bottom line\n   */\n  const manualScrollLockRef = useRef(false);\n\n  const manualScrollLock = () => {\n    manualScrollLockRef.current = true;\n  };\n\n  const manualScrollUnLock = () => {\n    manualScrollLockRef.current = false;\n  };\n\n  /** Unlock after LOCK_TIME */\n  const manualScrollUnLockDebounce = useDebounceFn(manualScrollUnLock, {\n    wait: LOCK_TIME,\n  });\n\n  /** The bottom unlocking mechanism, if the user clicks the tab bar but does not unlock the LOCK_TIME should also be unlocked */\n  const baseUnLockDebounce = useDebounceFn(manualScrollUnLock, {\n    wait: LOCK_TIME,\n  });\n\n  useEffect(() => {\n    const containerTarget = getContainerRef()?.current;\n    const connectorBarTarget = connectorBarRef.current;\n    if (!containerTarget || !connectorBarTarget) {\n      return;\n    }\n    const changeActiveConnectorTarget = () => {\n      if (manualScrollLockRef.current) {\n        return;\n      }\n      setActiveConnectorTarget(\n        getActiveConnectorTarget({\n          containerScrollTop: containerTarget.scrollTop,\n          connectorRefMap,\n          connectorBarHeight: connectorBarTarget.offsetHeight,\n          publishHeaderHeight,\n        }),\n      );\n    };\n\n    changeActiveConnectorTarget();\n\n    const onScroll = () => {\n      // If the page scrolls, no safety net mechanism is required\n      baseUnLockDebounce.cancel();\n      manualScrollUnLockDebounce.run();\n      changeActiveConnectorTarget();\n    };\n\n    containerTarget.addEventListener('scroll', onScroll);\n    return () => {\n      containerTarget.removeEventListener('scroll', onScroll);\n    };\n  }, [getContainerRef, connectorRefMap, publishHeaderHeight]);\n\n  const startAnimation = (classification: ConnectorClassification) => {\n    setAnimationMap(prev => ({ ...prev, [classification]: true }));\n  };\n\n  const closeAnimation = (classification: ConnectorClassification) => {\n    setAnimationMap(prev => ({ ...prev, [classification]: false }));\n  };\n\n  const scrollToConnector = (classification: ConnectorClassification) => {\n    const barTarget = connectorBarRef.current;\n    const containerTarget = getContainerRef()?.current;\n    const connectorTarget = connectorRefMap[classification].current;\n    if (!barTarget || !containerTarget || !connectorTarget) {\n      return;\n    }\n\n    containerTarget.scrollTo({\n      behavior: 'smooth',\n      top:\n        connectorTarget.offsetTop -\n        publishHeaderHeight -\n        barTarget.offsetHeight,\n    });\n    startAnimation(classification);\n    setActiveConnectorTarget(connectorTarget);\n    manualScrollLock();\n    baseUnLockDebounce.run();\n  };\n\n  return {\n    connectorRefMap,\n    activeConnectorTarget,\n    connectorBarRef,\n    scrollToConnector,\n    closeAnimation,\n    animationStateMap,\n  };\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { z } from 'zod';\nimport { produce } from 'immer';\nimport { typeSafeJSONParse } from '@coze-arch/bot-utils';\n\nconst publishAnchorDataSchema = z.object({\n  projectId: z.string(),\n  connectorIdBeforeRedirect: z.string(),\n});\n\nconst publishAnchorSchema = z.record(publishAnchorDataSchema);\n\ntype PublishAnchorData = z.infer<typeof publishAnchorDataSchema>;\n\ntype PublishAnchorType = z.infer<typeof publishAnchorSchema>;\n\nclass PublishAnchorService {\n  private PUBLISH_ANCHOR_KEY = 'coz_project_publish_anchor';\n  anchorValues: PublishAnchorType = {};\n\n  private load = () => {\n    try {\n      const stringifyLocalData = localStorage.getItem(this.PUBLISH_ANCHOR_KEY);\n      const localData = typeSafeJSONParse(stringifyLocalData);\n      const validData = publishAnchorSchema.parse(localData);\n      // Using zod to type-check localData\n      this.anchorValues = validData;\n    } catch {\n      this.anchorValues = {};\n    }\n  };\n\n  private save = () => {\n    localStorage.setItem(\n      this.PUBLISH_ANCHOR_KEY,\n      JSON.stringify(this.anchorValues),\n    );\n  };\n\n  setAnchor: (params: {\n    userId: string;\n    projectId: string;\n    connectorId: string;\n  }) => void = ({ userId, projectId, connectorId }) => {\n    this.anchorValues = produce(this.anchorValues, draft => {\n      draft[userId] = {\n        projectId,\n        connectorIdBeforeRedirect: connectorId,\n      };\n    });\n    this.save();\n  };\n  getAnchor: (params: {\n    userId: string;\n    projectId: string;\n  }) => PublishAnchorData | undefined = ({ userId, projectId }) => {\n    const userData = this.anchorValues[userId];\n    if (userData?.projectId === projectId) {\n      return userData;\n    }\n  };\n\n  removeAnchor: (params: { userId: string; projectId: string }) => void = ({\n    userId,\n    projectId,\n  }) => {\n    const hasAnchor = Boolean(this.getAnchor({ userId, projectId }));\n    if (!hasAnchor) {\n      return;\n    }\n    delete this.anchorValues[userId];\n    this.save();\n  };\n\n  clearAll = () => {\n    localStorage.removeItem(this.PUBLISH_ANCHOR_KEY);\n    this.anchorValues = {};\n  };\n\n  constructor() {\n    this.load();\n  }\n}\n\nexport const publishAnchorService = new PublishAnchorService();\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useUserInfo } from '@coze-arch/foundation-sdk';\nimport { type DynamicParams } from '@coze-arch/bot-typings/teamspace';\nimport { useParams } from 'react-router-dom';\n\nimport { publishAnchorService } from '@/service/connector-anchor';\n\nexport const useBizConnectorAnchor = () => {\n  const userId = useUserInfo()?.user_id_str;\n  const projectId = useParams<DynamicParams>().project_id;\n\n  const setAnchor = (connectorId: string) => {\n    if (!userId || !projectId) {\n      return;\n    }\n    return publishAnchorService.setAnchor({ projectId, userId, connectorId });\n  };\n\n  const getAnchor = () => {\n    if (!userId || !projectId) {\n      return;\n    }\n    return publishAnchorService.getAnchor({ userId, projectId });\n  };\n\n  const removeAnchor = () => {\n    if (!userId || !projectId) {\n      return;\n    }\n    return publishAnchorService.removeAnchor({ userId, projectId });\n  };\n\n  return {\n    setAnchor,\n    getAnchor,\n    removeAnchor,\n  };\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useEffect } from 'react';\n\nimport { useProjectPublishStore } from '@/store';\nimport { useBizConnectorAnchor } from '@/hooks/use-biz-connector-anchor';\n\nimport { type ConnectorGroup } from '../utils/format-connector-groups';\nimport { usePublishContainer } from '../../context/publish-container-context';\nimport { type ConnectorRefMap } from './use-connector-scroll';\n\nexport const useAutoScrollToConnector = ({\n  connectorGroupList,\n  connectorRefMap,\n}: {\n  connectorRefMap: ConnectorRefMap;\n  connectorGroupList: ConnectorGroup[];\n}) => {\n  const { getAnchor, removeAnchor } = useBizConnectorAnchor();\n  const { getContainerRef } = usePublishContainer();\n\n  useEffect(() => {\n    const anchor = getAnchor();\n\n    if (!anchor) {\n      return;\n    }\n\n    const targetGroup = connectorGroupList.find(group =>\n      group.connectors.some(\n        connector => connector.id === anchor.connectorIdBeforeRedirect,\n      ),\n    );\n\n    if (!targetGroup) {\n      return;\n    }\n\n    const connectorRef = connectorRefMap[targetGroup.type];\n    const { updateSelectedConnectorIds } = useProjectPublishStore.getState();\n    updateSelectedConnectorIds(prev => {\n      if (prev.some(id => id === anchor.connectorIdBeforeRedirect)) {\n        return prev;\n      }\n      return prev.concat(anchor.connectorIdBeforeRedirect);\n    });\n    getContainerRef()?.current?.scrollTo({\n      top: connectorRef.current?.offsetTop,\n      behavior: 'smooth',\n    });\n\n    removeAnchor();\n  }, [connectorGroupList, connectorRefMap]);\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useRequest } from 'ahooks';\nimport { type CheckType, WorkflowMode } from '@coze-arch/idl/workflow_api';\nimport { type DynamicParams } from '@coze-arch/bot-typings/teamspace';\nimport { workflowApi } from '@coze-arch/bot-api';\nimport { useParams } from 'react-router-dom';\n\nexport interface ChatflowOptionProps {\n  value: string;\n  label: string;\n  disabled?: boolean;\n  tooltip?: string;\n}\n\nexport function useChatflowOptions(checkType?: CheckType) {\n  const needsCheck = typeof checkType !== 'undefined';\n  const { space_id = '', project_id = '' } = useParams<DynamicParams>();\n  const { data: chatflowOptions, loading } = useRequest(async () => {\n    const res = await workflowApi.GetWorkFlowList({\n      space_id,\n      project_id,\n      flow_mode: WorkflowMode.ChatFlow,\n      page: 1,\n      size: 100,\n      checker: needsCheck ? [checkType] : undefined,\n    });\n    return res.data.workflow_list?.map(item => ({\n      label: item.name,\n      value: item.workflow_id,\n      disabled: needsCheck\n        ? item.check_result?.find(r => r.type === checkType)?.is_pass !== true\n        : false,\n      tooltip: item.check_result?.find(r => r.type === checkType)?.reason,\n    })) as ChatflowOptionProps[];\n  });\n  return { chatflowOptions, loading };\n}\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { type PropsWithChildren } from 'react';\n\nimport classNames from 'classnames';\nimport { IconCozCheckMarkFill } from '@coze-arch/coze-design/icons';\nimport {\n  type optionRenderProps,\n  Tooltip,\n  Typography,\n} from '@coze-arch/coze-design';\n\nexport type OptionWithTooltipProps = PropsWithChildren<{\n  option: optionRenderProps;\n  tooltip?: string;\n}>;\n\nexport function OptionWithTooltip({\n  option,\n  tooltip,\n  children,\n}: OptionWithTooltipProps) {\n  const optionNode = (\n    <div\n      className={classNames(\n        'coz-select-option-item p-[8px] gap-x-[8px] items-center',\n        {\n          '!cursor-not-allowed': option.disabled,\n        },\n      )}\n      onClick={option.onClick}\n    >\n      <div className=\"w-[16px] h-[16px] shrink-0\">\n        {option.selected ? (\n          <IconCozCheckMarkFill className=\"coz-fg-hglt\" />\n        ) : null}\n      </div>\n      {children ?? (\n        <Typography.Text className=\"leading-[16px]\" disabled={option.disabled}>\n          {option.label}\n        </Typography.Text>\n      )}\n    </div>\n  );\n  return tooltip ? (\n    <Tooltip theme=\"dark\" position=\"right\" trigger=\"hover\" content={tooltip}>\n      {optionNode}\n    </Tooltip>\n  ) : (\n    optionNode\n  );\n}\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useShallow } from 'zustand/react/shallow';\nimport classNames from 'classnames';\nimport { CheckType } from '@coze-arch/idl/workflow_api';\nimport { ConnectorClassification } from '@coze-arch/idl/intelligence_api';\nimport { I18n } from '@coze-arch/i18n';\nimport { FormSelect, type optionRenderProps } from '@coze-arch/coze-design';\n\nimport { useProjectPublishStore } from '@/store';\n\nimport {\n  type ChatflowOptionProps,\n  useChatflowOptions,\n} from '../hooks/use-chatflow-options';\nimport { OptionWithTooltip } from './option-with-tooltip';\n\nexport const SocialPlatformChatflow: React.FC<{ className?: string }> = ({\n  className,\n}) => {\n  const {\n    connectorList,\n    selectedConnectorIds,\n    socialPlatformChatflow,\n    setProjectPublishInfo,\n  } = useProjectPublishStore(\n    useShallow(state => ({\n      connectorList: state.connectorList,\n      selectedConnectorIds: state.selectedConnectorIds,\n      socialPlatformChatflow: state.socialPlatformChatflow,\n      setProjectPublishInfo: state.setProjectPublishInfo,\n    })),\n  );\n  const hasSelectedSocialPlatforms = connectorList.some(\n    c =>\n      selectedConnectorIds.includes(c.id) &&\n      c.connector_classification === ConnectorClassification.SocialPlatform,\n  );\n\n  const { chatflowOptions } = useChatflowOptions(CheckType.SocialPublish);\n\n  const handleSelectChatflow = (option: ChatflowOptionProps) => {\n    setProjectPublishInfo({\n      socialPlatformChatflow: {\n        selected_workflows: [\n          {\n            workflow_id: option.value,\n            workflow_name: option.label,\n          },\n        ],\n      },\n    });\n  };\n\n  return (\n    <div className={classNames('w-[50%] pr-[6px]', className)}>\n      <FormSelect\n        field=\"social_platform_chatflow\"\n        noLabel\n        label={I18n.t('project_release_chatflow2')}\n        placeholder={I18n.t('project_release_chatflow_choose')}\n        optionList={chatflowOptions}\n        initValue={socialPlatformChatflow?.selected_workflows?.[0]?.workflow_id}\n        className=\"w-full mb-[4px]\"\n        renderOptionItem={(option: optionRenderProps) => (\n          <OptionWithTooltip option={option} tooltip={option.tooltip} />\n        )}\n        onSelect={(_: unknown, option: unknown) =>\n          handleSelectChatflow(option as ChatflowOptionProps)\n        }\n        rules={[\n          // Chatflow is required when SocialPlatform is selected\n          { required: hasSelectedSocialPlatforms },\n          // Verify that the selected chatflow exists & & is not disabled\n          {\n            validator: (_rule: unknown, value: unknown) => {\n              if (!hasSelectedSocialPlatforms) {\n                return true;\n              }\n              const selected = chatflowOptions?.find(\n                option => option.value === (value as string),\n              );\n              if (!selected) {\n                return new Error(I18n.t('project_release_chatflow3'));\n              }\n              if (selected.disabled) {\n                return new Error(selected.tooltip);\n              }\n              return true;\n            },\n          },\n        ]}\n      />\n    </div>\n  );\n};\n","\n      import API from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n       export default content && content.locals ? content.locals : undefined;\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { type CSSProperties, forwardRef, type PropsWithChildren } from 'react';\n\nimport classNames from 'classnames';\nimport { Badge, Button } from '@coze-arch/coze-design';\n\nimport styles from './index.module.less';\n\nexport interface TabbarItemProps {\n  onClick: () => void;\n  isActive: boolean;\n  selectedConnectorCount: number;\n}\nexport const ConnectorTabbarItem: React.FC<\n  PropsWithChildren<TabbarItemProps>\n> = ({ onClick, isActive, children, selectedConnectorCount }) => (\n  <Button\n    onClick={onClick}\n    color={isActive ? 'highlight' : 'secondary'}\n    className=\"!px-8px !font-medium\"\n  >\n    {children}\n    {selectedConnectorCount > 0 ? (\n      <Badge\n        countClassName={classNames(\n          !isActive && '!coz-mg-plus !coz-fg-secondary',\n          '!font-medium',\n        )}\n        className=\"ml-4px\"\n        count={selectedConnectorCount}\n        type=\"alt\"\n      />\n    ) : null}\n  </Button>\n);\n\nexport interface ConnectorTabbarProps {\n  className?: string;\n  style?: CSSProperties;\n}\n\nexport const ConnectorTabbar = forwardRef<\n  HTMLDivElement,\n  PropsWithChildren<ConnectorTabbarProps>\n>(({ className, style, children }, ref) => (\n  <div\n    ref={ref}\n    className={classNames(\n      // ! 80Px height affects styles.mask calculation\n      'flex items-center gap-x-8px h-[80px] relative',\n      styles.mask,\n      className,\n    )}\n    style={style}\n  >\n    {children}\n  </div>\n));\n","\n      import API from \"!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./connector-group-header.module.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./connector-group-header.module.less\";\n       export default content && content.locals ? content.locals : undefined;\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { type AnimationEventHandler } from 'react';\n\nimport classNames from 'classnames';\nimport { ConnectorClassification } from '@coze-arch/idl/intelligence_api';\nimport { I18n } from '@coze-arch/i18n';\nimport {\n  IconCozInfoCircle,\n  IconCozDiamondFill,\n} from '@coze-arch/coze-design/icons';\nimport { Tooltip, Space } from '@coze-arch/coze-design';\nimport {\n  useBenefitAvailable,\n  PremiumPaywallScene,\n  usePremiumPaywallModal,\n} from '@coze-studio/premium-components-adapter';\n\nimport styles from './connector-group-header.module.less';\n\ninterface ConnectorGroupHeaderProps {\n  label: string;\n  tooltipContent: string;\n  showTooltipInfo: boolean;\n  isHighlight: boolean;\n  type: ConnectorClassification;\n  onAnimationEnd: AnimationEventHandler<HTMLDivElement>;\n}\n\nexport function ConnectorGroupHeader({\n  label,\n  tooltipContent,\n  showTooltipInfo,\n  isHighlight,\n  type,\n  onAnimationEnd,\n}: ConnectorGroupHeaderProps) {\n  // paywall\n  const isAPIOrSDK = type === ConnectorClassification.APIOrSDK;\n  const isAvailable = useBenefitAvailable({\n    scene: PremiumPaywallScene.API,\n  });\n  const { node: premiumPaywallModal, open: openPremiumPaywallModal } =\n    usePremiumPaywallModal({ scene: PremiumPaywallScene.API });\n\n  return (\n    <div\n      className={classNames(\n        'mb-8px px-2px coz-fg-secondary flex items-center gap-x-4px',\n        isHighlight && styles.highlight,\n      )}\n      onAnimationEnd={onAnimationEnd}\n    >\n      <p className=\"text-[14px] font-[500] leading-[20px]\">{label}</p>\n      {isAPIOrSDK && !isAvailable ? (\n        <Space className=\"text-[12px] ml-[8px]\" spacing={2}>\n          <IconCozDiamondFill className=\"coz-fg-hglt\" />\n          {I18n.t('coze_quota_exemption_notice', {\n            link: (\n              <div\n                className=\"coz-fg-hglt cursor-pointer\"\n                onClick={openPremiumPaywallModal}\n              >\n                {I18n.t('coze_upgrade_package')}\n              </div>\n            ),\n          })}\n        </Space>\n      ) : null}\n      {showTooltipInfo ? (\n        <Tooltip theme=\"dark\" trigger=\"hover\" content={tooltipContent}>\n          <IconCozInfoCircle className=\"text-xxl\" />\n        </Tooltip>\n      ) : null}\n      {premiumPaywallModal}\n    </div>\n  );\n}\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { type StoreBindKey } from '@/store';\n\ntype SelfMapping<T extends string> = {\n  [K in T]: K; // Key syntax: Mapping each literal type to itself\n};\n\ntype KeyMapping = SelfMapping<StoreBindKey>;\n\nexport const isStoreBindConfigured = (\n  config: Record<string, string>,\n): boolean => {\n  // Prevent StoreBindKey changes from causing bugs\n  const { category_id, display_screen }: KeyMapping = {\n    category_id: 'category_id',\n    display_screen: 'display_screen',\n  };\n  return Boolean(config[category_id]) && Boolean(config[display_screen]);\n};\n","import baseFlatten from './_baseFlatten.js';\nimport baseRest from './_baseRest.js';\nimport baseUniq from './_baseUniq.js';\nimport isArrayLikeObject from './isArrayLikeObject.js';\n\n/**\n * Creates an array of unique values, in order, from all given arrays using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @returns {Array} Returns the new array of combined values.\n * @example\n *\n * _.union([2], [1, 2]);\n * // => [2, 1]\n */\nvar union = baseRest(function(arrays) {\n  return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));\n});\n\nexport default union;\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* eslint-disable complexity */\n/* eslint-disable @coze-arch/max-line-per-function */\nimport { useParams } from 'react-router-dom';\nimport { useState, useRef } from 'react';\n\nimport { useShallow } from 'zustand/react/shallow';\nimport { debounce, union, find } from 'lodash-es';\nimport { useInfiniteScroll } from 'ahooks';\nimport {\n  CheckType,\n  WorkflowMode,\n  type Workflow,\n} from '@coze-arch/idl/workflow_api';\nimport {\n  type PublishConnectorInfo,\n  ConnectorConfigStatus,\n} from '@coze-arch/idl/intelligence_api';\nimport { I18n } from '@coze-arch/i18n';\nimport { IconCozInfoCircle, IconCozEmpty } from '@coze-arch/coze-design/icons';\nimport {\n  Modal,\n  Search,\n  Checkbox,\n  Divider,\n  Spin,\n  Tooltip,\n  Space,\n  EmptyState,\n} from '@coze-arch/coze-design';\nimport { type DynamicParams } from '@coze-arch/bot-typings/teamspace';\nimport { workflowApi } from '@coze-arch/bot-api';\n\nimport { useProjectPublishStore } from '@/store';\n\nexport interface DataList {\n  list: Workflow[];\n  hasMore?: boolean;\n  nextCursorId?: string;\n  total: number;\n  nextPageIndex: number;\n}\n\nconst debounceTimer = 500;\n\nexport const UseMcpConfigModal = ({\n  record,\n}: {\n  record: PublishConnectorInfo;\n}) => {\n  const [visible, setVisible] = useState(false);\n  const [searchVal, setSearchVal] = useState<string>('');\n  const [checkedList, setCheckedList] = useState<string[]>([]);\n  const { space_id = '', project_id = '' } = useParams<DynamicParams>();\n\n  const {\n    connectorPublishConfig,\n    setProjectPublishInfo,\n    connectorList,\n    selectedConnectorIds,\n  } = useProjectPublishStore(\n    useShallow(state => ({\n      connectorPublishConfig: state.connectorPublishConfig,\n      setProjectPublishInfo: state.setProjectPublishInfo,\n      connectorList: state.connectorList,\n      selectedConnectorIds: state.selectedConnectorIds,\n    })),\n  );\n\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  const { loading, data, loadingMore } = useInfiniteScroll<DataList>(\n    async d => {\n      const res = await workflowApi.GetWorkFlowList({\n        space_id,\n        project_id,\n        flow_mode: WorkflowMode.All,\n        checker: [CheckType.MCPPublish],\n        size: 15,\n        page: d?.nextPageIndex ?? 1,\n        name: searchVal,\n      });\n      return {\n        list: res.data?.workflow_list ?? [],\n        total: Number(res.data?.total ?? 0),\n        nextPageIndex: (d?.nextPageIndex || 1) + 1,\n      };\n    },\n    {\n      target: containerRef,\n      reloadDeps: [searchVal],\n      isNoMore: dataSource =>\n        Boolean(\n          !dataSource?.total ||\n            (dataSource.nextPageIndex - 1) * 15 >= dataSource.total,\n        ),\n    },\n  );\n\n  // Only undisabled workflows can be selected.\n  const filterPassList = data?.list?.filter(\n    item =>\n      find(item?.check_result, {\n        type: CheckType.MCPPublish,\n      })?.is_pass,\n  );\n  //Half selection state\n  const indeterminate =\n    checkedList.length > 0 &&\n    checkedList.length < (filterPassList?.length || 0);\n  //Select All\n  const checkAll = checkedList.length === (filterPassList?.length || 0);\n\n  const close = () => {\n    setVisible(false);\n  };\n\n  const handleConfirm = () => {\n    setProjectPublishInfo({\n      connectorPublishConfig: {\n        ...connectorPublishConfig,\n        [record.id]: {\n          selected_workflows: checkedList.map(item => {\n            const res = find(data?.list, {\n              workflow_id: item,\n            });\n            return {\n              workflow_id: res?.workflow_id,\n              workflow_name: res?.name,\n            };\n          }),\n        },\n      },\n      connectorList: connectorList.map(item => {\n        if (item.id === record.id) {\n          return {\n            ...item,\n            config_status: ConnectorConfigStatus.Configured,\n          };\n        }\n        return item;\n      }),\n      selectedConnectorIds: union(selectedConnectorIds, [record.id]), //ID merge deduplicate\n    });\n    close();\n  };\n\n  return {\n    open: () => {\n      setVisible(true);\n      const ids = connectorPublishConfig?.[record.id]?.selected_workflows;\n      setCheckedList(ids?.map(item => item.workflow_id ?? '') ?? []);\n    },\n    close,\n    node: (\n      <Modal\n        title={I18n.t('app_publish_connector_space_mcp_config_dialog_title')}\n        size=\"large\"\n        visible={visible}\n        onCancel={close}\n        okButtonProps={{ loading, disabled: !checkedList.length }}\n        okText={I18n.t('app_publish_connector_space_mcp_config_dialog_confirm')}\n        cancelText={I18n.t(\n          'app_publish_connector_space_mcp_config_dialog_cancel',\n        )}\n        onOk={handleConfirm}\n      >\n        <div className=\"text-[12px]\">\n          {I18n.t('app_publish_connector_space_mcp_config_dialog_desc')}\n        </div>\n        <Space className=\"mb-[16px]\" spacing={4}>\n          <div className=\"text-[12px]\">\n            {I18n.t('app_publish_connector_space_mcp_config_dialog_desc2')}\n          </div>\n\n          <Tooltip\n            position=\"top\"\n            content={\n              <div className=\"whitespace-pre-line\">\n                {I18n.t(\n                  'app_publish_connector_space_mcp_config_dialog_hover_wf_constraints',\n                )}\n              </div>\n            }\n          >\n            <IconCozInfoCircle className=\"text-[14px]\" />\n          </Tooltip>\n        </Space>\n        <div className=\"font-[500] mb-[12px]\">\n          {I18n.t('app_publish_connector_space_mcp_config_dialog_choose_wf')}\n          <span className=\"coz-fg-hglt-red\">*</span>\n        </div>\n        <div className=\"border border-solid coz-stroke-primary rounded py-[12px]\">\n          <div className=\"mx-[12px]\">\n            <Search\n              className=\"!w-full\"\n              placeholder={I18n.t(\n                'app_publish_connector_space_mcp_config_dialog_search_placeholder',\n              )}\n              value={searchVal}\n              onSearch={debounce(v => {\n                setSearchVal(v);\n              }, debounceTimer)}\n            />\n          </div>\n\n          <Divider className=\"my-[8px]\" />\n\n          <div className=\"mx-[12px]\">\n            {data?.list.length ? (\n              <Checkbox\n                className=\"my-[8px] px-[4px]\"\n                indeterminate={indeterminate}\n                checked={checkAll}\n                onChange={e => {\n                  setCheckedList(\n                    e.target.checked\n                      ? filterPassList?.map(item => item.workflow_id || '') ||\n                          []\n                      : [],\n                  );\n                }}\n              >\n                {I18n.t(\n                  'app_publish_connector_space_mcp_config_dialog_filter_all',\n                )}\n              </Checkbox>\n            ) : null}\n            <div\n              ref={containerRef}\n              className=\"max-h-[300px] overflow-x-hidden overflow-y-auto\"\n            >\n              <Checkbox.Group\n                className=\"gap-[4px]\"\n                value={checkedList}\n                onChange={setCheckedList}\n              >\n                {data?.list?.map(option => {\n                  const mcpOpt = find(option?.check_result, {\n                    type: CheckType.MCPPublish,\n                  });\n                  return (\n                    <Checkbox\n                      className=\"p-[4px]\"\n                      key={option.workflow_id}\n                      value={option.workflow_id}\n                      disabled={!mcpOpt?.is_pass}\n                    >\n                      {mcpOpt?.is_pass ? (\n                        option.name\n                      ) : (\n                        <Tooltip position=\"top\" content={mcpOpt?.reason}>\n                          {option.name}\n                        </Tooltip>\n                      )}\n                    </Checkbox>\n                  );\n                })}\n              </Checkbox.Group>\n\n              {/* Loading */}\n              {loadingMore && data?.list.length ? (\n                <div className=\"text-center\">\n                  <Spin size=\"small\" />\n                </div>\n              ) : null}\n\n              {/* empty state */}\n              {!data?.list.length ? (\n                <EmptyState\n                  className=\"my-[80px] mx-auto\"\n                  icon={<IconCozEmpty />}\n                  title={I18n.t(\n                    'app_publish_connector_space_mcp_config_dialog_no_results_found',\n                  )}\n                />\n              ) : null}\n            </div>\n          </div>\n        </div>\n      </Modal>\n    ),\n  };\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  type PublishConnectorInfo,\n  ConnectorConfigStatus,\n} from '@coze-arch/idl/intelligence_api';\nimport { I18n } from '@coze-arch/i18n';\nimport { Button } from '@coze-arch/coze-design';\n\nimport { UseMcpConfigModal } from '@/hooks/use-mcp-config-modal';\n\n/** MCP configuration button + pop-up window */\nexport const McpConfigBtn = ({ record }: { record: PublishConnectorInfo }) => {\n  const { node, open } = UseMcpConfigModal({ record });\n  return (\n    <div\n      className=\"basis-full self-end\"\n      onClick={e => {\n        e.stopPropagation();\n      }}\n    >\n      <Button\n        color=\"primary\"\n        size=\"small\"\n        onClick={() => {\n          open();\n        }}\n      >\n        {record.config_status === ConnectorConfigStatus.Configured\n          ? I18n.t('enterprise_sso_seetings_page_desc_button1')\n          : I18n.t('bot_publish_action_configure')}\n      </Button>\n      {node}\n    </div>\n  );\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useShallow } from 'zustand/react/shallow';\nimport { type PublishConnectorInfo } from '@coze-arch/idl/intelligence_api';\nimport { FormSelect } from '@coze-arch/coze-design';\nimport { IconCozArrowDown } from '@coze-arch/bot-icons';\n\nimport { useProjectPublishStore } from '@/store';\n\ninterface UnionSelectProps {\n  record: PublishConnectorInfo;\n}\n\nexport const UnionSelect = ({ record }: UnionSelectProps) => {\n  const { connectorUnionMap, unions, setProjectPublishInfo } =\n    useProjectPublishStore(\n      useShallow(state => ({\n        connectorUnionMap: state.connectorUnionMap,\n        unions: state.unions,\n        setProjectPublishInfo: state.setProjectPublishInfo,\n      })),\n    );\n  const unionId = record.connector_union_id ?? '';\n  const unionConnectors = connectorUnionMap[unionId]?.connector_options ?? [];\n  const unionOptionList = unionConnectors.map(c => ({\n    label: c.show_name,\n    value: c.connector_id,\n  }));\n\n  const onSelectUnion = (selectedId: string) => {\n    setProjectPublishInfo({\n      unions: {\n        ...unions,\n        [unionId]: selectedId,\n      },\n    });\n  };\n\n  return (\n    <div className=\"flex\" onClick={e => e.stopPropagation()}>\n      <FormSelect\n        noLabel\n        field={`union_select_${unionId}`}\n        fieldClassName=\"w-[172px]\"\n        className=\"w-full\"\n        optionList={unionOptionList}\n        initValue={unions[unionId]}\n        arrowIcon={<IconCozArrowDown />}\n        onSelect={(val: unknown) => onSelectUnion(val as string)}\n      />\n    </div>\n  );\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { type MouseEventHandler } from 'react';\n\nimport { useShallow } from 'zustand/react/shallow';\nimport classNames from 'classnames';\nimport { type PublishConnectorInfo } from '@coze-arch/idl/intelligence_api';\nimport { I18n } from '@coze-arch/i18n';\nimport { FormSelect, type optionRenderProps } from '@coze-arch/coze-design';\n\nimport { useProjectPublishStore } from '@/store';\nimport {\n  type ChatflowOptionProps,\n  useChatflowOptions,\n} from '@/publish-main/hooks/use-chatflow-options';\n\nimport { OptionWithTooltip } from '../option-with-tooltip';\n\nexport interface WebSdkBindProps {\n  checked: boolean;\n  record: PublishConnectorInfo;\n  onClick: MouseEventHandler;\n}\n\nexport function WebSdkBind({ checked, record, onClick }: WebSdkBindProps) {\n  const { connectorPublishConfig, setProjectPublishInfo } =\n    useProjectPublishStore(\n      useShallow(state => ({\n        connectorPublishConfig: state.connectorPublishConfig,\n        setProjectPublishInfo: state.setProjectPublishInfo,\n      })),\n    );\n  const lastSelectedChatflow =\n    connectorPublishConfig?.[record.id]?.selected_workflows?.[0]?.workflow_id;\n\n  const { chatflowOptions } = useChatflowOptions();\n\n  const handleChatflowSelect = (option: ChatflowOptionProps) => {\n    setProjectPublishInfo({\n      connectorPublishConfig: {\n        ...connectorPublishConfig,\n        [record.id]: {\n          selected_workflows: [\n            {\n              workflow_id: option.value,\n              workflow_name: option.label,\n            },\n          ],\n        },\n      },\n    });\n  };\n\n  const removePublishConfig = () => {\n    useProjectPublishStore.getState().setProjectPublishInfoByImmer(draft => {\n      const target = draft[record.id];\n      if (!target?.selected_workflows) {\n        return;\n      }\n      delete target.selected_workflows;\n    });\n  };\n\n  return (\n    <div className={classNames('flex mt-auto')} onClick={onClick}>\n      <FormSelect\n        field=\"sdk_chatflow\"\n        noLabel\n        showClear\n        noErrorMessage\n        fieldClassName=\"w-[172px]\"\n        className=\"w-full\"\n        placeholder={I18n.t('project_release_Please_select')}\n        initValue={lastSelectedChatflow}\n        optionList={chatflowOptions}\n        renderOptionItem={(option: optionRenderProps) => (\n          <OptionWithTooltip option={option} tooltip={option.tooltip} />\n        )}\n        // onChange is responsible for handling the logic of data emptying\n        // onSelect handles data selection logic\n        onChange={values => {\n          if (typeof values !== 'undefined') {\n            return;\n          }\n          removePublishConfig();\n        }}\n        onSelect={(_: unknown, option: unknown) =>\n          handleChatflowSelect(option as ChatflowOptionProps)\n        }\n        rules={[\n          {\n            required: checked,\n            message: I18n.t('project_release_Please_select'),\n          },\n          // Verify that the selected chatflow exists & & is not disabled\n          {\n            validator: (_rule: unknown, value: unknown) => {\n              if (!checked) {\n                return true;\n              }\n              const selected = chatflowOptions?.find(\n                option => option.value === (value as string),\n              );\n              if (!selected) {\n                return new Error(I18n.t('project_release_chatflow3'));\n              }\n              if (selected.disabled) {\n                return new Error(selected.tooltip);\n              }\n              return true;\n            },\n          },\n        ]}\n      />\n    </div>\n  );\n}\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { UIPreviewType } from '@coze-arch/idl/product_api';\nimport { type UIOption } from '@coze-arch/idl/intelligence_api';\nimport { I18n } from '@coze-arch/i18n';\n\nexport enum DisplayScreen {\n  Web = 'web',\n  Mobile = 'mobile',\n}\n\nexport interface DisplayScreenOption {\n  label: string;\n  value: DisplayScreen;\n  disabled?: boolean;\n  tooltip?: string;\n}\n\nexport function toDisplayScreenOption(uiOption: UIOption): DisplayScreenOption {\n  const publicProps = {\n    disabled: uiOption.available === false,\n    tooltip: uiOption.unavailable_reason,\n  };\n  if (uiOption.ui_channel === UIPreviewType.Web.toString()) {\n    return {\n      value: DisplayScreen.Web,\n      label: I18n.t('builder_canvas_tools_pc'),\n      ...publicProps,\n    };\n  }\n  return {\n    value: DisplayScreen.Mobile,\n    label: I18n.t('builder_canvas_tools_phone'),\n    ...publicProps,\n  };\n}\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ProductStatus, type EntityInfoData } from '@coze-arch/idl/product_api';\nimport { type UIOption } from '@coze-arch/idl/intelligence_api';\nimport { I18n } from '@coze-arch/i18n';\nimport { type FileItem } from '@coze-arch/bot-semi/Upload';\n\nimport {\n  type DisplayScreen,\n  toDisplayScreenOption,\n} from '@/publish-main/utils/display-screen-option';\n\nexport interface TemplateBindInfo {\n  title: string;\n  cover_uri: string;\n  description: string;\n  readme: string;\n  display_screen: DisplayScreen;\n  category_id: string;\n  [k: string]: string;\n}\n\nexport interface TemplateForm {\n  agreement: boolean;\n  name: string;\n  covers: Partial<FileItem>[];\n  description: string;\n  // EditorFullInput plain text form value, only to meet the type requirements, not used in business\n  readme_text: string;\n  // The editor-kit rich text content that actually needs to be passed to the backend\n  readme: string;\n  preview_type: DisplayScreen;\n  category: string;\n}\n\nfunction stringToDeltaSet(str?: string) {\n  if (!str) {\n    return '';\n  }\n  return `{\"0\":{\"ops\":[{\"insert\":\"${str}\\\\n\"}],\"zoneId\":\"0\",\"zoneType\":\"Z\"}}`;\n}\n\nexport function entityInfoToTemplateForm(\n  info: EntityInfoData,\n  uiOption?: UIOption,\n): Partial<TemplateForm> {\n  const isZh = I18n.language.startsWith('zh');\n  const meta = info.meta_info ?? {};\n  const form: Partial<TemplateForm> = {\n    // By default, check Agree to the template payment agreement: already on the shelves, or already configured template information (readme is not empty)\n    agreement: meta.status !== ProductStatus.NeverListed || meta.readme !== '',\n    name: meta.name,\n    covers: meta.covers?.map(c => ({\n      url: c.url,\n      response: c,\n      // Supplements other properties of FileItem for form validation\n      status: 'success',\n      _sizeInvalid: false,\n    })),\n    description: meta.description?.substring(0, isZh ? 100 : 300),\n    readme: meta.readme || stringToDeltaSet(meta.description),\n    category: meta.category?.id,\n  };\n  if (uiOption) {\n    form.preview_type = toDisplayScreenOption(uiOption).value;\n  }\n  return form;\n}\n\nexport function templateFormToBindInfo(form: TemplateForm): TemplateBindInfo {\n  return {\n    title: form.name,\n    cover_uri: form.covers?.[0].response?.uri ?? '',\n    description: form.description,\n    readme: form.readme,\n    display_screen: form.preview_type,\n    category_id: form.category ?? '',\n  };\n}\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { AxiosError } from 'axios';\nimport { type UploadProps } from '@coze-arch/coze-design';\nimport { upLoadFile } from '@coze-arch/bot-utils';\nimport { ProductApi } from '@coze-arch/bot-api';\n\nfunction fileToBase64(file: File): Promise<string> {\n  return new Promise((resolve, reject) => {\n    const fileReader = new FileReader();\n    fileReader.onload = event => {\n      const result = event.target?.result;\n      if (typeof result === 'string') {\n        resolve(result.slice(result.indexOf(',') + 1));\n      } else {\n        reject(new Error('readAsDataURL failed'));\n      }\n    };\n    fileReader.readAsDataURL(file);\n  });\n}\n\nexport const uploadCustomRequest: UploadProps['customRequest'] = async args => {\n  const { fileInstance, onProgress, onSuccess, onError } = args;\n  try {\n    if (!fileInstance) {\n      throw new Error('no file to upload');\n    }\n    const result = await ProductApi.PublicUploadImage(\n      { data: await fileToBase64(fileInstance) },\n      {\n        onUploadProgress: e =>\n          onProgress({ total: e.total ?? fileInstance.size, loaded: e.loaded }),\n      },\n    );\n    onSuccess(result.data);\n  } catch (e) {\n    if (e instanceof AxiosError) {\n      onError(e.request);\n    } else {\n      onError({});\n    }\n  }\n};\n\nexport const uploadCustomRequestImageX: UploadProps['customRequest'] =\n  async args => {\n    const { fileInstance, onProgress, onSuccess, onError } = args;\n    try {\n      if (!fileInstance) {\n        throw new Error('no file to upload');\n      }\n      const uri = await upLoadFile({\n        biz: 'store',\n        file: fileInstance,\n        fileType: 'image',\n        getUploadAuthToken: async () => {\n          const { data } = await ProductApi.PublicGetImageUploadToken();\n          return {\n            data: {\n              service_id: data?.service_id || '',\n              upload_host: data?.upload_host || '',\n              auth: {\n                current_time: data?.current_time || '',\n                expired_time: data?.expired_time || '',\n                session_token: data?.session_token || '',\n                access_key_id: data?.access_key_id || '',\n                secret_access_key: data?.secret_access_key || '',\n              },\n            },\n          };\n        },\n        getProgress: progress => {\n          onProgress({ total: fileInstance.size, loaded: progress });\n        },\n      });\n      const res = await ProductApi.PublicGetImageURL({ uri });\n      onSuccess({ uri, url: res.data?.url });\n    } catch (e) {\n      if (e instanceof AxiosError) {\n        onError(e.request);\n      } else {\n        onError({});\n      }\n    }\n  };\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useRequest } from 'ahooks';\nimport { type ProductEntityType } from '@coze-arch/bot-api/product_api';\nimport { ProductApi } from '@coze-arch/bot-api';\n\nexport interface CategoryOptions {\n  label: string;\n  value: string;\n}\n\nexport function useProductCategoryOptions(entityType: ProductEntityType) {\n  const { data: categoryOptions, loading } = useRequest(async () => {\n    const res = await ProductApi.PublicGetProductCategoryList({\n      need_empty_category: true,\n      entity_type: entityType,\n    });\n    return res.data?.categories?.map(item => ({\n      label: item.name,\n      value: item.id,\n    })) as CategoryOptions[];\n  });\n  return { categoryOptions, loading };\n}\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { AvatarName } from '@coze-studio/components';\nimport { type UserInfo } from '@coze-arch/idl/product_api';\nimport { I18n } from '@coze-arch/i18n';\nimport { IconCozImage } from '@coze-arch/coze-design/icons';\nimport { Image, Typography } from '@coze-arch/coze-design';\n\nexport interface TemplatePreviewCardProps {\n  userInfo?: UserInfo;\n  cover?: string;\n  name?: string;\n  description?: string;\n}\n\n// Basically copied packages/studio/template/pages/src/components/template-list-card/index.tsx\nexport function TemplatePreviewCard({\n  userInfo,\n  cover,\n  name,\n  description,\n}: TemplatePreviewCardProps) {\n  const userLabel = userInfo?.user_label\n    ? {\n        name: userInfo.user_label.label_name,\n        icon: userInfo.user_label.icon_url,\n        href: userInfo.user_label.jump_link,\n      }\n    : undefined;\n\n  return (\n    <div className=\"flex flex-col overflow-hidden p-[12px] pb-[16px] rounded-[16px] border border-solid coz-stroke-primary coz-bg-max coz-shadow-small\">\n      <div className=\"relative w-full h-[140px] rounded-[8px] overflow-hidden\">\n        <Image\n          preview={false}\n          src={cover}\n          className=\"w-full h-full\"\n          imgCls=\"w-full h-full object-cover object-center\"\n          placeholder={<IconCozImage className=\"w-[32px] h-[32px]\" />}\n        />\n      </div>\n\n      <div className=\"mt-[8px] px-[4px] grow flex flex-col\">\n        <div className=\"flex items-center gap-[8px] overflow-hidden\">\n          <Typography.Text\n            className=\"!font-medium text-[16px] leading-[22px] coz-fg-primary !max-w-[180px]\"\n            ellipsis={{ showTooltip: true, rows: 1 }}\n          >\n            {name ?? I18n.t('project_release_template_info_name')}\n          </Typography.Text>\n        </div>\n\n        <AvatarName\n          className=\"mt-[4px]\"\n          avatar={userInfo?.avatar_url}\n          name={userInfo?.name}\n          username={userInfo?.user_name}\n          label={userLabel}\n        />\n\n        <div className=\"mt-[8px] flex flex-col justify-between grow\">\n          <Typography.Text\n            className=\"min-h-[44px] leading-[20px] coz-fg-secondary\"\n            ellipsis={{ showTooltip: true, rows: 2 }}\n          >\n            {description ?? I18n.t('project_release_template_info_desc')}\n          </Typography.Text>\n        </div>\n      </div>\n    </div>\n  );\n}\n","\n      import API from \"!../../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n       export default content && content.locals ? content.locals : undefined;\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  forwardRef,\n  useImperativeHandle,\n  useRef,\n  useState,\n  Suspense,\n} from 'react';\n\nimport classNames from 'classnames';\nimport { ProductEntityType, type UserInfo } from '@coze-arch/idl/product_api';\nimport { type PublishConnectorInfo } from '@coze-arch/idl/intelligence_api';\nimport { I18n, type I18nKeysNoOptionsType } from '@coze-arch/i18n';\nimport { typeSafeJSONParse } from '@coze-arch/bot-utils';\nimport { useFlags } from '@coze-arch/bot-flags';\nimport {\n  LazyEditorFullInput,\n  DeltaSet,\n  type DeltaSetOptions,\n  type Editor,\n  EditorEventType,\n  normalizeSchema,\n} from '@coze-common/md-editor-adapter';\nimport { IconCozPlus } from '@coze-arch/coze-design/icons';\nimport {\n  type FileItem,\n  Form,\n  FormInput,\n  FormSelect,\n  Typography,\n  type optionRenderProps,\n} from '@coze-arch/coze-design';\n\nimport {\n  uploadCustomRequest,\n  uploadCustomRequestImageX,\n} from '@/utils/upload-custom-request';\nimport { toDisplayScreenOption } from '@/publish-main/utils/display-screen-option';\nimport { useProductCategoryOptions } from '@/publish-main/hooks/use-product-category-options';\n\nimport { OptionWithTooltip } from '../../option-with-tooltip';\nimport { type TemplateForm } from './types';\nimport { TemplatePreviewCard } from './template-preview-card';\n\nimport s from './index.module.less';\n\nfunction getRequiredRules(type: I18nKeysNoOptionsType) {\n  return [\n    {\n      required: true,\n      message: I18n.t('project_release_template_info_not', {\n        template_info_type: I18n.t(type),\n      }),\n    },\n  ];\n}\n\nexport interface TemplateConfigFormRef {\n  fillInitialValues: (values: Partial<TemplateForm>) => void;\n  validate: () => Promise<TemplateForm> | undefined;\n}\n\nexport interface TemplateConfigFormProps {\n  record: PublishConnectorInfo;\n  userInfo?: UserInfo;\n}\n\nexport const TemplateConfigForm = forwardRef<\n  TemplateConfigFormRef,\n  TemplateConfigFormProps\n  // eslint-disable-next-line @coze-arch/max-line-per-function\n>(({ record, userInfo }, ref) => {\n  const [FLAGS] = useFlags();\n  // Support soon, so stay tuned.\n  const customRequest = FLAGS['bot.studio.project_publish_imagex']\n    ? uploadCustomRequestImageX\n    : uploadCustomRequest;\n  const uiChannelOptions = record.UIOptions?.map(toDisplayScreenOption) ?? [];\n  const formRef = useRef<Form<TemplateForm>>(null);\n  const [formValues, setFormValues] = useState<Partial<TemplateForm>>({});\n  const editorRef = useRef<Editor>();\n  const onEditorInit = (editor: Editor) => {\n    editorRef.current = editor;\n    // EditorFullInput's form value is plain text, but here you need to submit editor-kit rich text content\n    editor.on(EditorEventType.CONTENT_CHANGE, _ => {\n      formRef.current?.formApi?.setValue(\n        'readme',\n        JSON.stringify(editor.getContent().deltas),\n      );\n    });\n  };\n  const { categoryOptions } = useProductCategoryOptions(\n    ProductEntityType.TemplateCommon,\n  );\n\n  useImperativeHandle(ref, () => ({\n    fillInitialValues: values => {\n      const formApi = formRef.current?.formApi;\n      if (!formApi) {\n        return;\n      }\n      formApi.setValues(values, { isOverride: true });\n      const readme = typeSafeJSONParse(values.readme);\n      if (readme) {\n        editorRef.current?.setContent(\n          new DeltaSet(normalizeSchema(readme as DeltaSetOptions)),\n        );\n      }\n      // @ts-expect-error -- values is the TemplateForm type\n      Object.keys(values).forEach(key => formApi.setError(key, null));\n    },\n    validate: () => formRef.current?.formApi?.validate(),\n  }));\n\n  const isZh = I18n.language.startsWith('zh');\n\n  return (\n    <Form<TemplateForm>\n      ref={formRef}\n      className={classNames('flex gap-[24px]', s['template-form'])}\n      onValueChange={values => setFormValues({ ...values })}\n    >\n      <div className=\"w-[320px] absolute flex flex-col h-full justify-center\">\n        <TemplatePreviewCard\n          userInfo={userInfo}\n          cover={formValues?.covers?.[0]?.url}\n          name={formValues?.name}\n          description={formValues?.description}\n        />\n        <Form.Checkbox\n          field=\"agreement\"\n          noLabel\n          className=\"mt-[16px]\"\n          rules={[\n            {\n              // The consent agreement must be checked to pass the verification.\n              validator: (_rule: unknown, value: unknown) =>\n                (value as boolean) === true,\n              message: I18n.t('template_buy_paid_agreement_toast'),\n            },\n          ]}\n        >\n          <Typography.Text>\n            {I18n.t('template_buy_paid_agreement_action')}\n            <Typography.Text\n              className=\"ml-[4px]\"\n              link={{\n                href: '/docs/guides/terms_of_template',\n                target: '_blank',\n              }}\n            >\n              {I18n.t('template_buy_paid_agreement_detail')}\n            </Typography.Text>\n          </Typography.Text>\n        </Form.Checkbox>\n      </div>\n      <div className=\"w-[320px] shrink-0\"></div>\n      <div className=\"grow\">\n        <FormInput\n          field=\"name\"\n          label={I18n.t('project_release_template_info_name')}\n          maxLength={isZh ? 10 : 30}\n          rules={getRequiredRules('project_release_template_info_name')}\n        />\n        <Form.Upload\n          field=\"covers\"\n          label={I18n.t('project_release_template_info_poster')}\n          listType=\"picture\"\n          accept=\".jpeg,.jpg,.png,.webp\"\n          limit={1}\n          maxSize={5 * 1024}\n          action=\"\"\n          customRequest={customRequest}\n          picWidth={80}\n          picHeight={80}\n          rules={[\n            ...getRequiredRules('project_release_template_info_poster'),\n            {\n              validator: (_rule: unknown, value: unknown) =>\n                (value as FileItem[] | undefined)?.every(\n                  item => !item._sizeInvalid && item.status === 'success',\n                ) === true,\n              message: '', // Verify whether the file size meets the limit & & whether the upload was successful, the Upload component will display an error message\n            },\n          ]}\n        >\n          <IconCozPlus className=\"w-[24px] h-[24px] coz-fg-primary\" />\n        </Form.Upload>\n        <FormInput\n          field=\"description\"\n          label={I18n.t('project_release_template_info_desc')}\n          maxLength={isZh ? 100 : 300}\n          rules={getRequiredRules('project_release_template_info_desc')}\n        />\n        <Suspense fallback={null}>\n          <LazyEditorFullInput\n            field=\"readme_text\"\n            label={I18n.t('project_release_template_info_info')}\n            className={classNames('h-[132px]', s['editor-container'])}\n            maxCount={isZh ? 1000 : 3000}\n            getEditor={onEditorInit}\n            rules={getRequiredRules('project_release_template_info_info')}\n          />\n        </Suspense>\n        <FormSelect\n          field=\"preview_type\"\n          label={I18n.t('project_release_template_info_display')}\n          optionList={uiChannelOptions}\n          renderOptionItem={(option: optionRenderProps) => (\n            <OptionWithTooltip option={option} tooltip={option.tooltip} />\n          )}\n          fieldClassName=\"w-full\"\n          className=\"w-full\"\n          rules={getRequiredRules('project_release_template_info_display')}\n        />\n        <FormSelect\n          field=\"category\"\n          label={I18n.t('project_release_template_info_category')}\n          optionList={categoryOptions}\n          fieldClassName=\"w-full\"\n          className=\"w-full\"\n          rules={getRequiredRules('project_release_template_info_category')}\n        />\n      </div>\n    </Form>\n  );\n});\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// @File open source version does not support template channel binding for future expansion\nimport { useParams } from 'react-router-dom';\nimport { type MouseEventHandler, useEffect, useRef, useState } from 'react';\n\nimport { useShallow } from 'zustand/react/shallow';\nimport classNames from 'classnames';\nimport { ProductEntityType, type UserInfo } from '@coze-arch/idl/product_api';\nimport { type PublishConnectorInfo } from '@coze-arch/idl/intelligence_api';\nimport { I18n } from '@coze-arch/i18n';\nimport { type DynamicParams } from '@coze-arch/bot-typings/teamspace';\nimport { ProductApi } from '@coze-arch/bot-api';\nimport { Button, Modal } from '@coze-arch/coze-design';\n\nimport { useProjectPublishStore } from '@/store';\n\nimport {\n  entityInfoToTemplateForm,\n  type TemplateForm,\n  templateFormToBindInfo,\n} from './types';\nimport {\n  TemplateConfigForm,\n  type TemplateConfigFormRef,\n} from './template-config-form';\n\ninterface TemplateBindProps {\n  record: PublishConnectorInfo;\n  onClick: MouseEventHandler;\n}\n\nexport function TemplateBind({\n  record,\n  onClick: inputOnClick,\n}: TemplateBindProps) {\n  const [modalVisible, setModalVisible] = useState(false);\n  const [userInfo, setUserInfo] = useState<UserInfo>();\n  const templateConfigForm = useRef<TemplateConfigFormRef>(null);\n  const [savedValues, setSavedValues] = useState<Partial<TemplateForm>>();\n\n  const { connectors, setProjectPublishInfo } = useProjectPublishStore(\n    useShallow(state => ({\n      connectors: state.connectors,\n      setProjectPublishInfo: state.setProjectPublishInfo,\n    })),\n  );\n\n  const { project_id = '' } = useParams<DynamicParams>();\n\n  // Backfill template configuration\n  const fillTemplateFrom = async () => {\n    const productInfo = await ProductApi.PublicGetProductEntityInfo({\n      entity_id: project_id,\n      entity_type: ProductEntityType.ProjectTemplate,\n    });\n    if (productInfo.data.meta_info?.name) {\n      const formValues = entityInfoToTemplateForm(\n        productInfo.data,\n        record.UIOptions?.find(item => item.available),\n      );\n      setSavedValues(formValues);\n      setProjectPublishInfo({\n        templateConfigured: formValues.agreement === true,\n        connectors: {\n          ...connectors,\n          // @ts-expect-error can accept Partial\n          [record.id]: templateFormToBindInfo(formValues),\n        },\n      });\n    }\n    if (productInfo.data.meta_info?.user_info) {\n      setUserInfo(productInfo.data.meta_info.user_info);\n    }\n  };\n\n  useEffect(() => {\n    fillTemplateFrom();\n  }, []);\n\n  const showModal = () => {\n    templateConfigForm.current?.fillInitialValues(savedValues ?? {});\n    setModalVisible(true);\n  };\n  const closeModal = () => {\n    setModalVisible(false);\n  };\n\n  const handleSubmit = async () => {\n    const formValues = await templateConfigForm.current?.validate();\n    if (!formValues) {\n      return;\n    }\n    setSavedValues(formValues);\n    setProjectPublishInfo({\n      templateConfigured: true,\n      connectors: {\n        ...connectors,\n        [record.id]: templateFormToBindInfo(formValues),\n      },\n    });\n    closeModal();\n  };\n\n  return (\n    <div\n      className={classNames('h-full flex items-end', {\n        hidden: !record.allow_publish,\n      })}\n      onClick={inputOnClick}\n    >\n      <Button size=\"small\" color=\"primary\" onClick={showModal}>\n        {I18n.t('project_release_template_info')}\n      </Button>\n      <Modal\n        title={I18n.t('project_release_template_info')}\n        width={800}\n        visible={modalVisible}\n        closable\n        onCancel={closeModal}\n        onOk={handleSubmit}\n        okText={I18n.t('prompt_submit')}\n        lazyRender={false}\n        keepDOM={true}\n      >\n        <TemplateConfigForm\n          ref={templateConfigForm}\n          record={record}\n          userInfo={userInfo}\n        />\n      </Modal>\n    </div>\n  );\n}\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// @File open source version does not support store channel binding for future expansion\nimport { type MouseEventHandler } from 'react';\n\nimport { useShallow } from 'zustand/react/shallow';\nimport classNames from 'classnames';\nimport { type PublishConnectorInfo } from '@coze-arch/idl/intelligence_api';\nimport { I18n } from '@coze-arch/i18n';\nimport { ProductEntityType } from '@coze-arch/bot-api/product_api';\nimport { FormSelect, type optionRenderProps } from '@coze-arch/coze-design';\n\nimport { type StoreBindKey, useProjectPublishStore } from '@/store';\nimport { toDisplayScreenOption } from '@/publish-main/utils/display-screen-option';\nimport { useProductCategoryOptions } from '@/publish-main/hooks/use-product-category-options';\n\nimport { OptionWithTooltip } from '../option-with-tooltip';\n\nexport interface StoreBindProps {\n  checked: boolean;\n  record: PublishConnectorInfo;\n  onClick: MouseEventHandler;\n}\n\nexport const StoreBind = ({\n  checked,\n  record,\n  onClick: inputOnClick,\n}: StoreBindProps) => {\n  const { bind_info, id = '', UIOptions } = record;\n  const displayScreenOptions = UIOptions?.map(toDisplayScreenOption) ?? [];\n  const defaultDisplayScreen = bind_info?.display_screen;\n  const { connectors, setProjectPublishInfo } = useProjectPublishStore(\n    useShallow(state => ({\n      connectors: state.connectors,\n      setProjectPublishInfo: state.setProjectPublishInfo,\n    })),\n  );\n\n  const { categoryOptions } = useProductCategoryOptions(ProductEntityType.Bot);\n\n  const handleSelect = (key: StoreBindKey, value: string) => {\n    setProjectPublishInfo({\n      connectors: {\n        ...connectors,\n        [id]: {\n          ...bind_info,\n          ...connectors[id],\n          [key]: value,\n        },\n      },\n    });\n  };\n\n  return (\n    <div\n      className={classNames('flex w-full gap-[6px] mt-auto')}\n      onClick={inputOnClick}\n    >\n      <FormSelect\n        noLabel\n        field=\"store_display_screen\"\n        insetLabel={I18n.t('project_release_display_label')}\n        fieldClassName=\"w-[50%]\"\n        className=\"w-full\"\n        initValue={defaultDisplayScreen}\n        optionList={displayScreenOptions}\n        renderOptionItem={(option: optionRenderProps) => (\n          <OptionWithTooltip option={option} tooltip={option.tooltip} />\n        )}\n        rules={[{ required: checked }]}\n        onSelect={(value: unknown) =>\n          handleSelect('display_screen', value as string)\n        }\n      />\n      <FormSelect\n        noLabel\n        field=\"store_category_id\"\n        insetLabel={I18n.t('mkpl_bots_category')}\n        fieldClassName=\"w-[50%]\"\n        className=\"w-full\"\n        placeholder={I18n.t('select_category')}\n        initValue={bind_info?.category_id}\n        optionList={categoryOptions}\n        rules={[\n          {\n            required: checked,\n            message: I18n.t('select_category'),\n          },\n        ]}\n        onSelect={(value: unknown) =>\n          handleSelect('category_id', value as string)\n        }\n      />\n    </div>\n  );\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { type MouseEventHandler } from 'react';\n\nimport { useShallow } from 'zustand/react/shallow';\nimport classNames from 'classnames';\nimport {\n  ConnectorBindType,\n  type PublishConnectorInfo,\n  ConnectorConfigStatus,\n  ConnectorStatus,\n} from '@coze-arch/idl/intelligence_api';\nimport { KvBindButton } from '@coze-agent-ide/space-bot/component/connector-action';\nimport { AuthorizeButton } from '@coze-agent-ide/space-bot/component/authorize-button';\n\nimport { TEMPLATE_CONNECTOR_ID } from '@/utils/constants';\n\nimport { useProjectPublishStore } from '../../store';\nimport { useBizConnectorAnchor } from '../../hooks/use-biz-connector-anchor';\nimport { WebSdkBind } from './bind-actions/web-sdk-bind';\nimport { TemplateBind } from './bind-actions/template-bind';\nimport { StoreBind } from './bind-actions/store-bind';\n// import { ApiBind } from './bind-actions/api-bind';\n\ninterface ConnectorActionProps {\n  record: PublishConnectorInfo;\n  checked: boolean;\n  authActionWrapperClassName?: string;\n}\nexport function ConnectorAction(props: ConnectorActionProps) {\n  const { record, checked, authActionWrapperClassName } = props;\n\n  const { setProjectPublishInfo, connectorList, selectedConnectorIds } =\n    useProjectPublishStore(\n      useShallow(state => ({\n        setProjectPublishInfo: state.setProjectPublishInfo,\n        connectorList: state.connectorList,\n        selectedConnectorIds: state.selectedConnectorIds,\n      })),\n    );\n\n  const { setAnchor } = useBizConnectorAnchor();\n  const stopEventPropagation: MouseEventHandler = mouseEvent => {\n    mouseEvent.stopPropagation();\n  };\n\n  // The bind/unbind is the same callback, which can be distinguished by whether the bind_id is empty or not\n  const kvBindSuccessCallback = (value?: PublishConnectorInfo) => {\n    if (value) {\n      const isUnbind = !value.bind_id;\n      const newValue: PublishConnectorInfo = {\n        ...value,\n        config_status: isUnbind\n          ? ConnectorConfigStatus.NotConfigured\n          : ConnectorConfigStatus.Configured,\n        connector_status: isUnbind\n          ? ConnectorStatus.Normal\n          : value.connector_status,\n      };\n      setProjectPublishInfo({\n        connectorList: connectorList.map(item =>\n          item.id === value.id ? newValue : item,\n        ),\n      });\n    }\n  };\n\n  const authRevokeSuccess = () => {\n    setProjectPublishInfo({\n      connectorList: connectorList.map(item => {\n        if (item.id === record.id) {\n          return {\n            ...item,\n            config_status: ConnectorConfigStatus.NotConfigured,\n          };\n        }\n        return item;\n      }),\n      selectedConnectorIds: selectedConnectorIds.filter(\n        item => item !== record.id,\n      ),\n    });\n  };\n\n  switch (record.bind_type) {\n    case ConnectorBindType.KvBind:\n    case ConnectorBindType.KvAuthBind:\n      return (\n        // Force flex row wrap with basis-full\n        <div\n          className={classNames(\n            'basis-full self-end',\n            authActionWrapperClassName,\n          )}\n        >\n          <div className=\"inline-flex\" onClick={stopEventPropagation}>\n            <KvBindButton\n              record={record}\n              bindSuccessCallback={kvBindSuccessCallback}\n              origin=\"project\"\n            />\n          </div>\n        </div>\n      );\n    case ConnectorBindType.AuthBind:\n      return (\n        <div\n          className={classNames(\n            'basis-full self-end',\n            authActionWrapperClassName,\n          )}\n        >\n          <div className=\"inline-flex\" onClick={stopEventPropagation}>\n            <AuthorizeButton\n              origin=\"publish\"\n              id={record.id}\n              agentType=\"project\"\n              channelName={record.name}\n              status={\n                record.config_status ?? ConnectorConfigStatus.NotConfigured\n              }\n              onBeforeAuthRedirect={({ id }) => {\n                setAnchor(id);\n              }}\n              revokeSuccess={authRevokeSuccess}\n              authInfo={record?.auth_login_info ?? {}}\n              isV2\n              v2ButtonProps={{\n                color: 'primary',\n                size: 'small',\n              }}\n            />\n          </div>\n        </div>\n      );\n    case ConnectorBindType.WebSDKBind:\n      return (\n        <WebSdkBind\n          checked={checked}\n          record={record}\n          onClick={stopEventPropagation}\n        />\n      );\n    // The open-source version does not support store channel binding for the time being, for future expansion\n    case ConnectorBindType.StoreBind:\n      return (\n        <StoreBind\n          checked={checked}\n          record={record}\n          onClick={stopEventPropagation}\n        />\n      );\n    // The open-source version does not support template channel binding for future expansion\n    // bind_type = 9 is used as the logo of the first-party channel of the button, and the binding method needs to be displayed according to the channel ID.\n    // TODO backend updates ConnectorBindType type definition\n    case ConnectorBindType.TemplateBind: {\n      if (record.id === TEMPLATE_CONNECTOR_ID) {\n        return <TemplateBind record={record} onClick={stopEventPropagation} />;\n      }\n      return null;\n    }\n    default:\n      return null;\n  }\n}\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  ConnectorBindType,\n  ConnectorConfigStatus,\n  type PublishConnectorInfo,\n} from '@coze-arch/idl/intelligence_api';\nimport { I18n } from '@coze-arch/i18n';\nimport { type TagProps } from '@coze-arch/coze-design';\n\ninterface ConfigStatusUI {\n  text: string;\n  color: TagProps['color'];\n}\n\nexport const getConfigStatus = (\n  record: PublishConnectorInfo,\n): ConfigStatusUI => {\n  const { bind_type } = record;\n\n  if (\n    bind_type === ConnectorBindType.KvBind ||\n    bind_type === ConnectorBindType.KvAuthBind ||\n    bind_type === ConnectorBindType.TemplateBind\n  ) {\n    return getKvBindStatus(record);\n  }\n\n  return getDefaultStatus(record);\n};\n\nconst getKvBindStatus = (record: PublishConnectorInfo): ConfigStatusUI => {\n  const { config_status = ConnectorConfigStatus.Configured } = record;\n\n  const couldPublish = config_status === ConnectorConfigStatus.Configured;\n  const color = couldPublish ? 'green' : 'primary';\n\n  const textMap = {\n    [ConnectorConfigStatus.Configured]: I18n.t(\n      'bot_publish_columns_status_configured',\n    ),\n    [ConnectorConfigStatus.NotConfigured]: I18n.t(\n      'bot_publish_columns_status_not_configured',\n    ),\n    // Business will not go to the following 3 cases\n    [ConnectorConfigStatus.Configuring]: '',\n    [ConnectorConfigStatus.Disconnected]: '',\n    [ConnectorConfigStatus.NeedReconfiguring]: '',\n  };\n\n  return {\n    text: textMap[config_status],\n    color,\n  };\n};\n\nconst getDefaultStatus = (record: PublishConnectorInfo): ConfigStatusUI => {\n  const { config_status = ConnectorConfigStatus.Configured } = record;\n  const couldPublish = config_status === ConnectorConfigStatus.Configured;\n  const color = couldPublish ? 'green' : 'primary';\n\n  const textMap = {\n    [ConnectorConfigStatus.Configured]: I18n.t(\n      'bot_publish_columns_status_authorized',\n    ),\n    [ConnectorConfigStatus.NotConfigured]: I18n.t(\n      'bot_publish_columns_status_unauthorized',\n    ),\n    [ConnectorConfigStatus.Configuring]: I18n.t('publish_douyin_config_ing'),\n    [ConnectorConfigStatus.Disconnected]: '',\n    [ConnectorConfigStatus.NeedReconfiguring]: '',\n  };\n\n  return {\n    text: textMap[config_status],\n    color,\n  };\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  ConnectorBindType,\n  ConnectorClassification,\n  ConnectorStatus,\n  type PublishConnectorInfo,\n} from '@coze-arch/idl/intelligence_api';\nimport { I18n } from '@coze-arch/i18n';\nimport { IconCozInfoCircle } from '@coze-arch/coze-design/icons';\nimport { Tag, type TagProps, Tooltip } from '@coze-arch/coze-design';\n\nimport { getConfigStatus } from '../utils/get-config-status';\n\ninterface TipTagProps {\n  showText: string;\n  tip: string;\n  tagProps?: TagProps;\n}\n\nconst TipTag: React.FC<TipTagProps> = ({ showText, tip, tagProps }) => (\n  <Tooltip content={tip}>\n    {showText ? (\n      <Tag color=\"yellow\" {...tagProps} size=\"mini\" className=\"font-[500]\">\n        {showText}\n        <IconCozInfoCircle />\n      </Tag>\n    ) : (\n      <IconCozInfoCircle />\n    )}\n  </Tooltip>\n);\n\n/** Channel categories that need to display configuration status */\nconst Classes = [\n  ConnectorClassification.SocialPlatform,\n  ConnectorClassification.MiniProgram,\n  ConnectorClassification.CozeSpaceExtensionLibrary,\n];\n\nexport const ConfigStatus = ({ record }: { record: PublishConnectorInfo }) => {\n  if (\n    !Classes.includes(record.connector_classification) ||\n    record.bind_type === ConnectorBindType.NoBindRequired\n  ) {\n    return null;\n  }\n\n  const { text, color } = getConfigStatus(record);\n\n  return (\n    <div className=\"flex gap-[6px]\">\n      {/* configuration status */}\n      <Tag color={color} size=\"mini\" className=\"font-[500]\">\n        {text}\n      </Tag>\n      {record?.connector_status === ConnectorStatus.Normal ? null : (\n        <TipTag\n          showText={\n            record?.connector_status === ConnectorStatus.InReview\n              ? I18n.t('bot_publish_columns_status_in_review')\n              : I18n.t('bot_publish_columns_status_offline')\n          }\n          tip={\n            record?.connector_status === ConnectorStatus.InReview\n              ? I18n.t('bot_publish_in_review_notice')\n              : I18n.t('bot_publish_offline_notice_no_certain_time', {\n                  platform: record?.name,\n                })\n          }\n        />\n      )}\n    </div>\n  );\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { type MouseEventHandler } from 'react';\n\nimport { useShallow } from 'zustand/react/shallow';\nimport classNames from 'classnames';\nimport { I18n } from '@coze-arch/i18n';\nimport { Button, Modal } from '@coze-arch/coze-design';\nimport { type DynamicParams } from '@coze-arch/bot-typings/teamspace';\nimport { DeveloperApi } from '@coze-arch/bot-api';\nimport { useParams } from 'react-router-dom';\n\nimport { useProjectPublishStore } from '../../../store';\n\ninterface UnbindButtonProps {\n  bindId: string;\n  checked: boolean;\n  connectorId: string;\n  className?: string;\n  onClick: MouseEventHandler;\n}\n\nconst PROJECT_AGENT_TYPE = 1;\n\n// Unpublish for APIs or WebSDKs\nexport const UndoButton = (props: UnbindButtonProps) => {\n  const {\n    bindId,\n    checked,\n    connectorId,\n    className,\n    onClick: inputOnclick,\n  } = props;\n  const { space_id = '', project_id = '' } = useParams<DynamicParams>();\n\n  const { setProjectPublishInfo, selectedConnectorIds, connectorList } =\n    useProjectPublishStore(\n      useShallow(state => ({\n        selectedConnectorIds: state.selectedConnectorIds,\n        setProjectPublishInfo: state.setProjectPublishInfo,\n        connectorList: state.connectorList,\n      })),\n    );\n\n  const handleUnbind: MouseEventHandler = e => {\n    inputOnclick(e);\n    Modal.confirm({\n      title: I18n.t('project_release_cancel1'),\n      content: I18n.t('project_release_cancel1_desc'),\n      okText: I18n.t('project_release_cancel'),\n      okButtonColor: 'red',\n      cancelText: I18n.t('Cancel'),\n      onOk: async () => {\n        await DeveloperApi.UnBindConnector({\n          bind_id: bindId,\n          agent_type: PROJECT_AGENT_TYPE,\n          space_id,\n          bot_id: project_id,\n          connector_id: connectorId,\n        });\n        setProjectPublishInfo({\n          selectedConnectorIds: selectedConnectorIds.filter(\n            id => id !== connectorId,\n          ),\n          connectorList: connectorList.map(item => {\n            if (item.id === connectorId) {\n              return {\n                ...item,\n                bind_id: '',\n              };\n            }\n            return item;\n          }),\n        });\n      },\n    });\n  };\n  return bindId && checked ? (\n    <Button\n      onClick={handleUnbind}\n      size=\"small\"\n      color=\"primary\"\n      className={classNames('w-max', className)}\n    >\n      {I18n.t('project_release_cancel')}\n    </Button>\n  ) : null;\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* eslint-disable complexity */\nimport ReactMarkdown from 'react-markdown';\nimport { type MouseEventHandler, useEffect, useRef } from 'react';\n\nimport { useShallow } from 'zustand/react/shallow';\nimport classNames from 'classnames';\nimport { useHover } from 'ahooks';\nimport {\n  ConnectorBindType,\n  ConnectorClassification,\n  ConnectorConfigStatus,\n  type ConnectorPublishConfig,\n  type PublishConnectorInfo,\n} from '@coze-arch/idl/intelligence_api';\nimport { I18n } from '@coze-arch/i18n';\nimport { Checkbox, Tooltip, Typography } from '@coze-arch/coze-design';\nimport { typeSafeJSONParse } from '@coze-arch/bot-utils';\nimport { type TextProps } from '@coze-arch/bot-semi/Typography';\n\nimport { TEMPLATE_CONNECTOR_ID } from '@/utils/constants';\nimport { useProjectPublishStore } from '@/store';\n\nimport { isStoreBindConfigured } from '../utils/is-store-bind-configured';\nimport { getConnectorNotConfigured } from '../utils/connector-disabled-publish';\nimport { McpConfigBtn } from './mcp-config-btn';\nimport { UnionSelect } from './connector-union-select';\nimport { ConnectorAction } from './connector-action';\nimport { ConfigStatus } from './config-status';\nimport { UndoButton } from './bind-actions/undo-button';\n\nenum DisabledReason {\n  /** Chatflow is not selected for social channels. */\n  SocialPlatform,\n  /** Unbound, Unauthorized */\n  NotConfigured,\n  /** The reason for the back-end delivery */\n  NotAllowed,\n  /** No template configured */\n  Template,\n}\n\ninterface ConnectorDisabledConfig {\n  reason: DisabledReason;\n  text?: string;\n}\n\nfunction getConnectorDisabledConfig({\n  connector,\n  socialPlatformConfig,\n  templateConfigured,\n  connectorPublishConfig,\n  connectorConfigMap,\n}: {\n  connector: PublishConnectorInfo;\n  socialPlatformConfig: ConnectorPublishConfig | undefined;\n  templateConfigured: boolean | undefined;\n  connectorPublishConfig: Record<string, ConnectorPublishConfig>;\n  connectorConfigMap: Record<string, Record<string, string>>;\n}): ConnectorDisabledConfig | undefined {\n  if (\n    connector.connector_classification ===\n      ConnectorClassification.SocialPlatform &&\n    !socialPlatformConfig?.selected_workflows?.[0]?.workflow_id\n  ) {\n    // Post to social channels without Chatflow selected.\n    return {\n      reason: DisabledReason.SocialPlatform,\n      text: I18n.t('project_release_chatflow4'),\n    };\n  }\n  const notConfigured = {\n    reason: DisabledReason.NotConfigured,\n    text: I18n.t('project_release_set_desc'),\n  };\n  // Unbound, Unauthorized\n  if (getConnectorNotConfigured(connector)) {\n    return notConfigured;\n  }\n  // The reason why it cannot be released after being issued by the backend.\n  if (!connector.allow_publish && connector.not_allow_publish_reason) {\n    return {\n      reason: DisabledReason.NotAllowed,\n      text: connector.not_allow_publish_reason,\n    };\n  }\n  // No template configured\n  if (connector.id === TEMPLATE_CONNECTOR_ID && !templateConfigured) {\n    return {\n      reason: DisabledReason.Template,\n      text: I18n.t('project_release_template_info'),\n    };\n  }\n\n  const isWebSDK =\n    connector.connector_classification === ConnectorClassification.APIOrSDK &&\n    connector.bind_type === ConnectorBindType.WebSDKBind;\n\n  const isSdkChatFlowConfigured = Boolean(\n    connectorPublishConfig[connector.id]?.selected_workflows,\n  );\n\n  if (isWebSDK && !isSdkChatFlowConfigured) {\n    return notConfigured;\n  }\n  const isStorePublish =\n    connector.connector_classification === ConnectorClassification.Coze &&\n    connector.bind_type === ConnectorBindType.StoreBind;\n  const storeConfig = connectorConfigMap[connector.id];\n  if (isStorePublish && (!storeConfig || !isStoreBindConfigured(storeConfig))) {\n    return notConfigured;\n  }\n}\n\n// Additional descriptive information agreed upon with the backend\ninterface DescriptionExtra {\n  // Channel name hover tooltip\n  text?: string;\n}\n\nexport interface ConnectorCardProps {\n  connectorInfo: PublishConnectorInfo;\n  checked: boolean;\n  onCheckedChange: (checked: boolean) => void;\n  onShowWebSdkGuide: () => void;\n}\n\n// eslint-disable-next-line @coze-arch/max-line-per-function -- it's complex\nexport function ConnectorCard({\n  connectorInfo,\n  checked,\n  onCheckedChange,\n  onShowWebSdkGuide,\n}: ConnectorCardProps) {\n  const { id, name, description, bind_id = '' } = connectorInfo;\n\n  const {\n    templateConfigured,\n    socialPlatformChatflow,\n    connectorPublishConfig,\n    connectors,\n  } = useProjectPublishStore(\n    useShallow(state => ({\n      templateConfigured: state.templateConfigured,\n      socialPlatformChatflow: state.socialPlatformChatflow,\n      connectorPublishConfig: state.connectorPublishConfig,\n      connectors: state.connectors,\n    })),\n  );\n  const divRef = useRef<HTMLDivElement>(null);\n  const isHover = useHover(divRef.current);\n\n  const disabledConfig = getConnectorDisabledConfig({\n    connector: connectorInfo,\n    socialPlatformConfig: socialPlatformChatflow,\n    templateConfigured,\n    connectorPublishConfig,\n    connectorConfigMap: connectors,\n  });\n  // The open-source version does not support social platform channels for future expansion.\n  // When the social channel does not select \"Process message conversation flow\", the entire card needs to be displayed as disabled.\n  const cardDisabled = disabledConfig?.reason === DisabledReason.SocialPlatform;\n\n  const descriptionExtra = (typeSafeJSONParse(\n    connectorInfo.description_extra,\n  ) ?? {}) as DescriptionExtra;\n\n  // If the disabled status changes, uncheck the current channel\n  useEffect(() => {\n    if (checked && disabledConfig) {\n      onCheckedChange(false);\n    }\n  }, [checked, disabledConfig]);\n\n  const connectorCheckbox = (\n    <Checkbox\n      checked={checked}\n      onChange={() => {\n        if (!disabledConfig) {\n          onCheckedChange(!checked);\n        }\n      }}\n      data-testid=\"project.publish.select.connector\"\n      disabled={Boolean(disabledConfig)}\n    />\n  );\n  const stopEventPropagation: MouseEventHandler = mouseEvent => {\n    mouseEvent.stopPropagation();\n  };\n\n  const getIsShowAction = () => {\n    const isConnectorAuth = [\n      ConnectorBindType.KvBind,\n      ConnectorBindType.KvAuthBind,\n      ConnectorBindType.AuthBind,\n    ].includes(connectorInfo.bind_type);\n    const isConnectorAuthConfigured =\n      connectorInfo.config_status === ConnectorConfigStatus.Configured;\n\n    if (isConnectorAuth) {\n      return (\n        !isConnectorAuthConfigured || (isConnectorAuthConfigured && isHover)\n      );\n    }\n\n    return true;\n  };\n\n  const isShowAction = getIsShowAction();\n\n  const connectorCard = (\n    <div\n      ref={divRef}\n      className={classNames(\n        'w-full min-h-[132px] rounded-[8px] coz-stroke-primary border border-solid coz-mg-card p-[12px] flex',\n        cardDisabled || disabledConfig\n          ? 'cursor-not-allowed'\n          : 'cursor-pointer',\n        isHover && 'coz-shadow-default',\n      )}\n      onClick={() => {\n        if (!disabledConfig) {\n          onCheckedChange(!checked);\n        }\n      }}\n    >\n      <div\n        className={classNames('h-full w-full flex flex-col', {\n          'opacity-30 pointer-events-none': cardDisabled,\n        })}\n      >\n        <div className=\"flex gap-[6px] items-center font-medium\">\n          <img\n            src={connectorInfo.icon_url}\n            className=\"w-[24px] h-[24px] rounded-[6px] coz-stroke-primary border-[0.5px] border-solid border-solid\"\n          />\n          {descriptionExtra.text ? (\n            <Tooltip\n              theme=\"dark\"\n              style={{ minWidth: '240px', textAlign: 'center' }}\n              content={\n                <ReactMarkdown\n                  skipHtml={true}\n                  linkTarget=\"_blank\"\n                  components={{\n                    img: props => (\n                      <img {...props} className=\"max-w-[224px] max-h-[208px]\" />\n                    ),\n                  }}\n                >\n                  {descriptionExtra.text}\n                </ReactMarkdown>\n              }\n            >\n              <div className=\"coz-fg-primary cursor-default\">{name}</div>\n            </Tooltip>\n          ) : (\n            <div className=\"coz-fg-primary cursor-default\">{name}</div>\n          )}\n          <ConfigStatus record={connectorInfo} />\n        </div>\n        <div className=\"mt-[4px] mb-[8px]\">\n          {description ? (\n            <ReactMarkdown\n              skipHtml={true}\n              transformLinkUri={false}\n              components={{\n                p: props => (\n                  <Typography.Paragraph type=\"secondary\" fontSize=\"12px\">\n                    {props.children}\n                  </Typography.Paragraph>\n                ),\n                a: props => {\n                  const textProps: TextProps =\n                    props.href === 'coze://web-sdk-guide'\n                      ? {\n                          link: true,\n                          onClick: e => {\n                            stopEventPropagation(e);\n                            onShowWebSdkGuide();\n                          },\n                        }\n                      : {\n                          link: {\n                            href: props.href,\n                            target: '_blank',\n                            onClick: stopEventPropagation,\n                          },\n                        };\n                  return (\n                    <Typography.Text fontSize=\"12px\" {...textProps}>\n                      {props.children}\n                    </Typography.Text>\n                  );\n                },\n              }}\n            >\n              {description}\n            </ReactMarkdown>\n          ) : null}\n        </div>\n        <div className=\"flex flex-wrap grow gap-[6px]\">\n          {connectorInfo.connector_union_id ? (\n            <UnionSelect record={connectorInfo} />\n          ) : null}\n          <ConnectorAction\n            record={connectorInfo}\n            checked={checked}\n            // This component has modal inside and cannot use conditional rendering.\n            authActionWrapperClassName={classNames(!isShowAction && 'hidden')}\n          />\n          {connectorInfo.connector_classification ===\n          ConnectorClassification.APIOrSDK ? (\n            <UndoButton\n              bindId={bind_id}\n              checked={checked}\n              connectorId={id}\n              className={classNames(!isShowAction && 'hidden', 'mt-auto')}\n              onClick={stopEventPropagation}\n            />\n          ) : null}\n          {/* The open-source version does not support MCP service channels for future expansion */}\n          {connectorInfo.connector_classification ===\n            ConnectorClassification.CozeSpaceExtensionLibrary &&\n            connectorInfo.bind_type === ConnectorBindType.TemplateBind && (\n              <McpConfigBtn record={connectorInfo} />\n            )}\n        </div>\n      </div>\n\n      <div>\n        {disabledConfig && !cardDisabled ? (\n          <Tooltip theme=\"dark\" content={disabledConfig.text}>\n            {connectorCheckbox}\n          </Tooltip>\n        ) : (\n          connectorCheckbox\n        )}\n      </div>\n    </div>\n  );\n\n  return (\n    <Tooltip\n      theme=\"dark\"\n      visible={cardDisabled && isHover}\n      content={disabledConfig?.text}\n      trigger=\"custom\"\n    >\n      {connectorCard}\n    </Tooltip>\n  );\n}\n","\n      import API from \"!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n       export default content && content.locals ? content.locals : undefined;\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useParams } from 'react-router-dom';\nimport { useMemo } from 'react';\n\nimport { useShallow } from 'zustand/react/shallow';\nimport classNames from 'classnames';\nimport { MonetizePublishInfo } from '@coze-studio/components/monetize';\nimport {\n  ConnectorClassification,\n  type PublishConnectorInfo,\n} from '@coze-arch/idl/intelligence_api';\nimport { I18n } from '@coze-arch/i18n';\nimport { type DynamicParams } from '@coze-arch/bot-typings/teamspace';\nimport { PublishTermService } from '@coze-agent-ide/agent-ide-commons';\nimport { IconCozEmpty } from '@coze-arch/coze-design/icons';\nimport { Form } from '@coze-arch/coze-design';\n\nimport { useWebSdkGuideModal } from '@/web-sdk-guide';\nimport { WEB_SDK_CONNECTOR_ID } from '@/utils/constants';\nimport { useProjectPublishStore } from '@/store';\n\nimport { CONNECTOR_TAB_BAR_Z_INDEX } from '../utils/constants';\nimport { usePublishContainer } from '../context/publish-container-context';\nimport { formatConnectorGroups } from './utils/format-connector-groups';\nimport { useConnectorScroll } from './hooks/use-connector-scroll';\nimport { useAutoScrollToConnector } from './hooks/use-auto-scroll-to-connector';\nimport { SocialPlatformChatflow } from './components/social-platform-chatflow';\nimport {\n  ConnectorTabbar,\n  ConnectorTabbarItem,\n} from './components/connector-tab-bar';\nimport { ConnectorGroupHeader } from './components/connector-group-header';\nimport { ConnectorCard } from './components/connector-card';\n\nimport s from './index.module.less';\n\nconst getTermServiceData = (connectorList: PublishConnectorInfo[]) =>\n  connectorList\n    .filter(item => item.privacy_policy || item.user_agreement)\n    .map(i => ({\n      name: i.name,\n      icon: i.icon_url,\n      privacy_policy: i.privacy_policy,\n      user_agreement: i.user_agreement,\n    }));\n\n// eslint-disable-next-line @coze-arch/max-line-per-function\nexport function PublishConnectors() {\n  const { project_id = '' } = useParams<DynamicParams>();\n\n  const {\n    connectorList, // The open-source version only supports API and Chat SDK channels\n    connectorUnionMap,\n    monetizeConfig,\n    selectedConnectorIds,\n    connectorPublishConfig,\n    unions,\n    updateSelectedConnectorIds,\n  } = useProjectPublishStore(\n    useShallow(state => ({\n      connectorList: state.connectorList,\n      connectorUnionMap: state.connectorUnionMap,\n      monetizeConfig: state.monetizeConfig,\n      selectedConnectorIds: state.selectedConnectorIds,\n      connectorPublishConfig: state.connectorPublishConfig,\n      unions: state.unions,\n      updateSelectedConnectorIds: state.updateSelectedConnectorIds,\n    })),\n  );\n\n  const termServiceData = useMemo(\n    () => getTermServiceData(connectorList),\n    [connectorList],\n  );\n\n  const connectorGroups = useMemo(\n    () =>\n      formatConnectorGroups(connectorList, connectorUnionMap, unions).filter(\n        item => item.connectors.length > 0,\n      ),\n    [connectorList, connectorUnionMap, unions],\n  );\n  const { publishHeaderHeight } = usePublishContainer();\n  const {\n    connectorRefMap,\n    activeConnectorTarget,\n    connectorBarRef,\n    scrollToConnector,\n    closeAnimation,\n    animationStateMap,\n  } = useConnectorScroll();\n\n  useAutoScrollToConnector({\n    connectorGroupList: connectorGroups,\n    connectorRefMap,\n  });\n\n  const isConnectorChecked = (c: PublishConnectorInfo) =>\n    selectedConnectorIds.includes(c.connector_union_id ?? c.id);\n\n  const onCheckConnector = (c: PublishConnectorInfo, checked: boolean) => {\n    const id = c.connector_union_id ?? c.id;\n    if (checked) {\n      updateSelectedConnectorIds(prev => prev.concat(id));\n    } else {\n      updateSelectedConnectorIds(prev => prev.filter(i => i !== id));\n    }\n  };\n\n  // Collapse Panel does not display the icon of the selected channel in the header when expanded\n  const getGroupHeaderList = (groupId: ConnectorClassification) => {\n    const group = connectorGroups.find(g => g.type === groupId);\n    if (!group) {\n      return [];\n    }\n    return group.connectors.filter(c =>\n      selectedConnectorIds.includes(c.connector_union_id ?? c.id),\n    );\n  };\n\n  const { node: guideModal, show: showWebSdkGuide } = useWebSdkGuideModal();\n  const onShowWebSdkGuide = () => {\n    const sdkConnector = connectorList.find(c => c.id === WEB_SDK_CONNECTOR_ID);\n    const sdkConfig = connectorPublishConfig[WEB_SDK_CONNECTOR_ID];\n    showWebSdkGuide({\n      projectId: project_id,\n      workflowId: sdkConfig?.selected_workflows?.[0]?.workflow_id ?? '',\n      version: sdkConnector?.bind_info?.sdk_version ?? '',\n    });\n  };\n\n  return (\n    <div className=\"flex flex-col mt-[24px] w-full coz-bg-plus rounded-md p-24px\">\n      <div className=\"flex items-center justify-between\">\n        <Form.Label required className=\"text-20px font-medium leading-[24px]\">\n          {I18n.t('bot_publish_select_title')}\n        </Form.Label>\n        {IS_OVERSEA && monetizeConfig ? (\n          <MonetizePublishInfo\n            className=\"pr-[8px] text-[12px]\"\n            monetizeConfig={monetizeConfig}\n            supportPlatforms={connectorList\n              .filter(c => c.support_monetization)\n              .map(c => ({ id: c.id, name: c.name, icon: c.icon_url }))}\n          />\n        ) : null}\n      </div>\n      {termServiceData.length ? (\n        <PublishTermService\n          scene=\"project\"\n          termServiceData={termServiceData}\n          className=\"mt-8px py-0 coz-fg-secondary\"\n        />\n      ) : null}\n      <ConnectorTabbar\n        className=\"sticky\"\n        ref={connectorBarRef}\n        style={{\n          top: publishHeaderHeight,\n          zIndex: CONNECTOR_TAB_BAR_Z_INDEX,\n        }}\n      >\n        {connectorGroups.map(connector => (\n          <ConnectorTabbarItem\n            key={connector.type}\n            selectedConnectorCount={getGroupHeaderList(connector.type).length}\n            isActive={\n              activeConnectorTarget === connectorRefMap[connector.type].current\n            }\n            onClick={() => scrollToConnector(connector.type)}\n          >\n            {connector.label}\n          </ConnectorTabbarItem>\n        ))}\n      </ConnectorTabbar>\n      {connectorGroups.map((i, index) => {\n        // The open-source version does not support social platform channels for the time being\n        const isSocialPlatform =\n          i.type === ConnectorClassification.SocialPlatform;\n        return (\n          <div\n            key={i.type}\n            ref={connectorRefMap[i.type]}\n            style={{ marginTop: index === 0 ? 0 : 24 }}\n          >\n            <ConnectorGroupHeader\n              label={i.label}\n              tooltipContent={i.desc}\n              showTooltipInfo={isSocialPlatform}\n              isHighlight={animationStateMap[i.type]}\n              type={i.type}\n              onAnimationEnd={() => {\n                closeAnimation(i.type);\n              }}\n            />\n            {/* The open-source version does not support social platform channels for the time being */}\n            {isSocialPlatform ? (\n              <SocialPlatformChatflow className=\"mb-8px\" />\n            ) : null}\n            <div\n              className={classNames(\n                'grid grid-cols-2 gap-[12px]',\n                s['publish-cards'],\n              )}\n            >\n              {i.connectors.map(c => (\n                <ConnectorCard\n                  key={c.id}\n                  connectorInfo={c}\n                  checked={isConnectorChecked(c)}\n                  onCheckedChange={checked => onCheckConnector(c, checked)}\n                  onShowWebSdkGuide={onShowWebSdkGuide}\n                />\n              ))}\n            </div>\n          </div>\n        );\n      })}\n      {!connectorList.length ? (\n        <div className=\"flex flex-col justify-center items-center w-full h-full gap-[4px]\">\n          <IconCozEmpty className=\"w-[32px] h-[32px] coz-fg-dim\" />\n          <div className=\"text-[14px] font-medium coz-fg-primary\">\n            {I18n.t('publish_page_no_channel_status_title')}\n          </div>\n          <div className=\"text-[12px] coz-fg-primary\">\n            {I18n.t('publish_page_no_channel_status_desc')}\n          </div>\n        </div>\n      ) : null}\n      {guideModal}\n    </div>\n  );\n}\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  type ConnectorUnionInfo,\n  ConnectorClassification,\n  type PublishConnectorInfo,\n} from '@coze-arch/idl/intelligence_api';\nimport { I18n } from '@coze-arch/i18n';\n\nexport interface ConnectorGroup {\n  type: ConnectorClassification;\n  label: string;\n  desc: string;\n  connectors: PublishConnectorInfo[];\n}\n\nexport function formatConnectorGroups(\n  connectors: PublishConnectorInfo[],\n  unionMap: Record<string, ConnectorUnionInfo>,\n  unions: Record<string, string>,\n) {\n  const groups: ConnectorGroup[] = [\n    {\n      type: ConnectorClassification.APIOrSDK,\n      label: I18n.t('project_release_api1'),\n      desc: I18n.t('project_release_api_sdk_desc'),\n      connectors: [],\n    },\n    {\n      type: ConnectorClassification.MiniProgram,\n      label: I18n.t('project_release_miniprogram1'),\n      desc: I18n.t('project_release_h5_desc'),\n      connectors: [],\n    },\n    {\n      type: ConnectorClassification.SocialPlatform,\n      label: I18n.t('project_release_social1'),\n      desc: I18n.t('project_release_social_desc1'),\n      connectors: [],\n    },\n    {\n      type: ConnectorClassification.Coze,\n      label: I18n.t('project_release_coze1'),\n      desc: I18n.t('project_release_ts_desc'),\n      connectors: [],\n    },\n    {\n      type: ConnectorClassification.CozeSpaceExtensionLibrary,\n      label: I18n.t('app_publish_connector_mcp'),\n      desc: I18n.t('app_publish_connector_mcp'),\n      connectors: [],\n    },\n  ];\n  for (const c of connectors) {\n    const group = groups.find(g => g.type === c.connector_classification);\n    if (!group) {\n      continue;\n    }\n    if (c.connector_union_id) {\n      const unionId = c.connector_union_id;\n      // If the current union_id has already been added to the group, skip\n      if (group.connectors.some(i => i.connector_union_id === unionId)) {\n        continue;\n      }\n      let connectorInfo = c;\n      // Give priority to the connector selected by the union, otherwise take the first one.\n      const unionSelection = connectors.find(i => i.id === unions[unionId]);\n      if (unionSelection) {\n        connectorInfo = unionSelection;\n      } else {\n        const firstId = unionMap[unionId].connector_options[0].connector_id;\n        const firstConnector = connectors.find(i => i.id === firstId);\n        if (firstConnector) {\n          connectorInfo = firstConnector;\n        }\n      }\n      const unionInfo = unionMap[unionId];\n      group.connectors.push({\n        ...connectorInfo,\n        name: unionInfo.name,\n        description: unionInfo.description,\n        icon_url: unionInfo.icon_url,\n      });\n    } else {\n      group.connectors.push(c);\n    }\n  }\n  return groups;\n}\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { I18n } from '@coze-arch/i18n';\nimport { intelligenceApi } from '@coze-arch/bot-api';\n\nexport async function checkVersionNum(\n  versionNumber: string,\n  projectId: string,\n) {\n  if (!versionNumber) {\n    return I18n.t('project_release_example2');\n  }\n  const { data } = await intelligenceApi.CheckProjectVersionNumber({\n    project_id: projectId,\n    version_number: versionNumber,\n  });\n\n  if (data?.is_duplicate) {\n    return I18n.t('project_release_example3');\n  } else {\n    return '';\n  }\n}\n","\n      import API from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n       export default content && content.locals ? content.locals : undefined;\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { type CSSProperties, useEffect, useRef, useState } from 'react';\n\nimport classNames from 'classnames';\nimport {\n  type CommonFieldProps,\n  Input,\n  TextArea,\n  type TextAreaProps,\n  withField,\n} from '@coze-arch/coze-design';\n\nimport styles from './index.module.less';\n\nexport interface VersionDescInputProps\n  extends Pick<\n    TextAreaProps,\n    'placeholder' | 'maxLength' | 'maxCount' | 'wrapperClassName' | 'value'\n  > {\n  onChange?: (value: string) => void;\n  inputClassName?: string;\n  textAreaClassName?: string;\n  textAreaStyle?: CSSProperties;\n}\n\nconst VersionDescInput: React.FC<VersionDescInputProps> = ({\n  inputClassName,\n  textAreaClassName,\n  wrapperClassName,\n  textAreaStyle,\n  ...props\n}) => {\n  const [mode, setMode] = useState<'input' | 'textarea'>('input');\n  const textAreaRef = useRef<HTMLTextAreaElement>(null);\n\n  useEffect(() => {\n    const target = textAreaRef.current;\n    if (mode !== 'textarea' || !target) {\n      return;\n    }\n    const valueLength = props.value?.length;\n    target.focus();\n    if (!valueLength) {\n      return;\n    }\n    target.setSelectionRange(valueLength, valueLength);\n  }, [mode]);\n\n  if (mode === 'input') {\n    return (\n      <Input\n        {...props}\n        className={classNames(styles['desc-input'], inputClassName)}\n        onFocus={() => {\n          setMode('textarea');\n        }}\n      />\n    );\n  }\n\n  return (\n    <div className={wrapperClassName}>\n      <TextArea\n        {...props}\n        ref={textAreaRef}\n        className={textAreaClassName}\n        style={textAreaStyle}\n        autoFocus\n        autosize={{ minRows: 1, maxRows: 10 }}\n        onBlur={() => {\n          setMode('input');\n        }}\n      />\n    </div>\n  );\n};\n\nexport const FormVersionDescInput: React.FC<\n  CommonFieldProps & VersionDescInputProps\n> = withField(VersionDescInput);\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useShallow } from 'zustand/react/shallow';\nimport classNames from 'classnames';\nimport { I18n } from '@coze-arch/i18n';\nimport { Form } from '@coze-arch/coze-design';\nimport { type DynamicParams } from '@coze-arch/bot-typings/teamspace';\nimport { useParams } from 'react-router-dom';\n\nimport { CONNECTOR_TAB_BAR_Z_INDEX } from '../utils/constants';\nimport { useProjectPublishStore } from '../store';\nimport { checkVersionNum } from './utils/version-number-check';\nimport { FormVersionDescInput } from './components/version-desc-input';\n\nexport function PublishBasicInfo() {\n  const { project_id = '' } = useParams<DynamicParams>();\n  const {\n    lastVersionNumber,\n    versionNumber,\n    versionDescription,\n    setProjectPublishInfo,\n  } = useProjectPublishStore(\n    useShallow(state => ({\n      lastVersionNumber: state.lastVersionNumber,\n      versionNumber: state.versionNumber,\n      versionDescription: state.versionDescription,\n      setProjectPublishInfo: state.setProjectPublishInfo,\n    })),\n  );\n\n  const inputBaseCls = '';\n\n  return (\n    <div className=\"flex flex-col\tgap-[8px] w-full coz-bg-plus rounded-md p-24px\">\n      <div className=\"text-[20px] coz-fg-plus font-[500] leading-[28px]\">\n        {I18n.t('project_release_version_info')}\n      </div>\n      <div className=\"flex gap-x-12px\">\n        <Form.Input\n          field=\"version_num\"\n          fieldClassName=\"!p-0 flex-[1]\"\n          label={\n            <span className=\"text-14px font-medium\">\n              {I18n.t('builder_publish_version_label')}\n            </span>\n          }\n          placeholder={\n            lastVersionNumber\n              ? I18n.t('project_release_example1', {\n                  version: lastVersionNumber,\n                })\n              : I18n.t('project_release_example')\n          }\n          initValue={versionNumber}\n          className=\"bg-transparent coz-stroke-plus\"\n          rules={[\n            { required: true, message: I18n.t('project_release_example2') },\n          ]}\n          onChange={value => {\n            setProjectPublishInfo({\n              versionNumber: value,\n            });\n          }}\n          validate={val => checkVersionNum(val, project_id)}\n          trigger={'blur'}\n          maxLength={20}\n        />\n        <FormVersionDescInput\n          field=\"version_desc\"\n          fieldClassName=\"!p-0 !overflow-visible flex-[1]\"\n          label={\n            <span className=\"text-14px font-medium\">\n              {I18n.t('builder_publish_changelog_label')}\n            </span>\n          }\n          placeholder={I18n.t('builder_publish_changelog_placeholder')}\n          initValue={versionDescription}\n          maxLength={800}\n          maxCount={800}\n          wrapperClassName=\"relative overflow-visible\"\n          inputClassName={inputBaseCls}\n          textAreaClassName={classNames(\n            inputBaseCls,\n            'absolute',\n            'top-0',\n            'left-0',\n            '!coz-bg-max',\n          )}\n          // It is higher than the channel tab to avoid occlusion.\n          textAreaStyle={{ zIndex: CONNECTOR_TAB_BAR_Z_INDEX + 1 }}\n          onChange={value => {\n            setProjectPublishInfo({\n              versionDescription: value,\n            });\n          }}\n        />\n      </div>\n    </div>\n  );\n}\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { type PropsWithChildren, useRef, useState } from 'react';\n\nimport { DEFAULT_PUBLISH_HEADER_HEIGHT } from '../../../utils/constants';\nimport { PublishContainerContext } from '../../../context/publish-container-context';\n\nexport const PublishContainer: React.FC<PropsWithChildren> = ({ children }) => {\n  const ref = useRef<HTMLDivElement>(null);\n  const [publishHeaderHeight, setPublishHeaderHeight] = useState(\n    DEFAULT_PUBLISH_HEADER_HEIGHT,\n  );\n\n  const getContainerRef = () => ref;\n\n  return (\n    <PublishContainerContext.Provider\n      value={{ getContainerRef, publishHeaderHeight, setPublishHeaderHeight }}\n    >\n      <div\n        ref={ref}\n        className=\"flex-[1] w-full h-full overflow-x-hidden coz-bg-primary\"\n      >\n        {children}\n      </div>\n    </PublishContainerContext.Provider>\n  );\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { useEffect } from 'react';\n\nimport { useShallow } from 'zustand/react/shallow';\nimport { useErrorHandler } from '@coze-arch/logger';\nimport { Form, Spin } from '@coze-arch/coze-design';\nimport { type DynamicParams } from '@coze-arch/bot-typings/teamspace';\nimport { useParams } from 'react-router-dom';\n\nimport { useProjectPublishStore } from '../store';\nimport {\n  loadProjectPublishDraft,\n  saveProjectPublishDraft,\n} from './utils/publish-draft';\nimport { initPublishStore } from './utils/init-publish-store';\nimport { PublishTitleBar } from './publish-title-bar';\nimport { PublishRecord } from './publish-record';\nimport { PublishConnectors } from './publish-connectors';\nimport { PublishBasicInfo } from './publish-basic-info';\nimport { PublishContainer } from './components/publish-container';\n\nimport s from './index.module.less';\n\nexport function ProjectPublish(): JSX.Element {\n  const { project_id = '', space_id = '' } = useParams<DynamicParams>();\n  const {\n    showPublishResult,\n    pageLoading,\n    resetProjectPublishInfo,\n    exportDraft,\n  } = useProjectPublishStore(\n    useShallow(state => ({\n      showPublishResult: state.showPublishResult,\n      pageLoading: state.pageLoading,\n      resetProjectPublishInfo: state.resetProjectPublishInfo,\n      exportDraft: state.exportDraft,\n    })),\n  );\n  const errorHandle = useErrorHandler();\n\n  useEffect(() => {\n    const saveDraft = () => {\n      saveProjectPublishDraft(exportDraft(project_id));\n    };\n    window.addEventListener('beforeunload', saveDraft);\n    return () => {\n      window.removeEventListener('beforeunload', saveDraft);\n    };\n  }, [exportDraft, project_id]);\n\n  useEffect(() => {\n    initPublishStore(\n      project_id,\n      errorHandle,\n      loadProjectPublishDraft(project_id),\n    );\n    return () => {\n      resetProjectPublishInfo();\n    };\n  }, []);\n\n  return !pageLoading ? (\n    <PublishContainer>\n      <Form<Record<string, unknown>>\n        className={s.project}\n        showValidateIcon={false}\n      >\n        <PublishTitleBar />\n        {!showPublishResult ? (\n          <div className=\"flex justify-center pt-[32px] pb-[48px] coz-bg-primary\">\n            <div className=\"w-[800px]\">\n              <PublishBasicInfo />\n              <PublishConnectors />\n            </div>\n          </div>\n        ) : (\n          <PublishRecord projectId={project_id} spaceId={space_id} />\n        )}\n      </Form>\n    </PublishContainer>\n  ) : (\n    <Spin\n      spinning\n      wrapperClassName=\"flex justify-center h-full w-full items-center\"\n    />\n  );\n}\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { useEffect, useState } from 'react';\n\nimport { useRequest } from 'ahooks';\nimport {\n  ConnectorPublishStatus,\n  PublishRecordStatus,\n  type PublishRecordDetail,\n} from '@coze-arch/idl/intelligence_api';\nimport { I18n, type I18nKeysNoOptionsType } from '@coze-arch/i18n';\nimport {\n  IconCozCheckMarkCircle,\n  IconCozClock,\n  IconCozCrossCircle,\n} from '@coze-arch/coze-design/icons';\nimport { Modal, Select, Tag, type TagProps } from '@coze-arch/coze-design';\nimport { type OptionProps } from '@coze-arch/bot-semi/Select';\nimport { intelligenceApi } from '@coze-arch/bot-api';\nimport { EProjectPermission, useProjectAuth } from '@coze-common/auth';\n\nimport { isPublishFinish } from '../utils/is-publish-finish';\nimport { ProjectPublishProgress } from '../publish-progress';\n\nenum PublishStatus {\n  Publishing,\n  Failed,\n  Success,\n}\n\nconst PublishStatusMap: Record<\n  PublishStatus,\n  Pick<TagProps, 'prefixIcon' | 'color'> & { text: I18nKeysNoOptionsType }\n> = {\n  [PublishStatus.Publishing]: {\n    prefixIcon: <IconCozClock />,\n    color: 'brand',\n    text: 'project_releasing',\n  },\n  [PublishStatus.Failed]: {\n    prefixIcon: <IconCozCrossCircle />,\n    color: 'red',\n    text: 'project_release_failed',\n  },\n  [PublishStatus.Success]: {\n    prefixIcon: <IconCozCheckMarkCircle />,\n    color: 'green',\n    text: 'project_release_success',\n  },\n};\n\nfunction toPublishStatus(record: PublishRecordDetail) {\n  const projectFailed =\n    record.publish_status === PublishRecordStatus.PackFailed ||\n    record.publish_status === PublishRecordStatus.AuditNotPass;\n  const connectorsFailed =\n    record.connector_publish_result?.some(\n      item => item.connector_publish_status === ConnectorPublishStatus.Failed,\n    ) ?? false;\n  // The project itself failed, or some channels failed to publish - > overall failed\n  if (projectFailed || connectorsFailed) {\n    return PublishStatus.Failed;\n  }\n  const projectPublishing =\n    record.publish_status === PublishRecordStatus.Packing ||\n    record.publish_status === PublishRecordStatus.Auditing ||\n    record.publish_status === PublishRecordStatus.ConnectorPublishing;\n  const connectorsPublishing =\n    record.connector_publish_result?.some(\n      item =>\n        item.connector_publish_status === ConnectorPublishStatus.Default ||\n        item.connector_publish_status === ConnectorPublishStatus.Auditing,\n    ) ?? false;\n  // The project itself is being released, or some channels are being released - > the overall release is in progress\n  if (projectPublishing || connectorsPublishing) {\n    return PublishStatus.Publishing;\n  }\n  return PublishStatus.Success;\n}\n\nexport interface ProjectPublishStatusProps {\n  spaceId: string;\n  projectId: string;\n  defaultRecordID?: string;\n}\n\n/* eslint @coze-arch/max-line-per-function: [\"error\", {\"max\": 300}] */\nexport function usePublishStatus({\n  spaceId,\n  projectId,\n  defaultRecordID,\n}: ProjectPublishStatusProps) {\n  const [status, setStatus] = useState<PublishStatus | undefined>();\n  const [latestRecord, setLatestRecord] = useState<PublishRecordDetail>();\n  const [recordList, setRecordList] = useState<OptionProps[]>([]);\n  const [selectedVersion, setSelectedVersion] = useState(defaultRecordID);\n  const [selectedRecord, setSelectedRecord] = useState<PublishRecordDetail>();\n\n  const [modalVisible, setModalVisible] = useState(false);\n\n  // Polling the latest release history until it stops when it is not in the \"In Release\" state\n  const latestRecordRequest = useRequest(\n    () => intelligenceApi.GetPublishRecordDetail({ project_id: projectId }),\n    {\n      manual: true,\n      pollingInterval: 5000,\n      pollingWhenHidden: false,\n      pollingErrorRetryCount: 3,\n      onSuccess: res => {\n        const record = res.data;\n        // Stop polling when no record is published\n        if (!record || typeof record.publish_status !== 'number') {\n          latestRecordRequest.cancel();\n          return;\n        }\n        setStatus(toPublishStatus(record));\n        setLatestRecord(record);\n        // After first requesting the latest release record, its version number is selected by default\n        if (!selectedVersion) {\n          setRecordList([\n            { value: record.publish_record_id, label: record.version_number },\n          ]);\n          setSelectedVersion(record.publish_record_id ?? '');\n        } else if (selectedVersion === record.publish_record_id) {\n          setSelectedRecord(record);\n        }\n        if (isPublishFinish(record)) {\n          latestRecordRequest.cancel();\n        }\n      },\n    },\n  );\n\n  // Get a list of publication records\n  const recordListRequest = useRequest(\n    () => intelligenceApi.GetPublishRecordList({ project_id: projectId }),\n    {\n      manual: true,\n      onSuccess: res => {\n        setRecordList(\n          res.data?.map(item => ({\n            value: item.publish_record_id,\n            label: item.version_number,\n          })) ?? [],\n        );\n      },\n    },\n  );\n\n  const hasPermission = useProjectAuth(\n    EProjectPermission.PUBLISH,\n    projectId,\n    spaceId,\n  );\n\n  // When the user has \"publish\" permission, start polling\n  useEffect(() => {\n    if (!hasPermission || defaultRecordID) {\n      return;\n    }\n    latestRecordRequest.run();\n  }, [hasPermission, defaultRecordID]);\n\n  // Manually request selected release records\n  const recordDetailRequest = useRequest(\n    (recordId: string) =>\n      intelligenceApi.GetPublishRecordDetail({\n        project_id: projectId,\n        publish_record_id: recordId,\n      }),\n    {\n      manual: true,\n      onSuccess: res => {\n        const record = res.data;\n        setSelectedRecord(record);\n        if (record?.publish_record_id === latestRecord?.publish_record_id) {\n          setLatestRecord(record);\n        }\n      },\n    },\n  );\n\n  const tagConfig = PublishStatusMap[status ?? PublishStatus.Failed];\n  const showingRecord = selectedRecord ?? latestRecord;\n\n  const open = async () => {\n    await recordListRequest.runAsync();\n    if (defaultRecordID) {\n      await changeVersion(defaultRecordID);\n    }\n    setModalVisible(true);\n  };\n\n  const close = () => {\n    setModalVisible(false);\n  };\n\n  const changeVersion = async (version: string) => {\n    setSelectedVersion(version);\n    await recordDetailRequest.run(version);\n  };\n\n  return {\n    latestVersion: latestRecord,\n    currentVersion: recordList.find(item => item.value === selectedVersion),\n\n    open,\n\n    close,\n\n    modal: (\n      <Modal\n        title={I18n.t('project_release_stage')}\n        visible={modalVisible}\n        footer={null}\n        onCancel={() => setModalVisible(false)}\n      >\n        <div className=\"flex flex-col gap-[16px]\">\n          <Select\n            className=\"w-full\"\n            optionList={recordList}\n            value={selectedVersion}\n            onSelect={version => {\n              if (typeof version === 'string') {\n                changeVersion(version);\n              }\n            }}\n          />\n          {showingRecord ? (\n            <ProjectPublishProgress record={showingRecord} />\n          ) : null}\n        </div>\n      </Modal>\n    ),\n    tag: (\n      <Tag\n        size=\"mini\"\n        prefixIcon={tagConfig.prefixIcon}\n        color={tagConfig.color}\n        // The Tag component defaults to display: inline-flex, and the outer span line-height > 1 will cause its height to be larger than the Tag itself\n        className=\"flex !px-[3px] font-medium\"\n      >\n        {I18n.t(tagConfig.text)}\n      </Tag>\n    ),\n  };\n}\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* eslint-disable complexity */\n/* eslint-disable react-hooks/exhaustive-deps */\nimport { useNavigate } from 'react-router-dom';\nimport React, { type ReactNode, useCallback } from 'react';\n\nimport { useIsPublishRecordReady } from '@coze-studio/publish-manage-hooks';\nimport {\n  useProjectAuth,\n  EProjectPermission,\n  useProjectRole,\n} from '@coze-common/auth';\nimport { IntelligenceType } from '@coze-arch/idl/intelligence_api';\nimport { I18n } from '@coze-arch/i18n';\nimport {\n  IconCozAnalytics,\n  IconCozArrowDown,\n  IconCozArrowRight,\n  IconCozDocument,\n  IconCozLongArrowTopRight,\n  IconCozTrigger,\n} from '@coze-arch/coze-design/icons';\nimport {\n  Button,\n  Divider,\n  IconButton,\n  Menu,\n  Popover,\n  Tooltip,\n} from '@coze-arch/coze-design';\nimport { useFlags } from '@coze-arch/bot-flags';\n\nimport { usePublishStatus } from '../hooks/use-publish-status';\nimport { useBizConnectorAnchor } from '../hooks/use-biz-connector-anchor';\n\nconst isLocalDevMode = () => {\n  const searchParams = new URLSearchParams(location.search);\n  return searchParams.has('devBlock');\n};\n\n/* eslint @coze-arch/max-line-per-function: [\"error\", {\"max\": 300}] */\nexport const PublishButton = ({\n  spaceId,\n  projectId,\n  hasPublished,\n}: {\n  spaceId: string;\n  projectId: string;\n  hasPublished: boolean;\n}) => {\n  const navigate = useNavigate();\n\n  const { modal, tag, latestVersion, open } = usePublishStatus({\n    spaceId,\n    projectId,\n  });\n\n  const hasPublishPermission = useProjectAuth(\n    EProjectPermission.PUBLISH,\n    projectId,\n    spaceId,\n  );\n  const { removeAnchor } = useBizConnectorAnchor();\n\n  const handlePublish = useCallback(() => {\n    removeAnchor();\n    navigate(`/space/${spaceId}/project-ide/${projectId}/publish`);\n  }, [spaceId, projectId, removeAnchor]);\n\n  const projectRoles = useProjectRole(projectId);\n\n  const [FLAGS] = useFlags();\n\n  const { ready, inited } = useIsPublishRecordReady({\n    type: IntelligenceType.Project,\n    intelligenceId: projectId,\n    spaceId,\n    enable: !!(\n      // Support soon, so stay tuned.\n      (\n        FLAGS['bot.studio.publish_management'] &&\n        hasPublished &&\n        projectRoles.length &&\n        !IS_OPEN_SOURCE\n      )\n    ),\n  });\n\n  const menuAnalysis = (\n    <MenuItem\n      disabled={!ready}\n      onClick={() => {\n        navigate(`/space/${spaceId}/publish/app/${projectId}?tab=analysis`);\n      }}\n      text={I18n.t('analytics_page_title')}\n      prefix={\n        <IconCozAnalytics className=\"w-[24px] h-[24px] px-[4px] py-[4px]\" />\n      }\n    />\n  );\n\n  const menuLogs = (\n    <MenuItem\n      disabled={!ready}\n      onClick={() => {\n        navigate(`/space/${spaceId}/publish/app/${projectId}?tab=logs`);\n      }}\n      text={I18n.t('release_management_trace')}\n      prefix={\n        <IconCozDocument className=\"w-[24px] h-[24px] px-[4px] py-[4px]\" />\n      }\n    />\n  );\n\n  const menuTriggers = (\n    <MenuItem\n      disabled={!ready}\n      onClick={() => {\n        navigate(`/space/${spaceId}/publish/app/${projectId}?tab=triggers`);\n      }}\n      text={I18n.t('release_management_trigger')}\n      prefix={\n        <IconCozTrigger className=\"w-[24px] h-[24px] px-[4px] py-[4px]\" />\n      }\n    />\n  );\n\n  if (!hasPublishPermission) {\n    return null;\n  }\n\n  if (!hasPublished) {\n    return (\n      <Button\n        onClick={handlePublish}\n        disabled={isLocalDevMode()}\n        data-testid=\"project.goto.publish-button\"\n      >\n        {I18n.t('project_ide_frame_publish')}\n      </Button>\n    );\n  }\n\n  return (\n    <>\n      {modal}\n      <Popover\n        trigger=\"click\"\n        zIndex={999}\n        content={\n          <div className=\"px-[4px] py-[8px] rounded-[12px] w-[244px] flex flex-col gap-[12px]\">\n            {latestVersion?.version_number ? (\n              <div\n                className=\"flex justify-between items-center h-[32px] px-[4px] cursor-pointer\"\n                onClick={() => open()}\n              >\n                <span className=\"flex-grow mr-[8px]\">\n                  {`${I18n.t('app_ide_publish_modal_recent_publication')} ${\n                    latestVersion?.version_number\n                  }`}\n                </span>\n                {tag}\n                <IconButton\n                  size=\"small\"\n                  className=\"ml-[4px]\"\n                  icon={<IconCozArrowRight />}\n                  color=\"secondary\"\n                />\n              </div>\n            ) : null}\n\n            <div className=\"px-[8px] w-full\">\n              <Divider />\n            </div>\n\n            {/* Support soon, so stay tuned. */}\n            {FLAGS['bot.studio.publish_management'] && !IS_OPEN_SOURCE ? (\n              <div>\n                <div className=\"coz-fg-secondary font-[500] px-[8px] pt-[4px] pb-0 mb-[2px]\">\n                  {I18n.t('app_ide_publish_modal_publish_management')}\n                </div>\n                <Menu>\n                  {ready || !inited ? (\n                    menuAnalysis\n                  ) : (\n                    <Tooltip\n                      theme=\"dark\"\n                      content={I18n.t('release_management_generating')}\n                    >\n                      <div>{menuAnalysis}</div>\n                    </Tooltip>\n                  )}\n                  {ready || !inited ? (\n                    menuLogs\n                  ) : (\n                    <Tooltip\n                      theme=\"dark\"\n                      content={I18n.t('release_management_generating')}\n                    >\n                      <div>{menuLogs}</div>\n                    </Tooltip>\n                  )}\n                  {ready || !inited ? (\n                    menuTriggers\n                  ) : (\n                    <Tooltip\n                      theme=\"dark\"\n                      content={I18n.t('release_management_generating')}\n                    >\n                      <div>{menuTriggers}</div>\n                    </Tooltip>\n                  )}\n                </Menu>\n              </div>\n            ) : null}\n\n            <div className=\"px-[4px] w-full\">\n              <Button\n                className=\"w-full\"\n                onClick={handlePublish}\n                disabled={isLocalDevMode()}\n                data-testid=\"project.goto.publish-button\"\n              >\n                {I18n.t('app_ide_publish_modal_publish_button')}\n              </Button>\n            </div>\n          </div>\n        }\n      >\n        <Button>\n          <span className=\"mr-[4px]\">\n            {I18n.t('project_ide_frame_publish')}\n          </span>\n          <IconCozArrowDown />\n        </Button>\n      </Popover>\n    </>\n  );\n};\n\nconst MenuItem = ({\n  prefix,\n  text,\n  onClick,\n  disabled,\n}: {\n  prefix?: ReactNode;\n  text?: string;\n  onClick?: () => void;\n  disabled?: boolean;\n}) => (\n  <Menu.Item\n    className=\"px-[4px] py-[4px]\"\n    disabled={disabled}\n    onClick={onClick}\n  >\n    <div className=\"w-[228px] flex items-center justify-between gap-[4px]\">\n      {prefix}\n      <span className=\"flex-grow\">{text}</span>\n      <IconCozLongArrowTopRight className=\"w-[24px] h-[24px] px-[4px] py-[4px] coz-fg-secondary\" />\n    </div>\n  </Menu.Item>\n);\n","\n      import API from \"!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n       export default content && content.locals ? content.locals : undefined;\n","import * as React from \"react\";\nconst SvgDiffEmpty = props => <svg xmlns=\"http://www.w3.org/2000/svg\" width={30} height={30} fill=\"none\" viewBox=\"0 0 30 30\" {...props}><path fill=\"#1D1C23\" fillOpacity={0.35} fillRule=\"evenodd\" d=\"M8.334 3A2.667 2.667 0 0 1 11.001.333h16A2.667 2.667 0 0 1 29.667 3v16a2.667 2.667 0 0 1-2.666 2.667h-5.334V27a2.667 2.667 0 0 1-2.666 2.667H3A2.667 2.667 0 0 1 .334 27V11a2.667 2.667 0 0 1 2.667-2.667h5.333zm0 8H3.001v16h16v-5.333h-8A2.667 2.667 0 0 1 8.334 19zm10.667 8h-8v-8h8zm2.666 0v-8a2.667 2.667 0 0 0-2.666-2.667h-8V3h16v16z\" clipRule=\"evenodd\" /></svg>;\nexport { SvgDiffEmpty as ReactComponent };\nexport default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIHZpZXdCb3g9IjAgMCAzMCAzMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04LjMzMzk4IDIuOTk5OTJDOC4zMzM5OCAxLjUyNzE2IDkuNTI3ODkgMC4zMzMyNTIgMTEuMDAwNyAwLjMzMzI1MkgyNy4wMDA2QzI4LjQ3MzQgMC4zMzMyNTIgMjkuNjY3MyAxLjUyNzE2IDI5LjY2NzMgMi45OTk5MlYxOC45OTk5QzI5LjY2NzMgMjAuNDcyNyAyOC40NzM0IDIxLjY2NjYgMjcuMDAwNiAyMS42NjY2SDIxLjY2NzNWMjYuOTk5OUMyMS42NjczIDI4LjQ3MjcgMjAuNDczNCAyOS42NjY2IDE5LjAwMDcgMjkuNjY2NkgzLjAwMDY1QzEuNTI3ODkgMjkuNjY2NiAwLjMzMzk4NCAyOC40NzI3IDAuMzMzOTg0IDI2Ljk5OTlWMTAuOTk5OUMwLjMzMzk4NCA5LjUyNzE2IDEuNTI3ODkgOC4zMzMyNSAzLjAwMDY1IDguMzMzMjVIOC4zMzM5OFYyLjk5OTkyWk04LjMzMzk4IDEwLjk5OTlIMy4wMDA2NVYyNi45OTk5SDE5LjAwMDdWMjEuNjY2NkgxMS4wMDA3QzkuNTI3ODkgMjEuNjY2NiA4LjMzMzk4IDIwLjQ3MjcgOC4zMzM5OCAxOC45OTk5VjEwLjk5OTlaTTE5LjAwMDcgMTguOTk5OUgxMS4wMDA3VjEwLjk5OTlIMTkuMDAwN1YxOC45OTk5Wk0yMS42NjczIDE4Ljk5OTlWMTAuOTk5OUMyMS42NjczIDkuNTI3MTYgMjAuNDczNCA4LjMzMzI1IDE5LjAwMDcgOC4zMzMyNUgxMS4wMDA3VjIuOTk5OTJIMjcuMDAwNlYxOC45OTk5SDIxLjY2NzNaIiBmaWxsPSIjMUQxQzIzIiBmaWxsLW9wYWNpdHk9IjAuMzUiLz4KPC9zdmc+Cg==\";","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.multiline-text-GVNO_v{word-break:break-word;white-space:pre-wrap}.multiline-container-uIOXgz{flex:1;grid-template-columns:100px 36px 100px;display:grid;overflow:hidden}.editor-container-YQ76sR{border:1px solid var(--Stroke-COZ-stroke-primary,rgba(6,7,9,.1));border-radius:8px;min-height:400px;margin-top:20px;overflow:hidden}.editor-header-rVNsYI{border-bottom:1px solid var(--Stroke-COZ-stroke-primary,rgba(6,7,9,.1));width:100%;display:flex}.editor-title-TtUkQu{color:var(--Fg-COZ-fg-primary,rgba(6,7,9,.8));flex:1;padding:12px;font-size:14px;font-weight:500;overflow:hidden}.editor-divider-sAapKP{width:1px;height:46px;color:var(--Stroke-COZ-stroke-primary,rgba(6,7,9,.1))}.editor-cj3RsF{background-color:transparent;min-height:400px;max-height:600px}.editor-cj3RsF .monaco-editor-background{background-color:#f9f9f9!important}.editor-cj3RsF .monaco-editor .vertical{box-shadow:0 0 0 0 var(--guide-color)inset!important}.editor-cj3RsF .margin{background-color:#f9f9f9!important}.editor-cj3RsF .monaco-diff-editor.side-by-side .editor.modified{border-left:1px solid var(--Stroke-COZ-stroke-primary,rgba(6,7,9,.1));box-shadow:none!important}.editor-cj3RsF .mtk1{color:var(--Fg-COZ-fg-dim,rgba(6,7,9,.6))}.editor-cj3RsF .margin-view-overlays .line-numbers{color:var(--Fg-COZ-fg-dim,rgba(6,7,9,.3));width:24px!important}.editor-cj3RsF .monaco-editor .diagonal-fill{background-size:8px 8px;background-image:linear-gradient(-45deg,rgba(34,34,34,.1) 12.5%,transparent 12.5%,transparent 50%,rgba(34,34,34,.1) 50%,rgba(34,34,34,.1) 62.5%,transparent 62.5%,transparent 100%)!important}.editor-cj3RsF .margin-view-overlays:after{pointer-events:none;background:var(--Stroke-COZ-stroke-primary,rgba(6,7,9,.1));width:1px;position:absolute;top:0;bottom:0;right:3px;content:\" \"!important}.editor-cj3RsF .line-numbers.active-line-number{color:var(--Fg-COZ-fg-primary,rgba(6,7,9,.8))!important}.editor-cj3RsF .monaco-editor .delete-sign{color:var(--Fg-COZ-fg-dim,rgba(6,7,9,.3))!important;font-size:8px!important;font-weight:900!important;left:29px!important}.editor-cj3RsF .monaco-editor .insert-sign{color:var(--Fg-COZ-fg-dim,rgba(6,7,9,.3))!important;font-size:8px!important;font-weight:900!important;left:29px!important}.editor-cj3RsF .monaco-editor .view-overlays .current-line{border:0!important}.editor-cj3RsF .monaco-scrollable-element>.scrollbar>.slider{background:var(--Fg-COZ-fg-dim,rgba(6,7,9,.3));border-radius:3px;width:8px!important}.editor-cj3RsF .decorationsOverviewRuler{display:none!important}.editor-cj3RsF .modified .slider{left:6px!important}.editor-cj3RsF .modified .presentation{width:12px!important;right:-4px!important}.editor-cj3RsF .original .slider{left:6px!important}.editor-cj3RsF .original .presentation{width:12px!important;left:3px!important}.editor-cj3RsF .gutter-insert{background-color:var(--vscode-diffEditor-insertedLineBackground,var(--vscode-diffEditor-insertedTextBackground))!important}.editor-cj3RsF .gutter-delete{background-color:var(--vscode-diffEditor-removedLineBackground,var(--vscode-diffEditor-removedTextBackground))!important}`, \"\"]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"multiline-text\": `multiline-text-GVNO_v`,\n\t\"multilineText\": `multiline-text-GVNO_v`,\n\t\"multiline-container\": `multiline-container-uIOXgz`,\n\t\"multilineContainer\": `multiline-container-uIOXgz`,\n\t\"editor-container\": `editor-container-YQ76sR`,\n\t\"editorContainer\": `editor-container-YQ76sR`,\n\t\"editor-header\": `editor-header-rVNsYI`,\n\t\"editorHeader\": `editor-header-rVNsYI`,\n\t\"editor-title\": `editor-title-TtUkQu`,\n\t\"editorTitle\": `editor-title-TtUkQu`,\n\t\"editor-divider\": `editor-divider-sAapKP`,\n\t\"editorDivider\": `editor-divider-sAapKP`,\n\t\"editor\": `editor-cj3RsF`\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.list-utyqSJ{padding:.75rem 0 .75rem .75rem}.list-utyqSJ .semi-list-item-body-header{flex:1;width:0;overflow:hidden}`, \"\"]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"list\": `list-utyqSJ`\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.error-container-_IyY_2 .error-link-Pq2VWp .error-link-underline-EVkAXO{color:var(--semi-color-danger);max-width:200px;margin-left:2px;font-size:14px;text-decoration:underline}.error-container-_IyY_2 .error-link-Pq2VWp .error-link-underline-EVkAXO a{color:var(--semi-color-danger)}`, \"\"]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"error-container\": `error-container-_IyY_2`,\n\t\"errorContainer\": `error-container-_IyY_2`,\n\t\"error-link\": `error-link-Pq2VWp`,\n\t\"errorLink\": `error-link-Pq2VWp`,\n\t\"error-link-underline\": `error-link-underline-EVkAXO`,\n\t\"errorLinkUnderline\": `error-link-underline-EVkAXO`\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.disable-field-jMLuez{padding:12px 0 24px}.disable-field-jMLuez .title-s26PF2{margin-bottom:8px;font-size:14px;font-weight:600}.input-XYeEI3.input-XYeEI3{padding-top:4px}.input-XYeEI3 .semi-input-suffix{cursor:pointer;padding:8px}.link-button-tWRlPA.link-button-tWRlPA.link-button-tWRlPA{background-color:transparent}`, \"\"]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"disable-field\": `disable-field-jMLuez`,\n\t\"disableField\": `disable-field-jMLuez`,\n\t\"title\": `title-s26PF2`,\n\t\"input\": `input-XYeEI3`,\n\t\"link-button\": `link-button-tWRlPA`,\n\t\"linkButton\": `link-button-tWRlPA`\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.step-order-La7ARW{background:var(--light-color-brand-brand-5,#4d53e8);width:16px;height:16px;color:var(--light-color-white-white,#fff);border-radius:50%;justify-content:center;align-items:center;margin-top:2px;font-size:10px;font-weight:600;display:flex}.step-title-vWRtVL{color:#000;margin-bottom:8px;font-size:14px;font-weight:600;line-height:22px}.markdown-qLZ0zo{color:var(--light-usage-text-color-text-0,#1d1c23);font-size:14px;line-height:22px}`, \"\"]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"step-order\": `step-order-La7ARW`,\n\t\"stepOrder\": `step-order-La7ARW`,\n\t\"step-title\": `step-title-vWRtVL`,\n\t\"stepTitle\": `step-title-vWRtVL`,\n\t\"markdown\": `markdown-qLZ0zo`\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.start-text-pXfZ2p{color:var(--light-usage-text-color-text-0,#1d1c23);font-size:14px;line-height:22px}.config-link-HEiJGW{color:var(--light-color-brand-brand-5,#4d53e8);font-size:12px;line-height:16px}.markdown-PFR8kZ{color:var(--light-usage-text-color-text-0,#1d1c23);font-size:14px;line-height:22px}.guide-XLqN5c{margin-bottom:32px}`, \"\"]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"start-text\": `start-text-pXfZ2p`,\n\t\"startText\": `start-text-pXfZ2p`,\n\t\"config-link\": `config-link-HEiJGW`,\n\t\"configLink\": `config-link-HEiJGW`,\n\t\"markdown\": `markdown-PFR8kZ`,\n\t\"guide\": `guide-XLqN5c`\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.step-order-kS8rzB{background:var(--light-color-brand-brand-5,#4d53e8);width:16px;height:16px;color:var(--light-color-white-white,#fff);border-radius:50%;justify-content:center;align-items:center;margin-top:2px;font-size:10px;font-weight:600;display:flex}.step-title-fbaFcC{color:#000;margin-bottom:8px;font-size:14px;font-weight:600;line-height:22px}.markdown-ihOOii{color:var(--light-usage-text-color-text-0,#1d1c23);font-size:14px;line-height:22px}.link-area-yqpTLT .link-list-hCIt6h{margin-top:16px}.link-area-yqpTLT .link-list-hCIt6h .title-HQq6si{color:var(--light-usage-text-color-text-0,#1d1c23);font-size:14px;font-weight:600;line-height:22px}.link-area-yqpTLT .link-list-hCIt6h .link-zMA1OB{word-break:break-word}.link-area-yqpTLT .link-list-hCIt6h .semi-form-field-error-message-ig2k1h{position:absolute}`, \"\"]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"step-order\": `step-order-kS8rzB`,\n\t\"stepOrder\": `step-order-kS8rzB`,\n\t\"step-title\": `step-title-fbaFcC`,\n\t\"stepTitle\": `step-title-fbaFcC`,\n\t\"markdown\": `markdown-ihOOii`,\n\t\"link-area\": `link-area-yqpTLT`,\n\t\"linkArea\": `link-area-yqpTLT`,\n\t\"link-list\": `link-list-hCIt6h`,\n\t\"linkList\": `link-list-hCIt6h`,\n\t\"title\": `title-HQq6si`,\n\t\"link\": `link-zMA1OB`,\n\t\"semi-form-field-error-message\": `semi-form-field-error-message-ig2k1h`,\n\t\"semiFormFieldErrorMessage\": `semi-form-field-error-message-ig2k1h`\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.info-title-hM03fu{margin-bottom:8px;font-size:16px;font-weight:600}.info-subtitle-xJLDxa{margin-top:12px;margin-bottom:8px;font-size:14px;font-weight:500}.container-LF_kv1{width:100%;height:100%}.diff-table-tF4K3Z{margin-bottom:24px}.diff-table-tF4K3Z .semi-table-row-head{border-bottom:1px solid var(--semi-color-border);font-size:12px;background-color:rgba(46,46,56,.04)!important;padding:4px 8px!important}.diff-table-tF4K3Z .semi-table-row-cell{font-size:12px;padding:10px 8px!important}.cell-span-H_nQzL{word-break:break-word;font-weight:400;font-size:12px!important}.property-tooltip-ji9W4V{word-break:break-word}.empty-container-YLcORh{flex-direction:column;justify-content:center;align-items:center;height:100%;min-height:200px;display:flex}.empty-info-q193R7{margin-top:4px}.list-BE2Xcy{border-radius:8px;border:1px solid var(--Stroke-COZ-stroke-plus,rgba(6,7,9,.15))!important;background-color:#fff!important}.list-BE2Xcy .semi-list-item{border-bottom:1px solid var(--Stroke-COZ-stroke-plus,rgba(6,7,9,.15))!important}.list-BE2Xcy .semi-list-item:last-child{border-bottom:none!important}.list-item-vLj8Sw{grid-template-columns:280px 120px 1fr;align-items:center;display:grid}.tag-1-aqUUN6{color:#3ec254;background-color:#d2f3d5}.tag-2-CdvW0P,.tag-4-MC5w82{color:#ff441e;background-color:#ffe0d2}.tag-3-KTmcm_{color:#ff9600;background-color:#fff1cc}.property-title-Tuf6E1{color:var(--Fg-COZ-fg-primary,rgba(6,7,9,.8));font-size:12px;font-weight:500}.info-block-s33QB0:not(:first-child){margin-top:24px}.mask-U3tgbz{pointer-events:none;background:linear-gradient(to top,rgba(var(--coze-bg-2),1)0,rgba(var(--coze-bg-2),0)100%);width:100%;height:32px;position:absolute;bottom:80px}`, \"\"]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"info-title\": `info-title-hM03fu`,\n\t\"infoTitle\": `info-title-hM03fu`,\n\t\"info-subtitle\": `info-subtitle-xJLDxa`,\n\t\"infoSubtitle\": `info-subtitle-xJLDxa`,\n\t\"container\": `container-LF_kv1`,\n\t\"diff-table\": `diff-table-tF4K3Z`,\n\t\"diffTable\": `diff-table-tF4K3Z`,\n\t\"cell-span\": `cell-span-H_nQzL`,\n\t\"cellSpan\": `cell-span-H_nQzL`,\n\t\"property-tooltip\": `property-tooltip-ji9W4V`,\n\t\"propertyTooltip\": `property-tooltip-ji9W4V`,\n\t\"empty-container\": `empty-container-YLcORh`,\n\t\"emptyContainer\": `empty-container-YLcORh`,\n\t\"empty-info\": `empty-info-q193R7`,\n\t\"emptyInfo\": `empty-info-q193R7`,\n\t\"list\": `list-BE2Xcy`,\n\t\"list-item\": `list-item-vLj8Sw`,\n\t\"listItem\": `list-item-vLj8Sw`,\n\t\"tag-1\": `tag-1-aqUUN6`,\n\t\"tag1\": `tag-1-aqUUN6`,\n\t\"tag-2\": `tag-2-CdvW0P`,\n\t\"tag2\": `tag-2-CdvW0P`,\n\t\"tag-4\": `tag-4-MC5w82`,\n\t\"tag4\": `tag-4-MC5w82`,\n\t\"tag-3\": `tag-3-KTmcm_`,\n\t\"tag3\": `tag-3-KTmcm_`,\n\t\"property-title\": `property-title-Tuf6E1`,\n\t\"propertyTitle\": `property-title-Tuf6E1`,\n\t\"info-block\": `info-block-s33QB0`,\n\t\"infoBlock\": `info-block-s33QB0`,\n\t\"mask\": `mask-U3tgbz`\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.template-form-kind2m .editor-container-v9qzn_{border:1px solid rgba(var(--coze-stroke-6),var(--coze-stroke-6-alpha))}.template-form-kind2m .editor-container-v9qzn_:focus-within{border-color:var(--semi-color-focus-border)}.template-form-kind2m .semi-form-field{padding-top:0}.template-form-kind2m .semi-upload-picture .semi-upload-picture-add{border:1px solid rgba(var(--coze-stroke-6),var(--coze-stroke-6-alpha));background-color:transparent}.template-form-kind2m .semi-upload-picture .semi-upload-picture-file-card-error{outline-offset:-1px}.template-form-kind2m .coz-single-select .semi-radio{margin-top:3px;margin-bottom:3px}.template-form-kind2m .coz-single-select .semi-radio .semi-radio-addon-buttonRadio{border-radius:6px}.template-form-kind2m .coz-input-number.semi-input-number .semi-input-wrapper{border-color:rgba(var(--coze-stroke-6),var(--coze-stroke-6-alpha))}.template-form-kind2m .coz-input-number.semi-input-number .semi-input-wrapper-focus{border-color:var(--semi-color-focus-border)}.template-form-kind2m .coz-input-number.semi-input-number .semi-input-suffix{margin-right:30px;font-size:12px;font-weight:400}`, \"\"]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"template-form\": `template-form-kind2m`,\n\t\"templateForm\": `template-form-kind2m`,\n\t\"editor-container\": `editor-container-v9qzn_`,\n\t\"editorContainer\": `editor-container-v9qzn_`\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.highlight-EyZl50{border-radius:4px;animation:3s forwards highlight-animation-FUji_T}@keyframes highlight-animation-FUji_T{0%{background-color:rgba(var(--coze-brand-0),var(--coze-brand-0-alpha))}to{background-color:transparent}}`, \"\"]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"highlight\": `highlight-EyZl50`,\n\t\"highlight-animation\": `highlight-animation-FUji_T`,\n\t\"highlightAnimation\": `highlight-animation-FUji_T`\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.mask-B9qkmd{background:linear-gradient(180deg,rgba(var(--coze-bg-2),var(--coze-bg-2-alpha))0 85%,transparent 100%)}`, \"\"]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"mask\": `mask-B9qkmd`\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.desc-input-ty8_FN>input{text-overflow:ellipsis}`, \"\"]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"desc-input\": `desc-input-ty8_FN`,\n\t\"descInput\": `desc-input-ty8_FN`\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.publish-collapse-VlVg4U .semi-collapse-item{border-bottom:1px solid var(--coz-stroke-primary);position:relative}.publish-collapse-VlVg4U .semi-collapse-item:hover{border-color:var(--coz-bg-primary)}.publish-collapse-VlVg4U .semi-collapse-header:hover:before{content:\"\";background-color:var(--coz-bg-primary);width:100%;height:1px;position:absolute;top:-1px;left:0}.publish-collapse-VlVg4U .semi-collapse-header{border-radius:0;margin:0;padding:8px 0}.publish-collapse-VlVg4U .semi-collapse-header:hover{background:var(--coz-mg-secondary-hovered);border-radius:8px}.publish-collapse-VlVg4U .semi-collapse-header:active{background:var(--coz-mg-secondary-pressed)}.publish-collapse-VlVg4U .semi-collapse-header-icon{margin:4px}.publish-collapse-VlVg4U .semi-collapse-content{padding:4px 0 16px}.publish-collapse-VlVg4U .semi-collapse-item:last-child{border:none}.publish-collapse-VlVg4U .semi-form-field-label{line-height:20px}.publish-cards-cgmQMc .semi-select.coz-select{border-radius:var(--small,6px);height:24px}.publish-cards-cgmQMc .semi-select.coz-select .semi-select-inset-label{color:var(--coz-fg-secondary);margin:0 4px;font-size:12px;font-weight:400}.publish-cards-cgmQMc .semi-select.coz-select .semi-select-selection .semi-select-selection-text{font-size:12px}.publish-cards-cgmQMc .semi-select.coz-select .semi-select-arrow{width:22px}.publish-cards-cgmQMc .semi-select.coz-select .semi-select-content-wrapper-empty{margin-left:0}.publish-cards-cgmQMc .semi-select.coz-select .semi-select-content-wrapper-collapse{align-items:center;gap:2px;line-height:normal}.publish-cards-cgmQMc .semi-select.coz-select .semi-select-content-wrapper-collapse .semi-overflow-list-item{display:flex}.publish-cards-cgmQMc .semi-select.coz-select .semi-select-content-wrapper-collapse .semi-overflow-list-overflow{display:flex}.publish-cards-cgmQMc .semi-select.coz-select .semi-tag{background:var(--coz-mg_primary,rgba(6,7,9,.08));border-radius:2px;height:16px;padding:2px}.publish-cards-cgmQMc .semi-select-error{border:1px solid var(--coz-stroke-hglt-red)}.publish-cards-cgmQMc .coz-checkbox.semi-checkbox-unChecked .semi-checkbox-inner-display{border-color:var(--coz-stroke-plus)}.project-vxjogy .semi-form-field-error-message{color:var(--coz-fg-hglt-red);font-size:12px;line-height:16px}.project-vxjogy .semi-input{border-radius:8px}.project-vxjogy .semi-form-field{padding:0}.project-vxjogy .semi-input-textarea{height:72px}`, \"\"]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"publish-collapse\": `publish-collapse-VlVg4U`,\n\t\"publishCollapse\": `publish-collapse-VlVg4U`,\n\t\"publish-cards\": `publish-cards-cgmQMc`,\n\t\"publishCards\": `publish-cards-cgmQMc`,\n\t\"project\": `project-vxjogy`\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.web-sdk-guide-_xvOoZ ol li::marker{color:var(--coz-fg-secondary);font-weight:500}.web-sdk-guide-_xvOoZ [class^=code-block-element]{height:160px}.web-sdk-guide-_xvOoZ [class^=code-block-element] [class^=content]{flex-shrink:1;overflow:auto}.web-sdk-guide-_xvOoZ [class^=code-block-element] [class^=content] pre{overflow:visible}`, \"\"]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"web-sdk-guide\": `web-sdk-guide-_xvOoZ`,\n\t\"webSdkGuide\": `web-sdk-guide-_xvOoZ`\n};\nexport default ___CSS_LOADER_EXPORT___;\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nexport { _arrayLikeToArray as arrayLikeToArray, _arrayWithHoles as arrayWithHoles, _defineProperty as defineProperty, _iterableToArrayLimit as iterableToArrayLimit, _nonIterableRest as nonIterableRest, _objectSpread2 as objectSpread2, _objectWithoutProperties as objectWithoutProperties, _objectWithoutPropertiesLoose as objectWithoutPropertiesLoose, _slicedToArray as slicedToArray, _unsupportedIterableToArray as unsupportedIterableToArray };\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction compose() {\n  for (var _len = arguments.length, fns = new Array(_len), _key = 0; _key < _len; _key++) {\n    fns[_key] = arguments[_key];\n  }\n\n  return function (x) {\n    return fns.reduceRight(function (y, f) {\n      return f(y);\n    }, x);\n  };\n}\n\nfunction curry(fn) {\n  return function curried() {\n    var _this = this;\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return args.length >= fn.length ? fn.apply(this, args) : function () {\n      for (var _len3 = arguments.length, nextArgs = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        nextArgs[_key3] = arguments[_key3];\n      }\n\n      return curried.apply(_this, [].concat(args, nextArgs));\n    };\n  };\n}\n\nfunction isObject(value) {\n  return {}.toString.call(value).includes('Object');\n}\n\nfunction isEmpty(obj) {\n  return !Object.keys(obj).length;\n}\n\nfunction isFunction(value) {\n  return typeof value === 'function';\n}\n\nfunction hasOwnProperty(object, property) {\n  return Object.prototype.hasOwnProperty.call(object, property);\n}\n\nfunction validateChanges(initial, changes) {\n  if (!isObject(changes)) errorHandler('changeType');\n  if (Object.keys(changes).some(function (field) {\n    return !hasOwnProperty(initial, field);\n  })) errorHandler('changeField');\n  return changes;\n}\n\nfunction validateSelector(selector) {\n  if (!isFunction(selector)) errorHandler('selectorType');\n}\n\nfunction validateHandler(handler) {\n  if (!(isFunction(handler) || isObject(handler))) errorHandler('handlerType');\n  if (isObject(handler) && Object.values(handler).some(function (_handler) {\n    return !isFunction(_handler);\n  })) errorHandler('handlersType');\n}\n\nfunction validateInitial(initial) {\n  if (!initial) errorHandler('initialIsRequired');\n  if (!isObject(initial)) errorHandler('initialType');\n  if (isEmpty(initial)) errorHandler('initialContent');\n}\n\nfunction throwError(errorMessages, type) {\n  throw new Error(errorMessages[type] || errorMessages[\"default\"]);\n}\n\nvar errorMessages = {\n  initialIsRequired: 'initial state is required',\n  initialType: 'initial state should be an object',\n  initialContent: 'initial state shouldn\\'t be an empty object',\n  handlerType: 'handler should be an object or a function',\n  handlersType: 'all handlers should be a functions',\n  selectorType: 'selector should be a function',\n  changeType: 'provided value of changes should be an object',\n  changeField: 'it seams you want to change a field in the state which is not specified in the \"initial\" state',\n  \"default\": 'an unknown error accured in `state-local` package'\n};\nvar errorHandler = curry(throwError)(errorMessages);\nvar validators = {\n  changes: validateChanges,\n  selector: validateSelector,\n  handler: validateHandler,\n  initial: validateInitial\n};\n\nfunction create(initial) {\n  var handler = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  validators.initial(initial);\n  validators.handler(handler);\n  var state = {\n    current: initial\n  };\n  var didUpdate = curry(didStateUpdate)(state, handler);\n  var update = curry(updateState)(state);\n  var validate = curry(validators.changes)(initial);\n  var getChanges = curry(extractChanges)(state);\n\n  function getState() {\n    var selector = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function (state) {\n      return state;\n    };\n    validators.selector(selector);\n    return selector(state.current);\n  }\n\n  function setState(causedChanges) {\n    compose(didUpdate, update, validate, getChanges)(causedChanges);\n  }\n\n  return [getState, setState];\n}\n\nfunction extractChanges(state, causedChanges) {\n  return isFunction(causedChanges) ? causedChanges(state.current) : causedChanges;\n}\n\nfunction updateState(state, changes) {\n  state.current = _objectSpread2(_objectSpread2({}, state.current), changes);\n  return changes;\n}\n\nfunction didStateUpdate(state, handler, changes) {\n  isFunction(handler) ? handler(state.current) : Object.keys(changes).forEach(function (field) {\n    var _handler$field;\n\n    return (_handler$field = handler[field]) === null || _handler$field === void 0 ? void 0 : _handler$field.call(handler, state.current[field]);\n  });\n  return changes;\n}\n\nvar index = {\n  create: create\n};\n\nexport default index;\n","function curry(fn) {\n  return function curried() {\n    var _this = this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return args.length >= fn.length ? fn.apply(this, args) : function () {\n      for (var _len2 = arguments.length, nextArgs = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        nextArgs[_key2] = arguments[_key2];\n      }\n\n      return curried.apply(_this, [].concat(args, nextArgs));\n    };\n  };\n}\n\nexport default curry;\n","import curry from '../utils/curry.js';\nimport isObject from '../utils/isObject.js';\n\n/**\n * validates the configuration object and informs about deprecation\n * @param {Object} config - the configuration object \n * @return {Object} config - the validated configuration object\n */\n\nfunction validateConfig(config) {\n  if (!config) errorHandler('configIsRequired');\n  if (!isObject(config)) errorHandler('configType');\n\n  if (config.urls) {\n    informAboutDeprecation();\n    return {\n      paths: {\n        vs: config.urls.monacoBase\n      }\n    };\n  }\n\n  return config;\n}\n/**\n * logs deprecation message\n */\n\n\nfunction informAboutDeprecation() {\n  console.warn(errorMessages.deprecation);\n}\n\nfunction throwError(errorMessages, type) {\n  throw new Error(errorMessages[type] || errorMessages[\"default\"]);\n}\n\nvar errorMessages = {\n  configIsRequired: 'the configuration object is required',\n  configType: 'the configuration object should be an object',\n  \"default\": 'an unknown error accured in `@monaco-editor/loader` package',\n  deprecation: \"Deprecation warning!\\n    You are using deprecated way of configuration.\\n\\n    Instead of using\\n      monaco.config({ urls: { monacoBase: '...' } })\\n    use\\n      monaco.config({ paths: { vs: '...' } })\\n\\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\\n  \"\n};\nvar errorHandler = curry(throwError)(errorMessages);\nvar validators = {\n  config: validateConfig\n};\n\nexport default validators;\nexport { errorHandler, errorMessages };\n","function isObject(value) {\n  return {}.toString.call(value).includes('Object');\n}\n\nexport default isObject;\n","var compose = function compose() {\n  for (var _len = arguments.length, fns = new Array(_len), _key = 0; _key < _len; _key++) {\n    fns[_key] = arguments[_key];\n  }\n\n  return function (x) {\n    return fns.reduceRight(function (y, f) {\n      return f(y);\n    }, x);\n  };\n};\n\nexport default compose;\n","// The source (has been changed) is https://github.com/facebook/react/issues/5465#issuecomment-157888325\nvar CANCELATION_MESSAGE = {\n  type: 'cancelation',\n  msg: 'operation is manually canceled'\n};\n\nfunction makeCancelable(promise) {\n  var hasCanceled_ = false;\n  var wrappedPromise = new Promise(function (resolve, reject) {\n    promise.then(function (val) {\n      return hasCanceled_ ? reject(CANCELATION_MESSAGE) : resolve(val);\n    });\n    promise[\"catch\"](reject);\n  });\n  return wrappedPromise.cancel = function () {\n    return hasCanceled_ = true;\n  }, wrappedPromise;\n}\n\nexport default makeCancelable;\nexport { CANCELATION_MESSAGE };\n","import { slicedToArray as _slicedToArray, objectWithoutProperties as _objectWithoutProperties } from '../_virtual/_rollupPluginBabelHelpers.js';\nimport state from 'state-local';\nimport config$1 from '../config/index.js';\nimport validators from '../validators/index.js';\nimport compose from '../utils/compose.js';\nimport merge from '../utils/deepMerge.js';\nimport makeCancelable from '../utils/makeCancelable.js';\n\n/** the local state of the module */\n\nvar _state$create = state.create({\n  config: config$1,\n  isInitialized: false,\n  resolve: null,\n  reject: null,\n  monaco: null\n}),\n    _state$create2 = _slicedToArray(_state$create, 2),\n    getState = _state$create2[0],\n    setState = _state$create2[1];\n/**\n * set the loader configuration\n * @param {Object} config - the configuration object\n */\n\n\nfunction config(globalConfig) {\n  var _validators$config = validators.config(globalConfig),\n      monaco = _validators$config.monaco,\n      config = _objectWithoutProperties(_validators$config, [\"monaco\"]);\n\n  setState(function (state) {\n    return {\n      config: merge(state.config, config),\n      monaco: monaco\n    };\n  });\n}\n/**\n * handles the initialization of the monaco-editor\n * @return {Promise} - returns an instance of monaco (with a cancelable promise)\n */\n\n\nfunction init() {\n  var state = getState(function (_ref) {\n    var monaco = _ref.monaco,\n        isInitialized = _ref.isInitialized,\n        resolve = _ref.resolve;\n    return {\n      monaco: monaco,\n      isInitialized: isInitialized,\n      resolve: resolve\n    };\n  });\n\n  if (!state.isInitialized) {\n    setState({\n      isInitialized: true\n    });\n\n    if (state.monaco) {\n      state.resolve(state.monaco);\n      return makeCancelable(wrapperPromise);\n    }\n\n    if (window.monaco && window.monaco.editor) {\n      storeMonacoInstance(window.monaco);\n      state.resolve(window.monaco);\n      return makeCancelable(wrapperPromise);\n    }\n\n    compose(injectScripts, getMonacoLoaderScript)(configureLoader);\n  }\n\n  return makeCancelable(wrapperPromise);\n}\n/**\n * injects provided scripts into the document.body\n * @param {Object} script - an HTML script element\n * @return {Object} - the injected HTML script element\n */\n\n\nfunction injectScripts(script) {\n  return document.body.appendChild(script);\n}\n/**\n * creates an HTML script element with/without provided src\n * @param {string} [src] - the source path of the script\n * @return {Object} - the created HTML script element\n */\n\n\nfunction createScript(src) {\n  var script = document.createElement('script');\n  return src && (script.src = src), script;\n}\n/**\n * creates an HTML script element with the monaco loader src\n * @return {Object} - the created HTML script element\n */\n\n\nfunction getMonacoLoaderScript(configureLoader) {\n  var state = getState(function (_ref2) {\n    var config = _ref2.config,\n        reject = _ref2.reject;\n    return {\n      config: config,\n      reject: reject\n    };\n  });\n  var loaderScript = createScript(\"\".concat(state.config.paths.vs, \"/loader.js\"));\n\n  loaderScript.onload = function () {\n    return configureLoader();\n  };\n\n  loaderScript.onerror = state.reject;\n  return loaderScript;\n}\n/**\n * configures the monaco loader\n */\n\n\nfunction configureLoader() {\n  var state = getState(function (_ref3) {\n    var config = _ref3.config,\n        resolve = _ref3.resolve,\n        reject = _ref3.reject;\n    return {\n      config: config,\n      resolve: resolve,\n      reject: reject\n    };\n  });\n  var require = window.require;\n\n  require.config(state.config);\n\n  require(['vs/editor/editor.main'], function (monaco) {\n    storeMonacoInstance(monaco);\n    state.resolve(monaco);\n  }, function (error) {\n    state.reject(error);\n  });\n}\n/**\n * store monaco instance in local state\n */\n\n\nfunction storeMonacoInstance(monaco) {\n  if (!getState().monaco) {\n    setState({\n      monaco: monaco\n    });\n  }\n}\n/**\n * internal helper function\n * extracts stored monaco instance\n * @return {Object|null} - the monaco instance\n */\n\n\nfunction __getMonacoInstance() {\n  return getState(function (_ref4) {\n    var monaco = _ref4.monaco;\n    return monaco;\n  });\n}\n\nvar wrapperPromise = new Promise(function (resolve, reject) {\n  return setState({\n    resolve: resolve,\n    reject: reject\n  });\n});\nvar loader = {\n  config: config,\n  init: init,\n  __getMonacoInstance: __getMonacoInstance\n};\n\nexport default loader;\n","var config = {\n  paths: {\n    vs: 'https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs'\n  }\n};\n\nexport default config;\n","import { objectSpread2 as _objectSpread2 } from '../_virtual/_rollupPluginBabelHelpers.js';\n\nfunction merge(target, source) {\n  Object.keys(source).forEach(function (key) {\n    if (source[key] instanceof Object) {\n      if (target[key]) {\n        Object.assign(source[key], merge(target[key], source[key]));\n      }\n    }\n  });\n  return _objectSpread2(_objectSpread2({}, target), source);\n}\n\nexport default merge;\n","import _t from\"@monaco-editor/loader\";import{memo as Te}from\"react\";import ke,{useState as re,useRef as S,useCallback as oe,useEffect as ne}from\"react\";import Se from\"@monaco-editor/loader\";import{memo as ye}from\"react\";import K from\"react\";var le={wrapper:{display:\"flex\",position:\"relative\",textAlign:\"initial\"},fullWidth:{width:\"100%\"},hide:{display:\"none\"}},v=le;import me from\"react\";var ae={container:{display:\"flex\",height:\"100%\",width:\"100%\",justifyContent:\"center\",alignItems:\"center\"}},Y=ae;function Me({children:e}){return me.createElement(\"div\",{style:Y.container},e)}var Z=Me;var $=Z;function Ee({width:e,height:r,isEditorReady:n,loading:t,_ref:a,className:m,wrapperProps:E}){return K.createElement(\"section\",{style:{...v.wrapper,width:e,height:r},...E},!n&&K.createElement($,null,t),K.createElement(\"div\",{ref:a,style:{...v.fullWidth,...!n&&v.hide},className:m}))}var ee=Ee;var H=ye(ee);import{useEffect as xe}from\"react\";function Ce(e){xe(e,[])}var k=Ce;import{useEffect as ge,useRef as Re}from\"react\";function he(e,r,n=!0){let t=Re(!0);ge(t.current||!n?()=>{t.current=!1}:e,r)}var l=he;function D(){}function h(e,r,n,t){return De(e,t)||be(e,r,n,t)}function De(e,r){return e.editor.getModel(te(e,r))}function be(e,r,n,t){return e.editor.createModel(r,n,t?te(e,t):void 0)}function te(e,r){return e.Uri.parse(r)}function Oe({original:e,modified:r,language:n,originalLanguage:t,modifiedLanguage:a,originalModelPath:m,modifiedModelPath:E,keepCurrentOriginalModel:g=!1,keepCurrentModifiedModel:N=!1,theme:x=\"light\",loading:P=\"Loading...\",options:y={},height:V=\"100%\",width:z=\"100%\",className:F,wrapperProps:j={},beforeMount:A=D,onMount:q=D}){let[M,O]=re(!1),[T,s]=re(!0),u=S(null),c=S(null),w=S(null),d=S(q),o=S(A),b=S(!1);k(()=>{let i=Se.init();return i.then(f=>(c.current=f)&&s(!1)).catch(f=>f?.type!==\"cancelation\"&&console.error(\"Monaco initialization: error:\",f)),()=>u.current?I():i.cancel()}),l(()=>{if(u.current&&c.current){let i=u.current.getOriginalEditor(),f=h(c.current,e||\"\",t||n||\"text\",m||\"\");f!==i.getModel()&&i.setModel(f)}},[m],M),l(()=>{if(u.current&&c.current){let i=u.current.getModifiedEditor(),f=h(c.current,r||\"\",a||n||\"text\",E||\"\");f!==i.getModel()&&i.setModel(f)}},[E],M),l(()=>{let i=u.current.getModifiedEditor();i.getOption(c.current.editor.EditorOption.readOnly)?i.setValue(r||\"\"):r!==i.getValue()&&(i.executeEdits(\"\",[{range:i.getModel().getFullModelRange(),text:r||\"\",forceMoveMarkers:!0}]),i.pushUndoStop())},[r],M),l(()=>{u.current?.getModel()?.original.setValue(e||\"\")},[e],M),l(()=>{let{original:i,modified:f}=u.current.getModel();c.current.editor.setModelLanguage(i,t||n||\"text\"),c.current.editor.setModelLanguage(f,a||n||\"text\")},[n,t,a],M),l(()=>{c.current?.editor.setTheme(x)},[x],M),l(()=>{u.current?.updateOptions(y)},[y],M);let L=oe(()=>{if(!c.current)return;o.current(c.current);let i=h(c.current,e||\"\",t||n||\"text\",m||\"\"),f=h(c.current,r||\"\",a||n||\"text\",E||\"\");u.current?.setModel({original:i,modified:f})},[n,r,a,e,t,m,E]),U=oe(()=>{!b.current&&w.current&&(u.current=c.current.editor.createDiffEditor(w.current,{automaticLayout:!0,...y}),L(),c.current?.editor.setTheme(x),O(!0),b.current=!0)},[y,x,L]);ne(()=>{M&&d.current(u.current,c.current)},[M]),ne(()=>{!T&&!M&&U()},[T,M,U]);function I(){let i=u.current?.getModel();g||i?.original?.dispose(),N||i?.modified?.dispose(),u.current?.dispose()}return ke.createElement(H,{width:z,height:V,isEditorReady:M,loading:P,_ref:w,className:F,wrapperProps:j})}var ie=Oe;var we=Te(ie);import{useState as Ie}from\"react\";import ce from\"@monaco-editor/loader\";function Pe(){let[e,r]=Ie(ce.__getMonacoInstance());return k(()=>{let n;return e||(n=ce.init(),n.then(t=>{r(t)})),()=>n?.cancel()}),e}var Le=Pe;import{memo as ze}from\"react\";import We,{useState as ue,useEffect as W,useRef as C,useCallback as _e}from\"react\";import Ne from\"@monaco-editor/loader\";import{useEffect as Ue,useRef as ve}from\"react\";function He(e){let r=ve();return Ue(()=>{r.current=e},[e]),r.current}var se=He;var _=new Map;function Ve({defaultValue:e,defaultLanguage:r,defaultPath:n,value:t,language:a,path:m,theme:E=\"light\",line:g,loading:N=\"Loading...\",options:x={},overrideServices:P={},saveViewState:y=!0,keepCurrentModel:V=!1,width:z=\"100%\",height:F=\"100%\",className:j,wrapperProps:A={},beforeMount:q=D,onMount:M=D,onChange:O,onValidate:T=D}){let[s,u]=ue(!1),[c,w]=ue(!0),d=C(null),o=C(null),b=C(null),L=C(M),U=C(q),I=C(),i=C(t),f=se(m),Q=C(!1),B=C(!1);k(()=>{let p=Ne.init();return p.then(R=>(d.current=R)&&w(!1)).catch(R=>R?.type!==\"cancelation\"&&console.error(\"Monaco initialization: error:\",R)),()=>o.current?pe():p.cancel()}),l(()=>{let p=h(d.current,e||t||\"\",r||a||\"\",m||n||\"\");p!==o.current?.getModel()&&(y&&_.set(f,o.current?.saveViewState()),o.current?.setModel(p),y&&o.current?.restoreViewState(_.get(m)))},[m],s),l(()=>{o.current?.updateOptions(x)},[x],s),l(()=>{!o.current||t===void 0||(o.current.getOption(d.current.editor.EditorOption.readOnly)?o.current.setValue(t):t!==o.current.getValue()&&(B.current=!0,o.current.executeEdits(\"\",[{range:o.current.getModel().getFullModelRange(),text:t,forceMoveMarkers:!0}]),o.current.pushUndoStop(),B.current=!1))},[t],s),l(()=>{let p=o.current?.getModel();p&&a&&d.current?.editor.setModelLanguage(p,a)},[a],s),l(()=>{g!==void 0&&o.current?.revealLine(g)},[g],s),l(()=>{d.current?.editor.setTheme(E)},[E],s);let X=_e(()=>{if(!(!b.current||!d.current)&&!Q.current){U.current(d.current);let p=m||n,R=h(d.current,t||e||\"\",r||a||\"\",p||\"\");o.current=d.current?.editor.create(b.current,{model:R,automaticLayout:!0,...x},P),y&&o.current.restoreViewState(_.get(p)),d.current.editor.setTheme(E),g!==void 0&&o.current.revealLine(g),u(!0),Q.current=!0}},[e,r,n,t,a,m,x,P,y,E,g]);W(()=>{s&&L.current(o.current,d.current)},[s]),W(()=>{!c&&!s&&X()},[c,s,X]),i.current=t,W(()=>{s&&O&&(I.current?.dispose(),I.current=o.current?.onDidChangeModelContent(p=>{B.current||O(o.current.getValue(),p)}))},[s,O]),W(()=>{if(s){let p=d.current.editor.onDidChangeMarkers(R=>{let G=o.current.getModel()?.uri;if(G&&R.find(J=>J.path===G.path)){let J=d.current.editor.getModelMarkers({resource:G});T?.(J)}});return()=>{p?.dispose()}}return()=>{}},[s,T]);function pe(){I.current?.dispose(),V?y&&_.set(m,o.current.saveViewState()):o.current.getModel()?.dispose(),o.current.dispose()}return We.createElement(H,{width:z,height:F,isEditorReady:s,loading:N,_ref:b,className:j,wrapperProps:A})}var fe=Ve;var de=ze(fe);var Ft=de;export{we as DiffEditor,de as Editor,Ft as default,_t as loader,Le as useMonaco};\n//# sourceMappingURL=index.mjs.map","/**\n * @typedef Options\n *   Configuration for `stringify`.\n * @property {boolean} [padLeft=true]\n *   Whether to pad a space before a token.\n * @property {boolean} [padRight=false]\n *   Whether to pad a space after a token.\n */\n\n/**\n * @typedef {Options} StringifyOptions\n *   Please use `StringifyOptions` instead.\n */\n\n/**\n * Parse comma-separated tokens to an array.\n *\n * @param {string} value\n *   Comma-separated tokens.\n * @returns {Array<string>}\n *   List of tokens.\n */\nexport function parse(value) {\n  /** @type {Array<string>} */\n  const tokens = []\n  const input = String(value || '')\n  let index = input.indexOf(',')\n  let start = 0\n  /** @type {boolean} */\n  let end = false\n\n  while (!end) {\n    if (index === -1) {\n      index = input.length\n      end = true\n    }\n\n    const token = input.slice(start, index).trim()\n\n    if (token || !end) {\n      tokens.push(token)\n    }\n\n    start = index + 1\n    index = input.indexOf(',', start)\n  }\n\n  return tokens\n}\n\n/**\n * Serialize an array of strings or numbers to comma-separated tokens.\n *\n * @param {Array<string|number>} values\n *   List of tokens.\n * @param {Options} [options]\n *   Configuration for `stringify` (optional).\n * @returns {string}\n *   Comma-separated tokens.\n */\nexport function stringify(values, options) {\n  const settings = options || {}\n\n  // Ensure the last empty entry is seen.\n  const input = values[values.length - 1] === '' ? [...values, ''] : values\n\n  return input\n    .join(\n      (settings.padRight ? ' ' : '') +\n        ',' +\n        (settings.padLeft === false ? '' : ' ')\n    )\n    .trim()\n}\n","import baseFindIndex from './_baseFindIndex.js';\nimport baseIteratee from './_baseIteratee.js';\nimport toInteger from './toInteger.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * This method is like `_.find` except that it returns the index of the first\n * element `predicate` returns truthy for instead of the element itself.\n *\n * @static\n * @memberOf _\n * @since 1.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {number} Returns the index of the found element, else `-1`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'active': false },\n *   { 'user': 'fred',    'active': false },\n *   { 'user': 'pebbles', 'active': true }\n * ];\n *\n * _.findIndex(users, function(o) { return o.user == 'barney'; });\n * // => 0\n *\n * // The `_.matches` iteratee shorthand.\n * _.findIndex(users, { 'user': 'fred', 'active': false });\n * // => 1\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.findIndex(users, ['active', false]);\n * // => 0\n *\n * // The `_.property` iteratee shorthand.\n * _.findIndex(users, 'active');\n * // => 2\n */\nfunction findIndex(array, predicate, fromIndex) {\n  var length = array == null ? 0 : array.length;\n  if (!length) {\n    return -1;\n  }\n  var index = fromIndex == null ? 0 : toInteger(fromIndex);\n  if (index < 0) {\n    index = nativeMax(length + index, 0);\n  }\n  return baseFindIndex(array, baseIteratee(predicate, 3), index);\n}\n\nexport default findIndex;\n","import createFind from './_createFind.js';\nimport findIndex from './findIndex.js';\n\n/**\n * Iterates over elements of `collection`, returning the first element\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {*} Returns the matched element, else `undefined`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'age': 36, 'active': true },\n *   { 'user': 'fred',    'age': 40, 'active': false },\n *   { 'user': 'pebbles', 'age': 1,  'active': true }\n * ];\n *\n * _.find(users, function(o) { return o.age < 40; });\n * // => object for 'barney'\n *\n * // The `_.matches` iteratee shorthand.\n * _.find(users, { 'age': 1, 'active': true });\n * // => object for 'pebbles'\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.find(users, ['active', false]);\n * // => object for 'fred'\n *\n * // The `_.property` iteratee shorthand.\n * _.find(users, 'active');\n * // => object for 'barney'\n */\nvar find = createFind(findIndex);\n\nexport default find;\n","import {asciiAlphanumeric} from 'micromark-util-character'\nimport {encode} from 'micromark-util-encode'\n/**\n * Make a value safe for injection as a URL.\n *\n * This encodes unsafe characters with percent-encoding and skips already\n * encoded sequences (see `normalizeUri`).\n * Further unsafe characters are encoded as character references (see\n * `micromark-util-encode`).\n *\n * A regex of allowed protocols can be given, in which case the URL is\n * sanitized.\n * For example, `/^(https?|ircs?|mailto|xmpp)$/i` can be used for `a[href]`, or\n * `/^https?$/i` for `img[src]` (this is what `github.com` allows).\n * If the URL includes an unknown protocol (one not matched by `protocol`, such\n * as a dangerous example, `javascript:`), the value is ignored.\n *\n * @param {string | undefined} url\n *   URI to sanitize.\n * @param {RegExp | null | undefined} [protocol]\n *   Allowed protocols.\n * @returns {string}\n *   Sanitized URI.\n */\nexport function sanitizeUri(url, protocol) {\n  const value = encode(normalizeUri(url || ''))\n  if (!protocol) {\n    return value\n  }\n  const colon = value.indexOf(':')\n  const questionMark = value.indexOf('?')\n  const numberSign = value.indexOf('#')\n  const slash = value.indexOf('/')\n  if (\n    // If there is no protocol, its relative.\n    colon < 0 ||\n    // If the first colon is after a `?`, `#`, or `/`, its not a protocol.\n    (slash > -1 && colon > slash) ||\n    (questionMark > -1 && colon > questionMark) ||\n    (numberSign > -1 && colon > numberSign) ||\n    // It is a protocol, it should be allowed.\n    protocol.test(value.slice(0, colon))\n  ) {\n    return value\n  }\n  return ''\n}\n\n/**\n * Normalize a URL.\n *\n * Encode unsafe characters with percent-encoding, skipping already encoded\n * sequences.\n *\n * @param {string} value\n *   URI to normalize.\n * @returns {string}\n *   Normalized URI.\n */\nexport function normalizeUri(value) {\n  /** @type {Array<string>} */\n  const result = []\n  let index = -1\n  let start = 0\n  let skip = 0\n  while (++index < value.length) {\n    const code = value.charCodeAt(index)\n    /** @type {string} */\n    let replace = ''\n\n    // A correct percent encoded value.\n    if (\n      code === 37 &&\n      asciiAlphanumeric(value.charCodeAt(index + 1)) &&\n      asciiAlphanumeric(value.charCodeAt(index + 2))\n    ) {\n      skip = 2\n    }\n    // ASCII.\n    else if (code < 128) {\n      if (!/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(code))) {\n        replace = String.fromCharCode(code)\n      }\n    }\n    // Astral.\n    else if (code > 55295 && code < 57344) {\n      const next = value.charCodeAt(index + 1)\n\n      // A correct surrogate pair.\n      if (code < 56320 && next > 56319 && next < 57344) {\n        replace = String.fromCharCode(code, next)\n        skip = 1\n      }\n      // Lone surrogate.\n      else {\n        replace = '\\uFFFD'\n      }\n    }\n    // Unicode.\n    else {\n      replace = String.fromCharCode(code)\n    }\n    if (replace) {\n      result.push(value.slice(start, index), encodeURIComponent(replace))\n      start = index + skip + 1\n      replace = ''\n    }\n    if (skip) {\n      index += skip\n      skip = 0\n    }\n  }\n  return result.join('') + value.slice(start)\n}\n","/**\n * @typedef {import('unist').Position} Position\n * @typedef {import('unist').Node} Node\n * @typedef {import('unist').Point} Point\n */\n\n/**\n * @typedef NodeLike\n * @property {string} type\n * @property {PositionLike | null | undefined} [position]\n *\n * @typedef PositionLike\n * @property {PointLike | null | undefined} [start]\n * @property {PointLike | null | undefined} [end]\n *\n * @typedef PointLike\n * @property {number | null | undefined} [line]\n * @property {number | null | undefined} [column]\n * @property {number | null | undefined} [offset]\n */\n\n/**\n * Get the starting point of `node`.\n *\n * @param node\n *   Node.\n * @returns\n *   Point.\n */\nexport const pointStart = point('start')\n\n/**\n * Get the ending point of `node`.\n *\n * @param node\n *   Node.\n * @returns\n *   Point.\n */\nexport const pointEnd = point('end')\n\n/**\n * Get the positional info of `node`.\n *\n * @param {NodeLike | Node | null | undefined} [node]\n *   Node.\n * @returns {Position}\n *   Position.\n */\nexport function position(node) {\n  return {start: pointStart(node), end: pointEnd(node)}\n}\n\n/**\n * Get the positional info of `node`.\n *\n * @param {'start' | 'end'} type\n *   Side.\n * @returns\n *   Getter.\n */\nfunction point(type) {\n  return point\n\n  /**\n   * Get the point info of `node` at a bound side.\n   *\n   * @param {NodeLike | Node | null | undefined} [node]\n   * @returns {Point}\n   */\n  function point(node) {\n    const point = (node && node.position && node.position[type]) || {}\n\n    // To do: next major: dont return points when invalid.\n    return {\n      // @ts-expect-error: in practice, null is allowed.\n      line: point.line || null,\n      // @ts-expect-error: in practice, null is allowed.\n      column: point.column || null,\n      // @ts-expect-error: in practice, null is allowed.\n      offset: point.offset > -1 ? point.offset : null\n    }\n  }\n}\n","/**\n * @typedef {import('mdast').Root} Root\n * @typedef {import('mdast').Content} Content\n * @typedef {import('mdast').Definition} Definition\n */\n\n/**\n * @typedef {Root | Content} Node\n *\n * @callback GetDefinition\n *   Get a definition by identifier.\n * @param {string | null | undefined} [identifier]\n *   Identifier of definition.\n * @returns {Definition | null}\n *   Definition corresponding to `identifier` or `null`.\n */\n\nimport {visit} from 'unist-util-visit'\n\nconst own = {}.hasOwnProperty\n\n/**\n * Find definitions in `tree`.\n *\n * Uses CommonMark precedence, which means that earlier definitions are\n * preferred over duplicate later definitions.\n *\n * @param {Node} tree\n *   Tree to check.\n * @returns {GetDefinition}\n *   Getter.\n */\nexport function definitions(tree) {\n  /** @type {Record<string, Definition>} */\n  const cache = Object.create(null)\n\n  if (!tree || !tree.type) {\n    throw new Error('mdast-util-definitions expected node')\n  }\n\n  visit(tree, 'definition', (definition) => {\n    const id = clean(definition.identifier)\n    if (id && !own.call(cache, id)) {\n      cache[id] = definition\n    }\n  })\n\n  return definition\n\n  /** @type {GetDefinition} */\n  function definition(identifier) {\n    const id = clean(identifier)\n    // To do: next major: return `undefined` when not found.\n    return id && own.call(cache, id) ? cache[id] : null\n  }\n}\n\n/**\n * @param {string | null | undefined} [value]\n * @returns {string}\n */\nfunction clean(value) {\n  return String(value || '').toUpperCase()\n}\n","/**\n * @typedef {import('mdast').FootnoteReference} FootnoteReference\n * @typedef {import('hast').Element} Element\n * @typedef {import('../state.js').State} State\n */\n\nimport {normalizeUri} from 'micromark-util-sanitize-uri'\n\n/**\n * Turn an mdast `footnoteReference` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {FootnoteReference} node\n *   mdast node.\n * @returns {Element}\n *   hast node.\n */\nexport function footnoteReference(state, node) {\n  const id = String(node.identifier).toUpperCase()\n  const safeId = normalizeUri(id.toLowerCase())\n  const index = state.footnoteOrder.indexOf(id)\n  /** @type {number} */\n  let counter\n\n  if (index === -1) {\n    state.footnoteOrder.push(id)\n    state.footnoteCounts[id] = 1\n    counter = state.footnoteOrder.length\n  } else {\n    state.footnoteCounts[id]++\n    counter = index + 1\n  }\n\n  const reuseCounter = state.footnoteCounts[id]\n\n  /** @type {Element} */\n  const link = {\n    type: 'element',\n    tagName: 'a',\n    properties: {\n      href: '#' + state.clobberPrefix + 'fn-' + safeId,\n      id:\n        state.clobberPrefix +\n        'fnref-' +\n        safeId +\n        (reuseCounter > 1 ? '-' + reuseCounter : ''),\n      dataFootnoteRef: true,\n      ariaDescribedBy: ['footnote-label']\n    },\n    children: [{type: 'text', value: String(counter)}]\n  }\n  state.patch(node, link)\n\n  /** @type {Element} */\n  const sup = {\n    type: 'element',\n    tagName: 'sup',\n    properties: {},\n    children: [link]\n  }\n  state.patch(node, sup)\n  return state.applyData(node, sup)\n}\n","/**\n * @typedef {import('hast').ElementContent} ElementContent\n *\n * @typedef {import('mdast').Content} Content\n * @typedef {import('mdast').Reference} Reference\n * @typedef {import('mdast').Root} Root\n *\n * @typedef {import('./state.js').State} State\n */\n\n/**\n * @typedef {Root | Content} Nodes\n * @typedef {Extract<Nodes, Reference>} References\n */\n\n// To do: next major: always return array.\n\n/**\n * Return the content of a reference without definition as plain text.\n *\n * @param {State} state\n *   Info passed around.\n * @param {References} node\n *   Reference node (image, link).\n * @returns {ElementContent | Array<ElementContent>}\n *   hast content.\n */\nexport function revert(state, node) {\n  const subtype = node.referenceType\n  let suffix = ']'\n\n  if (subtype === 'collapsed') {\n    suffix += '[]'\n  } else if (subtype === 'full') {\n    suffix += '[' + (node.label || node.identifier) + ']'\n  }\n\n  if (node.type === 'imageReference') {\n    return {type: 'text', value: '![' + node.alt + suffix}\n  }\n\n  const contents = state.all(node)\n  const head = contents[0]\n\n  if (head && head.type === 'text') {\n    head.value = '[' + head.value\n  } else {\n    contents.unshift({type: 'text', value: '['})\n  }\n\n  const tail = contents[contents.length - 1]\n\n  if (tail && tail.type === 'text') {\n    tail.value += suffix\n  } else {\n    contents.push({type: 'text', value: suffix})\n  }\n\n  return contents\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').ElementContent} ElementContent\n * @typedef {import('hast').Properties} Properties\n * @typedef {import('mdast').Content} Content\n * @typedef {import('mdast').ListItem} ListItem\n * @typedef {import('mdast').Parent} Parent\n * @typedef {import('mdast').Root} Root\n * @typedef {import('../state.js').State} State\n */\n\n/**\n * @typedef {Root | Content} Nodes\n * @typedef {Extract<Nodes, Parent>} Parents\n */\n\n/**\n * Turn an mdast `listItem` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {ListItem} node\n *   mdast node.\n * @param {Parents | null | undefined} parent\n *   Parent of `node`.\n * @returns {Element}\n *   hast node.\n */\nexport function listItem(state, node, parent) {\n  const results = state.all(node)\n  const loose = parent ? listLoose(parent) : listItemLoose(node)\n  /** @type {Properties} */\n  const properties = {}\n  /** @type {Array<ElementContent>} */\n  const children = []\n\n  if (typeof node.checked === 'boolean') {\n    const head = results[0]\n    /** @type {Element} */\n    let paragraph\n\n    if (head && head.type === 'element' && head.tagName === 'p') {\n      paragraph = head\n    } else {\n      paragraph = {type: 'element', tagName: 'p', properties: {}, children: []}\n      results.unshift(paragraph)\n    }\n\n    if (paragraph.children.length > 0) {\n      paragraph.children.unshift({type: 'text', value: ' '})\n    }\n\n    paragraph.children.unshift({\n      type: 'element',\n      tagName: 'input',\n      properties: {type: 'checkbox', checked: node.checked, disabled: true},\n      children: []\n    })\n\n    // According to github-markdown-css, this class hides bullet.\n    // See: <https://github.com/sindresorhus/github-markdown-css>.\n    properties.className = ['task-list-item']\n  }\n\n  let index = -1\n\n  while (++index < results.length) {\n    const child = results[index]\n\n    // Add eols before nodes, except if this is a loose, first paragraph.\n    if (\n      loose ||\n      index !== 0 ||\n      child.type !== 'element' ||\n      child.tagName !== 'p'\n    ) {\n      children.push({type: 'text', value: '\\n'})\n    }\n\n    if (child.type === 'element' && child.tagName === 'p' && !loose) {\n      children.push(...child.children)\n    } else {\n      children.push(child)\n    }\n  }\n\n  const tail = results[results.length - 1]\n\n  // Add a final eol.\n  if (tail && (loose || tail.type !== 'element' || tail.tagName !== 'p')) {\n    children.push({type: 'text', value: '\\n'})\n  }\n\n  /** @type {Element} */\n  const result = {type: 'element', tagName: 'li', properties, children}\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n\n/**\n * @param {Parents} node\n * @return {Boolean}\n */\nfunction listLoose(node) {\n  let loose = false\n  if (node.type === 'list') {\n    loose = node.spread || false\n    const children = node.children\n    let index = -1\n\n    while (!loose && ++index < children.length) {\n      loose = listItemLoose(children[index])\n    }\n  }\n\n  return loose\n}\n\n/**\n * @param {ListItem} node\n * @return {Boolean}\n */\nfunction listItemLoose(node) {\n  const spread = node.spread\n\n  return spread === undefined || spread === null\n    ? node.children.length > 1\n    : spread\n}\n","const tab = 9 /* `\\t` */\nconst space = 32 /* ` ` */\n\n/**\n * Remove initial and final spaces and tabs at the line breaks in `value`.\n * Does not trim initial and final spaces and tabs of the value itself.\n *\n * @param {string} value\n *   Value to trim.\n * @returns {string}\n *   Trimmed value.\n */\nexport function trimLines(value) {\n  const source = String(value)\n  const search = /\\r?\\n|\\r/g\n  let match = search.exec(source)\n  let last = 0\n  /** @type {Array<string>} */\n  const lines = []\n\n  while (match) {\n    lines.push(\n      trimLine(source.slice(last, match.index), last > 0, true),\n      match[0]\n    )\n\n    last = match.index + match[0].length\n    match = search.exec(source)\n  }\n\n  lines.push(trimLine(source.slice(last), last > 0, false))\n\n  return lines.join('')\n}\n\n/**\n * @param {string} value\n *   Line to trim.\n * @param {boolean} start\n *   Whether to trim the start of the line.\n * @param {boolean} end\n *   Whether to trim the end of the line.\n * @returns {string}\n *   Trimmed line.\n */\nfunction trimLine(value, start, end) {\n  let startIndex = 0\n  let endIndex = value.length\n\n  if (start) {\n    let code = value.codePointAt(startIndex)\n\n    while (code === tab || code === space) {\n      startIndex++\n      code = value.codePointAt(startIndex)\n    }\n  }\n\n  if (end) {\n    let code = value.codePointAt(endIndex - 1)\n\n    while (code === tab || code === space) {\n      endIndex--\n      code = value.codePointAt(endIndex - 1)\n    }\n  }\n\n  return endIndex > startIndex ? value.slice(startIndex, endIndex) : ''\n}\n","import {blockquote} from './blockquote.js'\nimport {hardBreak} from './break.js'\nimport {code} from './code.js'\nimport {strikethrough} from './delete.js'\nimport {emphasis} from './emphasis.js'\nimport {footnoteReference} from './footnote-reference.js'\nimport {footnote} from './footnote.js'\nimport {heading} from './heading.js'\nimport {html} from './html.js'\nimport {imageReference} from './image-reference.js'\nimport {image} from './image.js'\nimport {inlineCode} from './inline-code.js'\nimport {linkReference} from './link-reference.js'\nimport {link} from './link.js'\nimport {listItem} from './list-item.js'\nimport {list} from './list.js'\nimport {paragraph} from './paragraph.js'\nimport {root} from './root.js'\nimport {strong} from './strong.js'\nimport {table} from './table.js'\nimport {tableRow} from './table-row.js'\nimport {tableCell} from './table-cell.js'\nimport {text} from './text.js'\nimport {thematicBreak} from './thematic-break.js'\n\n/**\n * Default handlers for nodes.\n */\nexport const handlers = {\n  blockquote,\n  break: hardBreak,\n  code,\n  delete: strikethrough,\n  emphasis,\n  footnoteReference,\n  footnote,\n  heading,\n  html,\n  imageReference,\n  image,\n  inlineCode,\n  linkReference,\n  link,\n  listItem,\n  list,\n  paragraph,\n  root,\n  strong,\n  table,\n  tableCell,\n  tableRow,\n  text,\n  thematicBreak,\n  toml: ignore,\n  yaml: ignore,\n  definition: ignore,\n  footnoteDefinition: ignore\n}\n\n// Return nothing for nodes that are ignored.\nfunction ignore() {\n  // To do: next major: return `undefined`.\n  return null\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('mdast').Blockquote} Blockquote\n * @typedef {import('../state.js').State} State\n */\n\n/**\n * Turn an mdast `blockquote` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Blockquote} node\n *   mdast node.\n * @returns {Element}\n *   hast node.\n */\nexport function blockquote(state, node) {\n  /** @type {Element} */\n  const result = {\n    type: 'element',\n    tagName: 'blockquote',\n    properties: {},\n    children: state.wrap(state.all(node), true)\n  }\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').Text} Text\n * @typedef {import('mdast').Break} Break\n * @typedef {import('../state.js').State} State\n */\n\n/**\n * Turn an mdast `break` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Break} node\n *   mdast node.\n * @returns {Array<Element | Text>}\n *   hast element content.\n */\nexport function hardBreak(state, node) {\n  /** @type {Element} */\n  const result = {type: 'element', tagName: 'br', properties: {}, children: []}\n  state.patch(node, result)\n  return [state.applyData(node, result), {type: 'text', value: '\\n'}]\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').Properties} Properties\n * @typedef {import('mdast').Code} Code\n * @typedef {import('../state.js').State} State\n\n */\n\n/**\n * Turn an mdast `code` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Code} node\n *   mdast node.\n * @returns {Element}\n *   hast node.\n */\nexport function code(state, node) {\n  const value = node.value ? node.value + '\\n' : ''\n  // To do: next major, use `node.lang` w/o regex, the splittings been going\n  // on for years in remark now.\n  const lang = node.lang ? node.lang.match(/^[^ \\t]+(?=[ \\t]|$)/) : null\n  /** @type {Properties} */\n  const properties = {}\n\n  if (lang) {\n    properties.className = ['language-' + lang]\n  }\n\n  // Create `<code>`.\n  /** @type {Element} */\n  let result = {\n    type: 'element',\n    tagName: 'code',\n    properties,\n    children: [{type: 'text', value}]\n  }\n\n  if (node.meta) {\n    result.data = {meta: node.meta}\n  }\n\n  state.patch(node, result)\n  result = state.applyData(node, result)\n\n  // Create `<pre>`.\n  result = {type: 'element', tagName: 'pre', properties: {}, children: [result]}\n  state.patch(node, result)\n  return result\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('mdast').Delete} Delete\n * @typedef {import('../state.js').State} State\n\n */\n\n/**\n * Turn an mdast `delete` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Delete} node\n *   mdast node.\n * @returns {Element}\n *   hast node.\n */\nexport function strikethrough(state, node) {\n  /** @type {Element} */\n  const result = {\n    type: 'element',\n    tagName: 'del',\n    properties: {},\n    children: state.all(node)\n  }\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('mdast').Emphasis} Emphasis\n * @typedef {import('../state.js').State} State\n */\n\n/**\n * Turn an mdast `emphasis` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Emphasis} node\n *   mdast node.\n * @returns {Element}\n *   hast node.\n */\nexport function emphasis(state, node) {\n  /** @type {Element} */\n  const result = {\n    type: 'element',\n    tagName: 'em',\n    properties: {},\n    children: state.all(node)\n  }\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('mdast').Footnote} Footnote\n * @typedef {import('../state.js').State} State\n */\n\nimport {footnoteReference} from './footnote-reference.js'\n\n// To do: when both:\n// * <https://github.com/micromark/micromark-extension-footnote>\n// * <https://github.com/syntax-tree/mdast-util-footnote>\n// are archived, remove this (also from mdast).\n// These inline notes are not used in GFM.\n\n/**\n * Turn an mdast `footnote` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Footnote} node\n *   mdast node.\n * @returns {Element}\n *   hast node.\n */\nexport function footnote(state, node) {\n  const footnoteById = state.footnoteById\n  let no = 1\n\n  while (no in footnoteById) no++\n\n  const identifier = String(no)\n\n  footnoteById[identifier] = {\n    type: 'footnoteDefinition',\n    identifier,\n    children: [{type: 'paragraph', children: node.children}],\n    position: node.position\n  }\n\n  return footnoteReference(state, {\n    type: 'footnoteReference',\n    identifier,\n    position: node.position\n  })\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('mdast').Heading} Heading\n * @typedef {import('../state.js').State} State\n */\n\n/**\n * Turn an mdast `heading` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Heading} node\n *   mdast node.\n * @returns {Element}\n *   hast node.\n */\nexport function heading(state, node) {\n  /** @type {Element} */\n  const result = {\n    type: 'element',\n    tagName: 'h' + node.depth,\n    properties: {},\n    children: state.all(node)\n  }\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('mdast').HTML} Html\n * @typedef {import('../state.js').State} State\n * @typedef {import('../../index.js').Raw} Raw\n */\n\n/**\n * Turn an mdast `html` node into hast (`raw` node in dangerous mode, otherwise\n * nothing).\n *\n * @param {State} state\n *   Info passed around.\n * @param {Html} node\n *   mdast node.\n * @returns {Raw | Element | null}\n *   hast node.\n */\nexport function html(state, node) {\n  if (state.dangerous) {\n    /** @type {Raw} */\n    const result = {type: 'raw', value: node.value}\n    state.patch(node, result)\n    return state.applyData(node, result)\n  }\n\n  // To do: next major: return `undefined`.\n  return null\n}\n","/**\n * @typedef {import('hast').ElementContent} ElementContent\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').Properties} Properties\n * @typedef {import('mdast').ImageReference} ImageReference\n * @typedef {import('../state.js').State} State\n */\n\nimport {normalizeUri} from 'micromark-util-sanitize-uri'\nimport {revert} from '../revert.js'\n\n/**\n * Turn an mdast `imageReference` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {ImageReference} node\n *   mdast node.\n * @returns {ElementContent | Array<ElementContent>}\n *   hast node.\n */\nexport function imageReference(state, node) {\n  const def = state.definition(node.identifier)\n\n  if (!def) {\n    return revert(state, node)\n  }\n\n  /** @type {Properties} */\n  const properties = {src: normalizeUri(def.url || ''), alt: node.alt}\n\n  if (def.title !== null && def.title !== undefined) {\n    properties.title = def.title\n  }\n\n  /** @type {Element} */\n  const result = {type: 'element', tagName: 'img', properties, children: []}\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').Properties} Properties\n * @typedef {import('mdast').Image} Image\n * @typedef {import('../state.js').State} State\n */\n\nimport {normalizeUri} from 'micromark-util-sanitize-uri'\n\n/**\n * Turn an mdast `image` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Image} node\n *   mdast node.\n * @returns {Element}\n *   hast node.\n */\nexport function image(state, node) {\n  /** @type {Properties} */\n  const properties = {src: normalizeUri(node.url)}\n\n  if (node.alt !== null && node.alt !== undefined) {\n    properties.alt = node.alt\n  }\n\n  if (node.title !== null && node.title !== undefined) {\n    properties.title = node.title\n  }\n\n  /** @type {Element} */\n  const result = {type: 'element', tagName: 'img', properties, children: []}\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').Text} Text\n * @typedef {import('mdast').InlineCode} InlineCode\n * @typedef {import('../state.js').State} State\n */\n\n/**\n * Turn an mdast `inlineCode` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {InlineCode} node\n *   mdast node.\n * @returns {Element}\n *   hast node.\n */\nexport function inlineCode(state, node) {\n  /** @type {Text} */\n  const text = {type: 'text', value: node.value.replace(/\\r?\\n|\\r/g, ' ')}\n  state.patch(node, text)\n\n  /** @type {Element} */\n  const result = {\n    type: 'element',\n    tagName: 'code',\n    properties: {},\n    children: [text]\n  }\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').ElementContent} ElementContent\n * @typedef {import('hast').Properties} Properties\n * @typedef {import('mdast').LinkReference} LinkReference\n * @typedef {import('../state.js').State} State\n */\n\nimport {normalizeUri} from 'micromark-util-sanitize-uri'\nimport {revert} from '../revert.js'\n\n/**\n * Turn an mdast `linkReference` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {LinkReference} node\n *   mdast node.\n * @returns {ElementContent | Array<ElementContent>}\n *   hast node.\n */\nexport function linkReference(state, node) {\n  const def = state.definition(node.identifier)\n\n  if (!def) {\n    return revert(state, node)\n  }\n\n  /** @type {Properties} */\n  const properties = {href: normalizeUri(def.url || '')}\n\n  if (def.title !== null && def.title !== undefined) {\n    properties.title = def.title\n  }\n\n  /** @type {Element} */\n  const result = {\n    type: 'element',\n    tagName: 'a',\n    properties,\n    children: state.all(node)\n  }\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').Properties} Properties\n * @typedef {import('mdast').Link} Link\n * @typedef {import('../state.js').State} State\n */\n\nimport {normalizeUri} from 'micromark-util-sanitize-uri'\n\n/**\n * Turn an mdast `link` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Link} node\n *   mdast node.\n * @returns {Element}\n *   hast node.\n */\nexport function link(state, node) {\n  /** @type {Properties} */\n  const properties = {href: normalizeUri(node.url)}\n\n  if (node.title !== null && node.title !== undefined) {\n    properties.title = node.title\n  }\n\n  /** @type {Element} */\n  const result = {\n    type: 'element',\n    tagName: 'a',\n    properties,\n    children: state.all(node)\n  }\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').Properties} Properties\n * @typedef {import('mdast').List} List\n * @typedef {import('../state.js').State} State\n */\n\n/**\n * Turn an mdast `list` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {List} node\n *   mdast node.\n * @returns {Element}\n *   hast node.\n */\nexport function list(state, node) {\n  /** @type {Properties} */\n  const properties = {}\n  const results = state.all(node)\n  let index = -1\n\n  if (typeof node.start === 'number' && node.start !== 1) {\n    properties.start = node.start\n  }\n\n  // Like GitHub, add a class for custom styling.\n  while (++index < results.length) {\n    const child = results[index]\n\n    if (\n      child.type === 'element' &&\n      child.tagName === 'li' &&\n      child.properties &&\n      Array.isArray(child.properties.className) &&\n      child.properties.className.includes('task-list-item')\n    ) {\n      properties.className = ['contains-task-list']\n      break\n    }\n  }\n\n  /** @type {Element} */\n  const result = {\n    type: 'element',\n    tagName: node.ordered ? 'ol' : 'ul',\n    properties,\n    children: state.wrap(results, true)\n  }\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('mdast').Paragraph} Paragraph\n * @typedef {import('../state.js').State} State\n */\n\n/**\n * Turn an mdast `paragraph` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Paragraph} node\n *   mdast node.\n * @returns {Element}\n *   hast node.\n */\nexport function paragraph(state, node) {\n  /** @type {Element} */\n  const result = {\n    type: 'element',\n    tagName: 'p',\n    properties: {},\n    children: state.all(node)\n  }\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","/**\n * @typedef {import('hast').Root} HastRoot\n * @typedef {import('hast').Element} HastElement\n * @typedef {import('mdast').Root} MdastRoot\n * @typedef {import('../state.js').State} State\n */\n\n/**\n * Turn an mdast `root` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {MdastRoot} node\n *   mdast node.\n * @returns {HastRoot | HastElement}\n *   hast node.\n */\nexport function root(state, node) {\n  /** @type {HastRoot} */\n  const result = {type: 'root', children: state.wrap(state.all(node))}\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('mdast').Strong} Strong\n * @typedef {import('../state.js').State} State\n */\n\n/**\n * Turn an mdast `strong` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Strong} node\n *   mdast node.\n * @returns {Element}\n *   hast node.\n */\nexport function strong(state, node) {\n  /** @type {Element} */\n  const result = {\n    type: 'element',\n    tagName: 'strong',\n    properties: {},\n    children: state.all(node)\n  }\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('mdast').Table} Table\n * @typedef {import('../state.js').State} State\n */\n\nimport {pointStart, pointEnd} from 'unist-util-position'\n\n/**\n * Turn an mdast `table` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Table} node\n *   mdast node.\n * @returns {Element}\n *   hast node.\n */\nexport function table(state, node) {\n  const rows = state.all(node)\n  const firstRow = rows.shift()\n  /** @type {Array<Element>} */\n  const tableContent = []\n\n  if (firstRow) {\n    /** @type {Element} */\n    const head = {\n      type: 'element',\n      tagName: 'thead',\n      properties: {},\n      children: state.wrap([firstRow], true)\n    }\n    state.patch(node.children[0], head)\n    tableContent.push(head)\n  }\n\n  if (rows.length > 0) {\n    /** @type {Element} */\n    const body = {\n      type: 'element',\n      tagName: 'tbody',\n      properties: {},\n      children: state.wrap(rows, true)\n    }\n\n    const start = pointStart(node.children[1])\n    const end = pointEnd(node.children[node.children.length - 1])\n    if (start.line && end.line) body.position = {start, end}\n    tableContent.push(body)\n  }\n\n  /** @type {Element} */\n  const result = {\n    type: 'element',\n    tagName: 'table',\n    properties: {},\n    children: state.wrap(tableContent, true)\n  }\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('mdast').TableCell} TableCell\n * @typedef {import('../state.js').State} State\n */\n\n/**\n * Turn an mdast `tableCell` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {TableCell} node\n *   mdast node.\n * @returns {Element}\n *   hast node.\n */\nexport function tableCell(state, node) {\n  // Note: this function is normally not called: see `table-row` for how rows\n  // and their cells are compiled.\n  /** @type {Element} */\n  const result = {\n    type: 'element',\n    tagName: 'td', // Assume body cell.\n    properties: {},\n    children: state.all(node)\n  }\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","/**\n * @typedef {import('hast').Properties} Properties\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').ElementContent} ElementContent\n * @typedef {import('mdast').Content} Content\n * @typedef {import('mdast').Parent} Parent\n * @typedef {import('mdast').Root} Root\n * @typedef {import('mdast').TableRow} TableRow\n * @typedef {import('../state.js').State} State\n */\n\n/**\n * @typedef {Root | Content} Nodes\n * @typedef {Extract<Nodes, Parent>} Parents\n */\n\n/**\n * Turn an mdast `tableRow` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {TableRow} node\n *   mdast node.\n * @param {Parents | null | undefined} parent\n *   Parent of `node`.\n * @returns {Element}\n *   hast node.\n */\nexport function tableRow(state, node, parent) {\n  const siblings = parent ? parent.children : undefined\n  // Generate a body row when without parent.\n  const rowIndex = siblings ? siblings.indexOf(node) : 1\n  const tagName = rowIndex === 0 ? 'th' : 'td'\n  const align = parent && parent.type === 'table' ? parent.align : undefined\n  const length = align ? align.length : node.children.length\n  let cellIndex = -1\n  /** @type {Array<ElementContent>} */\n  const cells = []\n\n  while (++cellIndex < length) {\n    // Note: can also be undefined.\n    const cell = node.children[cellIndex]\n    /** @type {Properties} */\n    const properties = {}\n    const alignValue = align ? align[cellIndex] : undefined\n\n    if (alignValue) {\n      properties.align = alignValue\n    }\n\n    /** @type {Element} */\n    let result = {type: 'element', tagName, properties, children: []}\n\n    if (cell) {\n      result.children = state.all(cell)\n      state.patch(cell, result)\n      result = state.applyData(node, result)\n    }\n\n    cells.push(result)\n  }\n\n  /** @type {Element} */\n  const result = {\n    type: 'element',\n    tagName: 'tr',\n    properties: {},\n    children: state.wrap(cells, true)\n  }\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","/**\n * @typedef {import('hast').Element} HastElement\n * @typedef {import('hast').Text} HastText\n * @typedef {import('mdast').Text} MdastText\n * @typedef {import('../state.js').State} State\n */\n\nimport {trimLines} from 'trim-lines'\n\n/**\n * Turn an mdast `text` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {MdastText} node\n *   mdast node.\n * @returns {HastText | HastElement}\n *   hast node.\n */\nexport function text(state, node) {\n  /** @type {HastText} */\n  const result = {type: 'text', value: trimLines(String(node.value))}\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('mdast').ThematicBreak} ThematicBreak\n * @typedef {import('../state.js').State} State\n */\n\n/**\n * Turn an mdast `thematicBreak` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {ThematicBreak} node\n *   mdast node.\n * @returns {Element}\n *   hast node.\n */\nexport function thematicBreak(state, node) {\n  /** @type {Element} */\n  const result = {\n    type: 'element',\n    tagName: 'hr',\n    properties: {},\n    children: []\n  }\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","/**\n * @typedef {import('hast').Content} HastContent\n * @typedef {import('hast').Element} HastElement\n * @typedef {import('hast').ElementContent} HastElementContent\n * @typedef {import('hast').Properties} HastProperties\n * @typedef {import('hast').Root} HastRoot\n * @typedef {import('hast').Text} HastText\n *\n * @typedef {import('mdast').Content} MdastContent\n * @typedef {import('mdast').Definition} MdastDefinition\n * @typedef {import('mdast').FootnoteDefinition} MdastFootnoteDefinition\n * @typedef {import('mdast').Parent} MdastParent\n * @typedef {import('mdast').Root} MdastRoot\n */\n\n/**\n * @typedef {HastRoot | HastContent} HastNodes\n * @typedef {MdastRoot | MdastContent} MdastNodes\n * @typedef {Extract<MdastNodes, MdastParent>} MdastParents\n *\n * @typedef EmbeddedHastFields\n *   hast fields.\n * @property {string | null | undefined} [hName]\n *   Generate a specific element with this tag name instead.\n * @property {HastProperties | null | undefined} [hProperties]\n *   Generate an element with these properties instead.\n * @property {Array<HastElementContent> | null | undefined} [hChildren]\n *   Generate an element with this content instead.\n *\n * @typedef {Record<string, unknown> & EmbeddedHastFields} MdastData\n *   mdast data with embedded hast fields.\n *\n * @typedef {MdastNodes & {data?: MdastData | null | undefined}} MdastNodeWithData\n *   mdast node with embedded hast data.\n *\n * @typedef PointLike\n *   Point-like value.\n * @property {number | null | undefined} [line]\n *   Line.\n * @property {number | null | undefined} [column]\n *   Column.\n * @property {number | null | undefined} [offset]\n *   Offset.\n *\n * @typedef PositionLike\n *   Position-like value.\n * @property {PointLike | null | undefined} [start]\n *   Point-like value.\n * @property {PointLike | null | undefined} [end]\n *   Point-like value.\n *\n * @callback Handler\n *   Handle a node.\n * @param {State} state\n *   Info passed around.\n * @param {any} node\n *   mdast node to handle.\n * @param {MdastParents | null | undefined} parent\n *   Parent of `node`.\n * @returns {HastElementContent | Array<HastElementContent> | null | undefined}\n *   hast node.\n *\n * @callback HFunctionProps\n *   Signature of `state` for when props are passed.\n * @param {MdastNodes | PositionLike | null | undefined} node\n *   mdast node or unist position.\n * @param {string} tagName\n *   HTML tag name.\n * @param {HastProperties} props\n *   Properties.\n * @param {Array<HastElementContent> | null | undefined} [children]\n *   hast content.\n * @returns {HastElement}\n *   Compiled element.\n *\n * @callback HFunctionNoProps\n *   Signature of `state` for when no props are passed.\n * @param {MdastNodes | PositionLike | null | undefined} node\n *   mdast node or unist position.\n * @param {string} tagName\n *   HTML tag name.\n * @param {Array<HastElementContent> | null | undefined} [children]\n *   hast content.\n * @returns {HastElement}\n *   Compiled element.\n *\n * @typedef HFields\n *   Info on `state`.\n * @property {boolean} dangerous\n *   Whether HTML is allowed.\n * @property {string} clobberPrefix\n *   Prefix to use to prevent DOM clobbering.\n * @property {string} footnoteLabel\n *   Label to use to introduce the footnote section.\n * @property {string} footnoteLabelTagName\n *   HTML used for the footnote label.\n * @property {HastProperties} footnoteLabelProperties\n *   Properties on the HTML tag used for the footnote label.\n * @property {string} footnoteBackLabel\n *   Label to use from backreferences back to their footnote call.\n * @property {(identifier: string) => MdastDefinition | null} definition\n *   Definition cache.\n * @property {Record<string, MdastFootnoteDefinition>} footnoteById\n *   Footnote definitions by their identifier.\n * @property {Array<string>} footnoteOrder\n *   Identifiers of order when footnote calls first appear in tree order.\n * @property {Record<string, number>} footnoteCounts\n *   Counts for how often the same footnote was called.\n * @property {Handlers} handlers\n *   Applied handlers.\n * @property {Handler} unknownHandler\n *   Handler for any none not in `passThrough` or otherwise handled.\n * @property {(from: MdastNodes, node: HastNodes) => void} patch\n *   Copy a nodes positional info.\n * @property {<Type extends HastNodes>(from: MdastNodes, to: Type) => Type | HastElement} applyData\n *   Honor the `data` of `from`, and generate an element instead of `node`.\n * @property {(node: MdastNodes, parent: MdastParents | null | undefined) => HastElementContent | Array<HastElementContent> | null | undefined} one\n *   Transform an mdast node to hast.\n * @property {(node: MdastNodes) => Array<HastElementContent>} all\n *   Transform the children of an mdast parent to hast.\n * @property {<Type extends HastContent>(nodes: Array<Type>, loose?: boolean | null | undefined) => Array<Type | HastText>} wrap\n *   Wrap `nodes` with line endings between each node, adds initial/final line endings when `loose`.\n * @property {(left: MdastNodeWithData | PositionLike | null | undefined, right: HastElementContent) => HastElementContent} augment\n *   Like `state` but lower-level and usable on non-elements.\n *   Deprecated: use `patch` and `applyData`.\n * @property {Array<string>} passThrough\n *   List of node types to pass through untouched (except for their children).\n *\n * @typedef Options\n *   Configuration (optional).\n * @property {boolean | null | undefined} [allowDangerousHtml=false]\n *   Whether to persist raw HTML in markdown in the hast tree.\n * @property {string | null | undefined} [clobberPrefix='user-content-']\n *   Prefix to use before the `id` attribute on footnotes to prevent it from\n *   *clobbering*.\n * @property {string | null | undefined} [footnoteBackLabel='Back to content']\n *   Label to use from backreferences back to their footnote call (affects\n *   screen readers).\n * @property {string | null | undefined} [footnoteLabel='Footnotes']\n *   Label to use for the footnotes section (affects screen readers).\n * @property {HastProperties | null | undefined} [footnoteLabelProperties={className: ['sr-only']}]\n *   Properties to use on the footnote label (note that `id: 'footnote-label'`\n *   is always added as footnote calls use it with `aria-describedby` to\n *   provide an accessible label).\n * @property {string | null | undefined} [footnoteLabelTagName='h2']\n *   Tag name to use for the footnote label.\n * @property {Handlers | null | undefined} [handlers]\n *   Extra handlers for nodes.\n * @property {Array<string> | null | undefined} [passThrough]\n *   List of custom mdast node types to pass through (keep) in hast (note that\n *   the node itself is passed, but eventual children are transformed).\n * @property {Handler | null | undefined} [unknownHandler]\n *   Handler for all unknown nodes.\n *\n * @typedef {Record<string, Handler>} Handlers\n *   Handle nodes.\n *\n * @typedef {HFunctionProps & HFunctionNoProps & HFields} State\n *   Info passed around.\n */\n\nimport {visit} from 'unist-util-visit'\nimport {position, pointStart, pointEnd} from 'unist-util-position'\nimport {generated} from 'unist-util-generated'\nimport {definitions} from 'mdast-util-definitions'\nimport {handlers} from './handlers/index.js'\n\nconst own = {}.hasOwnProperty\n\n/**\n * Create `state` from an mdast tree.\n *\n * @param {MdastNodes} tree\n *   mdast node to transform.\n * @param {Options | null | undefined} [options]\n *   Configuration.\n * @returns {State}\n *   `state` function.\n */\nexport function createState(tree, options) {\n  const settings = options || {}\n  const dangerous = settings.allowDangerousHtml || false\n  /** @type {Record<string, MdastFootnoteDefinition>} */\n  const footnoteById = {}\n\n  // To do: next major: add `options` to state, remove:\n  // `dangerous`, `clobberPrefix`, `footnoteLabel`, `footnoteLabelTagName`,\n  // `footnoteLabelProperties`, `footnoteBackLabel`, `passThrough`,\n  // `unknownHandler`.\n\n  // To do: next major: move to `state.options.allowDangerousHtml`.\n  state.dangerous = dangerous\n  // To do: next major: move to `state.options`.\n  state.clobberPrefix =\n    settings.clobberPrefix === undefined || settings.clobberPrefix === null\n      ? 'user-content-'\n      : settings.clobberPrefix\n  // To do: next major: move to `state.options`.\n  state.footnoteLabel = settings.footnoteLabel || 'Footnotes'\n  // To do: next major: move to `state.options`.\n  state.footnoteLabelTagName = settings.footnoteLabelTagName || 'h2'\n  // To do: next major: move to `state.options`.\n  state.footnoteLabelProperties = settings.footnoteLabelProperties || {\n    className: ['sr-only']\n  }\n  // To do: next major: move to `state.options`.\n  state.footnoteBackLabel = settings.footnoteBackLabel || 'Back to content'\n  // To do: next major: move to `state.options`.\n  state.unknownHandler = settings.unknownHandler\n  // To do: next major: move to `state.options`.\n  state.passThrough = settings.passThrough\n\n  state.handlers = {...handlers, ...settings.handlers}\n\n  // To do: next major: replace utility with `definitionById` object, so we\n  // only walk once (as we need footnotes too).\n  state.definition = definitions(tree)\n  state.footnoteById = footnoteById\n  /** @type {Array<string>} */\n  state.footnoteOrder = []\n  /** @type {Record<string, number>} */\n  state.footnoteCounts = {}\n\n  state.patch = patch\n  state.applyData = applyData\n  state.one = oneBound\n  state.all = allBound\n  state.wrap = wrap\n  // To do: next major: remove `augment`.\n  state.augment = augment\n\n  visit(tree, 'footnoteDefinition', (definition) => {\n    const id = String(definition.identifier).toUpperCase()\n\n    // Mimick CM behavior of link definitions.\n    // See: <https://github.com/syntax-tree/mdast-util-definitions/blob/8290999/index.js#L26>.\n    if (!own.call(footnoteById, id)) {\n      footnoteById[id] = definition\n    }\n  })\n\n  // @ts-expect-error Hush, its fine!\n  return state\n\n  /**\n   * Finalise the created `right`, a hast node, from `left`, an mdast node.\n   *\n   * @param {MdastNodeWithData | PositionLike | null | undefined} left\n   * @param {HastElementContent} right\n   * @returns {HastElementContent}\n   */\n  /* c8 ignore start */\n  // To do: next major: remove.\n  function augment(left, right) {\n    // Handle `data.hName`, `data.hProperties, `data.hChildren`.\n    if (left && 'data' in left && left.data) {\n      /** @type {MdastData} */\n      const data = left.data\n\n      if (data.hName) {\n        if (right.type !== 'element') {\n          right = {\n            type: 'element',\n            tagName: '',\n            properties: {},\n            children: []\n          }\n        }\n\n        right.tagName = data.hName\n      }\n\n      if (right.type === 'element' && data.hProperties) {\n        right.properties = {...right.properties, ...data.hProperties}\n      }\n\n      if ('children' in right && right.children && data.hChildren) {\n        right.children = data.hChildren\n      }\n    }\n\n    if (left) {\n      const ctx = 'type' in left ? left : {position: left}\n\n      if (!generated(ctx)) {\n        // @ts-expect-error: fine.\n        right.position = {start: pointStart(ctx), end: pointEnd(ctx)}\n      }\n    }\n\n    return right\n  }\n  /* c8 ignore stop */\n\n  /**\n   * Create an element for `node`.\n   *\n   * @type {HFunctionProps}\n   */\n  /* c8 ignore start */\n  // To do: next major: remove.\n  function state(node, tagName, props, children) {\n    if (Array.isArray(props)) {\n      children = props\n      props = {}\n    }\n\n    // @ts-expect-error augmenting an element yields an element.\n    return augment(node, {\n      type: 'element',\n      tagName,\n      properties: props || {},\n      children: children || []\n    })\n  }\n  /* c8 ignore stop */\n\n  /**\n   * Transform an mdast node into a hast node.\n   *\n   * @param {MdastNodes} node\n   *   mdast node.\n   * @param {MdastParents | null | undefined} [parent]\n   *   Parent of `node`.\n   * @returns {HastElementContent | Array<HastElementContent> | null | undefined}\n   *   Resulting hast node.\n   */\n  function oneBound(node, parent) {\n    // @ts-expect-error: thats a state :)\n    return one(state, node, parent)\n  }\n\n  /**\n   * Transform the children of an mdast node into hast nodes.\n   *\n   * @param {MdastNodes} parent\n   *   mdast node to compile\n   * @returns {Array<HastElementContent>}\n   *   Resulting hast nodes.\n   */\n  function allBound(parent) {\n    // @ts-expect-error: thats a state :)\n    return all(state, parent)\n  }\n}\n\n/**\n * Copy a nodes positional info.\n *\n * @param {MdastNodes} from\n *   mdast node to copy from.\n * @param {HastNodes} to\n *   hast node to copy into.\n * @returns {void}\n *   Nothing.\n */\nfunction patch(from, to) {\n  if (from.position) to.position = position(from)\n}\n\n/**\n * Honor the `data` of `from` and maybe generate an element instead of `to`.\n *\n * @template {HastNodes} Type\n *   Node type.\n * @param {MdastNodes} from\n *   mdast node to use data from.\n * @param {Type} to\n *   hast node to change.\n * @returns {Type | HastElement}\n *   Nothing.\n */\nfunction applyData(from, to) {\n  /** @type {Type | HastElement} */\n  let result = to\n\n  // Handle `data.hName`, `data.hProperties, `data.hChildren`.\n  if (from && from.data) {\n    const hName = from.data.hName\n    const hChildren = from.data.hChildren\n    const hProperties = from.data.hProperties\n\n    if (typeof hName === 'string') {\n      // Transforming the node resulted in an element with a different name\n      // than wanted:\n      if (result.type === 'element') {\n        result.tagName = hName\n      }\n      // Transforming the node resulted in a non-element, which happens for\n      // raw, text, and root nodes (unless custom handlers are passed).\n      // The intent is likely to keep the content around (otherwise: pass\n      // `hChildren`).\n      else {\n        result = {\n          type: 'element',\n          tagName: hName,\n          properties: {},\n          children: []\n        }\n\n        // To do: next major: take the children from the `root`, or inject the\n        // raw/text/comment or so into the element?\n        // if ('children' in node) {\n        //   // @ts-expect-error: assume `children` are allowed in elements.\n        //   result.children = node.children\n        // } else {\n        //   // @ts-expect-error: assume `node` is allowed in elements.\n        //   result.children.push(node)\n        // }\n      }\n    }\n\n    if (result.type === 'element' && hProperties) {\n      result.properties = {...result.properties, ...hProperties}\n    }\n\n    if (\n      'children' in result &&\n      result.children &&\n      hChildren !== null &&\n      hChildren !== undefined\n    ) {\n      // @ts-expect-error: assume valid children are defined.\n      result.children = hChildren\n    }\n  }\n\n  return result\n}\n\n/**\n * Transform an mdast node into a hast node.\n *\n * @param {State} state\n *   Info passed around.\n * @param {MdastNodes} node\n *   mdast node.\n * @param {MdastParents | null | undefined} [parent]\n *   Parent of `node`.\n * @returns {HastElementContent | Array<HastElementContent> | null | undefined}\n *   Resulting hast node.\n */\n// To do: next major: do not expose, keep bound.\nexport function one(state, node, parent) {\n  const type = node && node.type\n\n  // Fail on non-nodes.\n  if (!type) {\n    throw new Error('Expected node, got `' + node + '`')\n  }\n\n  if (own.call(state.handlers, type)) {\n    return state.handlers[type](state, node, parent)\n  }\n\n  if (state.passThrough && state.passThrough.includes(type)) {\n    // To do: next major: deep clone.\n    // @ts-expect-error: types of passed through nodes are expected to be added manually.\n    return 'children' in node ? {...node, children: all(state, node)} : node\n  }\n\n  if (state.unknownHandler) {\n    return state.unknownHandler(state, node, parent)\n  }\n\n  return defaultUnknownHandler(state, node)\n}\n\n/**\n * Transform the children of an mdast node into hast nodes.\n *\n * @param {State} state\n *   Info passed around.\n * @param {MdastNodes} parent\n *   mdast node to compile\n * @returns {Array<HastElementContent>}\n *   Resulting hast nodes.\n */\n// To do: next major: do not expose, keep bound.\nexport function all(state, parent) {\n  /** @type {Array<HastElementContent>} */\n  const values = []\n\n  if ('children' in parent) {\n    const nodes = parent.children\n    let index = -1\n    while (++index < nodes.length) {\n      const result = one(state, nodes[index], parent)\n\n      // To do: see if we van clean this? Can we merge texts?\n      if (result) {\n        if (index && nodes[index - 1].type === 'break') {\n          if (!Array.isArray(result) && result.type === 'text') {\n            result.value = result.value.replace(/^\\s+/, '')\n          }\n\n          if (!Array.isArray(result) && result.type === 'element') {\n            const head = result.children[0]\n\n            if (head && head.type === 'text') {\n              head.value = head.value.replace(/^\\s+/, '')\n            }\n          }\n        }\n\n        if (Array.isArray(result)) {\n          values.push(...result)\n        } else {\n          values.push(result)\n        }\n      }\n    }\n  }\n\n  return values\n}\n\n/**\n * Transform an unknown node.\n *\n * @param {State} state\n *   Info passed around.\n * @param {MdastNodes} node\n *   Unknown mdast node.\n * @returns {HastText | HastElement}\n *   Resulting hast node.\n */\nfunction defaultUnknownHandler(state, node) {\n  const data = node.data || {}\n  /** @type {HastText | HastElement} */\n  const result =\n    'value' in node &&\n    !(own.call(data, 'hProperties') || own.call(data, 'hChildren'))\n      ? {type: 'text', value: node.value}\n      : {\n          type: 'element',\n          tagName: 'div',\n          properties: {},\n          children: all(state, node)\n        }\n\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n\n/**\n * Wrap `nodes` with line endings between each node.\n *\n * @template {HastContent} Type\n *   Node type.\n * @param {Array<Type>} nodes\n *   List of nodes to wrap.\n * @param {boolean | null | undefined} [loose=false]\n *   Whether to add line endings at start and end.\n * @returns {Array<Type | HastText>}\n *   Wrapped nodes.\n */\nexport function wrap(nodes, loose) {\n  /** @type {Array<Type | HastText>} */\n  const result = []\n  let index = -1\n\n  if (loose) {\n    result.push({type: 'text', value: '\\n'})\n  }\n\n  while (++index < nodes.length) {\n    if (index) result.push({type: 'text', value: '\\n'})\n    result.push(nodes[index])\n  }\n\n  if (loose && nodes.length > 0) {\n    result.push({type: 'text', value: '\\n'})\n  }\n\n  return result\n}\n","/**\n * @typedef {import('hast').Content} HastContent\n * @typedef {import('hast').Root} HastRoot\n *\n * @typedef {import('mdast').Content} MdastContent\n * @typedef {import('mdast').Root} MdastRoot\n *\n * @typedef {import('./state.js').Options} Options\n */\n\n/**\n * @typedef {HastRoot | HastContent} HastNodes\n * @typedef {MdastRoot | MdastContent} MdastNodes\n */\n\nimport {footer} from './footer.js'\nimport {createState} from './state.js'\n\n/**\n * Transform mdast to hast.\n *\n * ##### Notes\n *\n * ###### HTML\n *\n * Raw HTML is available in mdast as `html` nodes and can be embedded in hast\n * as semistandard `raw` nodes.\n * Most utilities ignore `raw` nodes but two notable ones dont:\n *\n * *   `hast-util-to-html` also has an option `allowDangerousHtml` which will\n *     output the raw HTML.\n *     This is typically discouraged as noted by the option name but is useful\n *     if you completely trust authors\n * *   `hast-util-raw` can handle the raw embedded HTML strings by parsing them\n *     into standard hast nodes (`element`, `text`, etc).\n *     This is a heavy task as it needs a full HTML parser, but it is the only\n *     way to support untrusted content\n *\n * ###### Footnotes\n *\n * Many options supported here relate to footnotes.\n * Footnotes are not specified by CommonMark, which we follow by default.\n * They are supported by GitHub, so footnotes can be enabled in markdown with\n * `mdast-util-gfm`.\n *\n * The options `footnoteBackLabel` and `footnoteLabel` define natural language\n * that explains footnotes, which is hidden for sighted users but shown to\n * assistive technology.\n * When your page is not in English, you must define translated values.\n *\n * Back references use ARIA attributes, but the section label itself uses a\n * heading that is hidden with an `sr-only` class.\n * To show it to sighted users, define different attributes in\n * `footnoteLabelProperties`.\n *\n * ###### Clobbering\n *\n * Footnotes introduces a problem, as it links footnote calls to footnote\n * definitions on the page through `id` attributes generated from user content,\n * which results in DOM clobbering.\n *\n * DOM clobbering is this:\n *\n * ```html\n * <p id=x></p>\n * <script>alert(x) // `x` now refers to the DOM `p#x` element</script>\n * ```\n *\n * Elements by their ID are made available by browsers on the `window` object,\n * which is a security risk.\n * Using a prefix solves this problem.\n *\n * More information on how to handle clobbering and the prefix is explained in\n * Example: headings (DOM clobbering) in `rehype-sanitize`.\n *\n * ###### Unknown nodes\n *\n * Unknown nodes are nodes with a type that isnt in `handlers` or `passThrough`.\n * The default behavior for unknown nodes is:\n *\n * *   when the node has a `value` (and doesnt have `data.hName`,\n *     `data.hProperties`, or `data.hChildren`, see later), create a hast `text`\n *     node\n * *   otherwise, create a `<div>` element (which could be changed with\n *     `data.hName`), with its children mapped from mdast to hast as well\n *\n * This behavior can be changed by passing an `unknownHandler`.\n *\n * @param {MdastNodes} tree\n *   mdast tree.\n * @param {Options | null | undefined} [options]\n *   Configuration.\n * @returns {HastNodes | null | undefined}\n *   hast tree.\n */\n// To do: next major: always return a single `root`.\nexport function toHast(tree, options) {\n  const state = createState(tree, options)\n  const node = state.one(tree, null)\n  const foot = footer(state)\n\n  if (foot) {\n    // @ts-expect-error If theres a footer, there were definitions, meaning block\n    // content.\n    // So assume `node` is a parent node.\n    node.children.push({type: 'text', value: '\\n'}, foot)\n  }\n\n  // To do: next major: always return root?\n  return Array.isArray(node) ? {type: 'root', children: node} : node\n}\n","/**\n * @typedef PointLike\n * @property {number | null | undefined} [line]\n * @property {number | null | undefined} [column]\n * @property {number | null | undefined} [offset]\n *\n * @typedef PositionLike\n * @property {PointLike | null | undefined} [start]\n * @property {PointLike | null | undefined} [end]\n *\n * @typedef NodeLike\n * @property {PositionLike | null | undefined} [position]\n */\n\n/**\n * Check if `node` is generated.\n *\n * @param {NodeLike | null | undefined} [node]\n *   Node to check.\n * @returns {boolean}\n *   Whether `node` is generated (does not have positional info).\n */\nexport function generated(node) {\n  return (\n    !node ||\n    !node.position ||\n    !node.position.start ||\n    !node.position.start.line ||\n    !node.position.start.column ||\n    !node.position.end ||\n    !node.position.end.line ||\n    !node.position.end.column\n  )\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').ElementContent} ElementContent\n *\n * @typedef {import('./state.js').State} State\n */\n\nimport {normalizeUri} from 'micromark-util-sanitize-uri'\n\n/**\n * Generate a hast footer for called footnote definitions.\n *\n * @param {State} state\n *   Info passed around.\n * @returns {Element | undefined}\n *   `section` element or `undefined`.\n */\nexport function footer(state) {\n  /** @type {Array<ElementContent>} */\n  const listItems = []\n  let index = -1\n\n  while (++index < state.footnoteOrder.length) {\n    const def = state.footnoteById[state.footnoteOrder[index]]\n\n    if (!def) {\n      continue\n    }\n\n    const content = state.all(def)\n    const id = String(def.identifier).toUpperCase()\n    const safeId = normalizeUri(id.toLowerCase())\n    let referenceIndex = 0\n    /** @type {Array<ElementContent>} */\n    const backReferences = []\n\n    while (++referenceIndex <= state.footnoteCounts[id]) {\n      /** @type {Element} */\n      const backReference = {\n        type: 'element',\n        tagName: 'a',\n        properties: {\n          href:\n            '#' +\n            state.clobberPrefix +\n            'fnref-' +\n            safeId +\n            (referenceIndex > 1 ? '-' + referenceIndex : ''),\n          dataFootnoteBackref: true,\n          className: ['data-footnote-backref'],\n          ariaLabel: state.footnoteBackLabel\n        },\n        children: [{type: 'text', value: ''}]\n      }\n\n      if (referenceIndex > 1) {\n        backReference.children.push({\n          type: 'element',\n          tagName: 'sup',\n          children: [{type: 'text', value: String(referenceIndex)}]\n        })\n      }\n\n      if (backReferences.length > 0) {\n        backReferences.push({type: 'text', value: ' '})\n      }\n\n      backReferences.push(backReference)\n    }\n\n    const tail = content[content.length - 1]\n\n    if (tail && tail.type === 'element' && tail.tagName === 'p') {\n      const tailTail = tail.children[tail.children.length - 1]\n      if (tailTail && tailTail.type === 'text') {\n        tailTail.value += ' '\n      } else {\n        tail.children.push({type: 'text', value: ' '})\n      }\n\n      tail.children.push(...backReferences)\n    } else {\n      content.push(...backReferences)\n    }\n\n    /** @type {Element} */\n    const listItem = {\n      type: 'element',\n      tagName: 'li',\n      properties: {id: state.clobberPrefix + 'fn-' + safeId},\n      children: state.wrap(content, true)\n    }\n\n    state.patch(def, listItem)\n\n    listItems.push(listItem)\n  }\n\n  if (listItems.length === 0) {\n    return\n  }\n\n  return {\n    type: 'element',\n    tagName: 'section',\n    properties: {dataFootnotes: true, className: ['footnotes']},\n    children: [\n      {\n        type: 'element',\n        tagName: state.footnoteLabelTagName,\n        properties: {\n          // To do: use structured clone.\n          ...JSON.parse(JSON.stringify(state.footnoteLabelProperties)),\n          id: 'footnote-label'\n        },\n        children: [{type: 'text', value: state.footnoteLabel}]\n      },\n      {type: 'text', value: '\\n'},\n      {\n        type: 'element',\n        tagName: 'ol',\n        properties: {},\n        children: state.wrap(listItems, true)\n      },\n      {type: 'text', value: '\\n'}\n    ]\n  }\n}\n","/**\n * @typedef {import('hast').Root} HastRoot\n * @typedef {import('mdast').Root} MdastRoot\n * @typedef {import('mdast-util-to-hast').Options} Options\n * @typedef {import('unified').Processor<any, any, any, any>} Processor\n *\n * @typedef {import('mdast-util-to-hast')} DoNotTouchAsThisImportIncludesRawInTree\n */\n\nimport {toHast} from 'mdast-util-to-hast'\n\n// Note: the `<MdastRoot, HastRoot>` overload doesnt seem to work :'(\n\n/**\n * Plugin that turns markdown into HTML to support rehype.\n *\n * *   If a destination processor is given, that processor runs with a new HTML\n *     (hast) tree (bridge-mode).\n *     As the given processor runs with a hast tree, and rehype plugins support\n *     hast, that means rehype plugins can be used with the given processor.\n *     The hast tree is discarded in the end.\n *     Its highly unlikely that you want to do this.\n * *   The common case is to not pass a destination processor, in which case the\n *     current processor continues running with a new HTML (hast) tree\n *     (mutate-mode).\n *     As the current processor continues with a hast tree, and rehype plugins\n *     support hast, that means rehype plugins can be used after\n *     `remark-rehype`.\n *     Its likely that this is what you want to do.\n *\n * @param destination\n *   Optional unified processor.\n * @param options\n *   Options passed to `mdast-util-to-hast`.\n */\nconst remarkRehype =\n  /** @type {(import('unified').Plugin<[Processor, Options?]|[null|undefined, Options?]|[Options]|[], MdastRoot>)} */\n  (\n    function (destination, options) {\n      return destination && 'run' in destination\n        ? bridge(destination, options)\n        : mutate(destination || options)\n    }\n  )\n\nexport default remarkRehype\n\n/**\n * Bridge-mode.\n * Runs the destination with the new hast tree.\n *\n * @type {import('unified').Plugin<[Processor, Options?], MdastRoot>}\n */\nfunction bridge(destination, options) {\n  return (node, file, next) => {\n    destination.run(toHast(node, options), file, (error) => {\n      next(error)\n    })\n  }\n}\n\n/**\n * Mutate-mode.\n * Further plugins run on the hast tree.\n *\n * @type {import('unified').Plugin<[Options?]|void[], MdastRoot, HastRoot>}\n */\nfunction mutate(options) {\n  // @ts-expect-error: assume a corresponding node is returned by `toHast`.\n  return (node) => toHast(node, options)\n}\n","/**\n * @typedef {import('./info.js').Info} Info\n * @typedef {Record<string, Info>} Properties\n * @typedef {Record<string, string>} Normal\n */\n\nexport class Schema {\n  /**\n   * @constructor\n   * @param {Properties} property\n   * @param {Normal} normal\n   * @param {string} [space]\n   */\n  constructor(property, normal, space) {\n    this.property = property\n    this.normal = normal\n    if (space) {\n      this.space = space\n    }\n  }\n}\n\n/** @type {Properties} */\nSchema.prototype.property = {}\n/** @type {Normal} */\nSchema.prototype.normal = {}\n/** @type {string|null} */\nSchema.prototype.space = null\n","/**\n * @typedef {import('./schema.js').Properties} Properties\n * @typedef {import('./schema.js').Normal} Normal\n */\n\nimport {Schema} from './schema.js'\n\n/**\n * @param {Schema[]} definitions\n * @param {string} [space]\n * @returns {Schema}\n */\nexport function merge(definitions, space) {\n  /** @type {Properties} */\n  const property = {}\n  /** @type {Normal} */\n  const normal = {}\n  let index = -1\n\n  while (++index < definitions.length) {\n    Object.assign(property, definitions[index].property)\n    Object.assign(normal, definitions[index].normal)\n  }\n\n  return new Schema(property, normal, space)\n}\n","/**\n * @param {string} value\n * @returns {string}\n */\nexport function normalize(value) {\n  return value.toLowerCase()\n}\n","export class Info {\n  /**\n   * @constructor\n   * @param {string} property\n   * @param {string} attribute\n   */\n  constructor(property, attribute) {\n    /** @type {string} */\n    this.property = property\n    /** @type {string} */\n    this.attribute = attribute\n  }\n}\n\n/** @type {string|null} */\nInfo.prototype.space = null\nInfo.prototype.boolean = false\nInfo.prototype.booleanish = false\nInfo.prototype.overloadedBoolean = false\nInfo.prototype.number = false\nInfo.prototype.commaSeparated = false\nInfo.prototype.spaceSeparated = false\nInfo.prototype.commaOrSpaceSeparated = false\nInfo.prototype.mustUseProperty = false\nInfo.prototype.defined = false\n","let powers = 0\n\nexport const boolean = increment()\nexport const booleanish = increment()\nexport const overloadedBoolean = increment()\nexport const number = increment()\nexport const spaceSeparated = increment()\nexport const commaSeparated = increment()\nexport const commaOrSpaceSeparated = increment()\n\nfunction increment() {\n  return 2 ** ++powers\n}\n","import {Info} from './info.js'\nimport * as types from './types.js'\n\n/** @type {Array<keyof types>} */\n// @ts-expect-error: hush.\nconst checks = Object.keys(types)\n\nexport class DefinedInfo extends Info {\n  /**\n   * @constructor\n   * @param {string} property\n   * @param {string} attribute\n   * @param {number|null} [mask]\n   * @param {string} [space]\n   */\n  constructor(property, attribute, mask, space) {\n    let index = -1\n\n    super(property, attribute)\n\n    mark(this, 'space', space)\n\n    if (typeof mask === 'number') {\n      while (++index < checks.length) {\n        const check = checks[index]\n        mark(this, checks[index], (mask & types[check]) === types[check])\n      }\n    }\n  }\n}\n\nDefinedInfo.prototype.defined = true\n\n/**\n * @param {DefinedInfo} values\n * @param {string} key\n * @param {unknown} value\n */\nfunction mark(values, key, value) {\n  if (value) {\n    // @ts-expect-error: assume `value` matches the expected value of `key`.\n    values[key] = value\n  }\n}\n","/**\n * @typedef {import('./schema.js').Properties} Properties\n * @typedef {import('./schema.js').Normal} Normal\n *\n * @typedef {Record<string, string>} Attributes\n *\n * @typedef {Object} Definition\n * @property {Record<string, number|null>} properties\n * @property {(attributes: Attributes, property: string) => string} transform\n * @property {string} [space]\n * @property {Attributes} [attributes]\n * @property {Array<string>} [mustUseProperty]\n */\n\nimport {normalize} from '../normalize.js'\nimport {Schema} from './schema.js'\nimport {DefinedInfo} from './defined-info.js'\n\nconst own = {}.hasOwnProperty\n\n/**\n * @param {Definition} definition\n * @returns {Schema}\n */\nexport function create(definition) {\n  /** @type {Properties} */\n  const property = {}\n  /** @type {Normal} */\n  const normal = {}\n  /** @type {string} */\n  let prop\n\n  for (prop in definition.properties) {\n    if (own.call(definition.properties, prop)) {\n      const value = definition.properties[prop]\n      const info = new DefinedInfo(\n        prop,\n        definition.transform(definition.attributes || {}, prop),\n        value,\n        definition.space\n      )\n\n      if (\n        definition.mustUseProperty &&\n        definition.mustUseProperty.includes(prop)\n      ) {\n        info.mustUseProperty = true\n      }\n\n      property[prop] = info\n\n      normal[normalize(prop)] = prop\n      normal[normalize(info.attribute)] = prop\n    }\n  }\n\n  return new Schema(property, normal, definition.space)\n}\n","import {create} from './util/create.js'\n\nexport const xlink = create({\n  space: 'xlink',\n  transform(_, prop) {\n    return 'xlink:' + prop.slice(5).toLowerCase()\n  },\n  properties: {\n    xLinkActuate: null,\n    xLinkArcRole: null,\n    xLinkHref: null,\n    xLinkRole: null,\n    xLinkShow: null,\n    xLinkTitle: null,\n    xLinkType: null\n  }\n})\n","import {create} from './util/create.js'\n\nexport const xml = create({\n  space: 'xml',\n  transform(_, prop) {\n    return 'xml:' + prop.slice(3).toLowerCase()\n  },\n  properties: {xmlLang: null, xmlBase: null, xmlSpace: null}\n})\n","/**\n * @param {Record<string, string>} attributes\n * @param {string} attribute\n * @returns {string}\n */\nexport function caseSensitiveTransform(attributes, attribute) {\n  return attribute in attributes ? attributes[attribute] : attribute\n}\n","import {caseSensitiveTransform} from './case-sensitive-transform.js'\n\n/**\n * @param {Record<string, string>} attributes\n * @param {string} property\n * @returns {string}\n */\nexport function caseInsensitiveTransform(attributes, property) {\n  return caseSensitiveTransform(attributes, property.toLowerCase())\n}\n","import {create} from './util/create.js'\nimport {caseInsensitiveTransform} from './util/case-insensitive-transform.js'\n\nexport const xmlns = create({\n  space: 'xmlns',\n  attributes: {xmlnsxlink: 'xmlns:xlink'},\n  transform: caseInsensitiveTransform,\n  properties: {xmlns: null, xmlnsXLink: null}\n})\n","import {booleanish, number, spaceSeparated} from './util/types.js'\nimport {create} from './util/create.js'\n\nexport const aria = create({\n  transform(_, prop) {\n    return prop === 'role' ? prop : 'aria-' + prop.slice(4).toLowerCase()\n  },\n  properties: {\n    ariaActiveDescendant: null,\n    ariaAtomic: booleanish,\n    ariaAutoComplete: null,\n    ariaBusy: booleanish,\n    ariaChecked: booleanish,\n    ariaColCount: number,\n    ariaColIndex: number,\n    ariaColSpan: number,\n    ariaControls: spaceSeparated,\n    ariaCurrent: null,\n    ariaDescribedBy: spaceSeparated,\n    ariaDetails: null,\n    ariaDisabled: booleanish,\n    ariaDropEffect: spaceSeparated,\n    ariaErrorMessage: null,\n    ariaExpanded: booleanish,\n    ariaFlowTo: spaceSeparated,\n    ariaGrabbed: booleanish,\n    ariaHasPopup: null,\n    ariaHidden: booleanish,\n    ariaInvalid: null,\n    ariaKeyShortcuts: null,\n    ariaLabel: null,\n    ariaLabelledBy: spaceSeparated,\n    ariaLevel: number,\n    ariaLive: null,\n    ariaModal: booleanish,\n    ariaMultiLine: booleanish,\n    ariaMultiSelectable: booleanish,\n    ariaOrientation: null,\n    ariaOwns: spaceSeparated,\n    ariaPlaceholder: null,\n    ariaPosInSet: number,\n    ariaPressed: booleanish,\n    ariaReadOnly: booleanish,\n    ariaRelevant: null,\n    ariaRequired: booleanish,\n    ariaRoleDescription: spaceSeparated,\n    ariaRowCount: number,\n    ariaRowIndex: number,\n    ariaRowSpan: number,\n    ariaSelected: booleanish,\n    ariaSetSize: number,\n    ariaSort: null,\n    ariaValueMax: number,\n    ariaValueMin: number,\n    ariaValueNow: number,\n    ariaValueText: null,\n    role: null\n  }\n})\n","import {\n  boolean,\n  overloadedBoolean,\n  booleanish,\n  number,\n  spaceSeparated,\n  commaSeparated\n} from './util/types.js'\nimport {create} from './util/create.js'\nimport {caseInsensitiveTransform} from './util/case-insensitive-transform.js'\n\nexport const html = create({\n  space: 'html',\n  attributes: {\n    acceptcharset: 'accept-charset',\n    classname: 'class',\n    htmlfor: 'for',\n    httpequiv: 'http-equiv'\n  },\n  transform: caseInsensitiveTransform,\n  mustUseProperty: ['checked', 'multiple', 'muted', 'selected'],\n  properties: {\n    // Standard Properties.\n    abbr: null,\n    accept: commaSeparated,\n    acceptCharset: spaceSeparated,\n    accessKey: spaceSeparated,\n    action: null,\n    allow: null,\n    allowFullScreen: boolean,\n    allowPaymentRequest: boolean,\n    allowUserMedia: boolean,\n    alt: null,\n    as: null,\n    async: boolean,\n    autoCapitalize: null,\n    autoComplete: spaceSeparated,\n    autoFocus: boolean,\n    autoPlay: boolean,\n    blocking: spaceSeparated,\n    capture: null,\n    charSet: null,\n    checked: boolean,\n    cite: null,\n    className: spaceSeparated,\n    cols: number,\n    colSpan: null,\n    content: null,\n    contentEditable: booleanish,\n    controls: boolean,\n    controlsList: spaceSeparated,\n    coords: number | commaSeparated,\n    crossOrigin: null,\n    data: null,\n    dateTime: null,\n    decoding: null,\n    default: boolean,\n    defer: boolean,\n    dir: null,\n    dirName: null,\n    disabled: boolean,\n    download: overloadedBoolean,\n    draggable: booleanish,\n    encType: null,\n    enterKeyHint: null,\n    fetchPriority: null,\n    form: null,\n    formAction: null,\n    formEncType: null,\n    formMethod: null,\n    formNoValidate: boolean,\n    formTarget: null,\n    headers: spaceSeparated,\n    height: number,\n    hidden: boolean,\n    high: number,\n    href: null,\n    hrefLang: null,\n    htmlFor: spaceSeparated,\n    httpEquiv: spaceSeparated,\n    id: null,\n    imageSizes: null,\n    imageSrcSet: null,\n    inert: boolean,\n    inputMode: null,\n    integrity: null,\n    is: null,\n    isMap: boolean,\n    itemId: null,\n    itemProp: spaceSeparated,\n    itemRef: spaceSeparated,\n    itemScope: boolean,\n    itemType: spaceSeparated,\n    kind: null,\n    label: null,\n    lang: null,\n    language: null,\n    list: null,\n    loading: null,\n    loop: boolean,\n    low: number,\n    manifest: null,\n    max: null,\n    maxLength: number,\n    media: null,\n    method: null,\n    min: null,\n    minLength: number,\n    multiple: boolean,\n    muted: boolean,\n    name: null,\n    nonce: null,\n    noModule: boolean,\n    noValidate: boolean,\n    onAbort: null,\n    onAfterPrint: null,\n    onAuxClick: null,\n    onBeforeMatch: null,\n    onBeforePrint: null,\n    onBeforeToggle: null,\n    onBeforeUnload: null,\n    onBlur: null,\n    onCancel: null,\n    onCanPlay: null,\n    onCanPlayThrough: null,\n    onChange: null,\n    onClick: null,\n    onClose: null,\n    onContextLost: null,\n    onContextMenu: null,\n    onContextRestored: null,\n    onCopy: null,\n    onCueChange: null,\n    onCut: null,\n    onDblClick: null,\n    onDrag: null,\n    onDragEnd: null,\n    onDragEnter: null,\n    onDragExit: null,\n    onDragLeave: null,\n    onDragOver: null,\n    onDragStart: null,\n    onDrop: null,\n    onDurationChange: null,\n    onEmptied: null,\n    onEnded: null,\n    onError: null,\n    onFocus: null,\n    onFormData: null,\n    onHashChange: null,\n    onInput: null,\n    onInvalid: null,\n    onKeyDown: null,\n    onKeyPress: null,\n    onKeyUp: null,\n    onLanguageChange: null,\n    onLoad: null,\n    onLoadedData: null,\n    onLoadedMetadata: null,\n    onLoadEnd: null,\n    onLoadStart: null,\n    onMessage: null,\n    onMessageError: null,\n    onMouseDown: null,\n    onMouseEnter: null,\n    onMouseLeave: null,\n    onMouseMove: null,\n    onMouseOut: null,\n    onMouseOver: null,\n    onMouseUp: null,\n    onOffline: null,\n    onOnline: null,\n    onPageHide: null,\n    onPageShow: null,\n    onPaste: null,\n    onPause: null,\n    onPlay: null,\n    onPlaying: null,\n    onPopState: null,\n    onProgress: null,\n    onRateChange: null,\n    onRejectionHandled: null,\n    onReset: null,\n    onResize: null,\n    onScroll: null,\n    onScrollEnd: null,\n    onSecurityPolicyViolation: null,\n    onSeeked: null,\n    onSeeking: null,\n    onSelect: null,\n    onSlotChange: null,\n    onStalled: null,\n    onStorage: null,\n    onSubmit: null,\n    onSuspend: null,\n    onTimeUpdate: null,\n    onToggle: null,\n    onUnhandledRejection: null,\n    onUnload: null,\n    onVolumeChange: null,\n    onWaiting: null,\n    onWheel: null,\n    open: boolean,\n    optimum: number,\n    pattern: null,\n    ping: spaceSeparated,\n    placeholder: null,\n    playsInline: boolean,\n    popover: null,\n    popoverTarget: null,\n    popoverTargetAction: null,\n    poster: null,\n    preload: null,\n    readOnly: boolean,\n    referrerPolicy: null,\n    rel: spaceSeparated,\n    required: boolean,\n    reversed: boolean,\n    rows: number,\n    rowSpan: number,\n    sandbox: spaceSeparated,\n    scope: null,\n    scoped: boolean,\n    seamless: boolean,\n    selected: boolean,\n    shadowRootClonable: boolean,\n    shadowRootDelegatesFocus: boolean,\n    shadowRootMode: null,\n    shape: null,\n    size: number,\n    sizes: null,\n    slot: null,\n    span: number,\n    spellCheck: booleanish,\n    src: null,\n    srcDoc: null,\n    srcLang: null,\n    srcSet: null,\n    start: number,\n    step: null,\n    style: null,\n    tabIndex: number,\n    target: null,\n    title: null,\n    translate: null,\n    type: null,\n    typeMustMatch: boolean,\n    useMap: null,\n    value: booleanish,\n    width: number,\n    wrap: null,\n    writingSuggestions: null,\n\n    // Legacy.\n    // See: https://html.spec.whatwg.org/#other-elements,-attributes-and-apis\n    align: null, // Several. Use CSS `text-align` instead,\n    aLink: null, // `<body>`. Use CSS `a:active {color}` instead\n    archive: spaceSeparated, // `<object>`. List of URIs to archives\n    axis: null, // `<td>` and `<th>`. Use `scope` on `<th>`\n    background: null, // `<body>`. Use CSS `background-image` instead\n    bgColor: null, // `<body>` and table elements. Use CSS `background-color` instead\n    border: number, // `<table>`. Use CSS `border-width` instead,\n    borderColor: null, // `<table>`. Use CSS `border-color` instead,\n    bottomMargin: number, // `<body>`\n    cellPadding: null, // `<table>`\n    cellSpacing: null, // `<table>`\n    char: null, // Several table elements. When `align=char`, sets the character to align on\n    charOff: null, // Several table elements. When `char`, offsets the alignment\n    classId: null, // `<object>`\n    clear: null, // `<br>`. Use CSS `clear` instead\n    code: null, // `<object>`\n    codeBase: null, // `<object>`\n    codeType: null, // `<object>`\n    color: null, // `<font>` and `<hr>`. Use CSS instead\n    compact: boolean, // Lists. Use CSS to reduce space between items instead\n    declare: boolean, // `<object>`\n    event: null, // `<script>`\n    face: null, // `<font>`. Use CSS instead\n    frame: null, // `<table>`\n    frameBorder: null, // `<iframe>`. Use CSS `border` instead\n    hSpace: number, // `<img>` and `<object>`\n    leftMargin: number, // `<body>`\n    link: null, // `<body>`. Use CSS `a:link {color: *}` instead\n    longDesc: null, // `<frame>`, `<iframe>`, and `<img>`. Use an `<a>`\n    lowSrc: null, // `<img>`. Use a `<picture>`\n    marginHeight: number, // `<body>`\n    marginWidth: number, // `<body>`\n    noResize: boolean, // `<frame>`\n    noHref: boolean, // `<area>`. Use no href instead of an explicit `nohref`\n    noShade: boolean, // `<hr>`. Use background-color and height instead of borders\n    noWrap: boolean, // `<td>` and `<th>`\n    object: null, // `<applet>`\n    profile: null, // `<head>`\n    prompt: null, // `<isindex>`\n    rev: null, // `<link>`\n    rightMargin: number, // `<body>`\n    rules: null, // `<table>`\n    scheme: null, // `<meta>`\n    scrolling: booleanish, // `<frame>`. Use overflow in the child context\n    standby: null, // `<object>`\n    summary: null, // `<table>`\n    text: null, // `<body>`. Use CSS `color` instead\n    topMargin: number, // `<body>`\n    valueType: null, // `<param>`\n    version: null, // `<html>`. Use a doctype.\n    vAlign: null, // Several. Use CSS `vertical-align` instead\n    vLink: null, // `<body>`. Use CSS `a:visited {color}` instead\n    vSpace: number, // `<img>` and `<object>`\n\n    // Non-standard Properties.\n    allowTransparency: null,\n    autoCorrect: null,\n    autoSave: null,\n    disablePictureInPicture: boolean,\n    disableRemotePlayback: boolean,\n    prefix: null,\n    property: null,\n    results: number,\n    security: null,\n    unselectable: null\n  }\n})\n","import {\n  boolean,\n  number,\n  spaceSeparated,\n  commaSeparated,\n  commaOrSpaceSeparated\n} from './util/types.js'\nimport {create} from './util/create.js'\nimport {caseSensitiveTransform} from './util/case-sensitive-transform.js'\n\nexport const svg = create({\n  space: 'svg',\n  attributes: {\n    accentHeight: 'accent-height',\n    alignmentBaseline: 'alignment-baseline',\n    arabicForm: 'arabic-form',\n    baselineShift: 'baseline-shift',\n    capHeight: 'cap-height',\n    className: 'class',\n    clipPath: 'clip-path',\n    clipRule: 'clip-rule',\n    colorInterpolation: 'color-interpolation',\n    colorInterpolationFilters: 'color-interpolation-filters',\n    colorProfile: 'color-profile',\n    colorRendering: 'color-rendering',\n    crossOrigin: 'crossorigin',\n    dataType: 'datatype',\n    dominantBaseline: 'dominant-baseline',\n    enableBackground: 'enable-background',\n    fillOpacity: 'fill-opacity',\n    fillRule: 'fill-rule',\n    floodColor: 'flood-color',\n    floodOpacity: 'flood-opacity',\n    fontFamily: 'font-family',\n    fontSize: 'font-size',\n    fontSizeAdjust: 'font-size-adjust',\n    fontStretch: 'font-stretch',\n    fontStyle: 'font-style',\n    fontVariant: 'font-variant',\n    fontWeight: 'font-weight',\n    glyphName: 'glyph-name',\n    glyphOrientationHorizontal: 'glyph-orientation-horizontal',\n    glyphOrientationVertical: 'glyph-orientation-vertical',\n    hrefLang: 'hreflang',\n    horizAdvX: 'horiz-adv-x',\n    horizOriginX: 'horiz-origin-x',\n    horizOriginY: 'horiz-origin-y',\n    imageRendering: 'image-rendering',\n    letterSpacing: 'letter-spacing',\n    lightingColor: 'lighting-color',\n    markerEnd: 'marker-end',\n    markerMid: 'marker-mid',\n    markerStart: 'marker-start',\n    navDown: 'nav-down',\n    navDownLeft: 'nav-down-left',\n    navDownRight: 'nav-down-right',\n    navLeft: 'nav-left',\n    navNext: 'nav-next',\n    navPrev: 'nav-prev',\n    navRight: 'nav-right',\n    navUp: 'nav-up',\n    navUpLeft: 'nav-up-left',\n    navUpRight: 'nav-up-right',\n    onAbort: 'onabort',\n    onActivate: 'onactivate',\n    onAfterPrint: 'onafterprint',\n    onBeforePrint: 'onbeforeprint',\n    onBegin: 'onbegin',\n    onCancel: 'oncancel',\n    onCanPlay: 'oncanplay',\n    onCanPlayThrough: 'oncanplaythrough',\n    onChange: 'onchange',\n    onClick: 'onclick',\n    onClose: 'onclose',\n    onCopy: 'oncopy',\n    onCueChange: 'oncuechange',\n    onCut: 'oncut',\n    onDblClick: 'ondblclick',\n    onDrag: 'ondrag',\n    onDragEnd: 'ondragend',\n    onDragEnter: 'ondragenter',\n    onDragExit: 'ondragexit',\n    onDragLeave: 'ondragleave',\n    onDragOver: 'ondragover',\n    onDragStart: 'ondragstart',\n    onDrop: 'ondrop',\n    onDurationChange: 'ondurationchange',\n    onEmptied: 'onemptied',\n    onEnd: 'onend',\n    onEnded: 'onended',\n    onError: 'onerror',\n    onFocus: 'onfocus',\n    onFocusIn: 'onfocusin',\n    onFocusOut: 'onfocusout',\n    onHashChange: 'onhashchange',\n    onInput: 'oninput',\n    onInvalid: 'oninvalid',\n    onKeyDown: 'onkeydown',\n    onKeyPress: 'onkeypress',\n    onKeyUp: 'onkeyup',\n    onLoad: 'onload',\n    onLoadedData: 'onloadeddata',\n    onLoadedMetadata: 'onloadedmetadata',\n    onLoadStart: 'onloadstart',\n    onMessage: 'onmessage',\n    onMouseDown: 'onmousedown',\n    onMouseEnter: 'onmouseenter',\n    onMouseLeave: 'onmouseleave',\n    onMouseMove: 'onmousemove',\n    onMouseOut: 'onmouseout',\n    onMouseOver: 'onmouseover',\n    onMouseUp: 'onmouseup',\n    onMouseWheel: 'onmousewheel',\n    onOffline: 'onoffline',\n    onOnline: 'ononline',\n    onPageHide: 'onpagehide',\n    onPageShow: 'onpageshow',\n    onPaste: 'onpaste',\n    onPause: 'onpause',\n    onPlay: 'onplay',\n    onPlaying: 'onplaying',\n    onPopState: 'onpopstate',\n    onProgress: 'onprogress',\n    onRateChange: 'onratechange',\n    onRepeat: 'onrepeat',\n    onReset: 'onreset',\n    onResize: 'onresize',\n    onScroll: 'onscroll',\n    onSeeked: 'onseeked',\n    onSeeking: 'onseeking',\n    onSelect: 'onselect',\n    onShow: 'onshow',\n    onStalled: 'onstalled',\n    onStorage: 'onstorage',\n    onSubmit: 'onsubmit',\n    onSuspend: 'onsuspend',\n    onTimeUpdate: 'ontimeupdate',\n    onToggle: 'ontoggle',\n    onUnload: 'onunload',\n    onVolumeChange: 'onvolumechange',\n    onWaiting: 'onwaiting',\n    onZoom: 'onzoom',\n    overlinePosition: 'overline-position',\n    overlineThickness: 'overline-thickness',\n    paintOrder: 'paint-order',\n    panose1: 'panose-1',\n    pointerEvents: 'pointer-events',\n    referrerPolicy: 'referrerpolicy',\n    renderingIntent: 'rendering-intent',\n    shapeRendering: 'shape-rendering',\n    stopColor: 'stop-color',\n    stopOpacity: 'stop-opacity',\n    strikethroughPosition: 'strikethrough-position',\n    strikethroughThickness: 'strikethrough-thickness',\n    strokeDashArray: 'stroke-dasharray',\n    strokeDashOffset: 'stroke-dashoffset',\n    strokeLineCap: 'stroke-linecap',\n    strokeLineJoin: 'stroke-linejoin',\n    strokeMiterLimit: 'stroke-miterlimit',\n    strokeOpacity: 'stroke-opacity',\n    strokeWidth: 'stroke-width',\n    tabIndex: 'tabindex',\n    textAnchor: 'text-anchor',\n    textDecoration: 'text-decoration',\n    textRendering: 'text-rendering',\n    transformOrigin: 'transform-origin',\n    typeOf: 'typeof',\n    underlinePosition: 'underline-position',\n    underlineThickness: 'underline-thickness',\n    unicodeBidi: 'unicode-bidi',\n    unicodeRange: 'unicode-range',\n    unitsPerEm: 'units-per-em',\n    vAlphabetic: 'v-alphabetic',\n    vHanging: 'v-hanging',\n    vIdeographic: 'v-ideographic',\n    vMathematical: 'v-mathematical',\n    vectorEffect: 'vector-effect',\n    vertAdvY: 'vert-adv-y',\n    vertOriginX: 'vert-origin-x',\n    vertOriginY: 'vert-origin-y',\n    wordSpacing: 'word-spacing',\n    writingMode: 'writing-mode',\n    xHeight: 'x-height',\n    // These were camelcased in Tiny. Now lowercased in SVG 2\n    playbackOrder: 'playbackorder',\n    timelineBegin: 'timelinebegin'\n  },\n  transform: caseSensitiveTransform,\n  properties: {\n    about: commaOrSpaceSeparated,\n    accentHeight: number,\n    accumulate: null,\n    additive: null,\n    alignmentBaseline: null,\n    alphabetic: number,\n    amplitude: number,\n    arabicForm: null,\n    ascent: number,\n    attributeName: null,\n    attributeType: null,\n    azimuth: number,\n    bandwidth: null,\n    baselineShift: null,\n    baseFrequency: null,\n    baseProfile: null,\n    bbox: null,\n    begin: null,\n    bias: number,\n    by: null,\n    calcMode: null,\n    capHeight: number,\n    className: spaceSeparated,\n    clip: null,\n    clipPath: null,\n    clipPathUnits: null,\n    clipRule: null,\n    color: null,\n    colorInterpolation: null,\n    colorInterpolationFilters: null,\n    colorProfile: null,\n    colorRendering: null,\n    content: null,\n    contentScriptType: null,\n    contentStyleType: null,\n    crossOrigin: null,\n    cursor: null,\n    cx: null,\n    cy: null,\n    d: null,\n    dataType: null,\n    defaultAction: null,\n    descent: number,\n    diffuseConstant: number,\n    direction: null,\n    display: null,\n    dur: null,\n    divisor: number,\n    dominantBaseline: null,\n    download: boolean,\n    dx: null,\n    dy: null,\n    edgeMode: null,\n    editable: null,\n    elevation: number,\n    enableBackground: null,\n    end: null,\n    event: null,\n    exponent: number,\n    externalResourcesRequired: null,\n    fill: null,\n    fillOpacity: number,\n    fillRule: null,\n    filter: null,\n    filterRes: null,\n    filterUnits: null,\n    floodColor: null,\n    floodOpacity: null,\n    focusable: null,\n    focusHighlight: null,\n    fontFamily: null,\n    fontSize: null,\n    fontSizeAdjust: null,\n    fontStretch: null,\n    fontStyle: null,\n    fontVariant: null,\n    fontWeight: null,\n    format: null,\n    fr: null,\n    from: null,\n    fx: null,\n    fy: null,\n    g1: commaSeparated,\n    g2: commaSeparated,\n    glyphName: commaSeparated,\n    glyphOrientationHorizontal: null,\n    glyphOrientationVertical: null,\n    glyphRef: null,\n    gradientTransform: null,\n    gradientUnits: null,\n    handler: null,\n    hanging: number,\n    hatchContentUnits: null,\n    hatchUnits: null,\n    height: null,\n    href: null,\n    hrefLang: null,\n    horizAdvX: number,\n    horizOriginX: number,\n    horizOriginY: number,\n    id: null,\n    ideographic: number,\n    imageRendering: null,\n    initialVisibility: null,\n    in: null,\n    in2: null,\n    intercept: number,\n    k: number,\n    k1: number,\n    k2: number,\n    k3: number,\n    k4: number,\n    kernelMatrix: commaOrSpaceSeparated,\n    kernelUnitLength: null,\n    keyPoints: null, // SEMI_COLON_SEPARATED\n    keySplines: null, // SEMI_COLON_SEPARATED\n    keyTimes: null, // SEMI_COLON_SEPARATED\n    kerning: null,\n    lang: null,\n    lengthAdjust: null,\n    letterSpacing: null,\n    lightingColor: null,\n    limitingConeAngle: number,\n    local: null,\n    markerEnd: null,\n    markerMid: null,\n    markerStart: null,\n    markerHeight: null,\n    markerUnits: null,\n    markerWidth: null,\n    mask: null,\n    maskContentUnits: null,\n    maskUnits: null,\n    mathematical: null,\n    max: null,\n    media: null,\n    mediaCharacterEncoding: null,\n    mediaContentEncodings: null,\n    mediaSize: number,\n    mediaTime: null,\n    method: null,\n    min: null,\n    mode: null,\n    name: null,\n    navDown: null,\n    navDownLeft: null,\n    navDownRight: null,\n    navLeft: null,\n    navNext: null,\n    navPrev: null,\n    navRight: null,\n    navUp: null,\n    navUpLeft: null,\n    navUpRight: null,\n    numOctaves: null,\n    observer: null,\n    offset: null,\n    onAbort: null,\n    onActivate: null,\n    onAfterPrint: null,\n    onBeforePrint: null,\n    onBegin: null,\n    onCancel: null,\n    onCanPlay: null,\n    onCanPlayThrough: null,\n    onChange: null,\n    onClick: null,\n    onClose: null,\n    onCopy: null,\n    onCueChange: null,\n    onCut: null,\n    onDblClick: null,\n    onDrag: null,\n    onDragEnd: null,\n    onDragEnter: null,\n    onDragExit: null,\n    onDragLeave: null,\n    onDragOver: null,\n    onDragStart: null,\n    onDrop: null,\n    onDurationChange: null,\n    onEmptied: null,\n    onEnd: null,\n    onEnded: null,\n    onError: null,\n    onFocus: null,\n    onFocusIn: null,\n    onFocusOut: null,\n    onHashChange: null,\n    onInput: null,\n    onInvalid: null,\n    onKeyDown: null,\n    onKeyPress: null,\n    onKeyUp: null,\n    onLoad: null,\n    onLoadedData: null,\n    onLoadedMetadata: null,\n    onLoadStart: null,\n    onMessage: null,\n    onMouseDown: null,\n    onMouseEnter: null,\n    onMouseLeave: null,\n    onMouseMove: null,\n    onMouseOut: null,\n    onMouseOver: null,\n    onMouseUp: null,\n    onMouseWheel: null,\n    onOffline: null,\n    onOnline: null,\n    onPageHide: null,\n    onPageShow: null,\n    onPaste: null,\n    onPause: null,\n    onPlay: null,\n    onPlaying: null,\n    onPopState: null,\n    onProgress: null,\n    onRateChange: null,\n    onRepeat: null,\n    onReset: null,\n    onResize: null,\n    onScroll: null,\n    onSeeked: null,\n    onSeeking: null,\n    onSelect: null,\n    onShow: null,\n    onStalled: null,\n    onStorage: null,\n    onSubmit: null,\n    onSuspend: null,\n    onTimeUpdate: null,\n    onToggle: null,\n    onUnload: null,\n    onVolumeChange: null,\n    onWaiting: null,\n    onZoom: null,\n    opacity: null,\n    operator: null,\n    order: null,\n    orient: null,\n    orientation: null,\n    origin: null,\n    overflow: null,\n    overlay: null,\n    overlinePosition: number,\n    overlineThickness: number,\n    paintOrder: null,\n    panose1: null,\n    path: null,\n    pathLength: number,\n    patternContentUnits: null,\n    patternTransform: null,\n    patternUnits: null,\n    phase: null,\n    ping: spaceSeparated,\n    pitch: null,\n    playbackOrder: null,\n    pointerEvents: null,\n    points: null,\n    pointsAtX: number,\n    pointsAtY: number,\n    pointsAtZ: number,\n    preserveAlpha: null,\n    preserveAspectRatio: null,\n    primitiveUnits: null,\n    propagate: null,\n    property: commaOrSpaceSeparated,\n    r: null,\n    radius: null,\n    referrerPolicy: null,\n    refX: null,\n    refY: null,\n    rel: commaOrSpaceSeparated,\n    rev: commaOrSpaceSeparated,\n    renderingIntent: null,\n    repeatCount: null,\n    repeatDur: null,\n    requiredExtensions: commaOrSpaceSeparated,\n    requiredFeatures: commaOrSpaceSeparated,\n    requiredFonts: commaOrSpaceSeparated,\n    requiredFormats: commaOrSpaceSeparated,\n    resource: null,\n    restart: null,\n    result: null,\n    rotate: null,\n    rx: null,\n    ry: null,\n    scale: null,\n    seed: null,\n    shapeRendering: null,\n    side: null,\n    slope: null,\n    snapshotTime: null,\n    specularConstant: number,\n    specularExponent: number,\n    spreadMethod: null,\n    spacing: null,\n    startOffset: null,\n    stdDeviation: null,\n    stemh: null,\n    stemv: null,\n    stitchTiles: null,\n    stopColor: null,\n    stopOpacity: null,\n    strikethroughPosition: number,\n    strikethroughThickness: number,\n    string: null,\n    stroke: null,\n    strokeDashArray: commaOrSpaceSeparated,\n    strokeDashOffset: null,\n    strokeLineCap: null,\n    strokeLineJoin: null,\n    strokeMiterLimit: number,\n    strokeOpacity: number,\n    strokeWidth: null,\n    style: null,\n    surfaceScale: number,\n    syncBehavior: null,\n    syncBehaviorDefault: null,\n    syncMaster: null,\n    syncTolerance: null,\n    syncToleranceDefault: null,\n    systemLanguage: commaOrSpaceSeparated,\n    tabIndex: number,\n    tableValues: null,\n    target: null,\n    targetX: number,\n    targetY: number,\n    textAnchor: null,\n    textDecoration: null,\n    textRendering: null,\n    textLength: null,\n    timelineBegin: null,\n    title: null,\n    transformBehavior: null,\n    type: null,\n    typeOf: commaOrSpaceSeparated,\n    to: null,\n    transform: null,\n    transformOrigin: null,\n    u1: null,\n    u2: null,\n    underlinePosition: number,\n    underlineThickness: number,\n    unicode: null,\n    unicodeBidi: null,\n    unicodeRange: null,\n    unitsPerEm: number,\n    values: null,\n    vAlphabetic: number,\n    vMathematical: number,\n    vectorEffect: null,\n    vHanging: number,\n    vIdeographic: number,\n    version: null,\n    vertAdvY: number,\n    vertOriginX: number,\n    vertOriginY: number,\n    viewBox: null,\n    viewTarget: null,\n    visibility: null,\n    width: null,\n    widths: null,\n    wordSpacing: null,\n    writingMode: null,\n    x: null,\n    x1: null,\n    x2: null,\n    xChannelSelector: null,\n    xHeight: number,\n    y: null,\n    y1: null,\n    y2: null,\n    yChannelSelector: null,\n    z: null,\n    zoomAndPan: null\n  }\n})\n","/**\n * @typedef {import('./lib/util/info.js').Info} Info\n * @typedef {import('./lib/util/schema.js').Schema} Schema\n */\n\nimport {merge} from './lib/util/merge.js'\nimport {xlink} from './lib/xlink.js'\nimport {xml} from './lib/xml.js'\nimport {xmlns} from './lib/xmlns.js'\nimport {aria} from './lib/aria.js'\nimport {html as htmlBase} from './lib/html.js'\nimport {svg as svgBase} from './lib/svg.js'\n\nexport {find} from './lib/find.js'\nexport {hastToReact} from './lib/hast-to-react.js'\nexport {normalize} from './lib/normalize.js'\nexport const html = merge([xml, xlink, xmlns, aria, htmlBase], 'html')\nexport const svg = merge([xml, xlink, xmlns, aria, svgBase], 'svg')\n","import {visit} from 'unist-util-visit'\n\n/**\n * @typedef {import('unist').Node} Node\n * @typedef {import('hast').Root} Root\n * @typedef {import('hast').Element} Element\n *\n * @callback AllowElement\n * @param {Element} element\n * @param {number} index\n * @param {Element|Root} parent\n * @returns {boolean|undefined}\n *\n * @typedef Options\n * @property {Array<string>} [allowedElements]\n * @property {Array<string>} [disallowedElements=[]]\n * @property {AllowElement} [allowElement]\n * @property {boolean} [unwrapDisallowed=false]\n */\n\n/**\n * @type {import('unified').Plugin<[Options], Root>}\n */\nexport default function rehypeFilter(options) {\n  if (options.allowedElements && options.disallowedElements) {\n    throw new TypeError(\n      'Only one of `allowedElements` and `disallowedElements` should be defined'\n    )\n  }\n\n  if (\n    options.allowedElements ||\n    options.disallowedElements ||\n    options.allowElement\n  ) {\n    return (tree) => {\n      visit(tree, 'element', (node, index, parent_) => {\n        const parent = /** @type {Element|Root} */ (parent_)\n        /** @type {boolean|undefined} */\n        let remove\n\n        if (options.allowedElements) {\n          remove = !options.allowedElements.includes(node.tagName)\n        } else if (options.disallowedElements) {\n          remove = options.disallowedElements.includes(node.tagName)\n        }\n\n        if (!remove && options.allowElement && typeof index === 'number') {\n          remove = !options.allowElement(node, index, parent)\n        }\n\n        if (remove && typeof index === 'number') {\n          if (options.unwrapDisallowed && node.children) {\n            parent.children.splice(index, 1, ...node.children)\n          } else {\n            parent.children.splice(index, 1)\n          }\n\n          return index\n        }\n\n        return undefined\n      })\n    }\n  }\n}\n","/**\n * @typedef {import('./util/schema.js').Schema} Schema\n */\n\nimport {normalize} from './normalize.js'\nimport {DefinedInfo} from './util/defined-info.js'\nimport {Info} from './util/info.js'\n\nconst valid = /^data[-\\w.:]+$/i\nconst dash = /-[a-z]/g\nconst cap = /[A-Z]/g\n\n/**\n * @param {Schema} schema\n * @param {string} value\n * @returns {Info}\n */\nexport function find(schema, value) {\n  const normal = normalize(value)\n  let prop = value\n  let Type = Info\n\n  if (normal in schema.normal) {\n    return schema.property[schema.normal[normal]]\n  }\n\n  if (normal.length > 4 && normal.slice(0, 4) === 'data' && valid.test(value)) {\n    // Attribute or property.\n    if (value.charAt(4) === '-') {\n      // Turn it into a property.\n      const rest = value.slice(5).replace(dash, camelcase)\n      prop = 'data' + rest.charAt(0).toUpperCase() + rest.slice(1)\n    } else {\n      // Turn it into an attribute.\n      const rest = value.slice(4)\n\n      if (!dash.test(rest)) {\n        let dashes = rest.replace(cap, kebab)\n\n        if (dashes.charAt(0) !== '-') {\n          dashes = '-' + dashes\n        }\n\n        value = 'data' + dashes\n      }\n    }\n\n    Type = DefinedInfo\n  }\n\n  return new Type(prop, value)\n}\n\n/**\n * @param {string} $0\n * @returns {string}\n */\nfunction kebab($0) {\n  return '-' + $0.toLowerCase()\n}\n\n/**\n * @param {string} $0\n * @returns {string}\n */\nfunction camelcase($0) {\n  return $0.charAt(1).toUpperCase()\n}\n","/**\n * `hast` is close to `React`, but differs in a couple of cases.\n *\n * To get a React property from a hast property, check if it is in\n * `hastToReact`, if it is, then use the corresponding value,\n * otherwise, use the hast property.\n *\n * @type {Record<string, string>}\n */\nexport const hastToReact = {\n  classId: 'classID',\n  dataType: 'datatype',\n  itemId: 'itemID',\n  strokeDashArray: 'strokeDasharray',\n  strokeDashOffset: 'strokeDashoffset',\n  strokeLineCap: 'strokeLinecap',\n  strokeLineJoin: 'strokeLinejoin',\n  strokeMiterLimit: 'strokeMiterlimit',\n  typeOf: 'typeof',\n  xLinkActuate: 'xlinkActuate',\n  xLinkArcRole: 'xlinkArcrole',\n  xLinkHref: 'xlinkHref',\n  xLinkRole: 'xlinkRole',\n  xLinkShow: 'xlinkShow',\n  xLinkTitle: 'xlinkTitle',\n  xLinkType: 'xlinkType',\n  xmlnsXLink: 'xmlnsXlink'\n}\n","/**\n * @template T\n * @typedef {import('react').ComponentType<T>} ComponentType<T>\n */\n\n/**\n * @template {import('react').ElementType} T\n * @typedef {import('react').ComponentPropsWithoutRef<T>} ComponentPropsWithoutRef<T>\n */\n\n/**\n * @typedef {import('react').ReactNode} ReactNode\n * @typedef {import('unist').Position} Position\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').ElementContent} ElementContent\n * @typedef {import('hast').Root} Root\n * @typedef {import('hast').Text} Text\n * @typedef {import('hast').Comment} Comment\n * @typedef {import('hast').DocType} Doctype\n * @typedef {import('property-information').Info} Info\n * @typedef {import('property-information').Schema} Schema\n * @typedef {import('./complex-types.js').ReactMarkdownProps} ReactMarkdownProps\n *\n * @typedef Raw\n * @property {'raw'} type\n * @property {string} value\n *\n * @typedef Context\n * @property {Options} options\n * @property {Schema} schema\n * @property {number} listDepth\n *\n * @callback TransformLink\n * @param {string} href\n * @param {Array<ElementContent>} children\n * @param {string?} title\n * @returns {string}\n *\n * @callback TransformImage\n * @param {string} src\n * @param {string} alt\n * @param {string?} title\n * @returns {string}\n *\n * @typedef {import('react').HTMLAttributeAnchorTarget} TransformLinkTargetType\n *\n * @callback TransformLinkTarget\n * @param {string} href\n * @param {Array<ElementContent>} children\n * @param {string?} title\n * @returns {TransformLinkTargetType|undefined}\n *\n * @typedef {keyof JSX.IntrinsicElements} ReactMarkdownNames\n *\n * To do: is `data-sourcepos` typeable?\n *\n * @typedef {ComponentPropsWithoutRef<'code'> & ReactMarkdownProps & {inline?: boolean}} CodeProps\n * @typedef {ComponentPropsWithoutRef<'h1'> & ReactMarkdownProps & {level: number}} HeadingProps\n * @typedef {ComponentPropsWithoutRef<'li'> & ReactMarkdownProps & {checked: boolean|null, index: number, ordered: boolean}} LiProps\n * @typedef {ComponentPropsWithoutRef<'ol'> & ReactMarkdownProps & {depth: number, ordered: true}} OrderedListProps\n * @typedef {ComponentPropsWithoutRef<'td'> & ReactMarkdownProps & {style?: Record<string, unknown>, isHeader: false}} TableDataCellProps\n * @typedef {ComponentPropsWithoutRef<'th'> & ReactMarkdownProps & {style?: Record<string, unknown>, isHeader: true}} TableHeaderCellProps\n * @typedef {ComponentPropsWithoutRef<'tr'> & ReactMarkdownProps & {isHeader: boolean}} TableRowProps\n * @typedef {ComponentPropsWithoutRef<'ul'> & ReactMarkdownProps & {depth: number, ordered: false}} UnorderedListProps\n *\n * @typedef {ComponentType<CodeProps>} CodeComponent\n * @typedef {ComponentType<HeadingProps>} HeadingComponent\n * @typedef {ComponentType<LiProps>} LiComponent\n * @typedef {ComponentType<OrderedListProps>} OrderedListComponent\n * @typedef {ComponentType<TableDataCellProps>} TableDataCellComponent\n * @typedef {ComponentType<TableHeaderCellProps>} TableHeaderCellComponent\n * @typedef {ComponentType<TableRowProps>} TableRowComponent\n * @typedef {ComponentType<UnorderedListProps>} UnorderedListComponent\n *\n * @typedef SpecialComponents\n * @property {CodeComponent|ReactMarkdownNames} code\n * @property {HeadingComponent|ReactMarkdownNames} h1\n * @property {HeadingComponent|ReactMarkdownNames} h2\n * @property {HeadingComponent|ReactMarkdownNames} h3\n * @property {HeadingComponent|ReactMarkdownNames} h4\n * @property {HeadingComponent|ReactMarkdownNames} h5\n * @property {HeadingComponent|ReactMarkdownNames} h6\n * @property {LiComponent|ReactMarkdownNames} li\n * @property {OrderedListComponent|ReactMarkdownNames} ol\n * @property {TableDataCellComponent|ReactMarkdownNames} td\n * @property {TableHeaderCellComponent|ReactMarkdownNames} th\n * @property {TableRowComponent|ReactMarkdownNames} tr\n * @property {UnorderedListComponent|ReactMarkdownNames} ul\n *\n * @typedef {Partial<Omit<import('./complex-types.js').NormalComponents, keyof SpecialComponents> & SpecialComponents>} Components\n *\n * @typedef Options\n * @property {boolean} [sourcePos=false]\n * @property {boolean} [rawSourcePos=false]\n * @property {boolean} [skipHtml=false]\n * @property {boolean} [includeElementIndex=false]\n * @property {null|false|TransformLink} [transformLinkUri]\n * @property {TransformImage} [transformImageUri]\n * @property {TransformLinkTargetType|TransformLinkTarget} [linkTarget]\n * @property {Components} [components]\n */\n\nimport React from 'react'\nimport ReactIs from 'react-is'\nimport {whitespace} from 'hast-util-whitespace'\nimport {svg, find, hastToReact} from 'property-information'\nimport {stringify as spaces} from 'space-separated-tokens'\nimport {stringify as commas} from 'comma-separated-tokens'\nimport style from 'style-to-object'\nimport {uriTransformer} from './uri-transformer.js'\n\nconst own = {}.hasOwnProperty\n\n// The table-related elements that must not contain whitespace text according\n// to React.\nconst tableElements = new Set(['table', 'thead', 'tbody', 'tfoot', 'tr'])\n\n/**\n * @param {Context} context\n * @param {Element|Root} node\n */\nexport function childrenToReact(context, node) {\n  /** @type {Array<ReactNode>} */\n  const children = []\n  let childIndex = -1\n  /** @type {Comment|Doctype|Element|Raw|Text} */\n  let child\n\n  while (++childIndex < node.children.length) {\n    child = node.children[childIndex]\n\n    if (child.type === 'element') {\n      children.push(toReact(context, child, childIndex, node))\n    } else if (child.type === 'text') {\n      // Currently, a warning is triggered by react for *any* white space in\n      // tables.\n      // So we drop it.\n      // See: <https://github.com/facebook/react/pull/7081>.\n      // See: <https://github.com/facebook/react/pull/7515>.\n      // See: <https://github.com/remarkjs/remark-react/issues/64>.\n      // See: <https://github.com/remarkjs/react-markdown/issues/576>.\n      if (\n        node.type !== 'element' ||\n        !tableElements.has(node.tagName) ||\n        !whitespace(child)\n      ) {\n        children.push(child.value)\n      }\n    } else if (child.type === 'raw' && !context.options.skipHtml) {\n      // Default behavior is to show (encoded) HTML.\n      children.push(child.value)\n    }\n  }\n\n  return children\n}\n\n/**\n * @param {Context} context\n * @param {Element} node\n * @param {number} index\n * @param {Element|Root} parent\n */\nfunction toReact(context, node, index, parent) {\n  const options = context.options\n  const transform =\n    options.transformLinkUri === undefined\n      ? uriTransformer\n      : options.transformLinkUri\n  const parentSchema = context.schema\n  /** @type {ReactMarkdownNames} */\n  // @ts-expect-error assume a known HTML/SVG element.\n  const name = node.tagName\n  /** @type {Record<string, unknown>} */\n  const properties = {}\n  let schema = parentSchema\n  /** @type {string} */\n  let property\n\n  if (parentSchema.space === 'html' && name === 'svg') {\n    schema = svg\n    context.schema = schema\n  }\n\n  if (node.properties) {\n    for (property in node.properties) {\n      if (own.call(node.properties, property)) {\n        addProperty(properties, property, node.properties[property], context)\n      }\n    }\n  }\n\n  if (name === 'ol' || name === 'ul') {\n    context.listDepth++\n  }\n\n  const children = childrenToReact(context, node)\n\n  if (name === 'ol' || name === 'ul') {\n    context.listDepth--\n  }\n\n  // Restore parent schema.\n  context.schema = parentSchema\n\n  // Nodes created by plugins do not have positional info, in which case we use\n  // an object that matches the position interface.\n  const position = node.position || {\n    start: {line: null, column: null, offset: null},\n    end: {line: null, column: null, offset: null}\n  }\n  const component =\n    options.components && own.call(options.components, name)\n      ? options.components[name]\n      : name\n  const basic = typeof component === 'string' || component === React.Fragment\n\n  if (!ReactIs.isValidElementType(component)) {\n    throw new TypeError(\n      `Component for name \\`${name}\\` not defined or is not renderable`\n    )\n  }\n\n  properties.key = index\n\n  if (name === 'a' && options.linkTarget) {\n    properties.target =\n      typeof options.linkTarget === 'function'\n        ? options.linkTarget(\n            String(properties.href || ''),\n            node.children,\n            typeof properties.title === 'string' ? properties.title : null\n          )\n        : options.linkTarget\n  }\n\n  if (name === 'a' && transform) {\n    properties.href = transform(\n      String(properties.href || ''),\n      node.children,\n      typeof properties.title === 'string' ? properties.title : null\n    )\n  }\n\n  if (\n    !basic &&\n    name === 'code' &&\n    parent.type === 'element' &&\n    parent.tagName !== 'pre'\n  ) {\n    properties.inline = true\n  }\n\n  if (\n    !basic &&\n    (name === 'h1' ||\n      name === 'h2' ||\n      name === 'h3' ||\n      name === 'h4' ||\n      name === 'h5' ||\n      name === 'h6')\n  ) {\n    properties.level = Number.parseInt(name.charAt(1), 10)\n  }\n\n  if (name === 'img' && options.transformImageUri) {\n    properties.src = options.transformImageUri(\n      String(properties.src || ''),\n      String(properties.alt || ''),\n      typeof properties.title === 'string' ? properties.title : null\n    )\n  }\n\n  if (!basic && name === 'li' && parent.type === 'element') {\n    const input = getInputElement(node)\n    properties.checked =\n      input && input.properties ? Boolean(input.properties.checked) : null\n    properties.index = getElementsBeforeCount(parent, node)\n    properties.ordered = parent.tagName === 'ol'\n  }\n\n  if (!basic && (name === 'ol' || name === 'ul')) {\n    properties.ordered = name === 'ol'\n    properties.depth = context.listDepth\n  }\n\n  if (name === 'td' || name === 'th') {\n    if (properties.align) {\n      if (!properties.style) properties.style = {}\n      // @ts-expect-error assume `style` is an object\n      properties.style.textAlign = properties.align\n      delete properties.align\n    }\n\n    if (!basic) {\n      properties.isHeader = name === 'th'\n    }\n  }\n\n  if (!basic && name === 'tr' && parent.type === 'element') {\n    properties.isHeader = Boolean(parent.tagName === 'thead')\n  }\n\n  // If `sourcePos` is given, pass source information (line/column info from markdown source).\n  if (options.sourcePos) {\n    properties['data-sourcepos'] = flattenPosition(position)\n  }\n\n  if (!basic && options.rawSourcePos) {\n    properties.sourcePosition = node.position\n  }\n\n  // If `includeElementIndex` is given, pass node index info to components.\n  if (!basic && options.includeElementIndex) {\n    properties.index = getElementsBeforeCount(parent, node)\n    properties.siblingCount = getElementsBeforeCount(parent)\n  }\n\n  if (!basic) {\n    properties.node = node\n  }\n\n  // Ensure no React warnings are emitted for void elements w/ children.\n  return children.length > 0\n    ? React.createElement(component, properties, children)\n    : React.createElement(component, properties)\n}\n\n/**\n * @param {Element|Root} node\n * @returns {Element?}\n */\nfunction getInputElement(node) {\n  let index = -1\n\n  while (++index < node.children.length) {\n    const child = node.children[index]\n\n    if (child.type === 'element' && child.tagName === 'input') {\n      return child\n    }\n  }\n\n  return null\n}\n\n/**\n * @param {Element|Root} parent\n * @param {Element} [node]\n * @returns {number}\n */\nfunction getElementsBeforeCount(parent, node) {\n  let index = -1\n  let count = 0\n\n  while (++index < parent.children.length) {\n    if (parent.children[index] === node) break\n    if (parent.children[index].type === 'element') count++\n  }\n\n  return count\n}\n\n/**\n * @param {Record<string, unknown>} props\n * @param {string} prop\n * @param {unknown} value\n * @param {Context} ctx\n */\nfunction addProperty(props, prop, value, ctx) {\n  const info = find(ctx.schema, prop)\n  let result = value\n\n  // Ignore nullish and `NaN` values.\n  // eslint-disable-next-line no-self-compare\n  if (result === null || result === undefined || result !== result) {\n    return\n  }\n\n  // Accept `array`.\n  // Most props are space-separated.\n  if (Array.isArray(result)) {\n    result = info.commaSeparated ? commas(result) : spaces(result)\n  }\n\n  if (info.property === 'style' && typeof result === 'string') {\n    result = parseStyle(result)\n  }\n\n  if (info.space && info.property) {\n    props[\n      own.call(hastToReact, info.property)\n        ? hastToReact[info.property]\n        : info.property\n    ] = result\n  } else if (info.attribute) {\n    props[info.attribute] = result\n  }\n}\n\n/**\n * @param {string} value\n * @returns {Record<string, string>}\n */\nfunction parseStyle(value) {\n  /** @type {Record<string, string>} */\n  const result = {}\n\n  try {\n    style(value, iterator)\n  } catch {\n    // Silent.\n  }\n\n  return result\n\n  /**\n   * @param {string} name\n   * @param {string} v\n   */\n  function iterator(name, v) {\n    const k = name.slice(0, 4) === '-ms-' ? `ms-${name.slice(4)}` : name\n    result[k.replace(/-([a-z])/g, styleReplacer)] = v\n  }\n}\n\n/**\n * @param {unknown} _\n * @param {string} $1\n */\nfunction styleReplacer(_, $1) {\n  return $1.toUpperCase()\n}\n\n/**\n * @param {Position|{start: {line: null, column: null, offset: null}, end: {line: null, column: null, offset: null}}} pos\n * @returns {string}\n */\nfunction flattenPosition(pos) {\n  return [\n    pos.start.line,\n    ':',\n    pos.start.column,\n    '-',\n    pos.end.line,\n    ':',\n    pos.end.column\n  ]\n    .map(String)\n    .join('')\n}\n","import StyleToObject from './index.js';\n\nexport default StyleToObject;\n","/**\n * Check if the given value is *inter-element whitespace*.\n *\n * @param {unknown} thing\n *   Thing to check (typically `Node` or `string`).\n * @returns {boolean}\n *   Whether the `value` is inter-element whitespace (`boolean`): consisting of\n *   zero or more of space, tab (`\\t`), line feed (`\\n`), carriage return\n *   (`\\r`), or form feed (`\\f`).\n *   If a node is passed it must be a `Text` node, whose `value` field is\n *   checked.\n */\nexport function whitespace(thing) {\n  /** @type {string} */\n  const value =\n    // @ts-expect-error looks like a node.\n    thing && typeof thing === 'object' && thing.type === 'text'\n      ? // @ts-expect-error looks like a text.\n        thing.value || ''\n      : thing\n\n  // HTML whitespace expression.\n  // See <https://infra.spec.whatwg.org/#ascii-whitespace>.\n  return typeof value === 'string' && value.replace(/[ \\t\\n\\f\\r]/g, '') === ''\n}\n","/**\n * @typedef {import('react').ReactNode} ReactNode\n * @typedef {import('react').ReactElement<{}>} ReactElement\n * @typedef {import('unified').PluggableList} PluggableList\n * @typedef {import('hast').Root} Root\n * @typedef {import('./rehype-filter.js').Options} FilterOptions\n * @typedef {import('./ast-to-react.js').Options} TransformOptions\n *\n * @typedef CoreOptions\n * @property {string} children\n *\n * @typedef PluginOptions\n * @property {PluggableList} [remarkPlugins=[]]\n * @property {PluggableList} [rehypePlugins=[]]\n * @property {import('remark-rehype').Options | undefined} [remarkRehypeOptions={}]\n *\n * @typedef LayoutOptions\n * @property {string} [className]\n *\n * @typedef {CoreOptions & PluginOptions & LayoutOptions & FilterOptions & TransformOptions} ReactMarkdownOptions\n *\n * @typedef Deprecation\n * @property {string} id\n * @property {string} [to]\n */\n\nimport React from 'react'\nimport {VFile} from 'vfile'\nimport {unified} from 'unified'\nimport remarkParse from 'remark-parse'\nimport remarkRehype from 'remark-rehype'\nimport PropTypes from 'prop-types'\nimport {html} from 'property-information'\nimport rehypeFilter from './rehype-filter.js'\nimport {childrenToReact} from './ast-to-react.js'\n\nconst own = {}.hasOwnProperty\nconst changelog =\n  'https://github.com/remarkjs/react-markdown/blob/main/changelog.md'\n\n/** @type {Record<string, Deprecation>} */\nconst deprecated = {\n  plugins: {to: 'remarkPlugins', id: 'change-plugins-to-remarkplugins'},\n  renderers: {to: 'components', id: 'change-renderers-to-components'},\n  astPlugins: {id: 'remove-buggy-html-in-markdown-parser'},\n  allowDangerousHtml: {id: 'remove-buggy-html-in-markdown-parser'},\n  escapeHtml: {id: 'remove-buggy-html-in-markdown-parser'},\n  source: {to: 'children', id: 'change-source-to-children'},\n  allowNode: {\n    to: 'allowElement',\n    id: 'replace-allownode-allowedtypes-and-disallowedtypes'\n  },\n  allowedTypes: {\n    to: 'allowedElements',\n    id: 'replace-allownode-allowedtypes-and-disallowedtypes'\n  },\n  disallowedTypes: {\n    to: 'disallowedElements',\n    id: 'replace-allownode-allowedtypes-and-disallowedtypes'\n  },\n  includeNodeIndex: {\n    to: 'includeElementIndex',\n    id: 'change-includenodeindex-to-includeelementindex'\n  }\n}\n\n/**\n * React component to render markdown.\n *\n * @param {ReactMarkdownOptions} options\n * @returns {ReactElement}\n */\nexport function ReactMarkdown(options) {\n  for (const key in deprecated) {\n    if (own.call(deprecated, key) && own.call(options, key)) {\n      const deprecation = deprecated[key]\n      console.warn(\n        `[react-markdown] Warning: please ${\n          deprecation.to ? `use \\`${deprecation.to}\\` instead of` : 'remove'\n        } \\`${key}\\` (see <${changelog}#${deprecation.id}> for more info)`\n      )\n      delete deprecated[key]\n    }\n  }\n\n  const processor = unified()\n    .use(remarkParse)\n    .use(options.remarkPlugins || [])\n    .use(remarkRehype, {\n      ...options.remarkRehypeOptions,\n      allowDangerousHtml: true\n    })\n    .use(options.rehypePlugins || [])\n    .use(rehypeFilter, options)\n\n  const file = new VFile()\n\n  if (typeof options.children === 'string') {\n    file.value = options.children\n  } else if (options.children !== undefined && options.children !== null) {\n    console.warn(\n      `[react-markdown] Warning: please pass a string as \\`children\\` (not: \\`${options.children}\\`)`\n    )\n  }\n\n  const hastNode = processor.runSync(processor.parse(file), file)\n\n  if (hastNode.type !== 'root') {\n    throw new TypeError('Expected a `root` node')\n  }\n\n  /** @type {ReactElement} */\n  let result = React.createElement(\n    React.Fragment,\n    {},\n    childrenToReact({options, schema: html, listDepth: 0}, hastNode)\n  )\n\n  if (options.className) {\n    result = React.createElement('div', {className: options.className}, result)\n  }\n\n  return result\n}\n\nReactMarkdown.propTypes = {\n  // Core options:\n  children: PropTypes.string,\n  // Layout options:\n  className: PropTypes.string,\n  // Filter options:\n  allowElement: PropTypes.func,\n  allowedElements: PropTypes.arrayOf(PropTypes.string),\n  disallowedElements: PropTypes.arrayOf(PropTypes.string),\n  unwrapDisallowed: PropTypes.bool,\n  // Plugin options:\n  remarkPlugins: PropTypes.arrayOf(\n    PropTypes.oneOfType([\n      PropTypes.object,\n      PropTypes.func,\n      PropTypes.arrayOf(\n        PropTypes.oneOfType([\n          PropTypes.bool,\n          PropTypes.string,\n          PropTypes.object,\n          PropTypes.func,\n          PropTypes.arrayOf(\n            // prettier-ignore\n            // type-coverage:ignore-next-line\n            PropTypes.any\n          )\n        ])\n      )\n    ])\n  ),\n  rehypePlugins: PropTypes.arrayOf(\n    PropTypes.oneOfType([\n      PropTypes.object,\n      PropTypes.func,\n      PropTypes.arrayOf(\n        PropTypes.oneOfType([\n          PropTypes.bool,\n          PropTypes.string,\n          PropTypes.object,\n          PropTypes.func,\n          PropTypes.arrayOf(\n            // prettier-ignore\n            // type-coverage:ignore-next-line\n            PropTypes.any\n          )\n        ])\n      )\n    ])\n  ),\n  // Transform options:\n  sourcePos: PropTypes.bool,\n  rawSourcePos: PropTypes.bool,\n  skipHtml: PropTypes.bool,\n  includeElementIndex: PropTypes.bool,\n  transformLinkUri: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\n  linkTarget: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  transformImageUri: PropTypes.func,\n  components: PropTypes.object\n}\n","const protocols = ['http', 'https', 'mailto', 'tel']\n\n/**\n * @param {string} uri\n * @returns {string}\n */\nexport function uriTransformer(uri) {\n  const url = (uri || '').trim()\n  const first = url.charAt(0)\n\n  if (first === '#' || first === '/') {\n    return url\n  }\n\n  const colon = url.indexOf(':')\n  if (colon === -1) {\n    return url\n  }\n\n  let index = -1\n\n  while (++index < protocols.length) {\n    const protocol = protocols[index]\n\n    if (\n      colon === protocol.length &&\n      url.slice(0, protocol.length).toLowerCase() === protocol\n    ) {\n      return url\n    }\n  }\n\n  index = url.indexOf('?')\n  if (index !== -1 && colon > index) {\n    return url\n  }\n\n  index = url.indexOf('#')\n  if (index !== -1 && colon > index) {\n    return url\n  }\n\n  // eslint-disable-next-line no-script-url\n  return 'javascript:void(0)'\n}\n","/**\n * @typedef {import('mdast').Root} Root\n * @typedef {import('mdast-util-from-markdown').Options} Options\n */\n\nimport {fromMarkdown} from 'mdast-util-from-markdown'\n\n/**\n * @this {import('unified').Processor}\n * @type {import('unified').Plugin<[Options?] | void[], string, Root>}\n */\nexport default function remarkParse(options) {\n  /** @type {import('unified').ParserFunction<Root>} */\n  const parser = (doc) => {\n    // Assume options.\n    const settings = /** @type {Options} */ (this.data('settings'))\n\n    return fromMarkdown(\n      doc,\n      Object.assign({}, settings, options, {\n        // Note: these options are not in the readme.\n        // The goal is for them to be set by plugins on `data` instead of being\n        // passed by users.\n        extensions: this.data('micromarkExtensions') || [],\n        mdastExtensions: this.data('fromMarkdownExtensions') || []\n      })\n    )\n  }\n\n  Object.assign(this, {Parser: parser})\n}\n","/**\n * Parse space-separated tokens to an array of strings.\n *\n * @param {string} value\n *   Space-separated tokens.\n * @returns {Array<string>}\n *   List of tokens.\n */\nexport function parse(value) {\n  const input = String(value || '').trim()\n  return input ? input.split(/[ \\t\\n\\r\\f]+/g) : []\n}\n\n/**\n * Serialize an array of strings as space separated-tokens.\n *\n * @param {Array<string|number>} values\n *   List of tokens.\n * @returns {string}\n *   Space-separated tokens.\n */\nexport function stringify(values) {\n  return values.join(' ').trim()\n}\n","/**\n * Throw a given error.\n *\n * @param {Error|null|undefined} [error]\n *   Maybe error.\n * @returns {asserts error is null|undefined}\n */\nexport function bail(error) {\n  if (error) {\n    throw error\n  }\n}\n","export default function isPlainObject(value) {\n\tif (typeof value !== 'object' || value === null) {\n\t\treturn false;\n\t}\n\n\tconst prototype = Object.getPrototypeOf(value);\n\treturn (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(Symbol.toStringTag in value) && !(Symbol.iterator in value);\n}\n","/**\n * @typedef {import('unist').Node} Node\n * @typedef {import('vfile').VFileCompatible} VFileCompatible\n * @typedef {import('vfile').VFileValue} VFileValue\n * @typedef {import('..').Processor} Processor\n * @typedef {import('..').Plugin} Plugin\n * @typedef {import('..').Preset} Preset\n * @typedef {import('..').Pluggable} Pluggable\n * @typedef {import('..').PluggableList} PluggableList\n * @typedef {import('..').Transformer} Transformer\n * @typedef {import('..').Parser} Parser\n * @typedef {import('..').Compiler} Compiler\n * @typedef {import('..').RunCallback} RunCallback\n * @typedef {import('..').ProcessCallback} ProcessCallback\n *\n * @typedef Context\n * @property {Node} tree\n * @property {VFile} file\n */\n\nimport {bail} from 'bail'\nimport isBuffer from 'is-buffer'\nimport extend from 'extend'\nimport isPlainObj from 'is-plain-obj'\nimport {trough} from 'trough'\nimport {VFile} from 'vfile'\n\n// Expose a frozen processor.\nexport const unified = base().freeze()\n\nconst own = {}.hasOwnProperty\n\n// Function to create the first processor.\n/**\n * @returns {Processor}\n */\nfunction base() {\n  const transformers = trough()\n  /** @type {Processor['attachers']} */\n  const attachers = []\n  /** @type {Record<string, unknown>} */\n  let namespace = {}\n  /** @type {boolean|undefined} */\n  let frozen\n  let freezeIndex = -1\n\n  // Data management.\n  // @ts-expect-error: overloads are handled.\n  processor.data = data\n  processor.Parser = undefined\n  processor.Compiler = undefined\n\n  // Lock.\n  processor.freeze = freeze\n\n  // Plugins.\n  processor.attachers = attachers\n  // @ts-expect-error: overloads are handled.\n  processor.use = use\n\n  // API.\n  processor.parse = parse\n  processor.stringify = stringify\n  // @ts-expect-error: overloads are handled.\n  processor.run = run\n  processor.runSync = runSync\n  // @ts-expect-error: overloads are handled.\n  processor.process = process\n  processor.processSync = processSync\n\n  // Expose.\n  return processor\n\n  // Create a new processor based on the processor in the current scope.\n  /** @type {Processor} */\n  function processor() {\n    const destination = base()\n    let index = -1\n\n    while (++index < attachers.length) {\n      destination.use(...attachers[index])\n    }\n\n    destination.data(extend(true, {}, namespace))\n\n    return destination\n  }\n\n  /**\n   * @param {string|Record<string, unknown>} [key]\n   * @param {unknown} [value]\n   * @returns {unknown}\n   */\n  function data(key, value) {\n    if (typeof key === 'string') {\n      // Set `key`.\n      if (arguments.length === 2) {\n        assertUnfrozen('data', frozen)\n        namespace[key] = value\n        return processor\n      }\n\n      // Get `key`.\n      return (own.call(namespace, key) && namespace[key]) || null\n    }\n\n    // Set space.\n    if (key) {\n      assertUnfrozen('data', frozen)\n      namespace = key\n      return processor\n    }\n\n    // Get space.\n    return namespace\n  }\n\n  /** @type {Processor['freeze']} */\n  function freeze() {\n    if (frozen) {\n      return processor\n    }\n\n    while (++freezeIndex < attachers.length) {\n      const [attacher, ...options] = attachers[freezeIndex]\n\n      if (options[0] === false) {\n        continue\n      }\n\n      if (options[0] === true) {\n        options[0] = undefined\n      }\n\n      /** @type {Transformer|void} */\n      const transformer = attacher.call(processor, ...options)\n\n      if (typeof transformer === 'function') {\n        transformers.use(transformer)\n      }\n    }\n\n    frozen = true\n    freezeIndex = Number.POSITIVE_INFINITY\n\n    return processor\n  }\n\n  /**\n   * @param {Pluggable|null|undefined} [value]\n   * @param {...unknown} options\n   * @returns {Processor}\n   */\n  function use(value, ...options) {\n    /** @type {Record<string, unknown>|undefined} */\n    let settings\n\n    assertUnfrozen('use', frozen)\n\n    if (value === null || value === undefined) {\n      // Empty.\n    } else if (typeof value === 'function') {\n      addPlugin(value, ...options)\n    } else if (typeof value === 'object') {\n      if (Array.isArray(value)) {\n        addList(value)\n      } else {\n        addPreset(value)\n      }\n    } else {\n      throw new TypeError('Expected usable value, not `' + value + '`')\n    }\n\n    if (settings) {\n      namespace.settings = Object.assign(namespace.settings || {}, settings)\n    }\n\n    return processor\n\n    /**\n     * @param {import('..').Pluggable<unknown[]>} value\n     * @returns {void}\n     */\n    function add(value) {\n      if (typeof value === 'function') {\n        addPlugin(value)\n      } else if (typeof value === 'object') {\n        if (Array.isArray(value)) {\n          const [plugin, ...options] = value\n          addPlugin(plugin, ...options)\n        } else {\n          addPreset(value)\n        }\n      } else {\n        throw new TypeError('Expected usable value, not `' + value + '`')\n      }\n    }\n\n    /**\n     * @param {Preset} result\n     * @returns {void}\n     */\n    function addPreset(result) {\n      addList(result.plugins)\n\n      if (result.settings) {\n        settings = Object.assign(settings || {}, result.settings)\n      }\n    }\n\n    /**\n     * @param {PluggableList|null|undefined} [plugins]\n     * @returns {void}\n     */\n    function addList(plugins) {\n      let index = -1\n\n      if (plugins === null || plugins === undefined) {\n        // Empty.\n      } else if (Array.isArray(plugins)) {\n        while (++index < plugins.length) {\n          const thing = plugins[index]\n          add(thing)\n        }\n      } else {\n        throw new TypeError('Expected a list of plugins, not `' + plugins + '`')\n      }\n    }\n\n    /**\n     * @param {Plugin} plugin\n     * @param {...unknown} [value]\n     * @returns {void}\n     */\n    function addPlugin(plugin, value) {\n      let index = -1\n      /** @type {Processor['attachers'][number]|undefined} */\n      let entry\n\n      while (++index < attachers.length) {\n        if (attachers[index][0] === plugin) {\n          entry = attachers[index]\n          break\n        }\n      }\n\n      if (entry) {\n        if (isPlainObj(entry[1]) && isPlainObj(value)) {\n          value = extend(true, entry[1], value)\n        }\n\n        entry[1] = value\n      } else {\n        // @ts-expect-error: fine.\n        attachers.push([...arguments])\n      }\n    }\n  }\n\n  /** @type {Processor['parse']} */\n  function parse(doc) {\n    processor.freeze()\n    const file = vfile(doc)\n    const Parser = processor.Parser\n    assertParser('parse', Parser)\n\n    if (newable(Parser, 'parse')) {\n      // @ts-expect-error: `newable` checks this.\n      return new Parser(String(file), file).parse()\n    }\n\n    // @ts-expect-error: `newable` checks this.\n    return Parser(String(file), file) // eslint-disable-line new-cap\n  }\n\n  /** @type {Processor['stringify']} */\n  function stringify(node, doc) {\n    processor.freeze()\n    const file = vfile(doc)\n    const Compiler = processor.Compiler\n    assertCompiler('stringify', Compiler)\n    assertNode(node)\n\n    if (newable(Compiler, 'compile')) {\n      // @ts-expect-error: `newable` checks this.\n      return new Compiler(node, file).compile()\n    }\n\n    // @ts-expect-error: `newable` checks this.\n    return Compiler(node, file) // eslint-disable-line new-cap\n  }\n\n  /**\n   * @param {Node} node\n   * @param {VFileCompatible|RunCallback} [doc]\n   * @param {RunCallback} [callback]\n   * @returns {Promise<Node>|void}\n   */\n  function run(node, doc, callback) {\n    assertNode(node)\n    processor.freeze()\n\n    if (!callback && typeof doc === 'function') {\n      callback = doc\n      doc = undefined\n    }\n\n    if (!callback) {\n      return new Promise(executor)\n    }\n\n    executor(null, callback)\n\n    /**\n     * @param {null|((node: Node) => void)} resolve\n     * @param {(error: Error) => void} reject\n     * @returns {void}\n     */\n    function executor(resolve, reject) {\n      // @ts-expect-error: `doc` cant be a callback anymore, we checked.\n      transformers.run(node, vfile(doc), done)\n\n      /**\n       * @param {Error|null} error\n       * @param {Node} tree\n       * @param {VFile} file\n       * @returns {void}\n       */\n      function done(error, tree, file) {\n        tree = tree || node\n        if (error) {\n          reject(error)\n        } else if (resolve) {\n          resolve(tree)\n        } else {\n          // @ts-expect-error: `callback` is defined if `resolve` is not.\n          callback(null, tree, file)\n        }\n      }\n    }\n  }\n\n  /** @type {Processor['runSync']} */\n  function runSync(node, file) {\n    /** @type {Node|undefined} */\n    let result\n    /** @type {boolean|undefined} */\n    let complete\n\n    processor.run(node, file, done)\n\n    assertDone('runSync', 'run', complete)\n\n    // @ts-expect-error: we either bailed on an error or have a tree.\n    return result\n\n    /**\n     * @param {Error|null} [error]\n     * @param {Node} [tree]\n     * @returns {void}\n     */\n    function done(error, tree) {\n      bail(error)\n      result = tree\n      complete = true\n    }\n  }\n\n  /**\n   * @param {VFileCompatible} doc\n   * @param {ProcessCallback} [callback]\n   * @returns {Promise<VFile>|undefined}\n   */\n  function process(doc, callback) {\n    processor.freeze()\n    assertParser('process', processor.Parser)\n    assertCompiler('process', processor.Compiler)\n\n    if (!callback) {\n      return new Promise(executor)\n    }\n\n    executor(null, callback)\n\n    /**\n     * @param {null|((file: VFile) => void)} resolve\n     * @param {(error?: Error|null|undefined) => void} reject\n     * @returns {void}\n     */\n    function executor(resolve, reject) {\n      const file = vfile(doc)\n\n      processor.run(processor.parse(file), file, (error, tree, file) => {\n        if (error || !tree || !file) {\n          done(error)\n        } else {\n          /** @type {unknown} */\n          const result = processor.stringify(tree, file)\n\n          if (result === undefined || result === null) {\n            // Empty.\n          } else if (looksLikeAVFileValue(result)) {\n            file.value = result\n          } else {\n            file.result = result\n          }\n\n          done(error, file)\n        }\n      })\n\n      /**\n       * @param {Error|null|undefined} [error]\n       * @param {VFile|undefined} [file]\n       * @returns {void}\n       */\n      function done(error, file) {\n        if (error || !file) {\n          reject(error)\n        } else if (resolve) {\n          resolve(file)\n        } else {\n          // @ts-expect-error: `callback` is defined if `resolve` is not.\n          callback(null, file)\n        }\n      }\n    }\n  }\n\n  /** @type {Processor['processSync']} */\n  function processSync(doc) {\n    /** @type {boolean|undefined} */\n    let complete\n\n    processor.freeze()\n    assertParser('processSync', processor.Parser)\n    assertCompiler('processSync', processor.Compiler)\n\n    const file = vfile(doc)\n\n    processor.process(file, done)\n\n    assertDone('processSync', 'process', complete)\n\n    return file\n\n    /**\n     * @param {Error|null|undefined} [error]\n     * @returns {void}\n     */\n    function done(error) {\n      complete = true\n      bail(error)\n    }\n  }\n}\n\n/**\n * Check if `value` is a constructor.\n *\n * @param {unknown} value\n * @param {string} name\n * @returns {boolean}\n */\nfunction newable(value, name) {\n  return (\n    typeof value === 'function' &&\n    // Prototypes do exist.\n    // type-coverage:ignore-next-line\n    value.prototype &&\n    // A function with keys in its prototype is probably a constructor.\n    // Classes prototype methods are not enumerable, so we check if some value\n    // exists in the prototype.\n    // type-coverage:ignore-next-line\n    (keys(value.prototype) || name in value.prototype)\n  )\n}\n\n/**\n * Check if `value` is an object with keys.\n *\n * @param {Record<string, unknown>} value\n * @returns {boolean}\n */\nfunction keys(value) {\n  /** @type {string} */\n  let key\n\n  for (key in value) {\n    if (own.call(value, key)) {\n      return true\n    }\n  }\n\n  return false\n}\n\n/**\n * Assert a parser is available.\n *\n * @param {string} name\n * @param {unknown} value\n * @returns {asserts value is Parser}\n */\nfunction assertParser(name, value) {\n  if (typeof value !== 'function') {\n    throw new TypeError('Cannot `' + name + '` without `Parser`')\n  }\n}\n\n/**\n * Assert a compiler is available.\n *\n * @param {string} name\n * @param {unknown} value\n * @returns {asserts value is Compiler}\n */\nfunction assertCompiler(name, value) {\n  if (typeof value !== 'function') {\n    throw new TypeError('Cannot `' + name + '` without `Compiler`')\n  }\n}\n\n/**\n * Assert the processor is not frozen.\n *\n * @param {string} name\n * @param {unknown} frozen\n * @returns {asserts frozen is false}\n */\nfunction assertUnfrozen(name, frozen) {\n  if (frozen) {\n    throw new Error(\n      'Cannot call `' +\n        name +\n        '` on a frozen processor.\\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.'\n    )\n  }\n}\n\n/**\n * Assert `node` is a unist node.\n *\n * @param {unknown} node\n * @returns {asserts node is Node}\n */\nfunction assertNode(node) {\n  // `isPlainObj` unfortunately uses `any` instead of `unknown`.\n  // type-coverage:ignore-next-line\n  if (!isPlainObj(node) || typeof node.type !== 'string') {\n    throw new TypeError('Expected node, got `' + node + '`')\n    // Fine.\n  }\n}\n\n/**\n * Assert that `complete` is `true`.\n *\n * @param {string} name\n * @param {string} asyncName\n * @param {unknown} complete\n * @returns {asserts complete is true}\n */\nfunction assertDone(name, asyncName, complete) {\n  if (!complete) {\n    throw new Error(\n      '`' + name + '` finished async. Use `' + asyncName + '` instead'\n    )\n  }\n}\n\n/**\n * @param {VFileCompatible} [value]\n * @returns {VFile}\n */\nfunction vfile(value) {\n  return looksLikeAVFile(value) ? value : new VFile(value)\n}\n\n/**\n * @param {VFileCompatible} [value]\n * @returns {value is VFile}\n */\nfunction looksLikeAVFile(value) {\n  return Boolean(\n    value &&\n      typeof value === 'object' &&\n      'message' in value &&\n      'messages' in value\n  )\n}\n\n/**\n * @param {unknown} [value]\n * @returns {value is VFileValue}\n */\nfunction looksLikeAVFileValue(value) {\n  return typeof value === 'string' || isBuffer(value)\n}\n","// To do: remove `void`s\n// To do: remove `null` from output of our APIs, allow it as user APIs.\n\n/**\n * @typedef {(error?: Error | null | undefined, ...output: Array<any>) => void} Callback\n *   Callback.\n *\n * @typedef {(...input: Array<any>) => any} Middleware\n *   Ware.\n *\n * @typedef Pipeline\n *   Pipeline.\n * @property {Run} run\n *   Run the pipeline.\n * @property {Use} use\n *   Add middleware.\n *\n * @typedef {(...input: Array<any>) => void} Run\n *   Call all middleware.\n *\n *   Calls `done` on completion with either an error or the output of the\n *   last middleware.\n *\n *   >  **Note**: as the length of input defines whether async functions get a\n *   > `next` function,\n *   > its recommended to keep `input` at one value normally.\n\n *\n * @typedef {(fn: Middleware) => Pipeline} Use\n *   Add middleware.\n */\n\n/**\n * Create new middleware.\n *\n * @returns {Pipeline}\n *   Pipeline.\n */\nexport function trough() {\n  /** @type {Array<Middleware>} */\n  const fns = []\n  /** @type {Pipeline} */\n  const pipeline = {run, use}\n\n  return pipeline\n\n  /** @type {Run} */\n  function run(...values) {\n    let middlewareIndex = -1\n    /** @type {Callback} */\n    const callback = values.pop()\n\n    if (typeof callback !== 'function') {\n      throw new TypeError('Expected function as last argument, not ' + callback)\n    }\n\n    next(null, ...values)\n\n    /**\n     * Run the next `fn`, or were done.\n     *\n     * @param {Error | null | undefined} error\n     * @param {Array<any>} output\n     */\n    function next(error, ...output) {\n      const fn = fns[++middlewareIndex]\n      let index = -1\n\n      if (error) {\n        callback(error)\n        return\n      }\n\n      // Copy non-nullish input into values.\n      while (++index < values.length) {\n        if (output[index] === null || output[index] === undefined) {\n          output[index] = values[index]\n        }\n      }\n\n      // Save the newly created `output` for the next call.\n      values = output\n\n      // Next or done.\n      if (fn) {\n        wrap(fn, next)(...output)\n      } else {\n        callback(null, ...output)\n      }\n    }\n  }\n\n  /** @type {Use} */\n  function use(middelware) {\n    if (typeof middelware !== 'function') {\n      throw new TypeError(\n        'Expected `middelware` to be a function, not ' + middelware\n      )\n    }\n\n    fns.push(middelware)\n    return pipeline\n  }\n}\n\n/**\n * Wrap `middleware` into a uniform interface.\n *\n * You can pass all input to the resulting function.\n * `callback` is then called with the output of `middleware`.\n *\n * If `middleware` accepts more arguments than the later given in input,\n * an extra `done` function is passed to it after that input,\n * which must be called by `middleware`.\n *\n * The first value in `input` is the main input value.\n * All other input values are the rest input values.\n * The values given to `callback` are the input values,\n * merged with every non-nullish output value.\n *\n * * if `middleware` throws an error,\n *   returns a promise that is rejected,\n *   or calls the given `done` function with an error,\n *   `callback` is called with that error\n * * if `middleware` returns a value or returns a promise that is resolved,\n *   that value is the main output value\n * * if `middleware` calls `done`,\n *   all non-nullish values except for the first one (the error) overwrite the\n *   output values\n *\n * @param {Middleware} middleware\n *   Function to wrap.\n * @param {Callback} callback\n *   Callback called with the output of `middleware`.\n * @returns {Run}\n *   Wrapped middleware.\n */\nexport function wrap(middleware, callback) {\n  /** @type {boolean} */\n  let called\n\n  return wrapped\n\n  /**\n   * Call `middleware`.\n   * @this {any}\n   * @param {Array<any>} parameters\n   * @returns {void}\n   */\n  function wrapped(...parameters) {\n    const fnExpectsCallback = middleware.length > parameters.length\n    /** @type {any} */\n    let result\n\n    if (fnExpectsCallback) {\n      parameters.push(done)\n    }\n\n    try {\n      result = middleware.apply(this, parameters)\n    } catch (error) {\n      const exception = /** @type {Error} */ (error)\n\n      // Well, this is quite the pickle.\n      // `middleware` received a callback and called it synchronously, but that\n      // threw an error.\n      // The only thing left to do is to throw the thing instead.\n      if (fnExpectsCallback && called) {\n        throw exception\n      }\n\n      return done(exception)\n    }\n\n    if (!fnExpectsCallback) {\n      if (result && result.then && typeof result.then === 'function') {\n        result.then(then, done)\n      } else if (result instanceof Error) {\n        done(result)\n      } else {\n        then(result)\n      }\n    }\n  }\n\n  /**\n   * Call `callback`, only once.\n   *\n   * @type {Callback}\n   */\n  function done(error, ...output) {\n    if (!called) {\n      called = true\n      callback(error, ...output)\n    }\n  }\n\n  /**\n   * Call `done` with one value.\n   *\n   * @param {any} [value]\n   */\n  function then(value) {\n    done(null, value)\n  }\n}\n","/**\n * @typedef {import('unist').Node} Node\n * @typedef {import('unist').Position} Position\n * @typedef {import('unist').Point} Point\n * @typedef {object & {type: string, position?: Position | undefined}} NodeLike\n */\n\nimport {stringifyPosition} from 'unist-util-stringify-position'\n\n/**\n * Message.\n */\nexport class VFileMessage extends Error {\n  /**\n   * Create a message for `reason` at `place` from `origin`.\n   *\n   * When an error is passed in as `reason`, the `stack` is copied.\n   *\n   * @param {string | Error | VFileMessage} reason\n   *   Reason for message, uses the stack and message of the error if given.\n   *\n   *   >  **Note**: you should use markdown.\n   * @param {Node | NodeLike | Position | Point | null | undefined} [place]\n   *   Place in file where the message occurred.\n   * @param {string | null | undefined} [origin]\n   *   Place in code where the message originates (example:\n   *   `'my-package:my-rule'` or `'my-rule'`).\n   * @returns\n   *   Instance of `VFileMessage`.\n   */\n  // To do: next major: expose `undefined` everywhere instead of `null`.\n  constructor(reason, place, origin) {\n    /** @type {[string | null, string | null]} */\n    const parts = [null, null]\n    /** @type {Position} */\n    let position = {\n      // @ts-expect-error: we always follows the structure of `position`.\n      start: {line: null, column: null},\n      // @ts-expect-error: \"\n      end: {line: null, column: null}\n    }\n\n    super()\n\n    if (typeof place === 'string') {\n      origin = place\n      place = undefined\n    }\n\n    if (typeof origin === 'string') {\n      const index = origin.indexOf(':')\n\n      if (index === -1) {\n        parts[1] = origin\n      } else {\n        parts[0] = origin.slice(0, index)\n        parts[1] = origin.slice(index + 1)\n      }\n    }\n\n    if (place) {\n      // Node.\n      if ('type' in place || 'position' in place) {\n        if (place.position) {\n          // To do: next major: deep clone.\n          // @ts-expect-error: looks like a position.\n          position = place.position\n        }\n      }\n      // Position.\n      else if ('start' in place || 'end' in place) {\n        // @ts-expect-error: looks like a position.\n        // To do: next major: deep clone.\n        position = place\n      }\n      // Point.\n      else if ('line' in place || 'column' in place) {\n        // To do: next major: deep clone.\n        position.start = place\n      }\n    }\n\n    // Fields from `Error`.\n    /**\n     * Serialized positional info of error.\n     *\n     * On normal errors, this would be something like `ParseError`, buit in\n     * `VFile` messages we use this space to show where an error happened.\n     */\n    this.name = stringifyPosition(place) || '1:1'\n\n    /**\n     * Reason for message.\n     *\n     * @type {string}\n     */\n    this.message = typeof reason === 'object' ? reason.message : reason\n\n    /**\n     * Stack of message.\n     *\n     * This is used by normal errors to show where something happened in\n     * programming code, irrelevant for `VFile` messages,\n     *\n     * @type {string}\n     */\n    this.stack = ''\n\n    if (typeof reason === 'object' && reason.stack) {\n      this.stack = reason.stack\n    }\n\n    /**\n     * Reason for message.\n     *\n     * >  **Note**: you should use markdown.\n     *\n     * @type {string}\n     */\n    this.reason = this.message\n\n    /* eslint-disable no-unused-expressions */\n    /**\n     * State of problem.\n     *\n     * * `true`  marks associated file as no longer processable (error)\n     * * `false`  necessitates a (potential) change (warning)\n     * * `null | undefined`  for things that might not need changing (info)\n     *\n     * @type {boolean | null | undefined}\n     */\n    this.fatal\n\n    /**\n     * Starting line of error.\n     *\n     * @type {number | null}\n     */\n    this.line = position.start.line\n\n    /**\n     * Starting column of error.\n     *\n     * @type {number | null}\n     */\n    this.column = position.start.column\n\n    /**\n     * Full unist position.\n     *\n     * @type {Position | null}\n     */\n    this.position = position\n\n    /**\n     * Namespace of message (example: `'my-package'`).\n     *\n     * @type {string | null}\n     */\n    this.source = parts[0]\n\n    /**\n     * Category of message (example: `'my-rule'`).\n     *\n     * @type {string | null}\n     */\n    this.ruleId = parts[1]\n\n    /**\n     * Path of a file (used throughout the `VFile` ecosystem).\n     *\n     * @type {string | null}\n     */\n    this.file\n\n    // The following fields are well known.\n    // Not standard.\n    // Feel free to add other non-standard fields to your messages.\n\n    /**\n     * Specify the source value thats being reported, which is deemed\n     * incorrect.\n     *\n     * @type {string | null}\n     */\n    this.actual\n\n    /**\n     * Suggest acceptable values that can be used instead of `actual`.\n     *\n     * @type {Array<string> | null}\n     */\n    this.expected\n\n    /**\n     * Link to docs for the message.\n     *\n     * >  **Note**: this must be an absolute URL that can be passed as `x`\n     * > to `new URL(x)`.\n     *\n     * @type {string | null}\n     */\n    this.url\n\n    /**\n     * Long form description of the message (you should use markdown).\n     *\n     * @type {string | null}\n     */\n    this.note\n    /* eslint-enable no-unused-expressions */\n  }\n}\n\nVFileMessage.prototype.file = ''\nVFileMessage.prototype.name = ''\nVFileMessage.prototype.reason = ''\nVFileMessage.prototype.message = ''\nVFileMessage.prototype.stack = ''\nVFileMessage.prototype.fatal = null\nVFileMessage.prototype.column = null\nVFileMessage.prototype.line = null\nVFileMessage.prototype.source = null\nVFileMessage.prototype.ruleId = null\nVFileMessage.prototype.position = null\n","// A derivative work based on:\n// <https://github.com/browserify/path-browserify>.\n// Which is licensed:\n//\n// MIT License\n//\n// Copyright (c) 2013 James Halliday\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy of\n// this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to\n// use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\n// the Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in all\n// copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\n// FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\n// COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\n// IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n// CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n// A derivative work based on:\n//\n// Parts of that are extracted from Nodes internal `path` module:\n// <https://github.com/nodejs/node/blob/master/lib/path.js>.\n// Which is licensed:\n//\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nexport const path = {basename, dirname, extname, join, sep: '/'}\n\n/* eslint-disable max-depth, complexity */\n\n/**\n * Get the basename from a path.\n *\n * @param {string} path\n *   File path.\n * @param {string | undefined} [ext]\n *   Extension to strip.\n * @returns {string}\n *   Stem or basename.\n */\nfunction basename(path, ext) {\n  if (ext !== undefined && typeof ext !== 'string') {\n    throw new TypeError('\"ext\" argument must be a string')\n  }\n\n  assertPath(path)\n  let start = 0\n  let end = -1\n  let index = path.length\n  /** @type {boolean | undefined} */\n  let seenNonSlash\n\n  if (ext === undefined || ext.length === 0 || ext.length > path.length) {\n    while (index--) {\n      if (path.charCodeAt(index) === 47 /* `/` */) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now.\n        if (seenNonSlash) {\n          start = index + 1\n          break\n        }\n      } else if (end < 0) {\n        // We saw the first non-path separator, mark this as the end of our\n        // path component.\n        seenNonSlash = true\n        end = index + 1\n      }\n    }\n\n    return end < 0 ? '' : path.slice(start, end)\n  }\n\n  if (ext === path) {\n    return ''\n  }\n\n  let firstNonSlashEnd = -1\n  let extIndex = ext.length - 1\n\n  while (index--) {\n    if (path.charCodeAt(index) === 47 /* `/` */) {\n      // If we reached a path separator that was not part of a set of path\n      // separators at the end of the string, stop now.\n      if (seenNonSlash) {\n        start = index + 1\n        break\n      }\n    } else {\n      if (firstNonSlashEnd < 0) {\n        // We saw the first non-path separator, remember this index in case\n        // we need it if the extension ends up not matching.\n        seenNonSlash = true\n        firstNonSlashEnd = index + 1\n      }\n\n      if (extIndex > -1) {\n        // Try to match the explicit extension.\n        if (path.charCodeAt(index) === ext.charCodeAt(extIndex--)) {\n          if (extIndex < 0) {\n            // We matched the extension, so mark this as the end of our path\n            // component\n            end = index\n          }\n        } else {\n          // Extension does not match, so our result is the entire path\n          // component\n          extIndex = -1\n          end = firstNonSlashEnd\n        }\n      }\n    }\n  }\n\n  if (start === end) {\n    end = firstNonSlashEnd\n  } else if (end < 0) {\n    end = path.length\n  }\n\n  return path.slice(start, end)\n}\n\n/**\n * Get the dirname from a path.\n *\n * @param {string} path\n *   File path.\n * @returns {string}\n *   File path.\n */\nfunction dirname(path) {\n  assertPath(path)\n\n  if (path.length === 0) {\n    return '.'\n  }\n\n  let end = -1\n  let index = path.length\n  /** @type {boolean | undefined} */\n  let unmatchedSlash\n\n  // Prefix `--` is important to not run on `0`.\n  while (--index) {\n    if (path.charCodeAt(index) === 47 /* `/` */) {\n      if (unmatchedSlash) {\n        end = index\n        break\n      }\n    } else if (!unmatchedSlash) {\n      // We saw the first non-path separator\n      unmatchedSlash = true\n    }\n  }\n\n  return end < 0\n    ? path.charCodeAt(0) === 47 /* `/` */\n      ? '/'\n      : '.'\n    : end === 1 && path.charCodeAt(0) === 47 /* `/` */\n    ? '//'\n    : path.slice(0, end)\n}\n\n/**\n * Get an extname from a path.\n *\n * @param {string} path\n *   File path.\n * @returns {string}\n *   Extname.\n */\nfunction extname(path) {\n  assertPath(path)\n\n  let index = path.length\n\n  let end = -1\n  let startPart = 0\n  let startDot = -1\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find.\n  let preDotState = 0\n  /** @type {boolean | undefined} */\n  let unmatchedSlash\n\n  while (index--) {\n    const code = path.charCodeAt(index)\n\n    if (code === 47 /* `/` */) {\n      // If we reached a path separator that was not part of a set of path\n      // separators at the end of the string, stop now.\n      if (unmatchedSlash) {\n        startPart = index + 1\n        break\n      }\n\n      continue\n    }\n\n    if (end < 0) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension.\n      unmatchedSlash = true\n      end = index + 1\n    }\n\n    if (code === 46 /* `.` */) {\n      // If this is our first dot, mark it as the start of our extension.\n      if (startDot < 0) {\n        startDot = index\n      } else if (preDotState !== 1) {\n        preDotState = 1\n      }\n    } else if (startDot > -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension.\n      preDotState = -1\n    }\n  }\n\n  if (\n    startDot < 0 ||\n    end < 0 ||\n    // We saw a non-dot character immediately before the dot.\n    preDotState === 0 ||\n    // The (right-most) trimmed path component is exactly `..`.\n    (preDotState === 1 && startDot === end - 1 && startDot === startPart + 1)\n  ) {\n    return ''\n  }\n\n  return path.slice(startDot, end)\n}\n\n/**\n * Join segments from a path.\n *\n * @param {Array<string>} segments\n *   Path segments.\n * @returns {string}\n *   File path.\n */\nfunction join(...segments) {\n  let index = -1\n  /** @type {string | undefined} */\n  let joined\n\n  while (++index < segments.length) {\n    assertPath(segments[index])\n\n    if (segments[index]) {\n      joined =\n        joined === undefined ? segments[index] : joined + '/' + segments[index]\n    }\n  }\n\n  return joined === undefined ? '.' : normalize(joined)\n}\n\n/**\n * Normalize a basic file path.\n *\n * @param {string} path\n *   File path.\n * @returns {string}\n *   File path.\n */\n// Note: `normalize` is not exposed as `path.normalize`, so some code is\n// manually removed from it.\nfunction normalize(path) {\n  assertPath(path)\n\n  const absolute = path.charCodeAt(0) === 47 /* `/` */\n\n  // Normalize the path according to POSIX rules.\n  let value = normalizeString(path, !absolute)\n\n  if (value.length === 0 && !absolute) {\n    value = '.'\n  }\n\n  if (value.length > 0 && path.charCodeAt(path.length - 1) === 47 /* / */) {\n    value += '/'\n  }\n\n  return absolute ? '/' + value : value\n}\n\n/**\n * Resolve `.` and `..` elements in a path with directory names.\n *\n * @param {string} path\n *   File path.\n * @param {boolean} allowAboveRoot\n *   Whether `..` can move above root.\n * @returns {string}\n *   File path.\n */\nfunction normalizeString(path, allowAboveRoot) {\n  let result = ''\n  let lastSegmentLength = 0\n  let lastSlash = -1\n  let dots = 0\n  let index = -1\n  /** @type {number | undefined} */\n  let code\n  /** @type {number} */\n  let lastSlashIndex\n\n  while (++index <= path.length) {\n    if (index < path.length) {\n      code = path.charCodeAt(index)\n    } else if (code === 47 /* `/` */) {\n      break\n    } else {\n      code = 47 /* `/` */\n    }\n\n    if (code === 47 /* `/` */) {\n      if (lastSlash === index - 1 || dots === 1) {\n        // Empty.\n      } else if (lastSlash !== index - 1 && dots === 2) {\n        if (\n          result.length < 2 ||\n          lastSegmentLength !== 2 ||\n          result.charCodeAt(result.length - 1) !== 46 /* `.` */ ||\n          result.charCodeAt(result.length - 2) !== 46 /* `.` */\n        ) {\n          if (result.length > 2) {\n            lastSlashIndex = result.lastIndexOf('/')\n\n            if (lastSlashIndex !== result.length - 1) {\n              if (lastSlashIndex < 0) {\n                result = ''\n                lastSegmentLength = 0\n              } else {\n                result = result.slice(0, lastSlashIndex)\n                lastSegmentLength = result.length - 1 - result.lastIndexOf('/')\n              }\n\n              lastSlash = index\n              dots = 0\n              continue\n            }\n          } else if (result.length > 0) {\n            result = ''\n            lastSegmentLength = 0\n            lastSlash = index\n            dots = 0\n            continue\n          }\n        }\n\n        if (allowAboveRoot) {\n          result = result.length > 0 ? result + '/..' : '..'\n          lastSegmentLength = 2\n        }\n      } else {\n        if (result.length > 0) {\n          result += '/' + path.slice(lastSlash + 1, index)\n        } else {\n          result = path.slice(lastSlash + 1, index)\n        }\n\n        lastSegmentLength = index - lastSlash - 1\n      }\n\n      lastSlash = index\n      dots = 0\n    } else if (code === 46 /* `.` */ && dots > -1) {\n      dots++\n    } else {\n      dots = -1\n    }\n  }\n\n  return result\n}\n\n/**\n * Make sure `path` is a string.\n *\n * @param {string} path\n *   File path.\n * @returns {asserts path is string}\n *   Nothing.\n */\nfunction assertPath(path) {\n  if (typeof path !== 'string') {\n    throw new TypeError(\n      'Path must be a string. Received ' + JSON.stringify(path)\n    )\n  }\n}\n\n/* eslint-enable max-depth, complexity */\n","// Somewhat based on:\n// <https://github.com/defunctzombie/node-process/blob/master/browser.js>.\n// But I dont think one tiny line of code can be copyrighted. \nexport const proc = {cwd}\n\nfunction cwd() {\n  return '/'\n}\n","/**\n * @typedef URL\n * @property {string} hash\n * @property {string} host\n * @property {string} hostname\n * @property {string} href\n * @property {string} origin\n * @property {string} password\n * @property {string} pathname\n * @property {string} port\n * @property {string} protocol\n * @property {string} search\n * @property {any} searchParams\n * @property {string} username\n * @property {() => string} toString\n * @property {() => string} toJSON\n */\n\n/**\n * Check if `fileUrlOrPath` looks like a URL.\n *\n * @param {unknown} fileUrlOrPath\n *   File path or URL.\n * @returns {fileUrlOrPath is URL}\n *   Whether its a URL.\n */\n// From: <https://github.com/nodejs/node/blob/fcf8ba4/lib/internal/url.js#L1501>\nexport function isUrl(fileUrlOrPath) {\n  return (\n    fileUrlOrPath !== null &&\n    typeof fileUrlOrPath === 'object' &&\n    // @ts-expect-error: indexable.\n    fileUrlOrPath.href &&\n    // @ts-expect-error: indexable.\n    fileUrlOrPath.origin\n  )\n}\n","/**\n * @typedef {import('unist').Node} Node\n * @typedef {import('unist').Position} Position\n * @typedef {import('unist').Point} Point\n * @typedef {import('./minurl.shared.js').URL} URL\n * @typedef {import('../index.js').Data} Data\n * @typedef {import('../index.js').Value} Value\n */\n\n/**\n * @typedef {Record<string, unknown> & {type: string, position?: Position | undefined}} NodeLike\n *\n * @typedef {'ascii' | 'utf8' | 'utf-8' | 'utf16le' | 'ucs2' | 'ucs-2' | 'base64' | 'base64url' | 'latin1' | 'binary' | 'hex'} BufferEncoding\n *   Encodings supported by the buffer class.\n *\n *   This is a copy of the types from Node, copied to prevent Node globals from\n *   being needed.\n *   Copied from: <https://github.com/DefinitelyTyped/DefinitelyTyped/blob/90a4ec8/types/node/buffer.d.ts#L170>\n *\n * @typedef {Options | URL | Value | VFile} Compatible\n *   Things that can be passed to the constructor.\n *\n * @typedef VFileCoreOptions\n *   Set multiple values.\n * @property {Value | null | undefined} [value]\n *   Set `value`.\n * @property {string | null | undefined} [cwd]\n *   Set `cwd`.\n * @property {Array<string> | null | undefined} [history]\n *   Set `history`.\n * @property {URL | string | null | undefined} [path]\n *   Set `path`.\n * @property {string | null | undefined} [basename]\n *   Set `basename`.\n * @property {string | null | undefined} [stem]\n *   Set `stem`.\n * @property {string | null | undefined} [extname]\n *   Set `extname`.\n * @property {string | null | undefined} [dirname]\n *   Set `dirname`.\n * @property {Data | null | undefined} [data]\n *   Set `data`.\n *\n * @typedef Map\n *   Raw source map.\n *\n *   See:\n *   <https://github.com/mozilla/source-map/blob/58819f0/source-map.d.ts#L15-L23>.\n * @property {number} version\n *   Which version of the source map spec this map is following.\n * @property {Array<string>} sources\n *   An array of URLs to the original source files.\n * @property {Array<string>} names\n *   An array of identifiers which can be referenced by individual mappings.\n * @property {string | undefined} [sourceRoot]\n *   The URL root from which all sources are relative.\n * @property {Array<string> | undefined} [sourcesContent]\n *   An array of contents of the original source files.\n * @property {string} mappings\n *   A string of base64 VLQs which contain the actual mappings.\n * @property {string} file\n *   The generated file this source map is associated with.\n *\n * @typedef {{[key: string]: unknown} & VFileCoreOptions} Options\n *   Configuration.\n *\n *   A bunch of keys that will be shallow copied over to the new file.\n *\n * @typedef {Record<string, unknown>} ReporterSettings\n *   Configuration for reporters.\n */\n\n/**\n * @template {ReporterSettings} Settings\n *   Options type.\n * @callback Reporter\n *   Type for a reporter.\n * @param {Array<VFile>} files\n *   Files to report.\n * @param {Settings} options\n *   Configuration.\n * @returns {string}\n *   Report.\n */\n\nimport bufferLike from 'is-buffer'\nimport {VFileMessage} from 'vfile-message'\nimport {path} from './minpath.js'\nimport {proc} from './minproc.js'\nimport {urlToPath, isUrl} from './minurl.js'\n\n/**\n * Order of setting (least specific to most), we need this because otherwise\n * `{stem: 'a', path: '~/b.js'}` would throw, as a path is needed before a\n * stem can be set.\n *\n * @type {Array<'basename' | 'dirname' | 'extname' | 'history' | 'path' | 'stem'>}\n */\nconst order = ['history', 'path', 'basename', 'stem', 'extname', 'dirname']\n\nexport class VFile {\n  /**\n   * Create a new virtual file.\n   *\n   * `options` is treated as:\n   *\n   * *   `string` or `Buffer`  `{value: options}`\n   * *   `URL`  `{path: options}`\n   * *   `VFile`  shallow copies its data over to the new file\n   * *   `object`  all fields are shallow copied over to the new file\n   *\n   * Path related fields are set in the following order (least specific to\n   * most specific): `history`, `path`, `basename`, `stem`, `extname`,\n   * `dirname`.\n   *\n   * You cannot set `dirname` or `extname` without setting either `history`,\n   * `path`, `basename`, or `stem` too.\n   *\n   * @param {Compatible | null | undefined} [value]\n   *   File value.\n   * @returns\n   *   New instance.\n   */\n  constructor(value) {\n    /** @type {Options | VFile} */\n    let options\n\n    if (!value) {\n      options = {}\n    } else if (typeof value === 'string' || buffer(value)) {\n      options = {value}\n    } else if (isUrl(value)) {\n      options = {path: value}\n    } else {\n      options = value\n    }\n\n    /**\n     * Place to store custom information (default: `{}`).\n     *\n     * Its OK to store custom data directly on the file but moving it to\n     * `data` is recommended.\n     *\n     * @type {Data}\n     */\n    this.data = {}\n\n    /**\n     * List of messages associated with the file.\n     *\n     * @type {Array<VFileMessage>}\n     */\n    this.messages = []\n\n    /**\n     * List of filepaths the file moved between.\n     *\n     * The first is the original path and the last is the current path.\n     *\n     * @type {Array<string>}\n     */\n    this.history = []\n\n    /**\n     * Base of `path` (default: `process.cwd()` or `'/'` in browsers).\n     *\n     * @type {string}\n     */\n    this.cwd = proc.cwd()\n\n    /* eslint-disable no-unused-expressions */\n    /**\n     * Raw value.\n     *\n     * @type {Value}\n     */\n    this.value\n\n    // The below are non-standard, they are well-known.\n    // As in, used in several tools.\n\n    /**\n     * Whether a file was saved to disk.\n     *\n     * This is used by vfile reporters.\n     *\n     * @type {boolean}\n     */\n    this.stored\n\n    /**\n     * Custom, non-string, compiled, representation.\n     *\n     * This is used by unified to store non-string results.\n     * One example is when turning markdown into React nodes.\n     *\n     * @type {unknown}\n     */\n    this.result\n\n    /**\n     * Source map.\n     *\n     * This type is equivalent to the `RawSourceMap` type from the `source-map`\n     * module.\n     *\n     * @type {Map | null | undefined}\n     */\n    this.map\n    /* eslint-enable no-unused-expressions */\n\n    // Set path related properties in the correct order.\n    let index = -1\n\n    while (++index < order.length) {\n      const prop = order[index]\n\n      // Note: we specifically use `in` instead of `hasOwnProperty` to accept\n      // `vfile`s too.\n      if (\n        prop in options &&\n        options[prop] !== undefined &&\n        options[prop] !== null\n      ) {\n        // @ts-expect-error: TS doesnt understand basic reality.\n        this[prop] = prop === 'history' ? [...options[prop]] : options[prop]\n      }\n    }\n\n    /** @type {string} */\n    let prop\n\n    // Set non-path related properties.\n    for (prop in options) {\n      // @ts-expect-error: fine to set other things.\n      if (!order.includes(prop)) {\n        // @ts-expect-error: fine to set other things.\n        this[prop] = options[prop]\n      }\n    }\n  }\n\n  /**\n   * Get the full path (example: `'~/index.min.js'`).\n   *\n   * @returns {string}\n   */\n  get path() {\n    return this.history[this.history.length - 1]\n  }\n\n  /**\n   * Set the full path (example: `'~/index.min.js'`).\n   *\n   * Cannot be nullified.\n   * You can set a file URL (a `URL` object with a `file:` protocol) which will\n   * be turned into a path with `url.fileURLToPath`.\n   *\n   * @param {string | URL} path\n   */\n  set path(path) {\n    if (isUrl(path)) {\n      path = urlToPath(path)\n    }\n\n    assertNonEmpty(path, 'path')\n\n    if (this.path !== path) {\n      this.history.push(path)\n    }\n  }\n\n  /**\n   * Get the parent path (example: `'~'`).\n   */\n  get dirname() {\n    return typeof this.path === 'string' ? path.dirname(this.path) : undefined\n  }\n\n  /**\n   * Set the parent path (example: `'~'`).\n   *\n   * Cannot be set if theres no `path` yet.\n   */\n  set dirname(dirname) {\n    assertPath(this.basename, 'dirname')\n    this.path = path.join(dirname || '', this.basename)\n  }\n\n  /**\n   * Get the basename (including extname) (example: `'index.min.js'`).\n   */\n  get basename() {\n    return typeof this.path === 'string' ? path.basename(this.path) : undefined\n  }\n\n  /**\n   * Set basename (including extname) (`'index.min.js'`).\n   *\n   * Cannot contain path separators (`'/'` on unix, macOS, and browsers, `'\\'`\n   * on windows).\n   * Cannot be nullified (use `file.path = file.dirname` instead).\n   */\n  set basename(basename) {\n    assertNonEmpty(basename, 'basename')\n    assertPart(basename, 'basename')\n    this.path = path.join(this.dirname || '', basename)\n  }\n\n  /**\n   * Get the extname (including dot) (example: `'.js'`).\n   */\n  get extname() {\n    return typeof this.path === 'string' ? path.extname(this.path) : undefined\n  }\n\n  /**\n   * Set the extname (including dot) (example: `'.js'`).\n   *\n   * Cannot contain path separators (`'/'` on unix, macOS, and browsers, `'\\'`\n   * on windows).\n   * Cannot be set if theres no `path` yet.\n   */\n  set extname(extname) {\n    assertPart(extname, 'extname')\n    assertPath(this.dirname, 'extname')\n\n    if (extname) {\n      if (extname.charCodeAt(0) !== 46 /* `.` */) {\n        throw new Error('`extname` must start with `.`')\n      }\n\n      if (extname.includes('.', 1)) {\n        throw new Error('`extname` cannot contain multiple dots')\n      }\n    }\n\n    this.path = path.join(this.dirname, this.stem + (extname || ''))\n  }\n\n  /**\n   * Get the stem (basename w/o extname) (example: `'index.min'`).\n   */\n  get stem() {\n    return typeof this.path === 'string'\n      ? path.basename(this.path, this.extname)\n      : undefined\n  }\n\n  /**\n   * Set the stem (basename w/o extname) (example: `'index.min'`).\n   *\n   * Cannot contain path separators (`'/'` on unix, macOS, and browsers, `'\\'`\n   * on windows).\n   * Cannot be nullified (use `file.path = file.dirname` instead).\n   */\n  set stem(stem) {\n    assertNonEmpty(stem, 'stem')\n    assertPart(stem, 'stem')\n    this.path = path.join(this.dirname || '', stem + (this.extname || ''))\n  }\n\n  /**\n   * Serialize the file.\n   *\n   * @param {BufferEncoding | null | undefined} [encoding='utf8']\n   *   Character encoding to understand `value` as when its a `Buffer`\n   *   (default: `'utf8'`).\n   * @returns {string}\n   *   Serialized file.\n   */\n  toString(encoding) {\n    return (this.value || '').toString(encoding || undefined)\n  }\n\n  /**\n   * Create a warning message associated with the file.\n   *\n   * Its `fatal` is set to `false` and `file` is set to the current file path.\n   * Its added to `file.messages`.\n   *\n   * @param {string | Error | VFileMessage} reason\n   *   Reason for message, uses the stack and message of the error if given.\n   * @param {Node | NodeLike | Position | Point | null | undefined} [place]\n   *   Place in file where the message occurred.\n   * @param {string | null | undefined} [origin]\n   *   Place in code where the message originates (example:\n   *   `'my-package:my-rule'` or `'my-rule'`).\n   * @returns {VFileMessage}\n   *   Message.\n   */\n  message(reason, place, origin) {\n    const message = new VFileMessage(reason, place, origin)\n\n    if (this.path) {\n      message.name = this.path + ':' + message.name\n      message.file = this.path\n    }\n\n    message.fatal = false\n\n    this.messages.push(message)\n\n    return message\n  }\n\n  /**\n   * Create an info message associated with the file.\n   *\n   * Its `fatal` is set to `null` and `file` is set to the current file path.\n   * Its added to `file.messages`.\n   *\n   * @param {string | Error | VFileMessage} reason\n   *   Reason for message, uses the stack and message of the error if given.\n   * @param {Node | NodeLike | Position | Point | null | undefined} [place]\n   *   Place in file where the message occurred.\n   * @param {string | null | undefined} [origin]\n   *   Place in code where the message originates (example:\n   *   `'my-package:my-rule'` or `'my-rule'`).\n   * @returns {VFileMessage}\n   *   Message.\n   */\n  info(reason, place, origin) {\n    const message = this.message(reason, place, origin)\n\n    message.fatal = null\n\n    return message\n  }\n\n  /**\n   * Create a fatal error associated with the file.\n   *\n   * Its `fatal` is set to `true` and `file` is set to the current file path.\n   * Its added to `file.messages`.\n   *\n   * >  **Note**: a fatal error means that a file is no longer processable.\n   *\n   * @param {string | Error | VFileMessage} reason\n   *   Reason for message, uses the stack and message of the error if given.\n   * @param {Node | NodeLike | Position | Point | null | undefined} [place]\n   *   Place in file where the message occurred.\n   * @param {string | null | undefined} [origin]\n   *   Place in code where the message originates (example:\n   *   `'my-package:my-rule'` or `'my-rule'`).\n   * @returns {never}\n   *   Message.\n   * @throws {VFileMessage}\n   *   Message.\n   */\n  fail(reason, place, origin) {\n    const message = this.message(reason, place, origin)\n\n    message.fatal = true\n\n    throw message\n  }\n}\n\n/**\n * Assert that `part` is not a path (as in, does not contain `path.sep`).\n *\n * @param {string | null | undefined} part\n *   File path part.\n * @param {string} name\n *   Part name.\n * @returns {void}\n *   Nothing.\n */\nfunction assertPart(part, name) {\n  if (part && part.includes(path.sep)) {\n    throw new Error(\n      '`' + name + '` cannot be a path: did not expect `' + path.sep + '`'\n    )\n  }\n}\n\n/**\n * Assert that `part` is not empty.\n *\n * @param {string | undefined} part\n *   Thing.\n * @param {string} name\n *   Part name.\n * @returns {asserts part is string}\n *   Nothing.\n */\nfunction assertNonEmpty(part, name) {\n  if (!part) {\n    throw new Error('`' + name + '` cannot be empty')\n  }\n}\n\n/**\n * Assert `path` exists.\n *\n * @param {string | undefined} path\n *   Path.\n * @param {string} name\n *   Dependency name.\n * @returns {asserts path is string}\n *   Nothing.\n */\nfunction assertPath(path, name) {\n  if (!path) {\n    throw new Error('Setting `' + name + '` requires `path` to be set too')\n  }\n}\n\n/**\n * Assert `value` is a buffer.\n *\n * @param {unknown} value\n *   thing.\n * @returns {value is Buffer}\n *   Whether `value` is a Node.js buffer.\n */\nfunction buffer(value) {\n  return bufferLike(value)\n}\n","/// <reference lib=\"dom\" />\n\nimport {isUrl} from './minurl.shared.js'\n\n// See: <https://github.com/nodejs/node/blob/fcf8ba4/lib/internal/url.js>\n\n/**\n * @param {string | URL} path\n *   File URL.\n * @returns {string}\n *   File URL.\n */\nexport function urlToPath(path) {\n  if (typeof path === 'string') {\n    path = new URL(path)\n  } else if (!isUrl(path)) {\n    /** @type {NodeJS.ErrnoException} */\n    const error = new TypeError(\n      'The \"path\" argument must be of type string or an instance of URL. Received `' +\n        path +\n        '`'\n    )\n    error.code = 'ERR_INVALID_ARG_TYPE'\n    throw error\n  }\n\n  if (path.protocol !== 'file:') {\n    /** @type {NodeJS.ErrnoException} */\n    const error = new TypeError('The URL must be of scheme file')\n    error.code = 'ERR_INVALID_URL_SCHEME'\n    throw error\n  }\n\n  return getPathFromURLPosix(path)\n}\n\n/**\n * Get a path from a POSIX URL.\n *\n * @param {URL} url\n *   URL.\n * @returns {string}\n *   File path.\n */\nfunction getPathFromURLPosix(url) {\n  if (url.hostname !== '') {\n    /** @type {NodeJS.ErrnoException} */\n    const error = new TypeError(\n      'File URL host must be \"localhost\" or empty on darwin'\n    )\n    error.code = 'ERR_INVALID_FILE_URL_HOST'\n    throw error\n  }\n\n  const pathname = url.pathname\n  let index = -1\n\n  while (++index < pathname.length) {\n    if (\n      pathname.charCodeAt(index) === 37 /* `%` */ &&\n      pathname.charCodeAt(index + 1) === 50 /* `2` */\n    ) {\n      const third = pathname.charCodeAt(index + 2)\n      if (third === 70 /* `F` */ || third === 102 /* `f` */) {\n        /** @type {NodeJS.ErrnoException} */\n        const error = new TypeError(\n          'File URL path must not include encoded / characters'\n        )\n        error.code = 'ERR_INVALID_FILE_URL_PATH'\n        throw error\n      }\n    }\n  }\n\n  return decodeURIComponent(pathname)\n}\n\nexport {isUrl} from './minurl.shared.js'\n"],"names":["IconComponent","props","Object","hasOwn","toStr","defineProperty","gOPD","isArray","arr","Array","isPlainObject","obj","key","hasOwnConstructor","hasIsPrototypeOf","setProperty","target","options","getProperty","name","module","extend","src","copy","copyIsArray","clone","arguments","i","length","deep","parse","StyleToObject","style","iterator","declaration","property","value","output","declarations","hasIterator","len","sendTeaEventInBot","event","params","botID","useBotInfoStore","userInfo","userStoreService","spaceId","space_type","useSpaceStore","isPersonal","SpaceType","timestamp","Date","sendTeaEvent","transTimestampText","text","match","format","strLen","dayjs","Number","error","useSendDiffEvent","useParams","botId","sendViewDiffEvent","EVENT_NAMES","sendManualMergeEvent","isSubmit","undefined","safeJSONParse","data","JSON","e","DiffNodeRender","_node_diff_res","left","right","node","DiffStyle","TextDiffView","displayLeft","displayRight","isMultiLine","dealLineBreak","Typography","styles","_safeJSONParse","_safeJSONParse1","_node_diff_res1","type","isDiffView","visible","setVisible","useState","originText","modifyText","I18n","Modal","Divider","DiffEditor","Spin","useTermServiceModal","dataSource","handleClose","UIModal","UIButton","List","item","Image","Space","PublishTermService","termServiceData","scene","className","termServiceModal","openTermServiceModal","classNames","BotScene","DIFF_TABLE_INDENT_LENGTH","DIFF_TABLE_INDENT_BASE","AuthorizeButton","status","id","agentType","channelName","revokeSuccess","origin","authInfo","isMouseIn","isV2","v2ButtonProps","onBeforeAuthRedirect","isConfiguredOrConfiguring","ConfigStatus","handleAuth","checkAuthInfoValid","logAndToastAuthInfoError","AuthStatus","executeAuthRedirect","openRevokeAuthModal","revokeLoading","runRevoke","useRevokeAuth","closeRevokeAuthModal","revokeModal","revokeModalVisible","useUIModal","IconAlertCircle","buttonText","authButton","Button","ActionTypeEnum","DiffActionType","BotDiffView","diffData","hasError","_item_sub_nodes","BotDiffBlockTable","EmptyIcon","blockDiffData","columns","UITag","_node_diff_res2","Table","flatDataSource","NewBotDiffView","_item_sub_nodes1","index","BotSubNode","_node_sub_nodes","display_name","renderTitle","renderModify","renderView","SchemaAreaPageApi","useStepAction","_schemaPages_step_api_action","schemaPages","onNextStepSuccess","onNextStepError","step","setStep","space_id","currentAction","SERVICE_MAP","Promise","_params_connectorId","_params_assignFormValue","DeveloperApi","run","loading","useRequest","String","action","ConnectorLink","_copyLinkAreaInfo_link_list","copyLinkAreaInfo","initValue","formatUrl","url","newUrl","window","ReactMarkdown","ConnectorGuide","connectorConfigInfo","ConnectorField","formItemSchema","isReadOnly","rawInitValue","TagGroup","rawValue","enums","arrayValue","typeSafeJSONParse","_enums_find_label","option","createRules","fieldSchema","_fieldSchema_rules","_fieldSchema_title","rules","itemRules","rule","ruleMessage","_formItemSchema_title","values","logger","ArrayField","arrayFields","add","field","remove","UIFormInput","IconCozTrashCan","IconCozPlus","isMultiple","selectInitValue","Form","ConnectorForm","forwardRef","ref","_schemaAreaInfo_schema_list","_schemaAreaInfo_schema_list1","_schemaAreaInfo_schema_list2","_schemaAreaInfo_schema_list3","schemaAreaInfo","getFormDisable","setErrorMessage","formApiRef","useRef","update","useUpdate","useImperativeHandle","_formApiRef_current","useEffect","formDisabled","formApi","ConnectorError","res","_errorMessage_raw","errorMessage","isBindConnectorResponse","useConnectorFormModal","_schemaPages_step","_schemaPages_step1","_initValue_name","_schemaPages_length","onSuccess","onUnbind","formRef","propsValue","setPropsValue","setFormDisabled","assignValue","setAssignValue","bindId","_formRef_current","close","handleUnbind","UIToast","setConnectorConfigInfo","lastConnectId","formSchemaLoading","_initValue_id","Boolean","_data_schema_area_pages","bindCb","BindType","connector2Redirect","location","_data_bind_id","stepCallback","nextStepRun","resp","_resp_data_config","isApiError","unbindPlatformModal","openUnbindPlatformModal","useUnbindPlatformModal","nextBtnClick","modal","open","renderConnectorArea","copyArea","schemaArea","disable","KvBindButton","setDataSource","setSelectedPlatforms","record","bindSuccessCallback","unbindCallback","originId","bot_id","project_id","connectorFormModal","openConnectorsForm","list","_value_bind_info","l","OLD_WX_FWH_ID","handleConfigure","getBotPublishDiffReportEvent","createReportEvent","ReportEventNames","useConnectorDiffModal","_selectedRecord_name","selectedRecord","setSelectedRecord","Flags","useFlags","isUseNewTemplate","botDiffData","mutate","requestError","commit_version","result","dpManageApi","Branch","closeModal","DiffViewButton","connectorDiffModalOpen","connectorDiffModalNode","isCollaboration","useBotModeStore","s","openConnectorDiffModal","info","Tooltip","UIIconButton","IconViewDiff","onRevokeSuccess","onRevokeFinally","runAsync","_resp_data_state","state","isEmpty","CustomError","Toast","withSlardarIdButton","level","setPCBodyWithDebugPanel","bodyStyle","document","htmlStyle","STORE_CONNECTOR_ID","getPublishResult","publishResult","connectInfoList","_result_connector_share_link","_result_connector_bind_info","_publishResult_item_id","_result_publish_result_status","_result_msg","PublishResultStatus","plainFlags","getFlags","setTick","cb","featureFlagStorage","Env","ResourceType","TopoType","displayType","ToolbarItemEnum","EditorEventType","DEFAULT_ZONE","ZoneDelta","DeltaSet","deltas","md2html","md","delta2md","delta","zoneDelta","ignoreAttr","checkAndGetMarkdown","editor","normalizeSchema","input","_input_","_input_1","_input_2","Text","ToolbarButton","Plugin","LazyEditorFullInput","lazy","LazyEditorFullInputInner","BotMonetizationRefreshPeriod","MonetizePublishInfo","param","monetizeConfig","supportPlatforms","supportPlatformsText","p","cls","IconCozInfoCircle","Avatar","cozeOfficialHost","openApiHostByRegionWithToken","getOpenSDKUrl","_version","eventMeta","PremiumPaywallScene","PremiumPaywallBannerScene","voidFunc","console","usePremiumManageModal","_props","useBenefitAvailable","usePremiumPaywallModal","PremiumPaywallBanner","useIsPublishRecordReady","intelligenceId","enable","inited","setInited","_data_data_intelligences","intelligenceApi","ConnectorBindType","ConnectorClassification","ConnectorStatus","ConnectorConfigStatus","ConnectorPublishStatus","PublishRecordStatus","TEMPLATE_CONNECTOR_ID","initialStore","useProjectPublishStore","create","devtools","set","get","connectorList","selectedConnectorIds","produce","prev","showPublishResult","config","prevState","updateFn","immerProduce","publishRecordDetail","projectId","versionNumber","versionDescription","connectorPublishConfig","unions","socialPlatformChatflow","IS_DEV_MODE","PUBLISH_DRAFT_KEY","incrementVersionNumber","_match","p1","p2","p3","incrementedP3","parseInt","getFixedVersionNumber","lastPublishVersionNumber","draftVersionNumber","defaultVersionNumber","getConnectorNotConfigured","connector","bind_type","config_status","getDisabledPublish","allow_publish","notConfigured","_initPublishStore","errorHandle","draft","setProjectPublishInfo","setSelectedConnectorIds","setMonetizeConfig","_draft_selectedConnectorIds","_draft_unions","connector_list","c","initSelectedConnectors","initConnectors","publishResp","monetizeConfigResp","last_publish_info","connector_union_info_map","_publishResp_data","connector_ids","connector_publish_config","initUnions","unionId","_info_connector_options_find_connector_id","o","_draft_socialPlatformConfig_selected_workflows","lastSocialPlatformChatflow","_draft_sdkConfig_selected_workflows","_lastConfig_selected_workflows","lastConfig","fixedVersionNumber","isPublishFinish","_record_connector_publish_result_every","projectFinish","connectorsFinish","PublishContainerContext","createContext","usePublishContainer","useContext","PublishTitleBar","navigate","useNavigate","useFormApi","goBack","setShowPublishResult","connectors","setPublishRecordDetail","useShallow","publishing","setPublishing","publishHeaderHeight","setPublishHeaderHeight","getPublishRecordDetail","cancel","handlePublishProject","publishConnectors","publishConnectorConfigs","_connectorList_find","_unions_id","_connectors_connectorId","connectorId","Helmet","IconButton","IconCozArrowLeft","Banner","ListIndex","useWebSdkGuideModal","scriptTagMd","setScriptTagMd","MdBoxLazy","show","getWebSdkScriptTagMD","workflowId","version","PublishStepTitle","title","tag","color","Tag","PublishStepIcon","iconProps","IconCozClock","IconCozClockFill","IconCozCheckMarkCircle","IconCozWarningCircle","IconCozCrossCircle","ConnectorTagMap","_result_connector_publish_config_selected_workflows_","_result_connector_publish_status","showTag","onShowWebSdkGuide","tagConfig","shouldShowWebSdkGuide","CozAvatar","getMiniProgramGuideUrl","getDefaultStepProps","PackStep","_props_record_publish_status_detail","maxTagCount","setMaxTagCount","stepProps","toPackStepProps","tagGroupRef","_record_publish_status_detail_pack_failed_detail","tags","IconCozWorkflow","IconCozPlugin","useLayoutEffect","top","rowCount","tagTop","Steps","PublishStep","_record_connector_publish_result","_record_connector_publish_result1","showWebSdkGuideModal","_props_record_connector_publish_result_find_connector_bind_info","WEB_SDK_CONNECTOR_ID","getConnectorsPublishStatus","connectorResults","failedCount","publishingCount","IS_OVERSEA","ProjectPublishProgress","toAuditStepProps","PublishRecord","FLAGS","ready","IntelligenceType","useConnectorRefMap","getActiveConnectorTarget","containerScrollTop","connectorRefMap","connectorBarHeight","sortedTopList","offsetTopList","connectorTargetLis","element","cur","preActiveConnectorList","activeConnector","useConnectorScroll","activeConnectorTarget","setActiveConnectorTarget","connectorBarRef","getContainerRef","animationStateMap","setAnimationMap","manualScrollLockRef","manualScrollLock","manualScrollUnLock","manualScrollUnLockDebounce","useDebounceFn","baseUnLockDebounce","_getContainerRef","containerTarget","connectorBarTarget","changeActiveConnectorTarget","onScroll","startAnimation","classification","scrollToConnector","barTarget","connectorTarget","closeAnimation","publishAnchorDataSchema","z","publishAnchorSchema","publishAnchorService","PublishAnchorService","stringifyLocalData","localStorage","localData","validData","userId","userData","useBizConnectorAnchor","_useUserInfo","setAnchor","getAnchor","removeAnchor","useAutoScrollToConnector","connectorGroupList","_connectorRef_current","_getContainerRef_current","anchor","targetGroup","group","connectorRef","updateSelectedConnectorIds","useChatflowOptions","checkType","needsCheck","chatflowOptions","_res_data_workflow_list","workflowApi","WorkflowMode","_item_check_result_find","_item_check_result_find1","r","OptionWithTooltip","tooltip","children","optionNode","IconCozCheckMarkFill","SocialPlatformChatflow","_socialPlatformChatflow_selected_workflows_","hasSelectedSocialPlatforms","CheckType","handleSelectChatflow","FormSelect","_","_rule","selected","Error","ConnectorTabbarItem","onClick","isActive","selectedConnectorCount","Badge","ConnectorTabbar","ConnectorGroupHeader","label","tooltipContent","showTooltipInfo","isHighlight","onAnimationEnd","isAPIOrSDK","isAvailable","premiumPaywallModal","openPremiumPaywallModal","IconCozDiamondFill","isStoreBindConfigured","category_id","display_screen","union","arrays","isArrayLikeObject","UseMcpConfigModal","_data_list","_data_list1","searchVal","setSearchVal","checkedList","setCheckedList","containerRef","loadingMore","useInfiniteScroll","d","_res_data_total","_d_nextPageIndex","filterPassList","_find","indeterminate","checkAll","_connectorPublishConfig_record_id","_ids_map","ids","_item_workflow_id","find","Search","debounce","v","Checkbox","mcpOpt","EmptyState","IconCozEmpty","McpConfigBtn","UnionSelect","_connectorUnionMap_unionId_connector_options","_record_connector_union_id","connectorUnionMap","unionOptionList","unionConnectors","onSelectUnion","selectedId","IconCozArrowDown","val","WebSdkBind","_connectorPublishConfig_record_id_selected_workflows_","checked","lastSelectedChatflow","handleChatflowSelect","removePublishConfig","toDisplayScreenOption","uiOption","publicProps","UIPreviewType","templateFormToBindInfo","form","_form_covers__response_uri","_form_category","uploadCustomRequest","args","fileInstance","onProgress","onError","file","ProductApi","resolve","reject","fileReader","FileReader","_event_target","_e_total","AxiosError","uploadCustomRequestImageX","_res_data","uri","upLoadFile","progress","useProductCategoryOptions","entityType","categoryOptions","_res_data_categories","TemplatePreviewCard","cover","description","userLabel","IconCozImage","AvatarName","getRequiredRules","TemplateConfigForm","_record_UIOptions_map","_formValues_covers_","customRequest","uiChannelOptions","formValues","setFormValues","editorRef","ProductEntityType","_editorRef_current","readme","_formRef_current_formApi","isZh","FormInput","Suspense","TemplateBind","inputOnClick","modalVisible","setModalVisible","setUserInfo","templateConfigForm","savedValues","setSavedValues","fillTemplateFrom","productInfo","_productInfo_data_meta_info","_meta_covers","_meta_description","_meta_category","_info_meta_info","meta","str","_productInfo_data_meta_info1","_record_UIOptions","ProductStatus","handleSubmit","_templateConfigForm_current","StoreBind","_UIOptions_map","bind_info","UIOptions","displayScreenOptions","defaultDisplayScreen","handleSelect","ConnectorAction","_record_config_status","_record_auth_login_info","authActionWrapperClassName","stopEventPropagation","mouseEvent","isUnbind","newValue","getConfigStatus","getKvBindStatus","getDefaultStatus","couldPublish","textMap","TipTag","showText","tip","tagProps","Classes","UndoButton","inputOnclick","ConnectorCard","isConnectorAuth","isConnectorAuthConfigured","_typeSafeJSONParse","connectorInfo","onCheckedChange","bind_id","templateConfigured","divRef","isHover","useHover","disabledConfig","getConnectorDisabledConfig","_socialPlatformConfig_selected_workflows_","_connectorPublishConfig_connector_id","socialPlatformConfig","connectorConfigMap","isWebSDK","isSdkChatFlowConfigured","isStorePublish","storeConfig","cardDisabled","descriptionExtra","connectorCheckbox","isShowAction","connectorCard","textProps","getTermServiceData","PublishConnectors","useMemo","connectorGroups","formatConnectorGroups","unionMap","groups","g","unionSelection","firstId","firstConnector","unionInfo","isConnectorChecked","_c_connector_union_id","onCheckConnector","getGroupHeaderList","groupId","guideModal","showWebSdkGuide","_sdkConfig_selected_workflows__workflow_id","_sdkConnector_bind_info_sdk_version","sdkConnector","sdkConfig","isSocialPlatform","_checkVersionNum","FormVersionDescInput","withField","inputClassName","textAreaClassName","wrapperClassName","textAreaStyle","mode","setMode","textAreaRef","_props_value","valueLength","Input","TextArea","PublishBasicInfo","lastVersionNumber","checkVersionNum","CONNECTOR_TAB_BAR_Z_INDEX","PublishContainer","ProjectPublish","pageLoading","resetProjectPublishInfo","exportDraft","useErrorHandler","saveDraft","initPublishStore","loadProjectPublishDraft","PublishStatusMap","usePublishStatus","defaultRecordID","setStatus","latestRecord","setLatestRecord","recordList","setRecordList","selectedVersion","setSelectedVersion","latestRecordRequest","_record_publish_record_id","toPublishStatus","_record_connector_publish_result_some","_record_connector_publish_result_some1","projectFailed","connectorsFailed","projectPublishing","connectorsPublishing","recordListRequest","_res_data_map","hasPermission","useProjectAuth","EProjectPermission","recordDetailRequest","recordId","showingRecord","changeVersion","Select","isLocalDevMode","searchParams","URLSearchParams","PublishButton","hasPublished","latestVersion","hasPublishPermission","handlePublish","useCallback","projectRoles","useProjectRole","IconCozAnalytics","IconCozDocument","IconCozTrigger","Popover","IconCozArrowRight","___CSS_LOADER_EXPORT___","ownKeys","object","enumerableOnly","keys","symbols","sym","_objectSpread2","source","_arrayLikeToArray","arr2","curry","fn","curried","_this","_len2","_key2","_len3","nextArgs","_key3","isObject","isFunction","errorHandler","errorMessages","initial","changes","selector","handler","_handler","extractChanges","causedChanges","updateState","didStateUpdate","_handler$field","_len","_key","informAboutDeprecation","fns","x","y","f","CANCELATION_MESSAGE","promise","hasCanceled_","wrappedPromise","_state$create2","_arrayWithHoles","validators","didUpdate","validate","getChanges","_iterableToArrayLimit","Symbol","_arr","_n","_d","_e","_s","_i","err","_unsupportedIterableToArray","minLen","n","_nonIterableRest","TypeError","injectScripts","script","getMonacoLoaderScript","configureLoader","_ref2","loaderScript","_ref3","require","monaco","storeMonacoInstance","wrapperPromise","globalConfig","_validators$config","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","sourceKeys","sourceSymbolKeys","merge","_ref","makeCancelable","_ref4","$","H","t","a","m","E","k","D","h","De","te","be","we","N","P","V","F","j","A","q","M","O","T","u","w","b","I","L","U","Le","se","Map","de","Q","B","R","pe","X","G","J","Ft","stringify","settings","nativeMax","Math","array","predicate","fromIndex","toInteger","normalizeUri","start","skip","code","replace","next","encodeURIComponent","pointStart","pointEnd","point","own","clean","footnoteReference","counter","safeId","reuseCounter","link","sup","revert","subtype","suffix","contents","head","tail","listItemLoose","spread","trimLine","end","startIndex","endIndex","handlers","lang","properties","footnoteById","no","identifier","def","parent","results","loose","listLoose","paragraph","child","rows","firstRow","tableContent","body","siblings","tagName","rowIndex","align","cellIndex","cells","cell","alignValue","trimLines","search","last","lines","ignore","patch","from","to","applyData","hName","hChildren","hProperties","one","defaultUnknownHandler","nodes","wrap","toHast","tree","createState","dangerous","cache","definition","augment","ctx","foot","footer","listItems","content","referenceIndex","backReferences","backReference","tailTail","listItem","destination","bridge","Schema","normal","space","definitions","normalize","Info","attribute","powers","increment","booleanish","overloadedBoolean","number","spaceSeparated","commaSeparated","commaOrSpaceSeparated","checks","DefinedInfo","mask","mark","check","prop","xlink","xml","caseSensitiveTransform","attributes","caseInsensitiveTransform","xmlns","aria","svg","rehypeFilter","parent_","valid","dash","cap","kebab","$0","camelcase","hastToReact","tableElements","Set","childrenToReact","context","childIndex","toReact","transform","parentSchema","schema","addProperty","Type","rest","dashes","parseStyle","styleReplacer","position","component","basic","getInputElement","getElementsBeforeCount","flattenPosition","pos","whitespace","thing","count","$1","deprecated","deprecation","processor","hastNode","protocols","uriTransformer","first","colon","protocol","remarkParse","doc","bail","prototype","unified","base","frozen","transformers","trough","pipeline","middlewareIndex","callback","middleware","called","parameters","fnExpectsCallback","done","then","use","middelware","attachers","namespace","freezeIndex","assertUnfrozen","attacher","transformer","addPlugin","addList","addPreset","plugins","plugin","entry","vfile","Parser","assertParser","newable","Compiler","assertCompiler","assertNode","executor","complete","assertDone","looksLikeAVFileValue","asyncName","looksLikeAVFile","VFileMessage","reason","place","parts","path","ext","seenNonSlash","assertPath","firstNonSlashEnd","extIndex","unmatchedSlash","startPart","startDot","preDotState","segments","joined","absolute","normalizeString","allowAboveRoot","lastSlashIndex","lastSegmentLength","lastSlash","dots","isUrl","fileUrlOrPath","order","VFile","buffer","proc","urlToPath","URL","getPathFromURLPosix","pathname","third","decodeURIComponent","assertNonEmpty","dirname","basename","assertPart","extname","stem","encoding","message","part"],"mappings":"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"}