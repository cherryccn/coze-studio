/*
 * Copyright 2025 coze-dev Authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/*! For license information please see 946.d4aa0bc3.js.LICENSE.txt */
(self.webpackChunk_coze_studio_app=self.webpackChunk_coze_studio_app||[]).push([["946"],{916672:function(e,t,r){"use strict";r.d(t,{D:()=>M});var n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var a=r("252237"),l=r.n(a),s=r("455069"),d=0,c=1,u=2,p=3,h=4,m={NONE:"none",PRIMARY:"primary",SUCCESS:"success",WARNING:"warning",DANGER:"danger"},g="bottom",f="left",b="right",v="top",x="bp5";"undefined"!=typeof BLUEPRINT_NAMESPACE?x=BLUEPRINT_NAMESPACE:"undefined"!=typeof REACT_APP_BLUEPRINT_NAMESPACE&&(x=REACT_APP_BLUEPRINT_NAMESPACE),k(v),k(g),k(f),k(b),w(d),w(c),w(u),w(p),w(h),j(m.PRIMARY),j(m.SUCCESS),j(m.WARNING),j(m.DANGER);var y="".concat(x,"-overflow-list"),_="".concat(y,"-spacer");function w(e){if(void 0!==e)return"".concat(x,"-elevation-").concat(e)}function j(e){if(null!=e&&e!==m.NONE)return"".concat(x,"-intent-").concat(e.toLowerCase())}function k(e){if(void 0!==e)return"".concat(x,"-position-").concat(e)}var N={START:"start",END:"end"},T="Blueprint5",E="[Blueprint] <OverflowList> does not support changing observeParents after mounting.";function D(e,t,r){if(null==e&&null==t)return!0;if(null==e||null==t)return!1;if(Array.isArray(e)||Array.isArray(t))return!1;else{if(null!=r)return C(e,t,r);var n=Object.keys(e),o=Object.keys(t);return C(e,t,{include:n})&&C(e,t,{include:o})}}function C(e,t,r){return(function(e,t,r){if(function(e){return null!=e&&null!=e.include}(r))return r.include;if(function(e){return null!=e&&null!=e.exclude}(r)){var n=Object.keys(e),o=Object.keys(t),a=function(e){return e.reduce(function(e,t){return e[t]=!0,e},{})}(n.concat(o));return r.exclude.forEach(function(e){return delete a[e]}),Object.keys(a)}return[]})(e,t,r).every(function(r){return e.hasOwnProperty(r)===t.hasOwnProperty(r)&&e[r]===t[r]})}function S(e){return"production"===e}var I=function(e){function t(){var t,r=e.apply(this,arguments)||this;return r.targetRef=null!==(t=r.props.targetRef)&&void 0!==t?t:s.createRef(),r.prevElement=void 0,r}return o(t,e),t.prototype.render=function(){var e=s.Children.only(this.props.children);return void 0!==this.props.targetRef?e:s.cloneElement(e,{ref:this.targetRef})},t.prototype.componentDidMount=function(){var e=this;this.observer=null!=globalThis.ResizeObserver?new ResizeObserver(function(t){var r,n;return null===(n=(r=e.props).onResize)||void 0===n?void 0:n.call(r,t)}):void 0,this.observeElement()},t.prototype.componentDidUpdate=function(e){this.observeElement(this.props.observeParents!==e.observeParents)},t.prototype.componentWillUnmount=function(){var e;null===(e=this.observer)||void 0===e||e.disconnect(),this.prevElement=void 0},t.prototype.observeElement=function(e){if(void 0===e&&(e=!1),void 0===this.observer)return;if(!(this.targetRef.current instanceof Element)){this.observer.disconnect();return}if(this.targetRef.current!==this.prevElement||!!e){this.observer.disconnect(),this.prevElement=this.targetRef.current;if(this.observer.observe(this.targetRef.current),this.props.observeParents){for(var t=this.targetRef.current.parentElement;null!=t;)this.observer.observe(t),t=t.parentElement}}},t.displayName="".concat(T,".ResizeSensor"),t}(function(e){function t(t){var r=e.call(this,t)||this;return r.timeoutIds=[],r.requestIds=[],r.clearTimeouts=function(){if(r.timeoutIds.length>0){for(var e=0,t=r.timeoutIds;e<t.length;e++){var n=t[e];window.clearTimeout(n)}r.timeoutIds=[]}},r.cancelAnimationFrames=function(){if(r.requestIds.length>0){for(var e=0,t=r.requestIds;e<t.length;e++){var n=t[e];window.cancelAnimationFrame(n)}r.requestIds=[]}},!S("production")&&r.validateProps(r.props),r}return o(t,e),t.prototype.componentDidUpdate=function(e,t,r){!S("production")&&this.validateProps(this.props)},t.prototype.componentWillUnmount=function(){this.clearTimeouts(),this.cancelAnimationFrames()},t.prototype.requestAnimationFrame=function(e){var t=window.requestAnimationFrame(e);return this.requestIds.push(t),function(){return window.cancelAnimationFrame(t)}},t.prototype.setTimeout=function(e,t){var r=window.setTimeout(e,t);return this.timeoutIds.push(r),function(){return window.clearTimeout(r)}},t.prototype.validateProps=function(e){},t}(s.PureComponent)),M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={chopSize:t.defaultChopSize(),lastChopSize:null,lastOverflowCount:0,overflow:[],repartitioning:!1,visible:t.props.items},t.spacer=null,t.resize=function(){t.repartition()},t}return o(t,e),t.ofType=function(){return t},t.prototype.componentDidMount=function(){this.repartition()},t.prototype.shouldComponentUpdate=function(e,t){return this.props!==e||!(this.state!==t&&D(this.state,t))},t.prototype.componentDidUpdate=function(e,t){e.observeParents!==this.props.observeParents&&console.warn(E),(e.collapseFrom!==this.props.collapseFrom||e.items!==this.props.items||e.minVisibleItems!==this.props.minVisibleItems||e.overflowRenderer!==this.props.overflowRenderer||e.alwaysRenderOverflow!==this.props.alwaysRenderOverflow||e.visibleItemRenderer!==this.props.visibleItemRenderer)&&this.setState({chopSize:this.defaultChopSize(),lastChopSize:null,lastOverflowCount:0,overflow:[],repartitioning:!0,visible:this.props.items});var r,n,o=this.state,a=o.repartitioning,l=o.overflow,s=o.lastOverflowCount;!1===a&&!0===t.repartitioning?l.length!==s&&(null===(n=(r=this.props).onOverflow)||void 0===n||n.call(r,l.slice())):!D(t,this.state)&&this.repartition()},t.prototype.render=function(){var e=this,t=this.props,r=t.className,n=t.collapseFrom,o=t.observeParents,a=t.style,d=t.tagName,c=t.visibleItemRenderer,u=this.maybeRenderOverflow(),p=s.createElement(void 0===d?"div":d,{className:l()(y,r),style:a},n===N.START?u:null,this.state.visible.map(c),n===N.END?u:null,s.createElement("div",{className:_,ref:function(t){return e.spacer=t}}));return s.createElement(I,{onResize:this.resize,observeParents:o},p)},t.prototype.maybeRenderOverflow=function(){var e=this.state.overflow;return 0!==e.length||this.props.alwaysRenderOverflow?this.props.overflowRenderer(e.slice()):null},t.prototype.repartition=function(){var e,t=this;if(null!=this.spacer){var r=1===this.state.lastChopSize,n=null!==(e=this.props.minVisibleItems)&&void 0!==e?e:0,o=this.spacer.offsetWidth<.9&&this.state.visible.length>n,a=(this.spacer.offsetWidth>=1||this.state.visible.length<n)&&this.state.overflow.length>0&&!r;o||a?this.setState(function(e){if(t.props.collapseFrom===N.END){var r,n,a=A(e.visible,e.overflow,t.state.chopSize*(o?1:-1));r=a[0],n=a[1]}else{var a=A(e.overflow,e.visible,t.state.chopSize*(o?-1:1));n=a[0],r=a[1]}return{chopSize:O(e.chopSize),lastChopSize:e.chopSize,lastOverflowCount:t.isFirstPartitionCycle(e.chopSize)?e.overflow.length:e.lastOverflowCount,overflow:n,repartitioning:!0,visible:r}}):this.setState({chopSize:this.defaultChopSize(),lastChopSize:null,repartitioning:!1})}},t.prototype.defaultChopSize=function(){return O(this.props.items.length)},t.prototype.isFirstPartitionCycle=function(e){return e===this.defaultChopSize()},t.displayName="".concat(T,".OverflowList"),t.defaultProps={alwaysRenderOverflow:!1,collapseFrom:N.START,minVisibleItems:0},t}(s.Component);function O(e){return Math.ceil(e/2)}function A(e,t,r){var n=e.concat(t),o=e.length-r;if(o<=0)return[[],n];if(o>=n.length)return[n,[]];var a=n.length-o;return[n.slice(0,-a),n.slice(-a)]}},481655:function(e,t,r){"use strict";r.d(t,{DL:function(){return n}}),r(745304);let n=e=>{let{transform:t}=e;return{...t,x:0}}},790426:function(e,t,r){"use strict";var n=r(455069),o=r(841969);let a=(0,o.A)(function(e){return n.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 12a11 11 0 1 1-22 0 11 11 0 0 1 22 0Zm-9.5 5.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0ZM12 5a1.9 1.9 0 0 0-1.89 2l.3 5.5a1.59 1.59 0 0 0 3.17 0l.3-5.5c.07-1.09-.8-2-1.88-2Z",fill:"currentColor"}))},"alert_circle");t.Z=a},599841:function(e,t,r){"use strict";var n=r(455069),o=r(841969);let a=(0,o.A)(function(e){return n.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),n.createElement("path",{d:"M2 12c0-.83.67-1.5 1.5-1.5h17a1.5 1.5 0 0 1 0 3h-17A1.5 1.5 0 0 1 2 12Z",fill:"currentColor"}))},"minus");t.Z=a},837745:function(e,t,r){"use strict";var n=r(455069),o=r(841969);let a=(0,o.A)(function(e){return n.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),n.createElement("path",{d:"M20.5 13.5a1.5 1.5 0 0 0 0-3h-7v-7a1.5 1.5 0 0 0-3 0v7h-7a1.5 1.5 0 0 0 0 3h7v7a1.5 1.5 0 0 0 3 0v-7h7Z",fill:"currentColor"}))},"plus");t.Z=a},828108:function(e){var t,r;t=0,r=function(){"use strict";function e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function t(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?e(Object(o),!0).forEach(function(e){(function(e,t,n){(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}function r(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,r(o.key),o)}}function a(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var s="undefined"!=typeof window&&void 0!==window.document,d=s?window:{},c=!!s&&!!d.document.documentElement&&"ontouchstart"in d.document.documentElement,u=!!s&&"PointerEvent"in d,p="cropper",h="crop",m="move",g="zoom",f="".concat(p,"-crop"),b="".concat(p,"-disabled"),v="".concat(p,"-hidden"),x="".concat(p,"-hide"),y="".concat(p,"-invisible"),_="".concat(p,"-modal"),w="".concat(p,"-move"),j="".concat(p,"Action"),k="".concat(p,"Preview"),N="crop",T="move",E="none",D="crop",C="cropend",S="cropmove",I="cropstart",M="dblclick",O=u?"pointerdown":c?"touchstart":"mousedown",A=u?"pointermove":c?"touchmove":"mousemove",z=u?"pointerup pointercancel":c?"touchend touchcancel":"mouseup",L="ready",P="resize",R="wheel",Z="zoom",B="image/jpeg",U=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,F=/^data:/,H=/^data:image\/jpeg;base64,/,V=/^img|canvas$/i,W={viewMode:0,dragMode:N,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},G=Number.isNaN||d.isNaN;function q(e){return"number"==typeof e&&!G(e)}var K=function(e){return e>0&&e<1/0};function X(e){return void 0===e}function Y(e){return"object"===n(e)&&null!==e}var Q=Object.prototype.hasOwnProperty;function J(e){if(!Y(e))return!1;try{var t=e.constructor,r=t.prototype;return t&&r&&Q.call(r,"isPrototypeOf")}catch(e){return!1}}function $(e){return"function"==typeof e}var ee=Array.prototype.slice;function et(e){return Array.from?Array.from(e):ee.call(e)}function er(e,t){return e&&$(t)&&(Array.isArray(e)||q(e.length)?et(e).forEach(function(r,n){t.call(e,r,n,e)}):Y(e)&&Object.keys(e).forEach(function(r){t.call(e,e[r],r,e)})),e}var en=Object.assign||function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Y(e)&&r.length>0&&r.forEach(function(t){Y(t)&&Object.keys(t).forEach(function(r){e[r]=t[r]})}),e},ei=/\.\d*(?:0|9){12}\d*$/;function eo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return ei.test(e)?Math.round(e*t)/t:e}var ea=/^width|height|left|top|marginLeft|marginTop$/;function el(e,t){var r=e.style;er(t,function(e,t){ea.test(t)&&q(e)&&(e="".concat(e,"px")),r[t]=e})}function es(e,t){if(!!t){if(q(e.length)){er(e,function(e){es(e,t)});return}if(e.classList){e.classList.add(t);return}var r=e.className.trim();r?0>r.indexOf(t)&&(e.className="".concat(r," ").concat(t)):e.className=t}}function ed(e,t){if(!!t){if(q(e.length)){er(e,function(e){ed(e,t)});return}if(e.classList){e.classList.remove(t);return}e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,""))}}function ec(e,t,r){if(!!t){if(q(e.length)){er(e,function(e){ec(e,t,r)});return}r?es(e,t):ed(e,t)}}var eu=/([a-z\d])([A-Z])/g;function ep(e){return e.replace(eu,"$1-$2").toLowerCase()}function eh(e,t){return Y(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-".concat(ep(t)))}function em(e,t,r){Y(r)?e[t]=r:e.dataset?e.dataset[t]=r:e.setAttribute("data-".concat(ep(t)),r)}var eg=/\s\s*/,ef=function(){var e=!1;if(s){var t=!1,r=function(){},n=Object.defineProperty({},"once",{get:function(){return e=!0,t},set:function(e){t=e}});d.addEventListener("test",r,n),d.removeEventListener("test",r,n)}return e}();function eb(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=r;t.trim().split(eg).forEach(function(t){if(!ef){var a=e.listeners;a&&a[t]&&a[t][r]&&(o=a[t][r],delete a[t][r],0===Object.keys(a[t]).length&&delete a[t],0===Object.keys(a).length&&delete e.listeners)}e.removeEventListener(t,o,n)})}function ev(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=r;t.trim().split(eg).forEach(function(t){if(n.once&&!ef){var a=e.listeners,l=void 0===a?{}:a;o=function(){delete l[t][r],e.removeEventListener(t,o,n);for(var a=arguments.length,s=Array(a),d=0;d<a;d++)s[d]=arguments[d];r.apply(e,s)},!l[t]&&(l[t]={}),l[t][r]&&e.removeEventListener(t,l[t][r],n),l[t][r]=o,e.listeners=l}e.addEventListener(t,o,n)})}function ex(e,t,r){var n;return $(Event)&&$(CustomEvent)?n=new CustomEvent(t,{detail:r,bubbles:!0,cancelable:!0}):(n=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,r),e.dispatchEvent(n)}function ey(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var e_=d.location,ew=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function ej(e){var t=e.match(ew);return null!==t&&(t[1]!==e_.protocol||t[2]!==e_.hostname||t[3]!==e_.port)}function ek(e){var t="timestamp=".concat(new Date().getTime());return e+(-1===e.indexOf("?")?"?":"&")+t}function eN(e){var t=e.rotate,r=e.scaleX,n=e.scaleY,o=e.translateX,a=e.translateY,l=[];q(o)&&0!==o&&l.push("translateX(".concat(o,"px)")),q(a)&&0!==a&&l.push("translateY(".concat(a,"px)")),q(t)&&0!==t&&l.push("rotate(".concat(t,"deg)")),q(r)&&1!==r&&l.push("scaleX(".concat(r,")")),q(n)&&1!==n&&l.push("scaleY(".concat(n,")"));var s=l.length?l.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}function eT(e,r){var n=e.pageX,o=e.pageY,a={endX:n,endY:o};return r?a:t({startX:n,startY:o},a)}function eE(e){var t=e.aspectRatio,r=e.height,n=e.width,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",a=K(n),l=K(r);if(a&&l){var s=r*t;"contain"===o&&s>n||"cover"===o&&s<n?r=n/t:n=r*t}else a?r=n/t:l&&(n=r*t);return{width:n,height:r}}var eD=String.fromCharCode,eC=/^data:.*,/,eS=d.Cropper,eI=function(){var e,t,r;function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),!e||!V.test(e.tagName))throw Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=en({},W,J(t)&&t),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return e=n,t=[{key:"init",value:function(){var e,t=this.element,r=t.tagName.toLowerCase();if(!t[p]){if(t[p]=this,"img"===r){if(this.isImg=!0,e=t.getAttribute("src")||"",this.originalUrl=e,!e)return;e=t.src}else"canvas"===r&&window.HTMLCanvasElement&&(e=t.toDataURL());this.load(e)}}},{key:"load",value:function(e){var t,r,n,o=this;if(!!e){this.url=e,this.imageData={};var a=this.element,l=this.options;if(!l.rotatable&&!l.scalable&&(l.checkOrientation=!1),!l.checkOrientation||!window.ArrayBuffer){this.clone();return}if(F.test(e)){if(H.test(e)){;this.read((er(n=new Uint8Array(r=new ArrayBuffer((t=atob(e.replace(eC,""))).length)),function(e,r){n[r]=t.charCodeAt(r)}),r))}else this.clone();return}var s=new XMLHttpRequest,d=this.clone.bind(this);this.reloading=!0,this.xhr=s,s.onabort=d,s.onerror=d,s.ontimeout=d,s.onprogress=function(){s.getResponseHeader("content-type")!==B&&s.abort()},s.onload=function(){o.read(s.response)},s.onloadend=function(){o.reloading=!1,o.xhr=null},l.checkCrossOrigin&&ej(e)&&a.crossOrigin&&(e=ek(e)),s.open("GET",e,!0),s.responseType="arraybuffer",s.withCredentials="use-credentials"===a.crossOrigin,s.send()}}},{key:"read",value:function(e){var t=this.options,r=this.imageData,n=function(e){var t=new DataView(e);try{if(255===t.getUint8(0)&&216===t.getUint8(1)){for(var r=t.byteLength,n=2;n+1<r;){if(255===t.getUint8(n)&&225===t.getUint8(n+1)){u=n;break}n+=1}}if(u){var o=u+4,a=u+10;if("Exif"===function(e,t,r){var n="";r+=t;for(var o=t;o<r;o+=1)n+=eD(e.getUint8(o));return n}(t,o,4)){var l=t.getUint16(a);if(((c=18761===l)||19789===l)&&42===t.getUint16(a+2,c)){var s=t.getUint32(a+4,c);s>=8&&(p=a+s)}}}if(p){var d,c,u,p,h,m,g=t.getUint16(p,c);for(m=0;m<g;m+=1)if(h=p+12*m+2,274===t.getUint16(h,c)){h+=8,d=t.getUint16(h,c),t.setUint16(h,1,c);break}}}catch(e){d=1}return d}(e),o=0,a=1,l=1;if(n>1){this.url=function(e,t){for(var r=[],n=new Uint8Array(e);n.length>0;)r.push(eD.apply(null,et(n.subarray(0,8192)))),n=n.subarray(8192);return"data:".concat(t,";base64,").concat(btoa(r.join("")))}(e,B);var s=function(e){var t=0,r=1,n=1;switch(e){case 2:r=-1;break;case 3:t=-180;break;case 4:n=-1;break;case 5:t=90,n=-1;break;case 6:t=90;break;case 7:t=90,r=-1;break;case 8:t=-90}return{rotate:t,scaleX:r,scaleY:n}}(n);o=s.rotate,a=s.scaleX,l=s.scaleY}t.rotatable&&(r.rotate=o),t.scalable&&(r.scaleX=a,r.scaleY=l),this.clone()}},{key:"clone",value:function(){var e=this.element,t=this.url,r=e.crossOrigin,n=t;this.options.checkCrossOrigin&&ej(t)&&(!r&&(r="anonymous"),n=ek(t)),this.crossOrigin=r,this.crossOriginUrl=n;var o=document.createElement("img");r&&(o.crossOrigin=r),o.src=n||t,o.alt=e.alt||"The image to crop",this.image=o,o.onload=this.start.bind(this),o.onerror=this.stop.bind(this),es(o,x),e.parentNode.insertBefore(o,e.nextSibling)}},{key:"start",value:function(){var e=this,t=this.image;t.onload=null,t.onerror=null,this.sizing=!0;var r=d.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(d.navigator.userAgent),n=function(t,r){en(e.imageData,{naturalWidth:t,naturalHeight:r,aspectRatio:t/r}),e.initialImageData=en({},e.imageData),e.sizing=!1,e.sized=!0,e.build()};if(t.naturalWidth&&!r){n(t.naturalWidth,t.naturalHeight);return}var o=document.createElement("img"),a=document.body||document.documentElement;this.sizingImage=o,o.onload=function(){n(o.width,o.height),!r&&a.removeChild(o)},o.src=t.src,!r&&(o.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",a.appendChild(o))}},{key:"stop",value:function(){var e=this.image;e.onload=null,e.onerror=null,e.parentNode.removeChild(e),this.image=null}},{key:"build",value:function(){if(!!this.sized&&!this.ready){var e=this.element,t=this.options,r=this.image,n=e.parentNode,o=document.createElement("div");o.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var a=o.querySelector(".".concat(p,"-container")),l=a.querySelector(".".concat(p,"-canvas")),s=a.querySelector(".".concat(p,"-drag-box")),d=a.querySelector(".".concat(p,"-crop-box")),c=d.querySelector(".".concat(p,"-face"));this.container=n,this.cropper=a,this.canvas=l,this.dragBox=s,this.cropBox=d,this.viewBox=a.querySelector(".".concat(p,"-view-box")),this.face=c,l.appendChild(r),es(e,v),n.insertBefore(a,e.nextSibling),ed(r,x),this.initPreview(),this.bind(),t.initialAspectRatio=Math.max(0,t.initialAspectRatio)||NaN,t.aspectRatio=Math.max(0,t.aspectRatio)||NaN,t.viewMode=Math.max(0,Math.min(3,Math.round(t.viewMode)))||0,es(d,v),!t.guides&&es(d.getElementsByClassName("".concat(p,"-dashed")),v),!t.center&&es(d.getElementsByClassName("".concat(p,"-center")),v),t.background&&es(a,"".concat(p,"-bg")),!t.highlight&&es(c,y),t.cropBoxMovable&&(es(c,w),em(c,j,"all")),!t.cropBoxResizable&&(es(d.getElementsByClassName("".concat(p,"-line")),v),es(d.getElementsByClassName("".concat(p,"-point")),v)),this.render(),this.ready=!0,this.setDragMode(t.dragMode),t.autoCrop&&this.crop(),this.setData(t.data),$(t.ready)&&ev(e,L,t.ready,{once:!0}),ex(e,L)}}},{key:"unbuild",value:function(){if(!!this.ready){this.ready=!1,this.unbind(),this.resetPreview();var e=this.cropper.parentNode;e&&e.removeChild(this.cropper),ed(this.element,v)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],r=[{key:"noConflict",value:function(){return window.Cropper=eS,n}},{key:"setDefaults",value:function(e){en(W,J(e)&&e)}}],t&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}();return en(eI.prototype,{render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,t=this.options,r=this.container,n=this.cropper,o=Number(t.minContainerWidth),a=Number(t.minContainerHeight);es(n,v),ed(e,v);var l={width:Math.max(r.offsetWidth,o>=0?o:200),height:Math.max(r.offsetHeight,a>=0?a:100)};this.containerData=l,el(n,{width:l.width,height:l.height}),es(e,v),ed(n,v)},initCanvas:function(){var e=this.containerData,t=this.imageData,r=this.options.viewMode,n=Math.abs(t.rotate)%180==90,o=n?t.naturalHeight:t.naturalWidth,a=n?t.naturalWidth:t.naturalHeight,l=o/a,s=e.width,d=e.height;e.height*l>e.width?3===r?s=e.height*l:d=e.width/l:3===r?d=e.width/l:s=e.height*l;var c={aspectRatio:l,naturalWidth:o,naturalHeight:a,width:s,height:d};this.canvasData=c,this.limited=1===r||2===r,this.limitCanvas(!0,!0),c.width=Math.min(Math.max(c.width,c.minWidth),c.maxWidth),c.height=Math.min(Math.max(c.height,c.minHeight),c.maxHeight),c.left=(e.width-c.width)/2,c.top=(e.height-c.height)/2,c.oldLeft=c.left,c.oldTop=c.top,this.initialCanvasData=en({},c)},limitCanvas:function(e,t){var r=this.options,n=this.containerData,o=this.canvasData,a=this.cropBoxData,l=r.viewMode,s=o.aspectRatio,d=this.cropped&&a;if(e){var c=Number(r.minCanvasWidth)||0,u=Number(r.minCanvasHeight)||0;l>1?(c=Math.max(c,n.width),u=Math.max(u,n.height),3===l&&(u*s>c?c=u*s:u=c/s)):l>0&&(c?c=Math.max(c,d?a.width:0):u?u=Math.max(u,d?a.height:0):d&&(c=a.width,(u=a.height)*s>c?c=u*s:u=c/s));var p=eE({aspectRatio:s,width:c,height:u});c=p.width,u=p.height,o.minWidth=c,o.minHeight=u,o.maxWidth=1/0,o.maxHeight=1/0}if(t){if(l>(d?0:1)){var h=n.width-o.width,m=n.height-o.height;o.minLeft=Math.min(0,h),o.minTop=Math.min(0,m),o.maxLeft=Math.max(0,h),o.maxTop=Math.max(0,m),d&&this.limited&&(o.minLeft=Math.min(a.left,a.left+(a.width-o.width)),o.minTop=Math.min(a.top,a.top+(a.height-o.height)),o.maxLeft=a.left,o.maxTop=a.top,2===l&&(o.width>=n.width&&(o.minLeft=Math.min(0,h),o.maxLeft=Math.max(0,h)),o.height>=n.height&&(o.minTop=Math.min(0,m),o.maxTop=Math.max(0,m))))}else o.minLeft=-o.width,o.minTop=-o.height,o.maxLeft=n.width,o.maxTop=n.height}},renderCanvas:function(e,t){var r=this.canvasData,n=this.imageData;if(t){var o=function(e){var t=e.width,r=e.height,n=e.degree;if(90==(n=Math.abs(n)%180))return{width:r,height:t};var o=n%90*Math.PI/180,a=Math.sin(o),l=Math.cos(o),s=t*l+r*a,d=t*a+r*l;return n>90?{width:d,height:s}:{width:s,height:d}}({width:n.naturalWidth*Math.abs(n.scaleX||1),height:n.naturalHeight*Math.abs(n.scaleY||1),degree:n.rotate||0}),a=o.width,l=o.height,s=r.width*(a/r.naturalWidth),d=r.height*(l/r.naturalHeight);r.left-=(s-r.width)/2,r.top-=(d-r.height)/2,r.width=s,r.height=d,r.aspectRatio=a/l,r.naturalWidth=a,r.naturalHeight=l,this.limitCanvas(!0,!1)}(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCanvas(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,el(this.canvas,en({width:r.width,height:r.height},eN({translateX:r.left,translateY:r.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var t=this.canvasData,r=this.imageData,n=r.naturalWidth*(t.width/t.naturalWidth),o=r.naturalHeight*(t.height/t.naturalHeight);en(r,{width:n,height:o,left:(t.width-n)/2,top:(t.height-o)/2}),el(this.image,en({width:r.width,height:r.height},eN(en({translateX:r.left,translateY:r.top},r)))),e&&this.output()},initCropBox:function(){var e=this.options,t=this.canvasData,r=e.aspectRatio||e.initialAspectRatio,n=Number(e.autoCropArea)||.8,o={width:t.width,height:t.height};r&&(t.height*r>t.width?o.height=o.width/r:o.width=o.height*r),this.cropBoxData=o,this.limitCropBox(!0,!0),o.width=Math.min(Math.max(o.width,o.minWidth),o.maxWidth),o.height=Math.min(Math.max(o.height,o.minHeight),o.maxHeight),o.width=Math.max(o.minWidth,o.width*n),o.height=Math.max(o.minHeight,o.height*n),o.left=t.left+(t.width-o.width)/2,o.top=t.top+(t.height-o.height)/2,o.oldLeft=o.left,o.oldTop=o.top,this.initialCropBoxData=en({},o)},limitCropBox:function(e,t){var r=this.options,n=this.containerData,o=this.canvasData,a=this.cropBoxData,l=this.limited,s=r.aspectRatio;if(e){var d=Number(r.minCropBoxWidth)||0,c=Number(r.minCropBoxHeight)||0,u=l?Math.min(n.width,o.width,o.width+o.left,n.width-o.left):n.width,p=l?Math.min(n.height,o.height,o.height+o.top,n.height-o.top):n.height;d=Math.min(d,n.width),c=Math.min(c,n.height),s&&(d&&c?c*s>d?c=d/s:d=c*s:d?c=d/s:c&&(d=c*s),p*s>u?p=u/s:u=p*s),a.minWidth=Math.min(d,u),a.minHeight=Math.min(c,p),a.maxWidth=u,a.maxHeight=p}t&&(l?(a.minLeft=Math.max(0,o.left),a.minTop=Math.max(0,o.top),a.maxLeft=Math.min(n.width,o.left+o.width)-a.width,a.maxTop=Math.min(n.height,o.top+o.height)-a.height):(a.minLeft=0,a.minTop=0,a.maxLeft=n.width-a.width,a.maxTop=n.height-a.height))},renderCropBox:function(){var e=this.options,t=this.containerData,r=this.cropBoxData;(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCropBox(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,e.movable&&e.cropBoxMovable&&em(this.face,j,r.width>=t.width&&r.height>=t.height?m:"all"),el(this.cropBox,en({width:r.width,height:r.height},eN({translateX:r.left,translateY:r.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),!this.disabled&&this.output()},output:function(){this.preview(),ex(this.element,D,this.getData())}},{initPreview:function(){var e=this.element,t=this.crossOrigin,r=this.options.preview,n=t?this.crossOriginUrl:this.url,o=e.alt||"The image to preview",a=document.createElement("img");if(t&&(a.crossOrigin=t),a.src=n,a.alt=o,this.viewBox.appendChild(a),this.viewBoxImage=a,!!r){var l=r;"string"==typeof r?l=e.ownerDocument.querySelectorAll(r):r.querySelector&&(l=[r]),this.previews=l,er(l,function(e){var r=document.createElement("img");em(e,k,{width:e.offsetWidth,height:e.offsetHeight,html:e.innerHTML}),t&&(r.crossOrigin=t),r.src=n,r.alt=o,r.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',e.innerHTML="",e.appendChild(r)})}},resetPreview:function(){er(this.previews,function(e){var t=eh(e,k);el(e,{width:t.width,height:t.height}),e.innerHTML=t.html,!function(e,t){if(Y(e[t]))try{delete e[t]}catch(r){e[t]=void 0}else if(e.dataset)try{delete e.dataset[t]}catch(r){e.dataset[t]=void 0}else e.removeAttribute("data-".concat(ep(t)))}(e,k)})},preview:function(){var e=this.imageData,t=this.canvasData,r=this.cropBoxData,n=r.width,o=r.height,a=e.width,l=e.height,s=r.left-t.left-e.left,d=r.top-t.top-e.top;if(!!this.cropped&&!this.disabled)el(this.viewBoxImage,en({width:a,height:l},eN(en({translateX:-s,translateY:-d},e)))),er(this.previews,function(t){var r=eh(t,k),c=r.width,u=r.height,p=c,h=u,m=1;n&&(h=o*(m=c/n)),o&&h>u&&(p=n*(m=u/o),h=u),el(t,{width:p,height:h}),el(t.getElementsByTagName("img")[0],en({width:a*m,height:l*m},eN(en({translateX:-s*m,translateY:-d*m},e))))})}},{bind:function(){var e=this.element,t=this.options,r=this.cropper;$(t.cropstart)&&ev(e,I,t.cropstart),$(t.cropmove)&&ev(e,S,t.cropmove),$(t.cropend)&&ev(e,C,t.cropend),$(t.crop)&&ev(e,D,t.crop),$(t.zoom)&&ev(e,Z,t.zoom),ev(r,O,this.onCropStart=this.cropStart.bind(this)),t.zoomable&&t.zoomOnWheel&&ev(r,R,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&ev(r,M,this.onDblclick=this.dblclick.bind(this)),ev(e.ownerDocument,A,this.onCropMove=this.cropMove.bind(this)),ev(e.ownerDocument,z,this.onCropEnd=this.cropEnd.bind(this)),t.responsive&&ev(window,P,this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,t=this.options,r=this.cropper;$(t.cropstart)&&eb(e,I,t.cropstart),$(t.cropmove)&&eb(e,S,t.cropmove),$(t.cropend)&&eb(e,C,t.cropend),$(t.crop)&&eb(e,D,t.crop),$(t.zoom)&&eb(e,Z,t.zoom),eb(r,O,this.onCropStart),t.zoomable&&t.zoomOnWheel&&eb(r,R,this.onWheel,{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&eb(r,M,this.onDblclick),eb(e.ownerDocument,A,this.onCropMove),eb(e.ownerDocument,z,this.onCropEnd),t.responsive&&eb(window,P,this.onResize)}},{resize:function(){if(!this.disabled){var e,t,r=this.options,n=this.container,o=this.containerData,a=n.offsetWidth/o.width,l=n.offsetHeight/o.height,s=Math.abs(a-1)>Math.abs(l-1)?a:l;1!==s&&(r.restore&&(e=this.getCanvasData(),t=this.getCropBoxData()),this.render(),r.restore&&(this.setCanvasData(er(e,function(t,r){e[r]=t*s})),this.setCropBoxData(er(t,function(e,r){t[r]=e*s}))))}},dblclick:function(){var e,t;if(!this.disabled&&this.options.dragMode!==E)this.setDragMode((e=this.dragBox,t=f,e.classList?e.classList.contains(t):e.className.indexOf(t)>-1)?T:N)},wheel:function(e){var t=this,r=Number(this.options.wheelZoomRatio)||.1,n=1;if(this.disabled)return;if(e.preventDefault(),!this.wheeling)this.wheeling=!0,setTimeout(function(){t.wheeling=!1},50),e.deltaY?n=e.deltaY>0?1:-1:e.wheelDelta?n=-e.wheelDelta/120:e.detail&&(n=e.detail>0?1:-1),this.zoom(-n*r,e)},cropStart:function(e){var t,r=e.buttons,n=e.button;if(this.disabled||("mousedown"===e.type||"pointerdown"===e.type&&"mouse"===e.pointerType)&&(q(r)&&1!==r||q(n)&&0!==n||e.ctrlKey))return;var o=this.options,a=this.pointers;if(e.changedTouches?er(e.changedTouches,function(e){a[e.identifier]=eT(e)}):a[e.pointerId||0]=eT(e),t=Object.keys(a).length>1&&o.zoomable&&o.zoomOnTouch?g:eh(e.target,j),!!U.test(t)&&!1!==ex(this.element,I,{originalEvent:e,action:t}))e.preventDefault(),this.action=t,this.cropping=!1,t===h&&(this.cropping=!0,es(this.dragBox,_))},cropMove:function(e){var t=this.action;if(this.disabled||!t)return;var r=this.pointers;if(e.preventDefault(),!1!==ex(this.element,S,{originalEvent:e,action:t}))e.changedTouches?er(e.changedTouches,function(e){en(r[e.identifier]||{},eT(e,!0))}):en(r[e.pointerId||0]||{},eT(e,!0)),this.change(e)},cropEnd:function(e){if(this.disabled)return;var t=this.action,r=this.pointers;if(e.changedTouches?er(e.changedTouches,function(e){delete r[e.identifier]}):delete r[e.pointerId||0],!!t)e.preventDefault(),!Object.keys(r).length&&(this.action=""),this.cropping&&(this.cropping=!1,ec(this.dragBox,_,this.cropped&&this.options.modal)),ex(this.element,C,{originalEvent:e,action:t})}},{change:function(e){var r,n,o,a,l=this.options,s=this.canvasData,d=this.containerData,c=this.cropBoxData,u=this.pointers,p=this.action,f=l.aspectRatio,b=c.left,x=c.top,y=c.width,_=c.height,w=b+y,j=x+_,k=0,N=0,T=d.width,E=d.height,D=!0;!f&&e.shiftKey&&(f=y&&_?y/_:1),this.limited&&(k=c.minLeft,N=c.minTop,T=k+Math.min(d.width,s.width,s.left+s.width),E=N+Math.min(d.height,s.height,s.top+s.height));var C=u[Object.keys(u)[0]],S={x:C.endX-C.startX,y:C.endY-C.startY},I=function(e){switch(e){case"e":w+S.x>T&&(S.x=T-w);break;case"w":b+S.x<k&&(S.x=k-b);break;case"n":x+S.y<N&&(S.y=N-x);break;case"s":j+S.y>E&&(S.y=E-j)}};switch(p){case"all":b+=S.x,x+=S.y;break;case"e":if(S.x>=0&&(w>=T||f&&(x<=N||j>=E))){D=!1;break}I("e"),(y+=S.x)<0&&(p="w",b-=y=-y),f&&(_=y/f,x+=(c.height-_)/2);break;case"n":if(S.y<=0&&(x<=N||f&&(b<=k||w>=T))){D=!1;break}I("n"),_-=S.y,x+=S.y,_<0&&(p="s",x-=_=-_),f&&(y=_*f,b+=(c.width-y)/2);break;case"w":if(S.x<=0&&(b<=k||f&&(x<=N||j>=E))){D=!1;break}I("w"),y-=S.x,b+=S.x,y<0&&(p="e",b-=y=-y),f&&(_=y/f,x+=(c.height-_)/2);break;case"s":if(S.y>=0&&(j>=E||f&&(b<=k||w>=T))){D=!1;break}I("s"),(_+=S.y)<0&&(p="n",x-=_=-_),f&&(y=_*f,b+=(c.width-y)/2);break;case"ne":if(f){if(S.y<=0&&(x<=N||w>=T)){D=!1;break}I("n"),_-=S.y,x+=S.y,y=_*f}else I("n"),I("e"),S.x>=0?w<T?y+=S.x:S.y<=0&&x<=N&&(D=!1):y+=S.x,S.y<=0?x>N&&(_-=S.y,x+=S.y):(_-=S.y,x+=S.y);y<0&&_<0?(p="sw",y=-y,x-=_=-_,b-=y):y<0?(p="nw",b-=y=-y):_<0&&(p="se",x-=_=-_);break;case"nw":if(f){if(S.y<=0&&(x<=N||b<=k)){D=!1;break}I("n"),_-=S.y,x+=S.y,y=_*f,b+=c.width-y}else I("n"),I("w"),S.x<=0?b>k?(y-=S.x,b+=S.x):S.y<=0&&x<=N&&(D=!1):(y-=S.x,b+=S.x),S.y<=0?x>N&&(_-=S.y,x+=S.y):(_-=S.y,x+=S.y);y<0&&_<0?(p="se",y=-y,x-=_=-_,b-=y):y<0?(p="ne",b-=y=-y):_<0&&(p="sw",x-=_=-_);break;case"sw":if(f){if(S.x<=0&&(b<=k||j>=E)){D=!1;break}I("w"),y-=S.x,b+=S.x,_=y/f}else I("s"),I("w"),S.x<=0?b>k?(y-=S.x,b+=S.x):S.y>=0&&j>=E&&(D=!1):(y-=S.x,b+=S.x),S.y>=0?j<E&&(_+=S.y):_+=S.y;y<0&&_<0?(p="ne",y=-y,x-=_=-_,b-=y):y<0?(p="se",b-=y=-y):_<0&&(p="nw",x-=_=-_);break;case"se":if(f){if(S.x>=0&&(w>=T||j>=E)){D=!1;break}I("e"),y+=S.x,_=y/f}else I("s"),I("e"),S.x>=0?w<T?y+=S.x:S.y>=0&&j>=E&&(D=!1):y+=S.x,S.y>=0?j<E&&(_+=S.y):_+=S.y;y<0&&_<0?(p="nw",y=-y,x-=_=-_,b-=y):y<0?(p="sw",b-=y=-y):_<0&&(p="ne",x-=_=-_);break;case m:this.move(S.x,S.y),D=!1;break;case g:;this.zoom((n=t({},r=u),o=0,er(r,function(e,t){delete n[t],er(n,function(t){var r=Math.abs(e.startX-t.startX),n=Math.abs(e.startY-t.startY),a=Math.abs(e.endX-t.endX),l=Math.abs(e.endY-t.endY),s=Math.sqrt(r*r+n*n),d=(Math.sqrt(a*a+l*l)-s)/s;Math.abs(d)>Math.abs(o)&&(o=d)})}),o),e),D=!1;break;case h:if(!S.x||!S.y){D=!1;break}a=ey(this.cropper),b=C.startX-a.left,x=C.startY-a.top,y=c.minWidth,_=c.minHeight,S.x>0?p=S.y>0?"se":"ne":S.x<0&&(b-=y,p=S.y>0?"sw":"nw"),S.y<0&&(x-=_),!this.cropped&&(ed(this.cropBox,v),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}D&&(c.width=y,c.height=_,c.left=b,c.top=x,this.action=p,this.renderCropBox()),er(u,function(e){e.startX=e.endX,e.startY=e.endY})}},{crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&es(this.dragBox,_),ed(this.cropBox,v),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=en({},this.initialImageData),this.canvasData=en({},this.initialCanvasData),this.cropBoxData=en({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(en(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),ed(this.dragBox,_),es(this.cropBox,v)),this},replace:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&e&&(this.isImg&&(this.element.src=e),t?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,er(this.previews,function(t){t.getElementsByTagName("img")[0].src=e}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,ed(this.cropper,b)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,es(this.cropper,b)),this},destroy:function(){var e=this.element;return e[p]?(e[p]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,r=this.canvasData,n=r.left,o=r.top;return this.moveTo(X(e)?e:n+Number(e),X(t)?t:o+Number(t))},moveTo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,r=this.canvasData,n=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.movable&&(q(e)&&(r.left=e,n=!0),q(t)&&(r.top=t,n=!0),n&&this.renderCanvas(!0)),this},zoom:function(e,t){var r=this.canvasData;return e=(e=Number(e))<0?1/(1-e):1+e,this.zoomTo(r.width*e/r.naturalWidth,null,t)},zoomTo:function(e,t,r){var n=this.options,o=this.canvasData,a=o.width,l=o.height,s=o.naturalWidth,d=o.naturalHeight;if((e=Number(e))>=0&&this.ready&&!this.disabled&&n.zoomable){var c=s*e,u=d*e;if(!1===ex(this.element,Z,{ratio:e,oldRatio:a/s,originalEvent:r}))return this;if(r){var p,h,m,g=this.pointers,f=ey(this.cropper);var b=g&&Object.keys(g).length?(p=0,h=0,m=0,er(g,function(e){var t=e.startX,r=e.startY;p+=t,h+=r,m+=1}),p/=m,h/=m,{pageX:p,pageY:h}):{pageX:r.pageX,pageY:r.pageY};o.left-=(c-a)*((b.pageX-f.left-o.left)/a),o.top-=(u-l)*((b.pageY-f.top-o.top)/l)}else J(t)&&q(t.x)&&q(t.y)?(o.left-=(c-a)*((t.x-o.left)/a),o.top-=(u-l)*((t.y-o.top)/l)):(o.left-=(c-a)/2,o.top-=(u-l)/2);o.width=c,o.height=u,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return q(e=Number(e))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var t=this.imageData.scaleY;return this.scale(e,q(t)?t:1)},scaleY:function(e){var t=this.imageData.scaleX;return this.scale(q(t)?t:1,e)},scale:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,r=this.imageData,n=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.scalable&&(q(e)&&(r.scaleX=e,n=!0),q(t)&&(r.scaleY=t,n=!0),n&&this.renderCanvas(!0,!0)),this},getData:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.options,n=this.imageData,o=this.canvasData,a=this.cropBoxData;if(this.ready&&this.cropped){e={x:a.left-o.left,y:a.top-o.top,width:a.width,height:a.height};var l=n.width/n.naturalWidth;if(er(e,function(t,r){e[r]=t/l}),t){var s=Math.round(e.y+e.height),d=Math.round(e.x+e.width);e.x=Math.round(e.x),e.y=Math.round(e.y),e.width=d-e.x,e.height=s-e.y}}else e={x:0,y:0,width:0,height:0};return r.rotatable&&(e.rotate=n.rotate||0),r.scalable&&(e.scaleX=n.scaleX||1,e.scaleY=n.scaleY||1),e},setData:function(e){var t=this.options,r=this.imageData,n=this.canvasData,o={};if(this.ready&&!this.disabled&&J(e)){var a=!1;t.rotatable&&q(e.rotate)&&e.rotate!==r.rotate&&(r.rotate=e.rotate,a=!0),t.scalable&&(q(e.scaleX)&&e.scaleX!==r.scaleX&&(r.scaleX=e.scaleX,a=!0),q(e.scaleY)&&e.scaleY!==r.scaleY&&(r.scaleY=e.scaleY,a=!0)),a&&this.renderCanvas(!0,!0);var l=r.width/r.naturalWidth;q(e.x)&&(o.left=e.x*l+n.left),q(e.y)&&(o.top=e.y*l+n.top),q(e.width)&&(o.width=e.width*l),q(e.height)&&(o.height=e.height*l),this.setCropBoxData(o)}return this},getContainerData:function(){return this.ready?en({},this.containerData):{}},getImageData:function(){return this.sized?en({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,t={};return this.ready&&er(["left","top","width","height","naturalWidth","naturalHeight"],function(r){t[r]=e[r]}),t},setCanvasData:function(e){var t=this.canvasData,r=t.aspectRatio;return this.ready&&!this.disabled&&J(e)&&(q(e.left)&&(t.left=e.left),q(e.top)&&(t.top=e.top),q(e.width)?(t.width=e.width,t.height=e.width/r):q(e.height)&&(t.height=e.height,t.width=e.height*r),this.renderCanvas(!0)),this},getCropBoxData:function(){var e,t=this.cropBoxData;return this.ready&&this.cropped&&(e={left:t.left,top:t.top,width:t.width,height:t.height}),e||{}},setCropBoxData:function(e){var t,r,n=this.cropBoxData,o=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&J(e)&&(q(e.left)&&(n.left=e.left),q(e.top)&&(n.top=e.top),q(e.width)&&e.width!==n.width&&(t=!0,n.width=e.width),q(e.height)&&e.height!==n.height&&(r=!0,n.height=e.height),o&&(t?n.height=n.width/o:r&&(n.width=n.height*o)),this.renderCropBox()),this},getCroppedCanvas:function(){var e,t,r,n,o,l,s,d,c,u,p,h,m,g,f,b,v,x,y,_,w,j,k,N,T,E,D,C,S,I,M,O,A,z,L,P,R,Z,B,U,F=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var H=this.canvasData;var V=(e=this.image,t=this.imageData,r=H,n=F,o=t.aspectRatio,l=t.naturalWidth,s=t.naturalHeight,d=t.rotate,c=t.scaleX,u=t.scaleY,p=r.aspectRatio,h=r.naturalWidth,m=r.naturalHeight,g=n.fillColor,f=n.imageSmoothingEnabled,b=n.imageSmoothingQuality,x=void 0===(v=n.maxWidth)?1/0:v,_=void 0===(y=n.maxHeight)?1/0:y,j=void 0===(w=n.minWidth)?0:w,N=void 0===(k=n.minHeight)?0:k,E=(T=document.createElement("canvas")).getContext("2d"),D=eE({aspectRatio:p,width:x,height:_}),C=eE({aspectRatio:p,width:j,height:N},"cover"),S=Math.min(D.width,Math.max(C.width,h)),I=Math.min(D.height,Math.max(C.height,m)),M=eE({aspectRatio:o,width:x,height:_}),O=eE({aspectRatio:o,width:j,height:N},"cover"),A=Math.min(M.width,Math.max(O.width,l)),z=Math.min(M.height,Math.max(O.height,s)),T.width=eo(S),T.height=eo(I),E.fillStyle=void 0===g?"transparent":g,E.fillRect(0,0,S,I),E.save(),E.translate(S/2,I/2),E.rotate((void 0===d?0:d)*Math.PI/180),E.scale(void 0===c?1:c,void 0===u?1:u),E.imageSmoothingEnabled=void 0===f||f,E.imageSmoothingQuality=void 0===b?"low":b,E.drawImage.apply(E,[e].concat(a([-A/2,-z/2,A,z].map(function(e){return Math.floor(eo(e))})))),E.restore(),T);if(!this.cropped)return V;var W=this.getData(F.rounded),G=W.x,q=W.y,K=W.width,X=W.height,Y=V.width/Math.floor(H.naturalWidth);1!==Y&&(G*=Y,q*=Y,K*=Y,X*=Y);var Q=K/X,J=eE({aspectRatio:Q,width:F.maxWidth||1/0,height:F.maxHeight||1/0}),$=eE({aspectRatio:Q,width:F.minWidth||0,height:F.minHeight||0},"cover"),ee=eE({aspectRatio:Q,width:F.width||(1!==Y?V.width:K),height:F.height||(1!==Y?V.height:X)}),et=ee.width,er=ee.height;et=Math.min(J.width,Math.max($.width,et)),er=Math.min(J.height,Math.max($.height,er));var en=document.createElement("canvas"),ei=en.getContext("2d");en.width=eo(et),en.height=eo(er),ei.fillStyle=F.fillColor||"transparent",ei.fillRect(0,0,et,er);var ea=F.imageSmoothingEnabled,el=F.imageSmoothingQuality;ei.imageSmoothingEnabled=void 0===ea||ea,el&&(ei.imageSmoothingQuality=el);var es=V.width,ed=V.height,ec=G,eu=q;ec<=-K||ec>es?(ec=0,L=0,R=0,B=0):ec<=0?(R=-ec,B=L=Math.min(es,K+(ec=0))):ec<=es&&(R=0,B=L=Math.min(K,es-ec)),L<=0||eu<=-X||eu>ed?(eu=0,P=0,Z=0,U=0):eu<=0?(Z=-eu,U=P=Math.min(ed,X+(eu=0))):eu<=ed&&(Z=0,U=P=Math.min(X,ed-eu));var ep=[ec,eu,L,P];if(B>0&&U>0){var eh=et/K;ep.push(R*eh,Z*eh,B*eh,U*eh)}return ei.drawImage.apply(ei,[V].concat(a(ep.map(function(e){return Math.floor(eo(e))})))),en},setAspectRatio:function(e){var t=this.options;return!this.disabled&&!X(e)&&(t.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var t=this.options,r=this.dragBox,n=this.face;if(this.ready&&!this.disabled){var o=e===N,a=t.movable&&e===T;e=o||a?e:E,t.dragMode=e,em(r,j,e),ec(r,f,o),ec(r,w,a),!t.cropBoxMovable&&(em(n,j,e),ec(n,f,o),ec(n,w,a))}return this}}),eI},e.exports=r()},815651:function(e){"use strict";var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===r.call(e)},l=function(e){if(!e||"[object Object]"!==r.call(e))return!1;var n,o=t.call(e,"constructor"),a=e.constructor&&e.constructor.prototype&&t.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!o&&!a)return!1;for(n in e);return void 0===n||t.call(e,n)},s=function(e,t){n&&"__proto__"===t.name?n(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},d=function(e,r){if("__proto__"===r){if(!t.call(e,r))return;if(o)return o(e,r).value}return e[r]};e.exports=function e(){var t,r,n,o,c,u,p=arguments[0],h=1,m=arguments.length,g=!1;for("boolean"==typeof p&&(g=p,p=arguments[1]||{},h=2),(null==p||"object"!=typeof p&&"function"!=typeof p)&&(p={});h<m;++h)if(t=arguments[h],null!=t)for(r in t)n=d(p,r),p!==(o=d(t,r))&&(g&&o&&(l(o)||(c=a(o)))?(c?(c=!1,u=n&&a(n)?n:[]):u=n&&l(n)?n:{},s(p,{name:r,newValue:e(g,u,o)})):void 0!==o&&s(p,{name:r,newValue:o}));return p}},739561:function(e){"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(o=n;0!=o--;)if(!e(t[o],r[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(a=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(o=n;0!=o--;)if(!Object.prototype.hasOwnProperty.call(r,a[o]))return!1;for(o=n;0!=o--;){var n,o,a,l=a[o];if(!e(t[l],r[l]))return!1}return!0}return t!=t&&r!=r}},377996:function(e){e.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},139654:function(e,t,r){"use strict";r.d(t,{Z:()=>L});var n=r("894626"),o=r("582288"),a=r("195354"),l=r("685521"),s=r("980581"),d=r("252237"),c=r.n(d),u=r("340243"),p=r("606631"),h=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=new Set;return function e(t,o){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,l=n.has(t);if((0,p.ZP)(!l,"Warning: There may be circular references"),l)return!1;if(t===o)return!0;if(r&&a>1)return!1;n.add(t);var d=a+1;if(Array.isArray(t)){if(!Array.isArray(o)||t.length!==o.length)return!1;for(var c=0;c<t.length;c++)if(!e(t[c],o[c],d))return!1;return!0}if(t&&o&&"object"===(0,s.Z)(t)&&"object"===(0,s.Z)(o)){var u=Object.keys(t);return u.length===Object.keys(o).length&&u.every(function(r){return e(t[r],o[r],d)})}return!1}(e,t)},m=r("455069"),g=r("515680"),f=r("862020");function b(e,t,r){return(e-t)/(r-t)}function v(e,t,r,n){var o,a=(t-(o=r))/(n-o),l={};switch(e){case"rtl":l.right="".concat(100*a,"%"),l.transform="translateX(50%)";break;case"btt":l.bottom="".concat(100*a,"%"),l.transform="translateY(50%)";break;case"ttb":l.top="".concat(100*a,"%"),l.transform="translateY(-50%)";break;default:l.left="".concat(100*a,"%"),l.transform="translateX(-50%)"}return l}function x(e,t){return Array.isArray(e)?e[t]:e}var y={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=y.F1&&t<=y.F12)return!1;switch(t){case y.ALT:case y.CAPS_LOCK:case y.CONTEXT_MENU:case y.CTRL:case y.DOWN:case y.END:case y.ESC:case y.HOME:case y.INSERT:case y.LEFT:case y.MAC_FF_META:case y.META:case y.NUMLOCK:case y.NUM_CENTER:case y.PAGE_DOWN:case y.PAGE_UP:case y.PAUSE:case y.PRINT_SCREEN:case y.RIGHT:case y.SHIFT:case y.UP:case y.WIN_KEY:case y.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=y.ZERO&&e<=y.NINE||e>=y.NUM_ZERO&&e<=y.NUM_MULTIPLY||e>=y.A&&e<=y.Z||-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case y.SPACE:case y.QUESTION_MARK:case y.NUM_PLUS:case y.NUM_MINUS:case y.NUM_PERIOD:case y.NUM_DIVISION:case y.SEMICOLON:case y.DASH:case y.EQUALS:case y.COMMA:case y.PERIOD:case y.SLASH:case y.APOSTROPHE:case y.SINGLE_QUOTE:case y.OPEN_SQUARE_BRACKET:case y.BACKSLASH:case y.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},_=m.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),w=["prefixCls","value","valueIndex","onStartMove","style","render","dragging","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],j=m.forwardRef(function(e,t){var r,a=e.prefixCls,l=e.value,s=e.valueIndex,d=e.onStartMove,u=e.style,p=e.render,h=e.dragging,b=e.onOffsetChange,j=e.onChangeComplete,k=e.onFocus,N=e.onMouseEnter,T=(0,f.Z)(e,w),E=m.useContext(_),D=E.min,C=E.max,S=E.direction,I=E.disabled,M=E.keyboard,O=E.range,A=E.tabIndex,z=E.ariaLabelForHandle,L=E.ariaLabelledByForHandle,P=E.ariaValueTextFormatterForHandle,R=E.styles,Z=E.classNames,B="".concat(a,"-handle"),U=function(e){!I&&d(e,s)},F=v(S,l,D,C),H={};null!==s&&(H={tabIndex:I?null:x(A,s),role:"slider","aria-valuemin":D,"aria-valuemax":C,"aria-valuenow":l,"aria-disabled":I,"aria-label":x(z,s),"aria-labelledby":x(L,s),"aria-valuetext":null===(r=x(P,s))||void 0===r?void 0:r(l),"aria-orientation":"ltr"===S||"rtl"===S?"horizontal":"vertical",onMouseDown:U,onTouchStart:U,onFocus:function(e){null==k||k(e,s)},onMouseEnter:function(e){N(e,s)},onKeyDown:function(e){if(!I&&M){var t=null;switch(e.which||e.keyCode){case y.LEFT:t="ltr"===S||"btt"===S?-1:1;break;case y.RIGHT:t="ltr"===S||"btt"===S?1:-1;break;case y.UP:t="ttb"!==S?1:-1;break;case y.DOWN:t="ttb"!==S?-1:1;break;case y.HOME:t="min";break;case y.END:t="max";break;case y.PAGE_UP:t=2;break;case y.PAGE_DOWN:t=-2}null!==t&&(e.preventDefault(),b(t,s))}},onKeyUp:function(e){switch(e.which||e.keyCode){case y.LEFT:case y.RIGHT:case y.UP:case y.DOWN:case y.HOME:case y.END:case y.PAGE_UP:case y.PAGE_DOWN:null==j||j()}}});var V=m.createElement("div",(0,g.Z)({ref:t,className:c()(B,(0,o.Z)((0,o.Z)({},"".concat(B,"-").concat(s+1),null!==s&&O),"".concat(B,"-dragging"),h),Z.handle),style:(0,n.Z)((0,n.Z)((0,n.Z)({},F),u),R.handle)},H,T));return p&&(V=p(V,{index:s,prefixCls:a,value:l,dragging:h})),V}),k=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","onFocus"],N=m.forwardRef(function(e,t){var r=e.prefixCls,o=e.style,a=e.onStartMove,s=e.onOffsetChange,d=e.values,c=e.handleRender,u=e.activeHandleRender,p=e.draggingIndex,h=e.onFocus,b=(0,f.Z)(e,k),v=m.useRef({});m.useImperativeHandle(t,function(){return{focus:function(e){var t;null===(t=v.current[e])||void 0===t||t.focus()}}});var y=m.useState(-1),_=(0,l.Z)(y,2),w=_[0],N=_[1],T=(0,n.Z)({prefixCls:r,onStartMove:a,onOffsetChange:s,render:c,onFocus:function(e,t){N(t),null==h||h(e)},onMouseEnter:function(e,t){N(t)}},b);return m.createElement(m.Fragment,null,d.map(function(e,t){return m.createElement(j,(0,g.Z)({ref:function(e){e?v.current[t]=e:delete v.current[t]},dragging:p===t,style:x(o,t),key:t,value:e,valueIndex:t},T))}),u&&m.createElement(j,(0,g.Z)({key:"a11y"},T,{value:d[w],valueIndex:null,dragging:-1!==p,render:u,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),T=function(e){var t=e.prefixCls,r=e.style,a=e.children,l=e.value,s=e.onClick,d=m.useContext(_),u=d.min,p=d.max,h=d.direction,g=d.includedStart,f=d.includedEnd,b=d.included,x="".concat(t,"-text"),y=v(h,l,u,p);return m.createElement("span",{className:c()(x,(0,o.Z)({},"".concat(x,"-active"),b&&g<=l&&l<=f)),style:(0,n.Z)((0,n.Z)({},y),r),onMouseDown:function(e){e.stopPropagation()},onClick:function(){s(l)}},a)},E=function(e){var t=e.prefixCls,r=e.marks,n=e.onClick,o="".concat(t,"-mark");return r.length?m.createElement("div",{className:o},r.map(function(e){var t=e.value,r=e.style,a=e.label;return m.createElement(T,{key:t,prefixCls:o,style:r,value:t,onClick:n},a)})):null},D=function(e){var t=e.prefixCls,r=e.value,a=e.style,l=e.activeStyle,s=m.useContext(_),d=s.min,u=s.max,p=s.direction,h=s.included,g=s.includedStart,f=s.includedEnd,b="".concat(t,"-dot"),x=h&&g<=r&&r<=f,y=(0,n.Z)((0,n.Z)({},v(p,r,d,u)),"function"==typeof a?a(r):a);return x&&(y=(0,n.Z)((0,n.Z)({},y),"function"==typeof l?l(r):l)),m.createElement("span",{className:c()(b,(0,o.Z)({},"".concat(b,"-active"),x)),style:y})},C=function(e){var t=e.prefixCls,r=e.marks,n=e.dots,o=e.style,a=e.activeStyle,l=m.useContext(_),s=l.min,d=l.max,c=l.step,u=m.useMemo(function(){var e=new Set;if(r.forEach(function(t){e.add(t.value)}),n&&null!==c){for(var t=s;t<=d;)e.add(t),t+=c}return Array.from(e)},[s,d,c,n,r]);return m.createElement("div",{className:"".concat(t,"-step")},u.map(function(e){return m.createElement(D,{prefixCls:t,key:e,value:e,style:o,activeStyle:a})}))},S=function(e){var t,r,a=e.prefixCls,l=e.style,s=e.start,d=e.end,u=e.index,p=e.onStartMove,h=e.replaceCls,g=m.useContext(_),f=g.direction,b=g.min,v=g.max,x=g.disabled,y=g.range,w=g.classNames,j="".concat(a,"-track");var k=(s-(t=b))/(v-t);var N=(d-(r=b))/(v-r),T=function(e){!x&&p&&p(e,-1)},E={};switch(f){case"rtl":E.right="".concat(100*k,"%"),E.width="".concat(100*N-100*k,"%");break;case"btt":E.bottom="".concat(100*k,"%"),E.height="".concat(100*N-100*k,"%");break;case"ttb":E.top="".concat(100*k,"%"),E.height="".concat(100*N-100*k,"%");break;default:E.left="".concat(100*k,"%"),E.width="".concat(100*N-100*k,"%")}var D=h||c()(j,(0,o.Z)((0,o.Z)({},"".concat(j,"-").concat(u+1),null!==u&&y),"".concat(a,"-track-draggable"),p),w.track);return m.createElement("div",{className:D,style:(0,n.Z)((0,n.Z)({},E),l),onMouseDown:T,onTouchStart:T})},I=function(e){var t=e.prefixCls,r=e.style,o=e.values,a=e.startPoint,l=e.onStartMove,s=m.useContext(_),d=s.included,u=s.range,p=s.min,h=s.styles,g=s.classNames,f=m.useMemo(function(){if(!u){if(0===o.length)return[];var e=null!=a?a:p,t=o[0];return[{start:Math.min(e,t),end:Math.max(e,t)}]}for(var r=[],n=0;n<o.length-1;n+=1)r.push({start:o[n],end:o[n+1]});return r},[o,u,a,p]);if(!d)return null;var b=g.tracks||h.tracks?m.createElement(S,{index:null,prefixCls:t,start:f[0].start,end:f[f.length-1].end,replaceCls:c()(g.tracks,"".concat(t,"-tracks")),style:h.tracks}):null;return m.createElement(m.Fragment,null,b,f.map(function(e,o){var a=e.start,s=e.end;return m.createElement(S,{index:o,prefixCls:t,style:(0,n.Z)((0,n.Z)({},x(r,o)),h.track),start:a,end:s,key:o,onStartMove:l})}))},M=r("730933");function O(e){var t="touches"in e?e.touches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}r("33421");var A=function(e,t,r,n,o,s,d,c,u){var p=m.useState(null),h=(0,l.Z)(p,2),g=h[0],f=h[1],b=m.useState(-1),v=(0,l.Z)(b,2),x=v[0],y=v[1],_=m.useState(r),w=(0,l.Z)(_,2),j=w[0],k=w[1],N=m.useState(r),T=(0,l.Z)(N,2),E=T[0],D=T[1],C=m.useRef(null),S=m.useRef(null);m.useLayoutEffect(function(){-1===x&&k(r)},[r,x]),m.useEffect(function(){return function(){document.removeEventListener("mousemove",C.current),document.removeEventListener("mouseup",S.current),document.removeEventListener("touchmove",C.current),document.removeEventListener("touchend",S.current)}},[]);var I=function(e,t){j.some(function(t,r){return t!==e[r]})&&(void 0!==t&&f(t),k(e),d(e))},A=(0,M.Z)(function(e,t){if(-1===e){var r=E[0],l=E[E.length-1],d=t*(o-n);d=Math.min(d=Math.max(d,n-r),o-l),d=s(r+d)-r,I(E.map(function(e){return e+d}))}else{var c=(0,a.Z)(j);c[e]=E[e];var p=u(c,(o-n)*t,e,"dist");I(p.values,p.value)}});return[x,g,m.useMemo(function(){var e=(0,a.Z)(r).sort(function(e,t){return e-t}),t=(0,a.Z)(j).sort(function(e,t){return e-t});return e.every(function(e,r){return e===t[r]})?j:r},[r,j]),function(n,o,a){n.stopPropagation();var l=a||r,s=l[o];y(o),f(s),D(l);var d=O(n),u=d.pageX,p=d.pageY,h=function(r){r.preventDefault();var n,a=O(r),l=a.pageX,s=a.pageY,d=l-u,c=s-p,h=e.current.getBoundingClientRect(),m=h.width,g=h.height;switch(t){case"btt":n=-c/g;break;case"ttb":n=c/g;break;case"rtl":n=-d/m;break;default:n=d/m}A(o,n)},m=function e(t){t.preventDefault(),document.removeEventListener("mouseup",e),document.removeEventListener("mousemove",h),document.removeEventListener("touchend",e),document.removeEventListener("touchmove",h),C.current=null,S.current=null,y(-1),c()};document.addEventListener("mouseup",m),document.addEventListener("mousemove",h),document.addEventListener("touchend",m),document.addEventListener("touchmove",h),C.current=h,S.current=m}]},z=m.forwardRef(function(e,t){var r,d,g,f,b,v,x,y,w,j,k,T,D=e.prefixCls,S=void 0===D?"rc-slider":D,M=e.className,O=e.style,z=e.classNames,L=e.styles,P=e.disabled,R=void 0!==P&&P,Z=e.keyboard,B=void 0===Z||Z,U=e.autoFocus,F=e.onFocus,H=e.onBlur,V=e.min,W=void 0===V?0:V,G=e.max,q=void 0===G?100:G,K=e.step,X=void 0===K?1:K,Y=e.value,Q=e.defaultValue,J=e.range,$=e.count,ee=e.onChange,et=e.onBeforeChange,er=e.onAfterChange,en=e.onChangeComplete,ei=e.allowCross,eo=e.pushable,ea=void 0!==eo&&eo,el=e.draggableTrack,es=e.reverse,ed=e.vertical,ec=e.included,eu=void 0===ec||ec,ep=e.startPoint,eh=e.trackStyle,em=e.handleStyle,eg=e.railStyle,ef=e.dotStyle,eb=e.activeDotStyle,ev=e.marks,ex=e.dots,ey=e.handleRender,e_=e.activeHandleRender,ew=e.tabIndex,ej=void 0===ew?0:ew,ek=e.ariaLabelForHandle,eN=e.ariaLabelledByForHandle,eT=e.ariaValueTextFormatterForHandle,eE=m.useRef(null),eD=m.useRef(null),eC=m.useMemo(function(){return ed?es?"ttb":"btt":es?"rtl":"ltr"},[es,ed]),eS=m.useMemo(function(){return isFinite(W)?W:0},[W]),eI=m.useMemo(function(){return isFinite(q)?q:100},[q]),eM=m.useMemo(function(){return null!==X&&X<=0?1:X},[X]),eO=m.useMemo(function(){return"boolean"==typeof ea?!!ea&&eM:ea>=0&&ea},[ea,eM]),eA=m.useMemo(function(){return Object.keys(ev||{}).map(function(e){var t=ev[e],r={value:Number(e)};return t&&"object"===(0,s.Z)(t)&&!m.isValidElement(t)&&("label"in t||"style"in t)?(r.style=t.style,r.label=t.label):r.label=t,r}).filter(function(e){var t=e.label;return t||"number"==typeof t}).sort(function(e,t){return e.value-t.value})},[ev]);var ez=(r=eS,d=eI,g=eM,f=eA,b=void 0===ei||ei,v=eO,x=m.useCallback(function(e){return Math.max(r,Math.min(d,e))},[r,d]),y=m.useCallback(function(e){if(null!==g){var t=r+Math.round((x(e)-r)/g)*g,n=function(e){return(String(e).split(".")[1]||"").length},o=Math.max(n(g),n(d),n(r)),a=Number(t.toFixed(o));return r<=a&&a<=d?a:null}return null},[g,r,d,x]),w=m.useCallback(function(e){var t=x(e),n=f.map(function(e){return e.value});null!==g&&n.push(y(e)),n.push(r,d);var o=n[0],a=d-r;return n.forEach(function(e){var r=Math.abs(t-e);r<=a&&(o=e,a=r)}),o},[r,d,f,g,x,y]),j=function e(t,n,o){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit";if("number"==typeof n){var s,c=t[o],u=c+n,p=[];f.forEach(function(e){p.push(e.value)}),p.push(r,d),p.push(y(c));var h=n>0?1:-1;"unit"===l?p.push(y(c+h*g)):p.push(y(u)),p=p.filter(function(e){return null!==e}).filter(function(e){return n<0?e<=c:e>=c}),"unit"===l&&(p=p.filter(function(e){return e!==c}));var m="unit"===l?c:u,b=Math.abs((s=p[0])-m);if(p.forEach(function(e){var t=Math.abs(e-m);t<b&&(s=e,b=t)}),void 0===s)return n<0?r:d;if("dist"===l)return s;if(Math.abs(n)>1){var v=(0,a.Z)(t);return v[o]=s,e(v,n-h,o,l)}return s}if("min"===n)return r;if("max"===n)return d},k=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",o=e[r],a=j(e,t,r,n);return{value:a,changed:a!==o}},T=function(e){return null===v&&0===e||"number"==typeof v&&e<v},[w,function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",o=e.map(w),a=o[r],l=j(o,t,r,n);if(o[r]=l,!1===b){var s=v||0;r>0&&o[r-1]!==a&&(o[r]=Math.max(o[r],o[r-1]+s)),r<o.length-1&&o[r+1]!==a&&(o[r]=Math.min(o[r],o[r+1]-s))}else if("number"==typeof v||null===v){for(var d=r+1;d<o.length;d+=1){for(var c=!0;T(o[d]-o[d-1])&&c;){var u=k(o,1,d);o[d]=u.value,c=u.changed}}for(var p=r;p>0;p-=1){for(var h=!0;T(o[p]-o[p-1])&&h;){var m=k(o,-1,p-1);o[p-1]=m.value,h=m.changed}}for(var g=o.length-1;g>0;g-=1){for(var f=!0;T(o[g]-o[g-1])&&f;){var x=k(o,-1,g-1);o[g-1]=x.value,f=x.changed}}for(var y=0;y<o.length-1;y+=1){for(var _=!0;T(o[y+1]-o[y])&&_;){var N=k(o,1,y+1);o[y+1]=N.value,_=N.changed}}}return{value:o[r],values:o}}]),eL=(0,l.Z)(ez,2),eP=eL[0],eR=eL[1],eZ=(0,u.Z)(Q,{value:Y}),eB=(0,l.Z)(eZ,2),eU=eB[0],eF=eB[1],eH=m.useMemo(function(){var e=null==eU?[]:Array.isArray(eU)?eU:[eU],t=(0,l.Z)(e,1)[0],r=void 0===t?eS:t,n=null===eU?[]:[r];if(J){if(n=(0,a.Z)(e),$||void 0===eU){var o,s=$>=0?$+1:2;for(n=n.slice(0,s);n.length<s;)n.push(null!==(o=n[n.length-1])&&void 0!==o?o:eS)}n.sort(function(e,t){return e-t})}return n.forEach(function(e,t){n[t]=eP(e)}),n},[eU,J,eS,$,eP]),eV=m.useRef(eH);eV.current=eH;var eW=function(e){return J?e:e[0]},eG=function(e){var t=(0,a.Z)(e).sort(function(e,t){return e-t});ee&&!h(t,eV.current,!0)&&ee(eW(t)),eF(t)},eq=function(){var e=eW(eV.current);null==er||er(e),(0,p.ZP)(!er,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),null==en||en(e)},eK=A(eD,eC,eH,eS,eI,eP,eG,eq,eR),eX=(0,l.Z)(eK,4),eY=eX[0],eQ=eX[1],eJ=eX[2],e$=eX[3],e0=function(e,t){if(!R){var r,n,o=0,l=eI-eS;eH.forEach(function(t,r){var n=Math.abs(e-t);n<=l&&(l=n,o=r)});var s=(0,a.Z)(eH);s[o]=e,J&&!eH.length&&void 0===$&&s.push(e),null==et||et(eW(s)),eG(s),t&&(null===(r=document.activeElement)||void 0===r||null===(n=r.blur)||void 0===n||n.call(r),eE.current.focus(o),e$(t,o,s))}},e1=m.useState(null),e2=(0,l.Z)(e1,2),e4=e2[0],e5=e2[1];m.useEffect(function(){if(null!==e4){var e=eH.indexOf(e4);e>=0&&eE.current.focus(e)}e5(null)},[e4]);var e6=m.useMemo(function(){return(!el||null!==eM)&&el},[el,eM]),e3=function(e,t){e$(e,t),null==et||et(eW(eV.current))},e8=-1!==eY;m.useEffect(function(){if(!e8){var e=eH.lastIndexOf(eQ);eE.current.focus(e)}},[e8]);var e7=m.useMemo(function(){return(0,a.Z)(eJ).sort(function(e,t){return e-t})},[eJ]),e9=m.useMemo(function(){return J?[e7[0],e7[e7.length-1]]:[eS,e7[0]]},[e7,J,eS]),te=(0,l.Z)(e9,2),tt=te[0],tr=te[1];m.useImperativeHandle(t,function(){return{focus:function(){eE.current.focus(0)},blur:function(){var e,t=document.activeElement;null!==(e=eD.current)&&void 0!==e&&e.contains(t)&&(null==t||t.blur())}}}),m.useEffect(function(){U&&eE.current.focus(0)},[]);var tn=m.useMemo(function(){return{min:eS,max:eI,direction:eC,disabled:R,keyboard:B,step:eM,included:eu,includedStart:tt,includedEnd:tr,range:J,tabIndex:ej,ariaLabelForHandle:ek,ariaLabelledByForHandle:eN,ariaValueTextFormatterForHandle:eT,styles:L||{},classNames:z||{}}},[eS,eI,eC,R,B,eM,eu,tt,tr,J,ej,ek,eN,eT,L,z]);return m.createElement(_.Provider,{value:tn},m.createElement("div",{ref:eD,className:c()(S,M,(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},"".concat(S,"-disabled"),R),"".concat(S,"-vertical"),ed),"".concat(S,"-horizontal"),!ed),"".concat(S,"-with-marks"),eA.length)),style:O,onMouseDown:function(e){e.preventDefault();var t,r=eD.current.getBoundingClientRect(),n=r.width,o=r.height,a=r.left,l=r.top,s=r.bottom,d=r.right,c=e.clientX,u=e.clientY;switch(eC){case"btt":t=(s-u)/o;break;case"ttb":t=(u-l)/o;break;case"rtl":t=(d-c)/n;break;default:t=(c-a)/n}e0(eP(eS+t*(eI-eS)),e)}},m.createElement("div",{className:c()("".concat(S,"-rail"),null==z?void 0:z.rail),style:(0,n.Z)((0,n.Z)({},eg),null==L?void 0:L.rail)}),m.createElement(I,{prefixCls:S,style:eh,values:e7,startPoint:ep,onStartMove:e6?e3:void 0}),m.createElement(C,{prefixCls:S,marks:eA,dots:ex,style:ef,activeStyle:eb}),m.createElement(N,{ref:eE,prefixCls:S,style:em,values:eJ,draggingIndex:eY,onStartMove:e3,onOffsetChange:function(e,t){if(!R){var r=eR(eH,e,t);null==et||et(eW(eH)),eG(r.values),e5(r.value)}},onFocus:F,onBlur:H,handleRender:ey,activeHandleRender:e_,onChangeComplete:eq}),m.createElement(E,{prefixCls:S,marks:eA,onClick:e0})))}),L=z},668096:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var n=r(455069),o=r(828108),a=r.n(o),l=function(){return(l=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function s(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)0>t.indexOf(n[o])&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}var d=["aspectRatio","autoCrop","autoCropArea","background","center","checkCrossOrigin","checkOrientation","cropBoxMovable","cropBoxResizable","data","dragMode","guides","highlight","initialAspectRatio","minCanvasHeight","minCanvasWidth","minContainerHeight","minContainerWidth","minCropBoxHeight","minCropBoxWidth","modal","movable","preview","responsive","restore","rotatable","scalable","toggleDragModeOnDblclick","viewMode","wheelZoomRatio","zoomOnTouch","zoomOnWheel","zoomable","cropstart","cropmove","cropend","crop","zoom","ready"],c={opacity:0,maxWidth:"100%"},u=n.forwardRef(function(e,t){var r,o=s(e,[]),u=o.dragMode,p=void 0===u?"crop":u,h=o.src,m=o.style,g=o.className,f=o.crossOrigin,b=o.scaleX,v=o.scaleY,x=o.enable,y=o.zoomTo,_=o.rotateTo,w=o.alt,j=o.ready,k=o.onInitialized,N=s(o,["dragMode","src","style","className","crossOrigin","scaleX","scaleY","enable","zoomTo","rotateTo","alt","ready","onInitialized"]),T={scaleY:v,scaleX:b,enable:x,zoomTo:y,rotateTo:_},E=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,n.useRef)(null);return n.useEffect(function(){e.forEach(function(e){e&&("function"==typeof e?e(r.current):e.current=r.current)})},[e]),r}(t,(0,n.useRef)(null));(0,n.useEffect)(function(){var e;(null===(e=E.current)||void 0===e?void 0:e.cropper)&&"number"==typeof y&&E.current.cropper.zoomTo(y)},[o.zoomTo]),(0,n.useEffect)(function(){var e;(null===(e=E.current)||void 0===e?void 0:e.cropper)&&void 0!==h&&E.current.cropper.reset().clear().replace(h)},[h]),(0,n.useEffect)(function(){if(null!==E.current){var e=new(a())(E.current,l(l({dragMode:p},N),{ready:function(e){var t,r,n,o,a,l,s,d;null!==e.currentTarget&&(t=e.currentTarget.cropper,void 0===(r=T)&&(r={}),n=r.enable,o=r.scaleX,a=r.scaleY,s=void 0===(l=r.zoomTo)?0:l,d=r.rotateTo,void 0===n||n?t.enable():t.disable(),t.scaleX(void 0===o?1:o),t.scaleY(void 0===a?1:a),void 0!==d&&t.rotateTo(d),s>0&&t.zoomTo(s)),j&&j(e)}}));k&&k(e)}return function(){var e,t;null===(t=null===(e=E.current)||void 0===e?void 0:e.cropper)||void 0===t||t.destroy()}},[E]);var D=(r=l(l({},N),{crossOrigin:f,src:h,alt:void 0===w?"picture":w}),d.reduce(function(e,t){return e[t],s(e,["symbol"==typeof t?t:t+""])},r));return n.createElement("div",{style:m,className:g},n.createElement("img",l({},D,{style:c,ref:E})))})},275211:function(e,t,r){"use strict";r.d(t,{DE:function(){return u},MT:function(){return d},md:function(){return h},qC:function(){return p}});var n=r(894626);function o(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var a="function"==typeof Symbol&&Symbol.observable||"@@observable",l=function(){return Math.random().toString(36).substring(7).split("").join(".")},s={INIT:"@@redux/INIT"+l(),REPLACE:"@@redux/REPLACE"+l(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+l()}};function d(e,t,r){if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw Error(o(0));if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw Error(o(1));return r(d)(e,t)}if("function"!=typeof e)throw Error(o(2));var n,l=e,c=t,u=[],p=u,h=!1;function m(){p===u&&(p=u.slice())}function g(){if(h)throw Error(o(3));return c}function f(e){if("function"!=typeof e)throw Error(o(4));if(h)throw Error(o(5));var t=!0;return m(),p.push(e),function(){if(!!t){if(h)throw Error(o(6));t=!1,m();var r=p.indexOf(e);p.splice(r,1),u=null}}}function b(e){if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw Error(o(7));if(void 0===e.type)throw Error(o(8));if(h)throw Error(o(9));try{h=!0,c=l(c,e)}finally{h=!1}for(var t=u=p,r=0;r<t.length;r++)(0,t[r])();return e}return b({type:s.INIT}),(n={dispatch:b,subscribe:f,getState:g,replaceReducer:function(e){if("function"!=typeof e)throw Error(o(10));l=e,b({type:s.REPLACE})}})[a]=function(){var e;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw Error(o(11));function t(){e.next&&e.next(g())}return t(),{unsubscribe:f(t)}}})[a]=function(){return this},e},n}function c(e,t){return function(){return t(e.apply(this,arguments))}}function u(e,t){if("function"==typeof e)return c(e,t);if("object"!=typeof e||null===e)throw Error(o(16));var r={};for(var n in e){var a=e[n];"function"==typeof a&&(r[n]=c(a,t))}return r}function p(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}function h(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(){var r=e.apply(void 0,arguments),a=function(){throw Error(o(15))},l={getState:r.getState,dispatch:function(){return a.apply(void 0,arguments)}},s=t.map(function(e){return e(l)});return a=p.apply(void 0,s)(r.dispatch),(0,n.Z)((0,n.Z)({},r),{},{dispatch:a})}}}},578419:function(e,t,r){var n=r(323086);function o(e,t){var r,o,a,l=null;if(!e||"string"!=typeof e)return l;for(var s=n(e),d="function"==typeof t,c=0,u=s.length;c<u;c++)o=(r=s[c]).property,a=r.value,d?t(o,a,r):a&&(l||(l={}),l[o]=a);return l}e.exports=o,e.exports.default=o},988179:function(e,t,r){"use strict";r.d(t,{iN:()=>x,zb:()=>Z,A7:()=>K,Pj:()=>X,B5:()=>q});var n=r("808549"),o=r("151064"),a=r("455069"),l=r("354428"),s=r("336205"),d=r("674343"),c=r("775699"),u=r("486613"),p=r("479886"),h=r.n(p),m=r("287487"),g=r("388993"),f=r("707107"),b=r("214942"),v=r("178385");function x(e,t){var{botId:r}=g.G.getState(),o=m.Z.getUserInfo(),{space:{id:a,space_type:l}}=b.rY.getState(),s=l===v.Sn.Personal,d=Date.now();(0,f.Gg)(e,(0,n._)({user_id:null==o?void 0:o.user_id_str,timestamp:d,bot_id:r,workspace_id:a,workspace_type:s?"personal_workspace":"team_workspace"},t))}var y=e=>{try{if(!e)return e;var t=e.match(/timestamp:"(\d{10,13})"/);if(t){var r=null==t?void 0:t[1],n="YYYY-MM-DD HH:mm:ss",o="".concat(r).length;if(10===o)return'"'.concat(h().unix(Number(r)).format(n),'"');if(13===o)return'"'.concat(h()(Number(r)).format(n),'"')}return e}catch(t){return e}},_=r("157728"),w=()=>{var e=(0,_.useParams)(),t=e.space_id||"",r=e.bot_id||"";return{sendViewDiffEvent:()=>{(0,f.Gg)(f.Kg.bot_diff_viewdetail,{workspace_id:t,bot_id:r})},sendManualMergeEvent:e=>{(0,f.Gg)(f.Kg.bot_merge_manual,{workspace_id:t,bot_id:r,submit_or_not:e})}}},j=r("407821"),k=r.n(j),N=r("472772"),T=r.n(N),E=r("395245"),D=r.n(E),C=r("297998"),S=r.n(C),I=r("646576"),M=r.n(I),O=r("606121"),A=r.n(O),z=r("367689"),L={};L.styleTagTransform=A(),L.setAttributes=S(),L.insert=D().bind(null,"head"),L.domAPI=T(),L.insertStyleElement=M(),k()(z.Z,L);var P=z.Z&&z.Z.locals?z.Z.locals:void 0,R=e=>{try{return JSON.parse(e)}catch(e){return""}},Z=e=>{var t,{left:r,right:a,node:l}=e;if((null==l?void 0:null===(t=l.diff_res)||void 0===t?void 0:t.diff_style)===u.jY.TextDetail)return(0,o.jsx)(B,(0,n._)({},e));var s=y(r),d=y(a),p=null==s?void 0:s.includes("template_NewLine"),h=e=>(0,o.jsx)(c.ZT.Text,{className:P["multiline-text"],type:"secondary",size:"small",children:e.replaceAll("template_NewLine","\n")});return p?(0,o.jsxs)(c.ZT.Text,{className:P["multiline-container"],type:"secondary",size:"small",children:[h(null!=s?s:""),(0,o.jsx)(c.ZT.Text,{className:"mx-2",type:"secondary",size:"small",children:"->"}),h(null!=d?d:"")]}):(0,o.jsx)(c.ZT.Text,{type:"secondary",size:"small",ellipsis:{showTooltip:{opts:{content:"".concat(s," -> ").concat(d),style:{wordBreak:"break-word"}}}},children:"".concat(s," -> ").concat(d)})},B=e=>{var t,r,n,u,{node:p,type:h="diff"}=e,m="diff"===h,[g,f]=(0,a.useState)(!1),{sendViewDiffEvent:b}=w(),v=R(null===(t=R(null==p?void 0:null===(r=p.diff_res)||void 0===r?void 0:r.origin_left))||void 0===t?void 0:t.OriginStr),x=R(null===(n=R(null==p?void 0:null===(u=p.diff_res)||void 0===u?void 0:u.origin_right))||void 0===n?void 0:n.OriginStr);return(0,o.jsxs)("div",{children:[(0,o.jsx)(c.ZT.Text,{link:!0,onClick:()=>{f(!0),b()},className:"text-xs",children:s.o.t("coze_bot_diff_btn_view_diff")}),(0,o.jsx)(d.u_,{visible:g,title:(0,o.jsx)("div",{className:"flex gap-1 items-center",children:s.o.t("coze_bot_diff_diffdetail_pagetitle")}),footer:null,width:1e3,onCancel:()=>{f(!1)},children:(0,o.jsxs)("div",{className:P["editor-container"],children:[(0,o.jsxs)("div",{className:P["editor-header"],children:[(0,o.jsx)("div",{className:P["editor-title"],children:s.o.t(m?"coze_bot_diff_diffdetail_latestversion":"coze_bot_diff_diffdetail_onlineversion")}),(0,o.jsx)(c.iz,{className:P["editor-divider"],layout:"vertical"}),(0,o.jsx)("div",{className:P["editor-title"],children:s.o.t(m?"coze_bot_diff_diffdetail_mydraft":"coze_bot_diff_diffdetail_tobereleasedversion")})]}),(0,o.jsx)("div",{className:"h-[600px]",children:(0,o.jsx)(l.DiffEditor,{theme:"light",className:P.editor,original:v,modified:x,language:"text",options:{minimap:{enabled:!1},wordWrap:"on",diffWordWrap:"on",lineNumbers:"on",readOnly:!0,scrollBeyondLastLine:!1,renderOverviewRuler:!1,enableSplitViewResizing:!1,unicodeHighlight:{ambiguousCharacters:!1},suggestLineHeight:32,lineHeight:20,fontSize:12},loading:(0,o.jsx)("div",{className:"h-[100%] w-[100%] flex items-center justify-center",children:(0,o.jsx)(c.yC,{})})})})]})})]})},U=r("252237"),F=r.n(U),H=r("675940"),V={};V.styleTagTransform=A(),V.setAttributes=S(),V.insert=D().bind(null,"head"),V.domAPI=T(),V.insertStyleElement=M(),k()(H.Z,V);var W=H.Z&&H.Z.locals?H.Z.locals:void 0,G=e=>{var{dataSource:t}=e,[r,n]=(0,a.useState)(!1),l=()=>{n(!1)};return{node:(0,o.jsx)(c.M5,{type:"info",title:s.o.t("publish_terms_title"),visible:r,centered:!0,footer:(0,o.jsx)(c.y3,{onClick:l,theme:"solid",children:s.o.t("got_it")}),onCancel:l,children:(0,o.jsx)(c.aV,{dataSource:t,renderItem:e=>(0,o.jsx)(c.aV.Item,{className:W.list,align:"center",header:(0,o.jsxs)("div",{className:"flex items-center w-full",children:[(0,o.jsx)(c.Ee,{className:"border-1",src:e.icon,width:24,height:24,preview:!1,style:{flexShrink:0}}),(0,o.jsx)(c.ZT.Text,{className:"ml-2 font-semibold ",style:{minWidth:90},ellipsis:{showTooltip:{opts:{content:e.name}}},children:e.name})]}),main:(0,o.jsxs)(c.T,{spacing:0,className:"justify-end",children:[e.privacy_policy?(0,o.jsx)(c.y3,{theme:"borderless",className:"!px-2",children:(0,o.jsx)(c.ZT.Text,{link:{href:e.privacy_policy,target:"_blank"},children:s.o.t("about_privacy_policy")})}):null,e.user_agreement?(0,o.jsx)(c.y3,{theme:"borderless",className:"!px-2",children:(0,o.jsx)(c.ZT.Text,{link:{href:e.user_agreement,target:"_blank"},children:s.o.t("terms_of_service")})}):null]})})})}),close:l,open:()=>{n(!0)}}},q=e=>{var{termServiceData:t,scene:r="bot",className:n}=e,{node:a,open:l}=G({dataSource:t});return(0,o.jsxs)(o.Fragment,{children:[a,(0,o.jsx)(d.ZT.Text,{className:F()("py-[12px] coz-fg-primary leading-[16px]",n),children:s.o.t("bot"===r?"bot_publish_select_desc_compliance_new":"project_publish_select_desc_compliance_new",{publish_terms_title:(0,o.jsx)(d.ZT.Text,{link:!0,onClick:l,className:"!coz-fg-hglt !font-normal",children:s.o.t("publish_terms_title")})})})]})},K=20,X=8},484621:function(e,t,r){"use strict";r.d(t,{ct:function(){return a},j9:function(){return s},tG:function(){return d}});var n,o=r(455069);var a=((n={}).Bot="bot",n.DouyinBot="douyin-bot",n),l=(0,o.createContext)({scene:"bot"}),s=l.Provider,d=()=>{var e=(0,o.useContext)(l);if(!e)throw Error("useBotCreatorContext must be used within a BotCreatorProvider");return e}},360823:function(e,t,r){"use strict";r.d(t,{Eh:()=>E,n:()=>F,dI:()=>H});var n,o=r("151064"),a=r("455069"),l=r("252237"),s=r.n(l),d=r("916672"),c=a.createContext({}),u=c.Provider,p=r("407821"),h=r.n(p),m=r("472772"),g=r.n(m),f=r("395245"),b=r.n(f),v=r("297998"),x=r.n(v),y=r("646576"),_=r.n(y),w=r("606121"),j=r.n(w),k=r("632032"),N={};N.styleTagTransform=j(),N.setAttributes=x(),N.insert=b().bind(null,"head"),N.domAPI=g(),N.insertStyleElement=_(),h()(k.Z,N);var T=k.Z&&k.Z.locals?k.Z.locals:void 0,E=e=>{var t,{className:r,style:n,children:l,showBackground:c}=e,[p,h]=(0,a.useState)(""),m=null===(t=a.Children.map(l,e=>e))||void 0===t?void 0:t.filter(Boolean);return(0,o.jsx)("div",{className:s()(T["debug-tool-list"],r),style:n,"data-testid":"bot-detail.debug-tool-list",children:(0,o.jsx)(d.D,{className:T["tool-overflow-list"],items:m,overflowRenderer:()=>null,visibleItemRenderer:(e,t)=>(0,o.jsx)(u,{value:{hideTitle:!0,focusItemKey:p,focusDragModal:e=>h(e),showBackground:c},children:e},t),collapseFrom:"end"})})},D=r("825955"),C=r("808549"),S=r("120454"),I=r("529801"),M=r("136515"),O=r("775699"),A=r("473980"),z=r("915757"),L=r("674343"),P=e=>"".concat(e.withDropdown,"-").concat(e.withTitle),R=e=>({paddingLeft:e.left,paddingRight:e.right}),Z=[{withDropdown:!0,withTitle:!0,left:15,right:9},{withDropdown:!0,withTitle:!1,left:8,right:6},{withDropdown:!1,withTitle:!0,left:15,right:15},{withDropdown:!1,withTitle:!1,left:8,right:8}].reduce((e,t)=>(e[P(t)]=R(t),e),{}),B=e=>Z[P(e)],U=e=>{var{withBackground:t,hideTitle:r,menuContent:n,children:l,buttonProps:d,menuProps:c,className:u,icon:p,tooltipContent:h,active:m,clickToHide:g=!0}=e,[f,b]=(0,a.useState)(!1),v=!!n,x=B({withDropdown:v,withTitle:!r}),y=d||{},{style:_}=y,w=(0,A._)(y,["style"]),j=(0,o.jsx)(L.zx,(0,S._)((0,C._)({className:s()(u,t&&"!coz-fg-images-white","mr-[4px]"),color:m?"highlight":"secondary",icon:null,style:(0,C._)({},x,_),onMouseEnter:e=>{var t;null==w||null===(t=w.onMouseEnter)||void 0===t||t.call(w,e),b(!0)},onMouseLeave:e=>{var t;null==w||null===(t=w.onMouseLeave)||void 0===t||t.call(w,e),b(!1)}},(0,I.Z)(w,"onMouseEnter","onMouseLeave")),{children:(0,o.jsxs)("div",{className:"flex items-center text-[14px] gap-[3px]",children:[(0,o.jsx)("span",{className:"inline-flex text-[16px] items-center",children:p}),r?null:l,v?(0,o.jsx)(z.C_O,{className:"!ml-0"}):null]})}));return(0,o.jsx)(L.u,{content:h||l,trigger:"custom",visible:f,children:v?(0,o.jsx)(L.v2,(0,S._)((0,C._)({clickToHide:g,render:n},c),{children:j})):j})};var F=((n={}).MODAL="modal",n.DROPDOWN="dropdown",n.CUSTOM="custom",n),H=e=>{var t,{className:r,style:n,visible:l=!0,itemKey:s,icon:d,title:u,operateType:p,customShowOperateArea:h,beforeVisible:m,children:g,modalType:f="center",modalProps:b,dropdownProps:v,onEntryButtonClick:x,buttonProps:y={}}=e,{hideTitle:_,focusItemKey:w,focusDragModal:j,reComputeOverflow:k,showBackground:N}=(0,a.useContext)(c),T=w===s,[E,A]=(0,a.useState)(!1);(0,M.Z)(()=>{l||null==k||k()},[l]);var z=(t=(0,D._)(function*(){if(null==x||x(),"dropdown"!==p){if("custom"===p){null==m||m();return}!E&&(yield null==m?void 0:m(),null==j||j(s)),A(!E)}}),function(){return t.apply(this,arguments)}),L=E||"custom"===p&&h;if(!l)return null;var P=()=>(0,o.jsx)(U,{tooltipContent:u,icon:d,hideTitle:!!_,withBackground:!!N,menuContent:null==v?void 0:v.render,menuProps:(0,I.Z)(v||{},"render"),active:L,buttonProps:(0,C._)({onClick:z,style:n},y),className:r,children:u});return(0,o.jsxs)(o.Fragment,{children:["modal"===p&&(0,o.jsxs)(o.Fragment,{children:[P(),"center"===f&&(0,o.jsx)(O.M5,(0,S._)((0,C._)({},b),{zIndex:1e3,keepDOM:!1,centered:!0,visible:E,onCancel:()=>A(!1),children:g})),"drag"===f&&(0,o.jsx)(O.dG,(0,S._)((0,C._)({},b),{focusKey:s,zIndex:T?1e3:999,title:(null==b?void 0:b.title)||u,visible:E,onCancel:()=>A(!1),onWindowFocus:j,children:g}))]}),"dropdown"===p&&P(),"custom"===p&&P()]})}},225781:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>u});var n=r("151064"),o=r("157728"),a=r("455069"),l=r("827331"),s=r("85608"),d=r("484621"),c=(0,a.lazy)(()=>r.e("4108").then(r.bind(r,497488)).then(e=>({default:e.BotEditorInitLayoutAdapter}))),u=()=>{var{requireBotEditorInit:e,pageName:t,hasHeader:r}=(0,l.kR)();return(0,n.jsx)(d.j9,{value:{scene:d.ct.Bot},children:(0,n.jsx)(s.Ey,{children:e?(0,n.jsx)(a.Suspense,{children:(0,n.jsx)(c,{pageName:t,hasHeader:r,children:(0,n.jsx)(a.Suspense,{children:(0,n.jsx)(o.Outlet,{})})})}):(0,n.jsx)(a.Suspense,{children:(0,n.jsx)(o.Outlet,{})})})})}},601477:function(e,t,r){"use strict";r.d(t,{S:function(){return m}});var n=r(808549),o=r(120454),a=r(151064),l=r(336205),s=r(674343),d=r(707107),c=r(775699),u=r(178385),p=r(790426),h=r(150500),m=e=>{var{status:t,id:r,agentType:m="bot",channelName:g,revokeSuccess:f,origin:b,authInfo:v,isMouseIn:x=!0,isV2:y=!1,v2ButtonProps:_={color:"highlight",size:"small"},onBeforeAuthRedirect:w}=e,j=[u._6.Configured,u._6.Configuring].includes(t),k=()=>{if(!(0,h.Tn)(v)){(0,h.ci)();return}("publish"===b&&t===u._6.NotConfigured||"setting"===b&&t===u.tD.Unauthorized)&&((0,d.Gg)("publish"===b?d.Kg.publish_oauth_button_click:d.Kg.settings_oauth_button_click,{action:"",channel_name:g}),null==w||w({id:r,authInfo:v,origin:b}),(0,h.OF)({id:r,authInfo:v,origin:b})),("publish"===b&&j||"setting"===b&&t===u.tD.Authorized)&&((0,d.Gg)("publish"===b?d.Kg.publish_oauth_button_click:d.Kg.settings_oauth_button_click,{action:"",channel_name:g}),E())},{revokeLoading:N,runRevoke:T}=(0,h.To)({id:r,onRevokeSuccess:f,onRevokeFinally:()=>D()}),{open:E,close:D,modal:C,visible:S}=(0,c.q0)({confirmLoading:N,type:"info",title:l.o.t("user_revoke_authorization_title"),onOk:T,okText:l.o.t("Confirm"),cancelText:l.o.t("Cancel"),icon:(0,a.jsx)(p.Z,{style:{color:"var(--semi-color-danger)"},size:"extra-large"}),onCancel:()=>{D()},okButtonProps:{type:"danger"}}),I=l.o.t(j?"bot_publish_columns_action_revoke_authorize":"bot_publish_columns_action_authorize"),M=y?(0,a.jsx)(s.zx,(0,o._)((0,n._)({onClick:k},_),{children:I})):(0,a.jsx)(c.y3,{onClick:k,theme:"borderless",children:I});return t===u._6.Configured?(0,a.jsxs)(a.Fragment,{children:[x||S?M:null,C("project"===m?(0,a.jsx)(c.ZT.Text,{type:"secondary",children:l.o.t("project_release_cancel1_desc")}):null)]}):M}},493278:function(e,t,r){"use strict";r.d(t,{T:function(){return h}});var n=r(151064),o=r(336205),a=r(775699),l=r(486613),s=r(988179),d=r(561641),c=r(269087),u=r(841622),p={[l.sv.Add]:"devops_publish_multibranch_changeset_add",[l.sv.Delete]:"devops_publish_multibranch_changeset_delete",[l.sv.Modify]:"devops_publish_multibranch_changeset_modify",[l.sv.Remove]:"devops_publish_multibranch_changeset_remove"},h=e=>{var{diffData:t,hasError:r}=e;return(0,n.jsx)("div",{className:u.Z.container,children:(null==t?void 0:t.length)>0?t.map(e=>{var t;return(0,n.jsxs)("div",{className:u.Z["info-block"],children:[(0,n.jsx)("div",{className:u.Z["info-title"],children:e.display_name}),(null==e?void 0:null===(t=e.sub_nodes)||void 0===t?void 0:t.length)?(0,n.jsx)(m,{blockDiffData:e.sub_nodes}):null]},e.display_name)}):(0,n.jsxs)("div",{className:u.Z["empty-container"],children:[(0,n.jsx)("img",{src:c.Z}),(0,n.jsx)(a.ZT.Text,{className:u.Z["empty-info"],children:o.o.t(r?"devops_publish_multibranch_NetworkError":"devops_publish_multibranch_nodiff")})]})})},m=e=>{var{blockDiffData:t}=e,r=[{title:o.o.t("devops_publish_multibranch_property"),width:280,render:e=>(0,n.jsxs)(a.ZT.Text,{ellipsis:{showTooltip:{opts:{content:e.display_name,className:u.Z["property-tooltip"]}}},className:u.Z["cell-span"],children:[e.level>0?(0,n.jsx)(a.ZT.Text,{style:{marginLeft:s.Pj+s.A7*(e.level-1),marginRight:8},children:"-"}):null,e.display_name]})},{title:o.o.t("devops_publish_multibranch_changetype"),render:e=>{var t;return e.diff_res&&(null===(t=e.diff_res)||void 0===t?void 0:t.action)!==l.sv.Unknown?(0,n.jsx)(a.fS,{className:u.Z["tag-".concat(e.diff_res.action)],children:o.o.t(p[e.diff_res.action])}):""},width:120},{title:o.o.t("devops_publish_multibranch_changes"),render:e=>{var t,r,o;return(null==e?void 0:null===(t=e.diff_res)||void 0===t?void 0:t.action)===l.sv.Modify?(0,n.jsx)(s.zb,{node:e,left:(null==e?void 0:null===(r=e.diff_res)||void 0===r?void 0:r.display_left)||"",right:(null==e?void 0:null===(o=e.diff_res)||void 0===o?void 0:o.display_right)||""}):""},ellipsis:!0}];return t?(0,n.jsx)(a.iA,{dataSource:(0,d.pX)(t),columns:r,pagination:!1,onRow:()=>({className:u.Z["table-row"]}),className:u.Z["diff-table"]}):null}},714393:function(e,t,r){"use strict";r.d(t,{LH:function(){return h}});var n=r(151064),o=r(336205),a=r(775699),l=r(486613),s=r(988179),d=r(561641),c=r(269087),u=r(841622),p={[l.sv.Add]:"devops_publish_multibranch_changeset_add",[l.sv.Delete]:"devops_publish_multibranch_changeset_delete",[l.sv.Modify]:"devops_publish_multibranch_changeset_modify",[l.sv.Remove]:"devops_publish_multibranch_changeset_remove"},h=e=>{var{diffData:t,hasError:r,type:l="diff"}=e;return(0,n.jsxs)("div",{className:u.Z.container,children:[(null==t?void 0:t.length)>0?t.map(e=>{var t,r;return(0,n.jsxs)("div",{className:u.Z["info-block"],children:[(0,n.jsx)("div",{className:u.Z["info-title"],children:e.display_name}),(null==e?void 0:null===(t=e.sub_nodes)||void 0===t?void 0:t.length)?null==e?void 0:null===(r=e.sub_nodes)||void 0===r?void 0:r.map((e,t)=>(0,n.jsx)(m,{node:e,type:l},t)):null]},e.display_name)}):(0,n.jsxs)("div",{className:u.Z["empty-container"],children:[(0,n.jsx)("img",{src:c.Z}),(0,n.jsx)(a.ZT.Text,{className:u.Z["empty-info"],children:o.o.t(r?"devops_publish_multibranch_NetworkError":"devops_publish_multibranch_nodiff")})]}),(0,n.jsx)("div",{className:"h-[32px]"}),(0,n.jsx)("div",{className:u.Z.mask})]})},m=e=>{var t,{node:r,type:o="diff"}=e,{display_name:a}=r;return(0,n.jsxs)("div",{children:[a?(0,n.jsx)("div",{className:u.Z["info-subtitle"],children:a}):(0,n.jsx)(n.Fragment,{}),(null==r?void 0:null===(t=r.sub_nodes)||void 0===t?void 0:t.length)?(0,n.jsx)(g,{blockDiffData:null==r?void 0:r.sub_nodes,type:o}):null]})},g=e=>{var{blockDiffData:t,type:r="diff"}=e;if(!t)return null;var c=e=>(0,n.jsxs)(a.ZT.Text,{ellipsis:{showTooltip:{opts:{content:e.display_name,className:u.Z["property-tooltip"]}}},className:u.Z["property-title"],children:[e.level>0?(0,n.jsx)(a.ZT.Text,{style:{marginLeft:s.Pj+s.A7*(e.level-1),marginRight:8},children:"-"}):null,e.display_name]}),h=e=>{var t;return e.diff_res&&(null===(t=e.diff_res)||void 0===t?void 0:t.action)!==l.sv.Unknown?(0,n.jsx)(a.fS,{className:u.Z["tag-".concat(e.diff_res.action)],children:o.o.t(p[e.diff_res.action])}):""},m=e=>{var t,o,a;return(null==e?void 0:null===(t=e.diff_res)||void 0===t?void 0:t.action)===l.sv.Modify?(0,n.jsx)(s.zb,{left:(null==e?void 0:null===(o=e.diff_res)||void 0===o?void 0:o.display_left)||"",right:(null==e?void 0:null===(a=e.diff_res)||void 0===a?void 0:a.display_right)||"",node:e,type:r}):""};return(0,n.jsx)(a.aV,{dataSource:(0,d.pX)(t),bordered:!0,className:u.Z.list,renderItem:e=>(0,n.jsx)(a.aV.Item,{children:(0,n.jsxs)("div",{className:u.Z["list-item"],children:[c(e),(0,n.jsxs)("div",{children:[" ",h(e)]}),m(e)]})})})}},243238:function(e,t,r){"use strict";r.d(t,{S:()=>es,O:()=>ey});var n,o=r("151064"),a=r("336205"),l=r("674343"),s=r("775699"),d=r("178385"),c=r("157728"),u=r("825955"),p=r("808549"),h=r("120454"),m=r("455069"),g=r("735114"),f=r("499283");var b=((n={})[n.NotQuery=0]="NotQuery",n[n.GetBindConnectorConfig=1]="GetBindConnectorConfig",n[n.SaveBindConnectorConfig=2]="SaveBindConnectorConfig",n[n.BindConnector=3]="BindConnector",n[n.UnBindConnector=4]="UnBindConnector",n),v=r("382534"),x=r("39663"),y=r("978028"),_=r("475759"),w=e=>{var t,r,n,o,a,l,{botId:s,origin:d="bot",schemaPages:p,onNextStepSuccess:h,onNextStepError:f}=e,[x,y]=(0,m.useState)(0),{space_id:_=""}=(0,c.useParams)(),w="bot"===d?0:1,j=null!==(l=null==p?void 0:null===(a=p[x])||void 0===a?void 0:a.api_action)&&void 0!==l?l:b.BindConnector;var k={[b.NotQuery]:(0,u._)(function*(){return yield Promise.resolve()}),[b.GetBindConnectorConfig]:(t=(0,u._)(function*(e){var t,r;return yield v.nA.GetBindConnectorConfig({connector_id:null!==(t=null==e?void 0:e.connectorId)&&void 0!==t?t:"",detail:null!==(r=null==e?void 0:e.assignFormValue)&&void 0!==r?r:{},agent_type:w,bot_id:s,space_id:_})}),function(e){return t.apply(this,arguments)}),[b.SaveBindConnectorConfig]:(r=(0,u._)(function*(e){var t,r;return yield v.nA.SaveBindConnectorConfig({connector_id:null!==(t=null==e?void 0:e.connectorId)&&void 0!==t?t:"",detail:null!==(r=null==e?void 0:e.assignFormValue)&&void 0!==r?r:{},agent_type:w,bot_id:s,space_id:_})}),function(e){return r.apply(this,arguments)}),[b.BindConnector]:(n=(0,u._)(function*(e){var t,r;return yield v.nA.BindConnector({connector_id:null!==(t=null==e?void 0:e.connectorId)&&void 0!==t?t:"",connector_info:null!==(r=null==e?void 0:e.assignFormValue)&&void 0!==r?r:{},agent_type:w,bot_id:s,space_id:_},{__disableErrorToast:!0})}),function(e){return n.apply(this,arguments)})};var{run:N,loading:T}=(0,g.Z)((o=(0,u._)(function*(e){return yield k[j](e)}),function(e){return o.apply(this,arguments)}),{manual:!0,ready:Object.keys(k).includes(String(j)),onSuccess:e=>{null==h||h({data:e,action:j})},onError:e=>{f(e)}});return{run:N,loading:T,step:x,setStep:y}},j=r("484782"),k=r("407821"),N=r.n(k),T=r("472772"),E=r.n(T),D=r("395245"),C=r.n(D),S=r("297998"),I=r.n(S),M=r("646576"),O=r.n(M),A=r("606121"),z=r.n(A),L=r("642801"),P={};P.styleTagTransform=z(),P.setAttributes=I(),P.insert=C().bind(null,"head"),P.domAPI=E(),P.insertStyleElement=O(),N()(L.Z,P);var R=L.Z&&L.Z.locals?L.Z.locals:void 0,Z=e=>{var t,{copyLinkAreaInfo:r={},agentType:n="bot",botId:a="",initValue:l={}}=e,d=e=>{var t=null!=e?e:"";return t&&(t=(t="project"===n?t.replace(/{project_id}/g,a):t.replace(/{bot_id}/g,a)).replace(/{hostname}/g,window.location.hostname).replace(/{corp_id}/g,l.corp_id)),t};return(0,o.jsxs)("div",{className:R["link-area"],children:[(null==r?void 0:r.title_text)?(0,o.jsxs)(s.T,{spacing:12,align:"start",children:[(0,o.jsx)("span",{className:R["step-order"],children:r.step_order||1}),(0,o.jsx)("div",{className:R["step-content"],children:(0,o.jsx)("div",{className:R["step-title"],children:r.title_text})})]}):null,(null==r?void 0:r.description)?(0,o.jsx)(j.D,{skipHtml:!0,className:R.markdown,children:r.description}):null,(null==r?void 0:null===(t=r.link_list)||void 0===t?void 0:t.length)?(0,o.jsx)("div",{className:R["link-list"],children:null==r?void 0:r.link_list.map(e=>(0,o.jsxs)("div",{style:{marginBottom:32},children:[(0,o.jsx)(s.ZT.Title,{className:R.title,children:e.title}),(0,o.jsx)(s.ZT.Text,{className:R.link,copyable:!0,children:d(e.link)})]},e.link))}):null]})},B=r("783915"),U={};U.styleTagTransform=z(),U.setAttributes=I(),U.insert=C().bind(null,"head"),U.domAPI=E(),U.insertStyleElement=O(),N()(B.Z,U);var F=B.Z&&B.Z.locals?B.Z.locals:void 0,H=e=>{var{connectorConfigInfo:t={}}=e;return(0,o.jsxs)("div",{className:F.guide,children:[(null==t?void 0:t.start_text)?(0,o.jsx)(j.D,{skipHtml:!0,linkTarget:"_blank",className:F.markdown,children:null==t?void 0:t.start_text}):null,(null==t?void 0:t.guide_link_url)&&(null==t?void 0:t.guide_link_text)?(0,o.jsx)("div",{children:(0,o.jsx)(s.ZT.Text,{link:{href:null==t?void 0:t.guide_link_url},className:F["config-link"],children:null==t?void 0:t.guide_link_text})}):null]})},V=r("61279"),W=r("297158"),G=r("915757"),q=r("298203"),K=r("293758"),X={};X.styleTagTransform=z(),X.setAttributes=I(),X.insert=C().bind(null,"head"),X.domAPI=E(),X.insertStyleElement=O(),N()(K.Z,X);var Y=K.Z&&K.Z.locals?K.Z.locals:void 0,Q=e=>{var{formItemSchema:t,isReadOnly:r,initValue:n}=e,d=null==n?void 0:n[t.name];if(r){;return(0,o.jsxs)("div",{className:Y["disable-field"],children:[(0,o.jsx)("div",{className:Y.title,children:t.title}),"array"===t.type?(0,o.jsx)(l.QS,{tagList:(u=d,h=t.enums,(m=(0,q.f5)(u))?m.map(e=>{var t,r;return{children:null!==(r=null==h?void 0:null===(t=h.find(t=>t.value===e))||void 0===t?void 0:t.label)&&void 0!==r?r:e}}):[])}):(0,o.jsx)(s.ZT.Text,{style:{width:"100%"},ellipsis:{showTooltip:{opts:{content:d,style:{wordBreak:"break-word"}}}},children:d})]})}function c(e){var t,r,n=(null!==(t=e.rules)&&void 0!==t?t:[]).map(t=>{var r=t.message?a.o.t(t.message,{field:e.name}):void 0;return(0,p._)({},t,r&&{message:r})});return n.push({required:e.required,message:a.o.t("bot_publish_field_placeholder",{field:null!==(r=e.title)&&void 0!==r?r:""})}),n}if(!t.name)return null;switch(t.component){case"Input":if("array"===t.type){var u,h,m,g,f=[];try{f=JSON.parse(d)}catch(e){W.kg.error({error:e}),f=[]}return!f.length&&f.push(""),(0,o.jsx)(l.OF,{field:t.name,initValue:f,children:e=>{var{arrayFields:r,add:n}=e;return(0,o.jsxs)(o.Fragment,{children:[r.map((e,n)=>{var l,{key:d,field:u,remove:p}=e;return(0,o.jsx)(s.K9,{placeholder:a.o.t("bot_publish_field_placeholder",{field:null!==(l=t.title)&&void 0!==l?l:""}),field:u,label:t.title,noLabel:n>0,required:t.required,rules:c(t),fieldClassName:Y.input,suffix:r.length<=1?null:(0,o.jsx)(G.dVD,{onClick:p})},d)}),(0,o.jsx)(l.zx,{className:Y["link-button"],color:"highlight",size:"small",icon:(0,o.jsx)(G.PwN,{}),onClick:n,children:a.o.t("binding_add_card")})]})}})}return(0,o.jsx)(s.K9,{placeholder:a.o.t("bot_publish_field_placeholder",{field:null!==(g=t.title)&&void 0!==g?g:""}),field:t.name,label:t.title,required:t.required,showClear:!0,rules:c(t),initValue:d},t.name);case"Select":var b="array"===t.type,v=b?(0,q.f5)(d):d;return(0,o.jsx)(s.l0.Select,{placeholder:"Enter ".concat(t.title),field:t.name,label:t.title,optionList:t.enums,multiple:b,rules:c(t),initValue:v},t.name);default:return null}},J=r("205136"),$={};$.styleTagTransform=z(),$.setAttributes=I(),$.insert=C().bind(null,"head"),$.domAPI=E(),$.insertStyleElement=O(),N()(J.Z,$);var ee=J.Z&&J.Z.locals?J.Z.locals:void 0,et=(0,m.forwardRef)((e,t)=>{var r,n,a,l,{schemaAreaInfo:d,initValue:c,getFormDisable:p,isReadOnly:h,setErrorMessage:g}=e,f=(0,m.useRef)(),b=(0,V.Z)();(0,m.useImperativeHandle)(t,()=>({submit:(0,u._)(function*(){var e,t=yield null===(e=f.current)||void 0===e?void 0:e.validate();return Object.fromEntries(Object.entries(null!=t?t:{}).map(e=>{var[t,r]=e;return[t,Array.isArray(r)?JSON.stringify(r):r]}))}),reset:()=>{var e;return null===(e=f.current)||void 0===e?void 0:e.reset()}})),(0,m.useEffect)(()=>{b()},[d]);var v=(null==d?void 0:null===(r=d.schema_list)||void 0===r?void 0:r.filter(e=>e.required).some(e=>{var t,r=null===(t=f.current)||void 0===t?void 0:t.getValue(e.name);return Array.isArray(r)?!r.length||1===r.length&&!r[0]:!r}))||!(null==d?void 0:null===(n=d.schema_list)||void 0===n?void 0:n.length);return(0,m.useEffect)(()=>{p(v)},[v]),(0,o.jsxs)("div",{children:[(null==d?void 0:d.title_text)?(0,o.jsxs)(s.T,{spacing:12,align:"start",children:[(0,o.jsx)("span",{className:ee["step-order"],children:d.step_order||2}),(0,o.jsx)("div",{className:ee["step-content"],children:(0,o.jsx)("div",{className:ee["step-title"],children:d.title_text})})]}):null,(null==d?void 0:d.description)?(0,o.jsx)(j.D,{skipHtml:!0,className:ee.markdown,children:null==d?void 0:d.description}):null,(null==d?void 0:null===(a=d.schema_list)||void 0===a?void 0:a.length)?(0,o.jsx)(s.l0,{initValues:c,className:ee["config-form"],onValueChange:()=>{b(),g(void 0)},getFormApi:e=>f.current=e,autoScrollToError:!0,allowEmpty:!0,children:null==d?void 0:null===(l=d.schema_list)||void 0===l?void 0:l.map(e=>(0,o.jsx)(Q,{initValue:c,formItemSchema:e,isReadOnly:h},e.name))}):null]})}),er=r("434414"),en={};en.styleTagTransform=z(),en.setAttributes=I(),en.insert=C().bind(null,"head"),en.domAPI=E(),en.insertStyleElement=O(),N()(er.Z,en);var ei=er.Z&&er.Z.locals?er.Z.locals:void 0,eo=e=>{var t,r,{errorMessage:n}=e,l=null!==(r=null==n?void 0:n.raw)&&void 0!==r?r:{};return(0,o.jsx)(s.l0.ErrorMessage,{error:(t=l,["bind_bot_id","bind_bot_name","bind_space_id"].every(e=>e in t))?(0,o.jsx)("div",{className:ei["error-link"],children:a.o.t("bot_publish_bind_error",{bot_name:(0,o.jsx)(s.ZT.Text,{className:ei["error-link-underline"],link:{href:"/space/".concat(l.bind_space_id,"/").concat(1===l.bind_agent_type?"project-ide":"bot","/").concat(l.bind_bot_id)},ellipsis:{showTooltip:{opts:{content:l.bind_bot_name}}},children:l.bind_bot_name}),key_name:"token"})}):null==n?void 0:n.msg,className:ei["error-container"]})},ea=e=>{var t,r,n,l,c,j,k,{botId:N,origin:T="bot",onSuccess:E,onUnbind:D}=e,C=(0,m.useRef)(null),[S,I]=(0,m.useState)(),{initValue:M}=null!=S?S:{},[O,A]=(0,m.useState)(),[z,L]=(0,m.useState)(!1),[P,R]=(0,m.useState)(),B=(0,m.useRef)(""),U=()=>{var e;A(void 0),ee(0),R(void 0),null===(e=C.current)||void 0===e||e.reset(),es()},F=()=>{U(),D?D():E((0,h._)((0,p._)({},M),{bind_info:{},bind_id:""})),s.O$.success(a.o.t("bot_publish_disconnect_success"))},[V,W]=(0,m.useState)(),G=(0,m.useRef)(),{loading:q}=(0,g.Z)((0,u._)(function*(){var e;return yield v.nA.QuerySchemaList({connector_id:null!==(e=null==M?void 0:M.id)&&void 0!==e?e:"",scene:T})}),{ready:!!(null==M?void 0:M.id),refreshDeps:[null==M?void 0:M.id],onBefore:()=>{(null==M?void 0:M.id)!==G.current&&(G.current=null==M?void 0:M.id,W({}))},onSuccess:e=>{var t;!(null===(t=e.schema_area_pages)||void 0===t?void 0:t.length)&&(e.schema_area_pages=[{schema_area:e.schema_area,copy_link_area:e.copy_link_area}]),W(e)},onError:()=>{W({})}}),{schema_area_pages:K=[]}=null!=V?V:{},X=e=>{if((null==M?void 0:M.bind_type)===d.P0.KvAuthBind&&((null==e?void 0:e.client_id)||(null==e?void 0:e.auth_params)))(0,x.HL)({navigatePath:"".concat(location.pathname).concat(location.search),type:"oauth",extra:{origin:"publish",encrypt_state:null==e?void 0:e.encrypt_state}},(null==M?void 0:M.id)||"",(0,p._)((0,h._)((0,p._)({},null==M?void 0:M.auth_login_info),{client_id:null==e?void 0:e.client_id}),e.auth_params));else{var t;B.current=null!==(t=null==e?void 0:e.bind_id)&&void 0!==t?t:""}},Y=()=>{$===(null==K?void 0:K.length)-1?(M&&E((0,h._)((0,p._)({},M),{bind_info:(0,p._)({},P),bind_id:B.current})),U()):ee($+1)},{loading:Q,run:J,step:$,setStep:ee}=w({botId:N,origin:T,schemaPages:K,onNextStepSuccess:e=>{if(e.action===b.BindConnector&&X(e.data),e.action===b.GetBindConnectorConfig){var t;R((0,p._)({},P,null===(t=e.data.config)||void 0===t?void 0:t.detail))}Y()},onNextStepError:e=>{(0,f.k0)(e)&&A(e)}}),{node:er,open:en}=(0,_.O)({botId:N,origin:T,platformInfo:M,onUnbind:()=>{F()}});var ei=(t=(0,u._)(function*(){var e,t,r=yield null===(e=C.current)||void 0===e?void 0:e.submit();R((0,p._)({},P,r)),J({connectorId:null!==(t=null==M?void 0:M.id)&&void 0!==t?t:"",assignFormValue:(0,p._)({},P,r)})}),function(){return t.apply(this,arguments)});var{modal:ea,open:el,close:es}=(0,s.q0)({type:"action-small",footer:(null==M?void 0:M.bind_id)?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.y3,{theme:"light",type:"tertiary",onClick:()=>{es(),ee(0)},children:a.o.t("Cancel")}),(0,o.jsx)(s.y3,{theme:"solid",type:"danger",onClick:en,children:a.o.t("bot_publish_disconnect",{platform:null!==(l=null==M?void 0:M.name)&&void 0!==l?l:""})})]}):(0,o.jsxs)(o.Fragment,{children:[(null==K?void 0:K.length)&&0!==$&&(null===(r=K[$])||void 0===r?void 0:r.api_action)!==b.NotQuery?(0,o.jsx)(s.y3,{theme:"solid",onClick:()=>{A(void 0),ee($-1)},children:a.o.t("Previous_1")}):null,(0,o.jsx)(s.y3,{theme:"solid",onClick:ei,disabled:z,loading:Q,children:$===(null!==(c=null==K?void 0:K.length)&&void 0!==c?c:0)-1?(null===(n=K[$])||void 0===n?void 0:n.api_action)!==b.NotQuery?a.o.t("Save"):a.o.t("Complete"):a.o.t("Next_1")})]}),onCancel:U,title:null==V?void 0:V.title_text}),ed=(e,t)=>(0,o.jsxs)(o.Fragment,{children:[e?(0,o.jsx)(Z,{copyLinkAreaInfo:e,agentType:T,botId:N,initValue:(0,p._)({},null==M?void 0:M.bind_info,P)}):null,t?(0,o.jsx)(et,{schemaAreaInfo:t,initValue:(0,p._)({},null==M?void 0:M.bind_info,P),ref:C,getFormDisable:e=>L(e),isReadOnly:!!(null==M?void 0:M.bind_id),setErrorMessage:A}):null,O?(0,o.jsx)(eo,{errorMessage:O}):null]});return{node:ea((0,o.jsxs)(s.yC,{wrapperClassName:y.Z["config-area"],spinning:q,children:[(0,o.jsx)(H,{connectorConfigInfo:V}),(null==K?void 0:K.length)&&!(null==M?void 0:M.bind_id)?(0,o.jsx)("div",{children:ed(null===(j=K[$])||void 0===j?void 0:j.copy_link_area,null===(k=K[$])||void 0===k?void 0:k.schema_area)}):null,(null==M?void 0:M.bind_id)&&(null==K?void 0:K.length)?(0,o.jsx)(o.Fragment,{children:null==K?void 0:K.map((e,t)=>(0,o.jsx)("div",{children:ed(e.copy_link_area,e.schema_area)},t))}):null,er]})),open:e=>{I(e),el()},close:es}},el=r("561641"),es=e=>{var{setDataSource:t,setSelectedPlatforms:r,record:n,bindSuccessCallback:u,unbindCallback:p,origin:h="bot",originId:m}=e,{bot_id:g="",project_id:f=""}=(0,c.useParams)(),{node:b,open:v}=ea({botId:null!=m?m:"bot"===h?g:f,origin:h,onSuccess:e=>{if(u){u(e);return}null==t||t(t=>{var r,n=t.find(t=>t.id===(null==e?void 0:e.id));if(n){if(n.id===el.zW&&!(null==e?void 0:e.bind_id))return t.filter(e=>e.id!==el.zW);n.bind_id=null==e?void 0:e.bind_id,n.bind_info=null!==(r=null==e?void 0:e.bind_info)&&void 0!==r?r:{},n.config_status=(null==e?void 0:e.bind_id)?d._6.Configured:d._6.NotConfigured}return[...t]}),!(null==e?void 0:e.bind_id)&&(null==r||r(t=>t.filter(t=>t!==(null==e?void 0:e.id))))},onUnbind:p}),x=()=>v({initValue:n}),y=a.o.t("bot_publish_action_configure");return(0,o.jsxs)(o.Fragment,{children:["project"===h?(0,o.jsx)(l.zx,{onClick:x,size:"small",color:"primary",children:y}):(0,o.jsx)(s.y3,{onClick:x,theme:"borderless",children:y}),b]})},ed=r("707107"),ec=r("44172"),eu=r("988179"),ep=r("391962"),eh=r("458620"),em=r("189284"),eg=r("486613"),ef=r("714393"),eb=r("493278"),ev=(0,eh.z)({eventName:eh.b.getBotDiffError}),ex=()=>{var e,t,[r,n]=(0,m.useState)(),l=(0,c.useParams)(),[d]=(0,em.V)(),p=!!(null==d?void 0:d["bot.devops.merge_prompt_diff"]);var{data:h,loading:f,run:b,mutate:x,error:_}=(0,g.Z)((e=(0,u._)(function*(e){var{bot_id:t="",space_id:r="",commit_version:n}=l;return(yield v.bV.BotDiff({space_id:r,bot_id:t,left:{branch:eg.I0.Publish,connector_id:e.id},template_key:p?"diff_template_when_publish_v2":"",right:{branch:eg.I0.Base,version_id:n}})).data}),function(t){return e.apply(this,arguments)}),{manual:!0,onBefore:()=>{ev.start()},onSuccess:e=>{ev.success()},onError:e=>{ev.error({reason:"get publish diff error",error:e})}}),w=()=>{x({origin_bot_dl:"",diff_display_node:[]}),N()},{modal:j,open:k,close:N}=(0,s.q0)({type:"info",okText:a.o.t("devops_publish_multibranch_done"),okType:"tertiary",okButtonProps:{className:"semi-button-light"},hasCancel:!1,className:y.Z["diff-modal"],onCancel:w,onOk:w,title:a.o.t("devops_publish_multibranch_diffwithin",{connectorName:null!==(t=null==r?void 0:r.name)&&void 0!==t?t:""})});return{node:j((0,o.jsx)("div",{className:y.Z["diff-modal-container"],children:f?(0,o.jsx)(s.yC,{}):p?(0,o.jsx)(ef.LH,{diffData:(null==h?void 0:h.diff_display_node)||[],hasError:void 0!==_,type:"publish"}):(0,o.jsx)(eb.T,{diffData:(null==h?void 0:h.diff_display_node)||[],hasError:void 0!==_})})),open:e=>{n(e),b(e),k()},close:N}},ey=e=>{var{record:t,isMouseIn:r}=e,{open:n,node:l}=ex(),d=(0,ep.R)(e=>e.isCollaboration),c=e=>{(0,eu.iN)(ed.Kg.bot_publish_difference,{platform_type:e.name}),n(e)};return(0,o.jsxs)(o.Fragment,{children:[r&&d?(0,o.jsx)(s.u,{content:a.o.t("devops_publish_multibranch_viewdiff"),children:(0,o.jsx)(s._3,{onClick:()=>{c(t)},icon:(0,o.jsx)(ec.k8G,{color:"#4D53E8"})})}):null,l]})}},85608:function(e,t,r){"use strict";r.d(t,{rt:()=>nD,ah:()=>ta,IR:()=>nF,sP:()=>r4,Sy:()=>nS.S,Fn:()=>eU,tM:()=>ty,S8:()=>nj.S,gB:()=>nC,UP:()=>t$,E2:()=>eD,e7:()=>nv,f2:()=>nM,cm:()=>ej,Kw:()=>en,Vn:()=>nU,GW:()=>tg,OE:()=>nS.O,Tc:()=>nQ,Cl:()=>t4,pE:()=>nw.pE,Ey:()=>n_,I9:()=>eA});var n,o,a,l=r("825955"),s=r("808549"),d=r("151064"),c=r("157728"),u=r("455069"),p=r("664319"),h=r("277194"),m=r("388993"),g=r("163600"),f=r("745474"),b=r("299464"),v=r("336205"),x=r("298203"),y=r("707107"),_=r("775699"),w=r("30961"),j=r("382534"),k=r("723527"),N=r("213914"),T=r("674343");r.p;var E=r.p+"static/image/table-example-cn.5cc6630c.png",D=r("458620"),C=r("33630"),S=e=>{var{botId:t}=e,r={isExpertMode:!1,maxTableNum:1,maxColumnNum:10,readAndWriteModes:[C.mx.LimitedReadWrite]},[n,o]=(0,u.useState)(r);return(0,u.useEffect)(()=>{(0,l._)(function*(){var e;try{e=yield j.v6.GetModeConfig({bot_id:t})}catch(e){f.s5.errorEvent(f.xW.DATABASE,{eventName:D.b.DatabaseGetExpertConfig,error:e})}e&&o({isExpertMode:"expert"===e.mode,maxColumnNum:Number(e.max_column_num),maxTableNum:Number(e.max_table_num),readAndWriteModes:Number(e.max_table_num)>1?[C.mx.LimitedReadWrite,C.mx.UnlimitedReadWrite]:r.readAndWriteModes})})()},[t]),n},I=r("120454"),M=r("801815");var O=(n=(0,l._)(function*(){var e,{updateSkillDatabaseList:t}=h.Ee.getState(),{botId:r}=m.G.getState();try{e=yield j.v6.GetBotDatabase({bot_id:r,table_type:C.Nd.DraftTable})}catch(e){f.s5.errorEvent(f.xW.DATABASE,{eventName:D.b.DatabaseListTable,error:e})}(null==e?void 0:e.BotTableList)&&Array.isArray(null==e?void 0:e.BotTableList)&&t(e.BotTableList.map(e=>{var t,r;return{tableId:e.table_id,name:e.table_name,desc:e.table_desc,extra_info:null!==(r=null==e?void 0:e.extra_info)&&void 0!==r?r:{},readAndWriteMode:e.rw_mode,tableMemoryList:null===(t=e.field_list)||void 0===t?void 0:t.map(e=>(0,I._)((0,s._)({},e),{nanoid:(0,M.x0)()}))}}))}),function(){return n.apply(this,arguments)}),A=r("915757"),z=r("44172");function L(e){var{botId:t,databaseId:r,promptDisabled:n}=e,[o,a]=(0,u.useState)(!1),[l,s]=(0,u.useState)(!1),[c,p]=(0,u.useState)(!0);(0,u.useEffect)(()=>{p(!("false"!==n))},[n]);var{setIsForceShowAction:h}=(0,N.SH)();return(0,u.useEffect)(()=>{h(o)},[o]),(0,d.jsx)(T.J2,{trigger:"custom",visible:o,onClickOutSide:()=>a(!1),position:"bottomRight",style:{width:"480px",padding:"12px 16px 16px"},content:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(T.ZT.Paragraph,{className:"!font-bold leading-[24px] mb-[2px]",children:v.o.t("db_optimize_034")}),(0,d.jsx)(T.ZT.Paragraph,{type:"secondary",fontSize:"12px",children:v.o.t("db_optimize_035")}),(0,d.jsxs)("div",{className:"mt-[12px] flex justify-between",children:[(0,d.jsx)(T.ZT.Text,{className:"!font-bold leading-[24px]",children:v.o.t("db_optimize_036")}),(0,d.jsx)(T.rs,{size:"small",loading:l,checked:c,onChange:e=>{s(!0),j.v6.UpdateDatabaseBotSwitch({bot_id:t,database_id:r,prompt_disable:!e}).then(()=>p(e)).finally(()=>s(!1))}})]})]}),children:(0,d.jsx)("div",{children:(0,d.jsx)(N.zJ,{tooltips:v.o.t("db_optimize_034"),onClick:()=>a(!0),children:(0,d.jsx)(A.qBd,{className:"text-base coz-fg-secondary"})})})})}var P=r("407821"),R=r.n(P),Z=r("472772"),B=r.n(Z),U=r("395245"),F=r.n(U),H=r("297998"),V=r.n(H),W=r("646576"),G=r.n(W),q=r("606121"),K=r.n(q),X=r("863409"),Y={};Y.styleTagTransform=K(),Y.setAttributes=V(),Y.insert=F().bind(null,"head"),Y.domAPI=B(),Y.insertStyleElement=G(),R()(X.Z,Y);var Q=X.Z&&X.Z.locals?X.Z.locals:void 0,J=e=>{var t,{handleEdit:r}=e,n=(0,m.G)(e=>e.botId),o=(0,g.ti)(),{databaseList:a}=(0,h.Ee)((0,p.N)(e=>({databaseList:e.databaseList}))),s=a.length>0,c=e=>{if(!o){var{tableId:t,name:a}=e;(0,y.Gg)(y.Kg.memory_click_front,{bot_id:n,resource_id:t,resource_name:a,resource_type:"database",action:"edit",source:"bot_detail_page",source_detail:"memory_manage"}),r(e.tableId)}};var u=(t=(0,l._)(function*(e){var t,{tableId:r}=e;try{t=yield j.v6.UnBindDatabase({database_id:r,bot_id:n})}catch(e){f.s5.errorEvent(f.xW.DATABASE,{eventName:D.b.DatabaseDeleteTable,error:e});return}(null==t?void 0:t.code)===0?(yield O(),yield(0,g.Bj)(),_.FN.success({content:v.o.t("Delete_success"),showClose:!1})):_.FN.warning({content:v.o.t("Delete_failed"),showClose:!1})}),function(e){return t.apply(this,arguments)});return(0,d.jsx)("div",{className:Q["database-list"],children:s?(0,d.jsx)(N.H,{children:a.map(e=>{var t,r;return(0,d.jsx)(N.vv,{title:null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"",description:null!==(r=null==e?void 0:e.desc)&&void 0!==r?r:"",avatar:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAzNiAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjM2IiBoZWlnaHQ9IjM2IiBmaWxsPSIjRkZCRjAwIi8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMjguMTE2NyAxMi44MTQ5QzI4LjExNjcgMTUuNjA4OCAyMy41ODY5IDE3Ljg3MzcgMTcuOTk5MSAxNy44NzM3QzEyLjQxMTMgMTcuODczNyA3Ljg4MTUxIDE1LjYwODggNy44ODE1MSAxMi44MTQ5QzcuODgxNTEgMTAuMDIxIDEyLjQxMTMgNy43NTYxIDE3Ljk5OTEgNy43NTYxQzIzLjU4NjkgNy43NTYxIDI4LjExNjcgMTAuMDIxIDI4LjExNjcgMTIuODE0OVpNMjguMTA4MyAxNS4zNDUyQzI4LjEwNTMgMTUuMzQ1MiAyOC4xMDI4IDE1LjM0NzQgMjguMTAyNSAxNS4zNTA0QzI3LjgzNCAxOC4wMjQ1IDIzLjQxMjcgMjAuMTUxNCAxNy45OTc4IDIwLjE1MTRDMTIuNTgzOCAyMC4xNTE0IDguMTYyOTYgMTguMDI1MiA3Ljg5MzI1IDE1LjM1MTZDNy44OTI4NyAxNS4zNDggNy44ODk3OCAxNS4zNDUyIDcuODg2MDkgMTUuMzQ1MkM3Ljg4MjEyIDE1LjM0NTIgNy44Nzg5MSAxNS4zNDg0IDcuODc4OTEgMTUuMzUyM1YxOC4xMjc5VjE4LjM3MzlDNy44Nzg5MSAxOC4zNzc1IDcuODgxODIgMTguMzgwNCA3Ljg4NTQxIDE4LjM4MDRDNy44ODg3NSAxOC4zODA0IDcuODkxNTUgMTguMzgzIDcuODkxODggMTguMzg2M0M4LjE2MDk4IDIxLjA2MDEgMTIuNTgyMSAyMy4xODY3IDE3Ljk5NjUgMjMuMTg2N0MyMy40MTEgMjMuMTg2NyAyNy44MzIgMjEuMDYwMSAyOC4xMDExIDE4LjM4NjNDMjguMTAxNSAxOC4zODMgMjguMTA0MyAxOC4zODA0IDI4LjEwNzYgMTguMzgwNEMyOC4xMTEyIDE4LjM4MDQgMjguMTE0MSAxOC4zNzc1IDI4LjExNDEgMTguMzczOVYxOC4xMjc5VjE1LjM1MUMyOC4xMTQxIDE1LjM0NzggMjguMTExNSAxNS4zNDUyIDI4LjEwODMgMTUuMzQ1MlpNMjguMTAxIDIwLjQwOTNDMjguMTAxMyAyMC40MDU5IDI4LjEwNDIgMjAuNDAzMyAyOC4xMDc1IDIwLjQwMzNDMjguMTExMiAyMC40MDMzIDI4LjExNDEgMjAuNDA2MyAyOC4xMTQxIDIwLjQwOTlWMjMuMTg2VjIzLjQzMjFDMjguMTE0MSAyMy40MzU3IDI4LjExMTIgMjMuNDM4NiAyOC4xMDc2IDIzLjQzODZDMjguMTA0MyAyMy40Mzg2IDI4LjEwMTUgMjMuNDQxMSAyOC4xMDExIDIzLjQ0NDVDMjcuODMyIDI2LjExODMgMjMuNDExIDI4LjI0NDggMTcuOTk2NSAyOC4yNDQ4QzEyLjU4MjEgMjguMjQ0OCA4LjE2MDk4IDI2LjExODMgNy44OTE4OCAyMy40NDQ1QzcuODkxNTUgMjMuNDQxMSA3Ljg4ODc1IDIzLjQzODYgNy44ODU0MSAyMy40Mzg2QzcuODgxODIgMjMuNDM4NiA3Ljg3ODkxIDIzLjQzNTcgNy44Nzg5MSAyMy40MzIxVjIzLjE4NlYyMC40MDk5QzcuODc4OTEgMjAuNDA2MyA3Ljg4MTg1IDIwLjQwMzMgNy44ODU0OSAyMC40MDMzQzcuODg4ODcgMjAuNDAzMyA3Ljg5MTcgMjAuNDA1OSA3Ljg5MjA0IDIwLjQwOTNDOC4xNjI3NCAyMy4wODIzIDEyLjU4MzEgMjUuMjA4IDE3Ljk5NjUgMjUuMjA4QzIzLjQwOTkgMjUuMjA4IDI3LjgzMDMgMjMuMDgyMyAyOC4xMDEgMjAuNDA5M1oiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo=",onClick:()=>c(e),actions:o?null:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(L,{botId:n,databaseId:e.tableId,promptDisabled:e.extra_info.prompt_disabled}),(0,d.jsx)(N.zJ,{tooltips:v.o.t("db_edit_table_title"),onClick:()=>c(e),children:(0,d.jsx)(A.JAz,{className:"text-base coz-fg-secondary"})}),(0,d.jsx)(N.zJ,{tooltips:v.o.t("db_del_table_title"),children:(0,d.jsx)(_.gn,{style:{width:400},okType:"danger",title:v.o.t("db_del_table_confirm_title"),position:"rightTop",content:v.o.t("db_del_table_confirm_info"),onConfirm:()=>u(e),icon:(0,d.jsx)(z.xAI,{}),children:(0,d.jsx)(A.ruq,{className:"text-base coz-fg-secondary",onClick:()=>{(0,y.Gg)(y.Kg.memory_click_front,{bot_id:n,resource_id:e.tableId,resource_name:e.name,resource_type:"database",action:"delete",source:"bot_detail_page",source_detail:"memory_manage"})}})})})]})},e.tableId)})}):(0,d.jsx)("div",{className:Q["default-text"],children:v.o.t("db_notable_tips")})})},$=r("248042"),ee={};ee.styleTagTransform=K(),ee.setAttributes=V(),ee.insert=F().bind(null,"head"),ee.domAPI=B(),ee.insertStyleElement=G(),R()($.Z,ee);var et=$.Z&&$.Z.locals?$.Z.locals:void 0,er=e=>{var t,r,n,o,a,{title:s,actionButtonSlot:f,onCloseSelectModal:D}=e,C=(0,c.useNavigate)(),I=(0,N.sV)(),[M,A]=(0,u.useState)(!1),{botId:z}=(0,m.G)((0,p.N)(e=>({botId:e.botId}))),{databaseList:L}=(0,h.Ee)((0,p.N)(e=>({databaseList:e.databaseList}))),{space_id:P=""}=(0,c.useParams)(),R=S({botId:z}),Z=L.length>0,B=L.length>=R.maxTableNum,U=(0,w.nk)({blockKey:k._t.TABLE_MEMORY_BLOCK,configured:Z});var F=(t=(0,l._)(function*(e,t){var r=yield j.v6.UnBindDatabase({database_id:e,bot_id:z});0===r.code?(T.FN.success(v.o.t("new_db_003")),t&&(null==t||t()),yield O(),yield(0,g.Bj)()):T.FN.error(r.msg)}),function(e,r){return t.apply(this,arguments)});var H=(r=(0,l._)(function*(e,t){yield j.v6.BindDatabase({database_id:t,bot_id:z}),yield O(),yield(0,g.Bj)()}),function(e,t){return r.apply(this,arguments)});var V=(n=(0,l._)(function*(e,t){var r=yield j.v6.BindDatabase({database_id:e,bot_id:z});0===r.code?(T.FN.success(v.o.t("new_db_002")),t&&(null==t||t()),yield O(),yield(0,g.Bj)()):T.FN.error(r.msg)}),function(e,t){return n.apply(this,arguments)});var W=(o=(0,l._)(function*(e){if(e){var t=yield j.v6.GetOnlineDatabaseId({id:e});C("/space/".concat(P,"/database/").concat(t.id,"?page_mode=modal&bot_id=").concat(z,"&biz=bot_add"))}}),function(e){return o.apply(this,arguments)});var G=(a=(0,l._)(function*(e){var t=yield j.v6.GetOnlineDatabaseId({id:e});t.id?C("/space/".concat(P,"/database/").concat(t.id,"?page_mode=modal&bot_id=").concat(z,"&biz=bot_remove&initial_tab=draft")):T.FN.error(" Database ")}),function(e){return a.apply(this,arguments)});return(0,u.useEffect)(()=>{I(Z)},[Z]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(N.iP,{blockEventName:x.Ij.TABLE_MEMORY_BLOCK_OPEN,showBottomBorder:!0,header:s,tooltip:(0,d.jsxs)("div",{className:et["tip-content"],children:[(0,d.jsxs)("div",{style:{marginBottom:"10px",width:611},children:[(0,d.jsx)("span",{children:v.o.t("db_memory_entry_tips")}),(0,d.jsx)(_.ZT.Text,{style:{fontWeight:400},link:{href:"/open/docs/guides/database",target:"_blank"},onClick:()=>{(0,y.Gg)(y.Kg.database_learn_click,{need_login:!0,have_access:!0,bot_id:z})},children:v.o.t("database_learnmore")})]}),(0,d.jsx)(_.Ee,{preview:!1,width:611,height:145,src:E})]}),defaultExpand:U,actionButton:(0,d.jsxs)(d.Fragment,{children:[f,(0,d.jsx)(N.HS,{tooltips:B?v.o.t("database_240304_01",{TableNumber:R.maxTableNum}):v.o.t("bot_edit_database_add_tooltip"),onClick:()=>{(0,y.Gg)(y.Kg.memory_click_front,{bot_id:z,resource_type:"database",action:"add",source:"bot_detail_page",source_detail:"memory_manage"}),A(!0)},enableAutoHidden:!0,"data-testid":"bot.editor.tool.table-memory.add-button"})]}),children:(0,d.jsx)(J,{handleEdit:e=>{G(e)}})}),(0,d.jsx)(b.hP,{visible:M,onClose:()=>{(0,y.Gg)(y.Kg.memory_click_front,{bot_id:z,resource_type:"database",action:"turn_off",source:"bot_detail_page",source_detail:"memory_manage"}),A(!1),null==D||D()},enterFrom:"bot",onAddDatabase:V,onRemoveDatabase:F,onCreateDatabase:H,onClickDatabase:W,botId:z,spaceId:P})]})},en=e=>(0,d.jsx)(f.xV,{namespace:f.xW.DATABASE,children:(0,d.jsx)(er,(0,s._)({},e))}),ei=r("155440"),eo=r("178385"),ea=r("988179"),el=r("825251"),es=r("70131"),ed=r("473980"),ec=r("58118"),eu=r("252237"),ep=r.n(eu),eh=r("689951"),em=r("912221"),eg={};eg.styleTagTransform=K(),eg.setAttributes=V(),eg.insert=F().bind(null,"head"),eg.domAPI=B(),eg.insertStyleElement=G(),R()(em.Z,eg);var ef=em.Z&&em.Z.locals?em.Z.locals:void 0,eb=(0,u.forwardRef)((e,t)=>{var{value:r,onChange:n,onBlur:o,ellipse:a={rows:4},autoSize:l={maxHeight:340},readonly:c,className:p,style:h,maxCount:m,maxLength:g,onFocus:f}=e,b=(0,ed._)(e,["value","onChange","onBlur","ellipse","autoSize","readonly","className","style","maxCount","maxLength","onFocus"]),v=(0,u.useMemo)(()=>(0,M.x0)(),[]),x=(0,u.useRef)(null),[y,{setTrue:w,setFalse:j}]=(0,eh.Z)(!1);return(0,u.useImperativeHandle)(t,()=>(0,I._)((0,s._)({},x.current),{focus:()=>w()})),(0,u.useEffect)(()=>{y&&setTimeout(()=>{x.current&&(x.current.setSelectionRange(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),x.current.focus(),x.current.scroll({top:x.current.scrollTop}))})},[y]),(0,d.jsx)("div",{className:ep()(ef.container,p),style:h,children:y?(0,d.jsx)(_.Kx,(0,s._)({autosize:!0,style:(null==l?void 0:l.maxHeight)?{"--chatflow-custom-textarea-overflow-y":"auto","--chatflow-custom-textarea-focused-max-height":"".concat(l.maxHeight,"px")}:void 0,id:v,ref:x,value:r,onBlur:e=>{j(),null==o||o(e)},onChange:n,readonly:c,className:ep()(ef["auto-size"],null==l?void 0:l.textAreaClassName,{[(null==l?void 0:l.emptyClassName)||""]:!r}),maxCount:m,maxLength:g},b,null==l?void 0:l.textAreaProps),"not-readonly"):(0,d.jsx)(_.Kx,(0,s._)({style:{WebkitLineClamp:null==a?void 0:a.rows},value:r,rows:null==a?void 0:a.rows,onFocus:e=>{null==f||f(e),w()},className:ep()(ef.ellipse,null==a?void 0:a.textAreaClassName,{[(null==a?void 0:a.emptyClassName)||""]:!r})},b,null==a?void 0:a.textAreaProps),"readonly")})}),ev=r("597049"),ex={};ex.styleTagTransform=K(),ex.setAttributes=V(),ex.insert=F().bind(null,"head"),ex.domAPI=B(),ex.insertStyleElement=G(),R()(ev.Z,ex);var ey=ev.Z&&ev.Z.locals?ev.Z.locals:void 0;function e_(e){var{disabled:t,followBot:r,onChange:n}=e,o=(0,ed._)(e,["disabled","followBot","onChange"]),a=(0,u.useRef)(null);return(0,d.jsxs)("div",{className:ey["suggestion-content"],children:[o.mode===eo.nx.Disable&&(0,d.jsx)("div",{className:ey.description,children:v.o.t("bot_edit_auto_suggestion_off_description")}),o.mode===eo.nx.WithDefaultPrompt&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:ey.description,children:v.o.t("bot_edit_auto_suggestion_default_description")}),!t&&(0,d.jsx)(ew,{disabled:r,checked:!1,onChange:e=>{var{checked:t}=e.target;if(!!t)n({suggest_reply_mode:eo.nx.WithCustomizedPrompt}),setTimeout(()=>{var e;return null===(e=a.current)||void 0===e?void 0:e.focus()})}})]}),o.mode===eo.nx.WithCustomizedPrompt&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:ey.description,children:v.o.t("bot_edit_auto_suggestion_customize_description")}),!t&&(0,d.jsx)(ew,{disabled:r,checked:!0,onChange:e=>{var{checked:t}=e.target;if(!t)n({suggest_reply_mode:eo.nx.WithDefaultPrompt})}}),!r&&(t&&!o.multiAgent?(0,d.jsx)("div",{className:ey["prompt-text"],children:o.prompt}):(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(eb,{ref:a,className:ey["prompt-input"],readonly:t,value:o.prompt,onChange:e=>{n({customized_suggest_prompt:e})},onBlur:()=>{var e;if(null===(e=o.prompt)||void 0===e?!void 0:!e.trim())n({suggest_reply_mode:eo.nx.WithDefaultPrompt,customized_suggest_prompt:(0,h.PV)()})},ellipse:{rows:3},autoSize:{maxHeight:o.multiAgent?340:void 0,textAreaProps:{rows:3}},maxCount:ec.p.getInputLengthLimit("suggestionPrompt"),maxLength:ec.p.getInputLengthLimit("suggestionPrompt"),placeholder:v.o.t("bot_edit_auto_suggestion_customize_modal_prompt_placeholder")})}))]})]})}function ew(e){var t=(0,el._)({},(0,es._)(e));return(0,d.jsx)(_.XZ,(0,I._)((0,s._)({},t),{className:ey["custom-prompt-checkbox"],children:v.o.t("bot_edit_auto_suggestion_customize_user_checkbox")}))}var ej=e=>{var{title:t}=e,r=(0,N.sV)(),{suggestionConfig:n,setSuggestionConfig:o}=(0,h.Ee)((0,p.N)(e=>({suggestionConfig:e.suggestionConfig,setSuggestionConfig:e.setSuggestionConfig}))),a=(0,g.ti)(),l=n.suggest_reply_mode===eo.nx.WithCustomizedPrompt,c=(0,w.nk)({blockKey:k._t.AUTO_SUGGESTION,configured:l});return(0,u.useEffect)(()=>{r(n.suggest_reply_mode!==eo.nx.Disable)},[n.suggest_reply_mode]),(0,d.jsx)(N.iP,{showBottomBorder:!0,header:t,blockEventName:x.Ij.SUGGESTION_BLOCK_OPEN,defaultExpand:c,actionButton:(0,d.jsx)(T.Ph,{size:"small",disabled:a,optionList:[{value:eo.nx.WithDefaultPrompt,label:v.o.t("bot_suggestion_switch_on_title")},{value:eo.nx.Disable,label:v.o.t("bot_edit_auto_suggestion_status_off")}],value:n.suggest_reply_mode===eo.nx.WithCustomizedPrompt?eo.nx.WithDefaultPrompt:n.suggest_reply_mode,onChange:e=>{o({suggest_reply_mode:e}),(0,x.Kn)(x.Ij.SUGGESTION_BLOCK_OPEN),(0,ea.iN)(y.Kg.edited_suggestion,{suggestion_type:String(e)})}}),children:(0,d.jsx)(e_,(0,s._)({disabled:a,onChange:e=>{!(0,ei.Z)(e.suggest_reply_mode)&&e.suggest_reply_mode!==n.suggest_reply_mode&&((0,ea.iN)(y.Kg.edited_suggestion,{suggestion_type:String(e.suggest_reply_mode)}),console.log("suggestion:>>",e),console.log("suggestionConfig:>>",n),!(null==e?void 0:e.customized_suggest_prompt)&&!n.customized_suggest_prompt&&(e.customized_suggest_prompt=(0,h.PV)())),o(e)}},n.suggest_reply_mode===eo.nx.WithCustomizedPrompt?{mode:n.suggest_reply_mode,prompt:n.customized_suggest_prompt}:{mode:n.suggest_reply_mode}))})},ek=r("730274"),eN=r("890132"),eT={};eT.styleTagTransform=K(),eT.setAttributes=V(),eT.insert=F().bind(null,"head"),eT.domAPI=B(),eT.insertStyleElement=G(),R()(eN.Z,eT);var eE=eN.Z&&eN.Z.locals?eN.Z.locals:void 0;function eD(e){var{containerClassName:t,headerClassName:r,titleClassName:n,title:o,titleNode:a,children:l,headerSlotClassName:s,renderContent:c}=e,u=(0,d.jsxs)("div",{className:ep()(eE.card,t),children:[(0,d.jsxs)("div",{className:ep()(eE["sheet-header"],r),children:[(0,d.jsx)("div",{className:ep()(eE["sheet-header-title"],"coz-fg-plus",n),children:o}),(0,d.jsx)("div",{className:ep()(eE["sheet-header-scope"],s),children:a})]}),l]});return c?(0,d.jsx)(d.Fragment,{children:c(u)}):u}var eC=r("727438"),eS=r("372939"),eI={};eI.styleTagTransform=K(),eI.setAttributes=V(),eI.insert=F().bind(null,"head"),eI.domAPI=B(),eI.insertStyleElement=G(),R()(eS.Z,eI);var eM=eS.Z&&eS.Z.locals?eS.Z.locals:void 0;function eO(e){var{titleClassName:t,containerClassName:r,headerClassName:n,title:o,titleNode:a,slideProps:l,children:s,renderContent:c}=e,{placement:h,width:m,btnClassName:g,btnNode:f,openBtnTooltip:b,closeBtnTooltip:v}=l||{},x=(0,u.useMemo)(()=>"left"===h,[h]),{setMultiSheetViewOpen:y,multiSheetViewOpen:w}=(0,eC.c)((0,p.N)(e=>({setMultiSheetViewOpen:e.setMultiSheetViewOpen,multiSheetViewOpen:e.multiSheetViewOpen}))),j=(0,u.useMemo)(()=>"container-".concat((0,M.x0)()),[]),k=(0,u.useMemo)(()=>x?w.left:w.right,[x,w]),N=e=>{x?y({left:e}):y({right:e})},T=(0,d.jsxs)("div",{className:ep()(eM["sheet-header"],n),style:{flexDirection:x?"row-reverse":"row"},children:[(0,d.jsx)("div",{className:ep()(eM["sheet-header-arrow"],x?eM["sheet-header-arrow-left"]:eM["sheet-header-arrow-right"]),onClick:()=>{N(!1)},"data-testid":x?"bot-edit-muli-agent-action-arrow-right-button":"bot-edit-muli-agent-action-arrow-left-button",children:v&&k?(0,d.jsx)(_.u,{spacing:20,position:x?"right":"left",content:v,children:(0,d.jsx)(z.bti,{})}):(0,d.jsx)(z.bti,{})}),(0,d.jsxs)("div",{className:eM["sheet-header-content"],children:[(0,d.jsx)("div",{className:ep()(eM["sheet-header-title"],t),children:o}),(0,d.jsxs)("div",{className:eM["sheet-header-scope"],children:[" ",a]})]})]});return(0,d.jsxs)("div",{id:j,className:eM["sheet-container"],style:k?{width:m}:{width:0},children:[!!f&&(0,d.jsx)("div",{className:ep()(eM.button,x?eM["btn-left"]:eM["btn-right"],g),onClick:()=>{N(!0)},children:!k&&b?(0,d.jsx)(_.u,{position:x?"right":"left",content:b,children:f}):f}),(0,d.jsx)(_.Uu,{keepDOM:!0,width:m,mask:!1,placement:h,visible:k,getPopupContainer:()=>document.querySelector("#".concat(j)),className:eM["sheet-wrapper"],headerStyle:{display:"none"},children:(0,d.jsx)("div",{className:ep()(eM["sheet-content"],r),children:c?c(T):(0,d.jsxs)(d.Fragment,{children:[T,s]})})})]})}var eA=e=>{var{mode:t=1,title:r,titleNode:n,children:o,slideProps:a,containerClassName:l,headerClassName:s,titleClassName:c,renderContent:u}=e;return t===ek.J4.SingleMode||t===ek.J4.WorkflowMode?(0,d.jsx)(eD,{containerClassName:l,titleClassName:c,headerClassName:s,title:r,titleNode:n,renderContent:u,children:o}):(0,d.jsx)(eO,{title:r,titleNode:n,containerClassName:l,titleClassName:c,headerClassName:s,slideProps:a,renderContent:u,children:o})},ez=r("311807"),eL=r("345420"),eP=r("61111"),eR=r("484621"),eZ=r("33575"),eB=r("124922"),eU="setting_area_scroll",eF=r("392376"),eH={};eH.styleTagTransform=K(),eH.setAttributes=V(),eH.insert=F().bind(null,"head"),eH.domAPI=B(),eH.insertStyleElement=G(),R()(eF.Z,eH);var eV=eF.Z&&eF.Z.locals?eF.Z.locals:void 0,eW=e=>{var{message:t,onRef:r,onMessageChange:n,value:o,handleRemoveSuggestion:a,handleOnBlur:l,connect:c,isDragging:p,disabled:h}=e;(0,u.useImperativeHandle)(r,()=>({triggerFocus:w}));var m=(0,g.ti)(),f=(0,u.useRef)(null),b=(0,u.useRef)(null),y=(0,u.useRef)(null);c(b,y),(0,u.useEffect)(()=>{c(b,y)},[y,b]);var w=()=>{var e;null==f||null===(e=f.current)||void 0===e||e.focus()};if((0,u.useEffect)(()=>{if(t.highlight){(0,x.Kn)(x.Ij.ONBORDING_MESSAGE_BLOCK_OPEN);setTimeout(()=>{var e=document.getElementById(eU);e&&e.scrollTo({left:0,top:e.scrollHeight,behavior:"smooth"})},250),setTimeout(()=>{n((0,I._)((0,s._)({},t),{highlight:!1}))},5e3)}},[]),m)return(0,d.jsx)("div",{className:ep()(eB.Z["text-readonly"],eB.Z["mb-8"],!t.content&&eB.Z["text-none"]),children:t.content||v.o.t("bot_element_unset")});var j=()=>{a(t.id)};return(0,d.jsxs)("div",{"date-testid":"bot-editor.suggestion-list-setting.suggestion-message-item",className:eB.Z["suggestion-message-item"],ref:b,children:[(0,d.jsx)("div",{ref:h?null:y,children:(0,d.jsx)(A.TF9,{className:ep()("mr-1 cursor-grab text-[#0607094D]",{"cursor-grabbing":p})})}),(0,d.jsx)(_.Kx,{autosize:!0,rows:1,ref:f,className:ep()(eB.Z["suggest-message-input"],t.highlight&&eB.Z["suggestion-item-highlight"]),placeholder:v.o.t("opening_question_placeholder"),value:t.content,onChange:e=>{n((0,I._)((0,s._)({},t),{content:e}))},onBlur:()=>{var e;((null==o?void 0:null===(e=o[(null==o?void 0:o.length)-1])||void 0===e?void 0:e.id)||null)!==t.id&&!t.content&&j(),null==l||l()},maxLength:ec.p.getInputLengthLimit("onboardingSuggestion"),getValueLength:ec.p.getValueLength}),(0,d.jsx)(T.u,{content:v.o.t("bot_edit_plugin_delete_tooltip"),children:(0,d.jsx)(_._3,{wrapperClass:ep()(eV["icon-button-16"],eB.Z["apis-no-icon"]),iconSize:"small",icon:(0,d.jsx)(z.bQR,{style:t.content?{}:{color:"rgba(29, 28, 35, 0.20)"}}),onClick:()=>{if(!!t.content)j()}})})]})},eG=r("532267"),eq=e=>{var{content:t,children:r,className:n,tipContentClassName:o}=e;return(0,d.jsx)(T.u,{className:o,content:(0,d.jsx)("div",{className:ep()(eB.Z["tip-content"]),children:t}),children:(0,d.jsxs)("div",{className:ep()(n,"flex items-center"),children:[(0,d.jsx)(z.aUG,{className:ep()(eB.Z["icon-info"],"cursor-pointer coz-fg-secondary")}),r]})})},eK=r.p+"static/image/sug_layout_limit.8c79e9c6.png",eX=r.p+"static/image/sug_layout_full.ca664c1b.png",eY=e=>{var{isReadonly:t,initValues:{suggested_questions_show_mode:r=eG.y3.Random}}=e.context.props;return(0,d.jsxs)("div",{className:ep()(eB.Z["onboarding-message-title"],eB.Z["mt-20"],"flex justify-between"),children:[(0,d.jsx)("div",{className:"flex items-center",children:(0,d.jsx)("span",{className:"coz-fg-secondary",children:v.o.t("bot_edit_opening_question_title")})}),(0,d.jsxs)("div",{className:"flex items-center mr-[1px]",children:[(0,d.jsx)(eq,{content:(0,d.jsx)(eQ,{}),tipContentClassName:"!max-w-[320px]",className:ep()("flex items-center"),children:(0,d.jsx)("span",{className:"ml-[2px] cursor-pointer coz-fg-secondary",children:v.o.t("opening_showall")})}),(0,d.jsx)(T.rs,{"data-testid":"bot-editor.suggestion-list-setting.switch-show-all-suggestions",disabled:t,defaultChecked:r===eG.y3.All,size:"mini",className:"ml-[5px]",onChange:t=>{var r;null===(r=e.onSwitchShowMode)||void 0===r||r.call(e,t?eG.y3.All:eG.y3.Random)}})]})]})},eQ=()=>(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"coz-fg-plus text-base font-medium",children:v.o.t("opening_showall")}),(0,d.jsx)("div",{className:"coz-fg-secondary text-xs pb-3",children:v.o.t("opening_showall_explain")}),(0,d.jsx)("div",{className:"coz-fg-secondary text-xs pb-[6px]",children:v.o.t("opening_showall_explain_demo_on")}),(0,d.jsx)("img",{height:"112px",width:"288px",src:eK}),(0,d.jsx)("div",{className:"coz-fg-secondary text-xs pb-[6px]",children:v.o.t("opening_showall_explain_demo_off")}),(0,d.jsx)("img",{height:"112px",width:"288px",src:eX})]}),eJ=e=>{var{isReadonly:t,onChange:r,initValues:{suggested_questions:n}}=e.props;(0,u.useEffect)(()=>{n.length<100&&n.every(e=>e.content)&&!t&&(null==r||r(e=>(0,I._)((0,s._)({},e),{suggested_questions:[...e.suggested_questions,{id:(0,M.x0)(),content:""}]})))},[n])},e$=Symbol("onboarding-suggestion-list"),e0=e=>{var{initValues:{suggested_questions:t},isReadonly:r,onBlur:n,onChange:o}=e,a={props:e};eJ(a);var l=(0,u.useMemo)(()=>e=>{var{data:r,connect:a,isDragging:l,isHovered:c}=e;return(0,d.jsx)(eW,{message:r,isDragging:!!l,isHovered:!!c,connect:a,value:t,handleOnBlur:n,disabled:!r.content,onMessageChange:e=>{null==o||o(t=>{var n=[...t.suggested_questions],o=n.findIndex(e=>e.id===r.id);return n.splice(o,1,e),(0,I._)((0,s._)({},t),{suggested_questions:n})})},handleRemoveSuggestion:e=>{null==o||o(t=>(0,I._)((0,s._)({},t),{suggested_questions:t.suggested_questions.filter(t=>t.id!==e)}))}},r.id)},[r]);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(eY,{context:a,onSwitchShowMode:e=>{null==o||o(t=>(0,I._)((0,s._)({},t),{suggested_questions_show_mode:e}))}}),(0,d.jsx)(eZ.c,{type:e$,list:t,getId:e=>e.id,enabled:t.length>1,onChange:e=>{null==o||o(t=>(0,I._)((0,s._)({},t),{suggested_questions:e}))},itemRender:l}),r&&!t.length?(0,d.jsx)("div",{className:eB.Z["text-none"],children:v.o.t("bot_element_unset")}):null]})},e1=r("699812"),e2=r("929178"),e4=r("924907"),e5=r("919361"),e6=function(e,t){for(var r=e.length;r--&&(0,e5.Z)(t,e[r],0)>-1;);return r},e3=function(e,t){for(var r=-1,n=e.length;++r<n&&(0,e5.Z)(t,e[r],0)>-1;);return r},e8=r("590709"),e7=r("192180"),e9=function(e,t,r){if((e=(0,e7.Z)(e))&&(r||void 0===t))return(0,e2.Z)(e);if(!e||!(t=(0,e1.Z)(t)))return e;var n=(0,e8.Z)(e),o=(0,e8.Z)(t),a=e3(n,o),l=e6(n,o)+1;return(0,e4.Z)(n,a,l).join("")},te=r("178626"),tt=e=>e.split("\n").length,tr=e=>{var t,r;return null!==(r=null===(t=e.getContentState().getZoneState(te.DEFAULT_ZONE))||void 0===t?void 0:t.length())&&void 0!==r?r:0},tn=e=>{var{text:t,editorLines:r}=e;return tt(t)>r&&t.endsWith("\n")?t.slice(0,-1):t},ti=()=>{var{updateSkillOnboarding:e}=(0,h.Ee)((0,p.N)(e=>({updateSkillOnboarding:e.updateSkillOnboarding})));return[t=>{var{api:n,editorRef:o}=t;if(!!n.current&&!!o.current){if(t.props.plainText){var a=o.current.getText();e(e=>(0,eP.Uy)(e,e=>{e.prologue=e9(String(a))}));return}n.current.validate().then((0,l._)(function*(){var{checkAndGetMarkdown:t}=yield Promise.resolve().then(r.bind(r,178626)),n=yield t({editor:o.current,validate:!1});if(!!n){var{content:a}=n,l=tn({editorLines:tr(o.current),text:a});e(e=>(0,eP.Uy)(e,e=>{e.prologue=l}))}}))}}]};r("211236");var to=(0,u.lazy)(()=>r.e("2760").then(r.bind(r,769094))),ta=(0,u.forwardRef)((e,t)=>{var{title:r,actionButton:n,isLoading:o}=e,{botId:a}=(0,m.G)((0,p.N)(e=>({botId:e.botId}))),{scene:l}=(0,eR.tG)(),{onboardingContent:s,updateSkillOnboarding:c}=(0,h.Ee)((0,p.N)(e=>({onboardingContent:e.onboardingContent,updateSkillOnboarding:e.updateSkillOnboarding}))),f=(0,N.sV)(),b=(0,g.ti)(),v=(0,w.nk)({blockKey:k._t.ONBORDING_MESSAGE_BLOCK,configured:s.prologue.length>0||s.suggested_questions.length>1}),[j]=ti(),T=(0,u.useMemo)(()=>(0,ez.Z)(e=>{(0,y.Gg)(y.Kg.click_welcome_message_edit,{type:e,bot_id:a})},5e3),[a]);return(0,u.useEffect)(()=>{var e,t;f(!!(s.prologue||(null===(t=s.suggested_questions)||void 0===t?void 0:null===(e=t.some)||void 0===e?void 0:e.call(t,e=>e.content))))},[s]),(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(N.iP,{blockEventName:x.Ij.ONBORDING_MESSAGE_BLOCK_OPEN,header:r,showBottomBorder:!0,defaultExpand:v,actionButton:n,children:[(0,d.jsx)(u.Suspense,{fallback:(0,d.jsx)(_.yC,{}),children:(0,d.jsx)(to,{ref:t,initValues:s,isReadonly:b,isGenerating:o,plainText:l===eR.ct.DouyinBot,onChange:j,onBlur:()=>{g.LY.saveFlush(eo.qG.ONBOARDING)}})}),(0,d.jsx)(e0,{isReadonly:b,initValues:s,onBlur:()=>{g.LY.saveFlush(eo.qG.ONBOARDING)},onChange:e=>{c(t=>(T("suggestion"),(0,eP.Uy)(t,(0,eL.Z)(e)?e:()=>e)))}})]})})}),tl=r("842927"),ts=r("189284"),td=r("217389"),tc={};tc.styleTagTransform=K(),tc.setAttributes=V(),tc.insert=F().bind(null,"head"),tc.domAPI=B(),tc.insertStyleElement=G(),R()(td.Z,tc);var tu=td.Z&&td.Z.locals?td.Z.locals:void 0;function tp(e){var{modeInfo:t,disabled:r,tooltip:n}=e,[o]=(0,ts.V)(),a=(null==t?void 0:t.showText)||o["bot.studio.prompt_diff"],l=n?T.u:u.Fragment,s=(0,d.jsx)(l,{content:n,children:(0,d.jsx)(_.y3,{theme:"outline",size:"small",className:ep()(tu["mode-change-title-space"],{"!coz-mg-primary":r}),icon:(0,d.jsx)("div",{className:"coz-fg-primary text-[16px] flex items-center",children:null==t?void 0:t.icon}),disabled:r,"data-testid":"bot-edit-agent-mode-open-button",children:(0,d.jsxs)("div",{className:ep()(tu["mode-change-title"],"flex items-center"),children:[a?null==t?void 0:t.title:null,(0,d.jsx)(A.Wdl,{className:"w-4 h-5 coz-fg-secondary"})]})})});return a?s:(0,d.jsx)(T.u,{content:null==t?void 0:t.title,children:s})}var th=e=>{var{icon:t,isDisabled:r,isSelected:n,title:o,desc:a}=e;return(0,d.jsxs)("div",{className:ep()("flex items-center gap-[12px]"),children:[(0,d.jsx)("div",{className:(ep()("text-[16px]"),r?"coz-fg-dim":"coz-fg-primary"),children:t}),(0,d.jsxs)("div",{"data-testid":"bot-edit-agent-select-mode-button-".concat(o),children:[(0,d.jsx)("div",{className:ep()("text-[16px] leading-[22px]",n?"font-[500]":"font-[400]",r?"coz-fg-dim":"coz-fg-primary"),children:o}),(0,d.jsx)(_.ZT.Text,{className:ep()("mt-[4px]","text-[14px] font-[400] leading-[20px]",r?"coz-fg-dim":"coz-fg-secondary"),children:a})]})]})},tm=e=>{var{modeValue:t=eG.J4.SingleMode,onModeChange:r,modeSelectLoading:n,isReadOnly:o,tooltip:a,optionList:l}=e,c=o||n,p=l.find(e=>e.value===t);return c?(0,d.jsx)(tp,{disabled:c,tooltip:a,modeInfo:p}):(0,d.jsx)(_.J2,{className:tu["mode-change-popover"],"data-testid":"bot-detail.mode-chage-view.popover",trigger:"click",position:"bottomLeft",autoAdjustOverflow:!1,content:(0,d.jsxs)("div",{className:tu["mode-change-popover-content"],children:[(0,d.jsx)("div",{className:"coz-fg-plus text-[14px] font-[500] leading-[20px] mb-[12px]",children:v.o.t("chatflow_switch_mode_title")}),(0,d.jsx)(_.Y8.Group,{type:"pureCard",direction:"vertical",value:t,defaultValue:t,disabled:c,options:l.map(e=>{var r=t===e.value,n=e.getIsDisabled({currentMode:t});return{value:e.value,disabled:n,label:(0,u.createElement)(th,(0,I._)((0,s._)({},e),{key:e.value,isDisabled:n,isSelected:r}))}}),onChange:e=>r(e.target.value)})]}),children:(0,d.jsx)("div",{children:(0,d.jsx)(tp,{disabled:!1,modeInfo:p})})})},tg=e=>{var t,{readonly:r,tooltip:n,optionList:o}=e,{mode:a}=(0,m.G)((0,p.N)(e=>({mode:e.mode}))),{modeSwitching:c,setBotState:u}=(0,tl.c)((0,p.N)(e=>({modeSwitching:e.bot.modeSwitching,setBotState:e.setBotState}))),h=(0,g.ti)()||r;var f=(t=(0,l._)(function*(e){try{u({modeSwitching:!0});var{botSkillInfo:t}=(0,g.yN)();yield(0,g.By)(t);var r=(0,s._)({bot_mode:e},e===ek.J4.MultiMode?{version_compat:ek.NQ.NewVersion}:{}),{data:n}=yield(0,g.By)(r);(0,g.yw)(n),g.y1.close(),g.Zd.close(),yield(0,g.O8)(),g.Zd.start(),g.y1.start()}finally{u({modeSwitching:!1})}}),function(e){return t.apply(this,arguments)});return(0,d.jsx)(tm,{modeSelectLoading:c,modeValue:a,onModeChange:f,isReadOnly:h,tooltip:n,optionList:o})},tf=r("790426"),tb=r("193969"),tv={};tv.styleTagTransform=K(),tv.setAttributes=V(),tv.insert=F().bind(null,"head"),tv.domAPI=B(),tv.insertStyleElement=G(),R()(tb.Z,tv);var tx=tb.Z&&tb.Z.locals?tb.Z.locals:void 0,ty=(0,u.forwardRef)((e,t)=>{var r=(0,g.ti)(),n=e.theme||"";return r?null:e.icon&&!e.children?(0,d.jsx)(T.hU,(0,I._)((0,s._)({},e),{className:tx[n],ref:t})):(0,d.jsx)(T.zx,(0,I._)((0,s._)({},e),{className:tx[n],ref:t}))}),t_=r.p+"static/image/template_i18n.9e64f754.png",tw=r.p+"static/image/sample3_i18n.58d131a1.png",tj=r("824714"),tk={};tk.styleTagTransform=K(),tk.setAttributes=V(),tk.insert=F().bind(null,"head"),tk.domAPI=B(),tk.insertStyleElement=G(),R()(tj.Z,tk);var tN=tj.Z&&tj.Z.locals?tj.Z.locals:void 0,tT=[{key:"Name",description:v.o.t("profile_memory_sample_description_name")},{key:"Address",description:v.o.t("profile_memory_sample_description_address")},{key:"PhoneNumber",description:v.o.t("profile_memory_sample_description_mobile")},{key:"Height",description:v.o.t("profile_memory_sample_description_height")},{key:"Weight",description:v.o.t("profile_memory_sample_description_weight")}],tE=e=>(0,d.jsx)(_.M5,(0,I._)((0,s._)({},e),{type:"action",centered:!0,footer:"variableList"===e.showType?(0,d.jsxs)("div",{className:tN["template-footer"],children:[(0,d.jsx)(_.zx,{theme:"solid",className:tN["template-cancel-button"],onClick:e.onCancel,children:v.o.t("cancel_template")}),e.needSecondConfirm?(0,d.jsx)(_.gn,{className:tN["use-template-pop-confirm"],position:"top",icon:(0,d.jsx)(tf.Z,{size:"extra-large",style:{color:"#ff9600"}}),title:v.o.t("use_template_confirm_title"),content:v.o.t("use_template_confirm_info"),okText:v.o.t("use_template_confirm_ok_text"),cancelText:v.o.t("use_template_confirm_ cancel_text"),okButtonProps:{type:"warning"},onConfirm:()=>{var t;return null===(t=e.addTemplate)||void 0===t?void 0:t.call(e,tT)},children:(0,d.jsx)(ty,{theme:"solid",type:"primary",style:{padding:"8px 12px"},children:v.o.t("Use_template")})}):(0,d.jsx)(ty,{theme:"solid",type:"primary",style:{padding:"8px 12px"},onClick:()=>{var t;return null===(t=e.addTemplate)||void 0===t?void 0:t.call(e,tT)},children:v.o.t("Use_template")})]}):null,width:"variableList"===e.showType?562:448,title:v.o.t("variable_template_title"),className:e.className,children:(0,d.jsx)("div",{className:tN["modal-container"],children:"variableList"===e.showType?(0,d.jsx)(_.Ee,{className:tN["template-variable-list"],src:t_,preview:!1}):(0,d.jsxs)("div",{className:tN["template-demo"],children:[(0,d.jsx)("div",{className:tN.desc,children:v.o.t("variable_template_demo_desc")}),(0,d.jsx)("div",{className:tN.image,children:(0,d.jsx)(_.Ee,{className:tN["image-template"],src:tw,preview:!1})}),(0,d.jsx)("div",{className:tN.tip,children:v.o.t("variable_template_demo_text")})]})})})),tD=e=>{var{onOpenMemoryAdd:t}=e,r=(0,h.Ee)(e=>e.variables),[n,o]=(0,u.useState)(!1);return(0,d.jsx)("div",{children:r.some(e=>e.key)?(0,d.jsx)("div",{className:tN["memory-list"],children:r.map(e=>{if(!!e.key)return e.key.length>13?(0,d.jsx)(_.u,{content:e.key,children:(0,d.jsxs)(_.Vp,{color:"grey",onClick:()=>t(e.key),children:[e.key.slice(0,13),"..."]},"config-item_".concat(e.key))}):(0,d.jsx)(_.Vp,{color:"grey",onClick:()=>t(e.key),children:e.key},"config-item_".concat(e.key))})}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:tN["default-text"],children:v.o.t("user_profile_intro")}),null,(0,d.jsx)(tE,{visible:n,onCancel:()=>{o(!1)},onOk:()=>{o(!1)}})]})})},tC=r("633697"),tS=()=>{var[e,t]=(0,u.useState)(!0);return{check:e=>Promise.resolve({}),pass:e,setPass:t,reset:()=>{t(!0)}}},tI=r("858098"),tM={};tM.styleTagTransform=K(),tM.setAttributes=V(),tM.insert=F().bind(null,"head"),tM.domAPI=B(),tM.insertStyleElement=G(),R()(tI.Z,tM);var tO=tI.Z&&tI.Z.locals?tI.Z.locals:void 0;function tA(e){var{link:t="/docs/guides/content_principles"}=e;return(0,d.jsx)("div",{className:tO["error-message"],children:v.o.t("audit_unsuccess_general_type",{link:(0,d.jsx)("a",{rel:"noreferrer noopener",href:t,target:"_blank",className:tO.link,children:v.o.t("audit_unsuccess_general_type_url")})})})}var tz=r("177198"),tL=r("387428"),tP={};tP.styleTagTransform=K(),tP.setAttributes=V(),tP.insert=F().bind(null,"head"),tP.domAPI=B(),tP.insertStyleElement=G(),R()(tL.Z,tP);var tR=tL.Z&&tL.Z.locals?tL.Z.locals:void 0,tZ=e=>{var{onClick:t,className:r,style:n,children:o,theme:a,icon:l,disabled:c,type:u}=e,p=(0,ed._)(e,["onClick","className","style","children","theme","icon","disabled","type"]);return(0,g.ti)()?null:(0,d.jsx)(_.y3,(0,I._)((0,s._)({"data-testid":tz.A.BotVariableAddModalAddBtn,disabled:c,style:n,className:ep()(tR.add,r),type:u||"tertiary",theme:a||"light",icon:l,onClick:t},p),{children:o}))},tB=r("735114"),{Text:tU}=T.ZT,tF=(e,t)=>{var r,n,{run:o,loading:a}=(0,tB.Z)((0,l._)(function*(){var e,t=yield j.v6.GetSysVariableConf();g(x(null==t?void 0:null===(e=t.group_conf)||void 0===e?void 0:e.reduce((e,t)=>{var r;return t.group_name?e.group_conf.push(t):e.conf=null===(r=e.conf)||void 0===r?void 0:r.concat(t.var_info_list||[]),e},{conf:[],group_conf:[]})))})),{variables:c}=(0,h.Ee)((0,p.N)(e=>({variables:e.variables}))),[m,g]=(0,u.useState)({conf:[],groupConf:[]}),f=(0,u.useMemo)(()=>{var e,t=null===(e=m.groupConf)||void 0===e?void 0:e.reduce((e,t)=>e.concat(null==t?void 0:t.var_info_list),[]);return[...m.conf,...t]},[m]),b=(0,u.useMemo)(()=>{var t;return[...(null===(t=f.filter(e=>e.enable))||void 0===t?void 0:t.map(e=>(0,I._)((0,s._)({},e),{is_system:!0})))||[],...e.filter(e=>!e.is_system)||[]]},[e,f]),x=e=>{var{conf:t=[],group_conf:r=[]}=e||{},n=e=>{var t,r=null==c?void 0:c.find(t=>t.key===e.key&&t.is_system);return(0,I._)((0,s._)({},e),{is_system:null==r?void 0:r.is_system,enable:!!r,prompt_disabled:null===(t=null==r?void 0:r.prompt_disabled)||void 0===t||t})};return{conf:(null==t?void 0:t.map(n))||[],groupConf:(null==r?void 0:r.map(e=>{var t;return(0,I._)((0,s._)({},e),{var_info_list:null===(t=e.var_info_list)||void 0===t?void 0:t.map(e=>{var t;return(0,I._)((0,s._)({},n(e)),{prompt_disabled:!0,channel:null==e?void 0:null===(t=e.EffectiveChannelList)||void 0===t?void 0:t.join(",")})})})}))||[]}};(0,u.useEffect)(()=>{t&&o()},[t]);var y=(e,t,r)=>{var{conf:n=[],groupConf:o=[]}=m,a=n.findIndex(t=>t.key===e);-1!==a&&(n[a][t]=r,"enable"===t&&(n[a].prompt_disabled=!r)),o.forEach(a=>{var l=null==a?void 0:a.var_info_list.findIndex(t=>t.key===e);-1!==l&&(a.var_info_list[l][t]=r),g({conf:n,groupConf:o})})},_=(e,t)=>{y(t,"enable",e)},w=(e,t)=>{y(t,"prompt_disabled",e)},k=e=>{var{value:t,enable:r,e2e:n,extDesc:o,className:a}=e;return(0,d.jsxs)("div",{className:ep()([tN.sys_item_box,!r&&tN.disabled,a],"flex items-center"),"data-dtestid":n,children:[(0,d.jsx)(tU,{ellipsis:{showTooltip:!0},children:t}),!!o&&(0,d.jsx)(T.u,{content:v.o.t(o),children:(0,d.jsx)(z.aUG,{style:{color:"#C6CACD",marginLeft:4}})})]})},N=e=>{var{value:t,e2e:r,enable:n=!0,extDesc:o,className:a}=e;return(0,d.jsxs)("div",{className:ep()([tN.sys_item_group,!n&&tN.disabled,a]),"data-dtestid":r,children:[(0,d.jsx)("div",{children:t}),!!o&&(0,d.jsx)(T.u,{content:v.o.t(o),children:(0,d.jsx)(z.aUG,{style:{color:"#C6CACD",marginLeft:4}})})]})},E=function(e){var t,r,n,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{id:e.key,key:k({value:null!==(t=e.key)&&void 0!==t?t:"",enable:e.enable,e2e:"".concat(tz.A.BotVariableAddModalNameText,".").concat(e.key),extDesc:e.ext_desc,className:"w-[140px] flex-none basis-[140px]"}),description:k({value:null!==(r=e.description)&&void 0!==r?r:"",enable:e.enable,e2e:"".concat(tz.A.BotVariableAddModalDescText,".").concat(e.key),className:"w-[128px] flex-none basis-[128px]"}),default_value:k({value:e.default_value||"--",enable:e.enable,e2e:"".concat(tz.A.BotVariableAddModalDefaultValueText,".").concat(e.key),className:"w-[128px] flex-none basis-[128px]"}),channel:k({value:e.channel||"--",enable:e.enable,className:"w-[128px] flex-none basis-[128px]"}),method:(0,d.jsxs)(T.T,{className:tN["memory-method"],spacing:24,children:[(0,d.jsx)(T.u,{content:v.o.t("variable_240520_03"),theme:"dark",children:(0,d.jsx)("div",{className:tN["memory-method-checkbox"],children:(0,d.jsx)(T.XZ,{disabled:o||!e.enable||"true"===e.must_not_use_in_prompt,checked:null==e||!e.prompt_disabled,onChange:t=>{w(!t.target.checked,e.key)}})})}),(0,d.jsx)(T.u,{showArrow:!0,position:"top",theme:"dark",zIndex:1031,style:{backgroundColor:"#41464c",color:"#fff",maxWidth:"276px"},content:v.o.t("variable_240407_01"),children:(0,d.jsx)(T.rs,{"data-dtestid":"".concat(tz.A.BotVariableAddModalSwitch,".").concat(e.key),size:"small",checked:null!==(n=null==e?void 0:e.enable)&&void 0!==n&&n,onChange:t=>_(t,e.key)})})]})}},D=null==m?void 0:null===(r=m.groupConf)||void 0===r?void 0:r.map(e=>{var t,r;return{id:(0,M.x0)(),key:N({value:null!==(r=e.group_name)&&void 0!==r?r:"--",e2e:"".concat(tz.A.BotVariableAddModalNameText,".").concat(e.group_name),extDesc:null==e?void 0:e.group_ext_desc,className:"w-[140px] flex-none basis-[140px]"}),description:k({value:e.group_desc||"--",enable:!0,e2e:"".concat(tz.A.BotVariableAddModalDescText,".").concat(e.group_name),className:"w-[128px] flex-none basis-[128px]"}),default_value:k({value:"--",enable:!0,e2e:"".concat(tz.A.BotVariableAddModalDefaultValueText,".").concat(e.group_name),className:"w-[128px] flex-none basis-[128px]"}),channel:k({value:"--",enable:!0,className:"w-[128px] flex-none basis-[128px]"}),var_info_list:(null==e?void 0:null===(t=e.var_info_list)||void 0===t?void 0:t.length)?null==e?void 0:e.var_info_list.map(e=>E(e,!0)):void 0}});return{sysConfigList:[...null==m?void 0:null===(n=m.conf)||void 0===n?void 0:n.map(e=>E(e)),...D],sysVariables:f,enableVariables:b,loading:a}},tH=e=>void 0,tV=e=>{var{isReadonly:t}=e,r=[tW("filed",t),tW("description",t),tW("default",t),tW("channel",t),tW("action",t)];return(0,d.jsx)("thead",{children:(0,d.jsx)("tr",{className:"flex gap-x-4 flex-nowrap",children:r.map(e=>e?(0,d.jsx)("th",{className:e.className,children:e.title}):null)})})},tW=(e,t)=>{if("filed"===e)return{type:"filed",className:"w-[140px] flex-none basis-[140px] coz-fg-secondary",title:(0,d.jsxs)(d.Fragment,{children:[v.o.t("bot_edit_memory_title_filed"),(0,d.jsx)("span",{className:"coz-fg-hglt-red",children:"*"})]})};if("description"===e)return{type:"description",className:"w-[128px] flex-none basis-[128px] coz-fg-secondary",title:v.o.t("bot_edit_memory_title_description")};if("default"===e)return{type:"default",className:"w-[128px] flex-none basis-[128px] coz-fg-secondary",title:v.o.t("bot_edit_memory_title_default")};if("channel"===e)return{type:"channel",className:"w-[128px] flex-none basis-[128px] coz-fg-secondary",title:v.o.t("variable_Table_Title_support_channels")};if("action"===e)return t?null:{type:"action",className:"w-[122px] flex-none basis-[122px] coz-fg-secondary",title:v.o.t("bot_edit_memory_title_action")};tH(e)},tG=e=>{var{isReadonly:t}=e,r=[tq("filed",t),tq("description",t),tq("default",t),tq("action",t)];return(0,d.jsx)("thead",{children:(0,d.jsx)("tr",{className:"flex gap-x-4 flex-nowrap",children:r.map(e=>e?(0,d.jsx)("th",{className:e.className,children:e.title}):null)})})},tq=(e,t)=>{if("filed"===e)return{type:"filed",className:"flex-1 coz-fg-secondary",title:(0,d.jsxs)(d.Fragment,{children:[v.o.t("bot_edit_memory_title_filed"),(0,d.jsx)("span",{className:"coz-fg-hglt-red",children:"*"})]})};if("description"===e)return{type:"description",className:"flex-1 coz-fg-secondary",title:v.o.t("bot_edit_memory_title_description")};if("default"===e)return{type:"default",className:"w-[164px] flex-none basis-[164px] coz-fg-secondary",title:v.o.t("bot_edit_memory_title_default")};if("action"===e)return t?null:{type:"action",className:"w-[122px] flex-none basis-[122px] coz-fg-secondary",title:v.o.t("bot_edit_memory_title_action")};tH(e)},tK=e=>{var{variableGroup:t,children:r,defaultOpen:n=!0,level:o=0}=e,[a,l]=(0,u.useState)(n),s=0===o;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:ep()("flex w-full cursor-pointer flex-col px-1 py-2",s&&"hover:coz-mg-secondary-hovered hover:rounded-lg "),onClick:()=>l(!a),children:[(0,d.jsxs)("div",{className:"flex w-full items-center",children:[(0,d.jsx)("div",{className:"w-6 flex items-center",children:(0,d.jsx)(A.x5d,{className:ep()("w-[14px] h-[14px] transition-all",a?"rotate-90":"")})}),(0,d.jsx)("div",{className:"flex items-center",children:(0,d.jsx)("div",{className:ep()("coz-stroke-primary text-xxl font-medium coz-fg-plus",{"!text-sm my-[10px]":!s}),children:t.key})})]}),s?(0,d.jsx)("div",{className:"text-sm coz-fg-secondary pl-6",children:t.description}):null]}),(0,d.jsx)(T.zF,{keepDOM:!0,isOpen:a,children:(0,d.jsx)("div",{className:ep()({"pl-3":!s}),children:r})})]})},tX=e=>{var{isReadonly:t,highLight:r,activeId:n,configList:o}=e;return(0,d.jsx)("tbody",{className:"overflow-visible flex-1 h-0",children:o.map((e,o)=>(0,d.jsxs)("tr",{className:ep()(tN["memory-row"],n===e.id&&r&&tN["active-row"],n===e.id&&r&&"active-row","flex gap-x-4 flex-nowrap"),children:[e.key?(0,d.jsx)("td",{children:e.key}):null,e.description?(0,d.jsx)("td",{children:e.description}):null,e.default_value?(0,d.jsx)("td",{children:e.default_value}):null,e.channel?(0,d.jsx)("td",{children:e.channel}):null,e.method&&!t?(0,d.jsx)("td",{children:e.method}):null]},"memory-row-list_".concat(o)))})},tY=e=>{var{isReadonly:t,loading:r,highLight:n,activeId:o,subGroupConfig:a,variablesConfig:l,handleInputedClick:s,hideAddButton:c,header:u}=e,p=!t&&!c;return(0,d.jsxs)("table",{className:ep()(tN["memory-edit-table"],"pl-6"),children:[u,r?(0,d.jsx)(T.yC,{spinning:r,style:{width:"100%",height:"100%"}}):(0,d.jsxs)(d.Fragment,{children:[null==a?void 0:a.map(e=>{var r;return(0,d.jsxs)(tK,{variableGroup:e,level:1,children:[(0,d.jsx)(tX,{isReadonly:t,highLight:n,activeId:o,configList:e.var_info_list}),p&&(null===(r=e.var_info_list)||void 0===r?void 0:r.length)<10?(0,d.jsx)("div",{className:"my-3 text-left",children:(0,d.jsx)(T.hU,{className:"!m-0",onClick:()=>s(),icon:(0,d.jsx)(z.N_R,{}),children:v.o.t("bot_userProfile_add")})}):null]})}),(0,d.jsx)(tX,{isReadonly:t,highLight:n,activeId:o,configList:l}),p&&(null==l?void 0:l.length)<10?(0,d.jsx)("div",{className:"my-3 text-left",children:(0,d.jsx)(T.hU,{className:"!m-0",onClick:()=>s(),icon:(0,d.jsx)(z.N_R,{}),children:v.o.t("bot_userProfile_add")})}):null]})]})},tQ=e=>{var t=(0,g.ti)(),r=tS(),{variables:n,setBotSkillByImmer:o}=(0,h.Ee)((0,p.N)(e=>({variables:e.variables,setBotSkillByImmer:e.setBotSkillByImmer}))),{botId:a}=(0,m.G)((0,p.N)(e=>({botId:e.botId}))),[c,f]=(0,u.useState)([]),[b,x]=(0,u.useState)(!1),[_,w]=(0,u.useState)(!1),[j,k]=(0,u.useState)(),N=(0,u.useRef)(null),E=(0,u.useRef)(null),[D,C]=(0,u.useState)(!1),{sysConfigList:S,sysVariables:O,enableVariables:z,loading:L}=tF(c,!!e.visible),P=()=>{f((0,g.On)(c,O))};(0,u.useEffect)(()=>{e.visible&&(f((0,g.On)(null==n?void 0:n.filter(e=>!e.is_system),O)),!n.length&&R("init"),e.activeId&&(clearTimeout(j),w(!0),k(setTimeout(()=>{w(!1)},1e3))))},[e.activeId,e.visible]),(0,u.useEffect)(()=>{if(_){var e,t;null===(t=document.getElementsByClassName("active-row"))||void 0===t||null===(e=t[0])||void 0===e||e.scrollIntoView()}},[_]),(0,u.useEffect)(()=>{E.current&&C(E.current.scrollHeight>E.current.clientHeight)},[E.current,c.length]);var R=e=>{(0,y.Gg)(y.Kg.memory_click_front,{bot_id:a,resource_type:"variable",action:"add",source:"bot_detail_page",source_detail:"memory_manage"}),f([..."init"===e?[]:c,{id:(0,M.x0)(),key:"",description:"",default_value:"",prompt_disabled:!1}]),setTimeout(()=>{var e;null==N||null===(e=N.current)||void 0===e||e.focus()},100)},Z=(e,t,n)=>{var o=[...c];o[n]=(0,I._)((0,s._)({},o[n]),{[e]:t}),f((0,g.On)([...o],O)),r.reset()},B=()=>{var t;r.reset(),null==e||null===(t=e.onCancel)||void 0===t||t.call(e)},U=c.map((e,r)=>{var n=()=>{(0,y.Gg)(y.Kg.memory_click_front,{bot_id:a,resource_id:e.id,resource_name:e.key,resource_type:"variable",action:"edit",source:"bot_detail_page",source_detail:"memory_manage"})};return{id:e.key,key:t?(0,d.jsx)(T.ZT.Text,{"data-testid":"".concat(tz.A.BotVariableAddModalNameInput,".").concat(e.key),className:ep()(tN["memory-key-readonly"],!e.key&&tN["readonly-none"],"flex-1"),ellipsis:{showTooltip:!0},children:e.key||v.o.t("bot_element_unset")}):(0,d.jsxs)("div",{className:ep()(tN["memory-key"],{[tN["memory-key-err"]]:e.errType}),children:[(0,d.jsx)(T.II,{"data-testid":"".concat(tz.A.BotVariableAddModalNameInput,".").concat(e.key),"data-dtestid":"".concat(tz.A.BotVariableAddModalNameInput,".").concat(e.key),disabled:t,placeholder:v.o.t("variable_name_placeholder"),className:"flex-1",value:e.key,ref:N,onChange:e=>{Z("key",e,r)},autoFocus:!e.key,maxLength:50,onBlur:()=>{n(),P()}}),e.errType===g.gw.KEY_NAME_USED&&(0,d.jsx)("span",{className:tN["key-error-tip"],children:v.o.t("bot_edit_variable_field_occupied_error")}),e.errType===g.gw.KEY_IS_NULL&&(0,d.jsx)("span",{className:tN["key-error-tip"],children:v.o.t("bot_edit_variable_field_required_error")})]}),description:t?(0,d.jsx)(T.ZT.Text,{"data-testid":"".concat(tz.A.BotVariableAddModalDescInput,".").concat(e.key),className:ep()(tN["memory-description-readonly"],!e.description&&tN["readonly-none"],"flex-1"),ellipsis:{showTooltip:!0},children:e.description||v.o.t("bot_element_unset")}):(0,d.jsx)(T.II,{"data-testid":"".concat(tz.A.BotVariableAddModalDescInput,".").concat(e.key),disabled:t,className:ep()(tN["memory-description"],"flex-1"),placeholder:v.o.t("bot_edit_variable_description_placeholder"),value:e.description,onChange:e=>{Z("description",e,r)},maxLength:200,onBlur:()=>{n(),P()}}),default_value:t?(0,d.jsx)(T.ZT.Text,{"data-testid":"".concat(tz.A.BotVariableAddModalDefaultValueInput,".").concat(e.key),className:ep()(tN["memory-description-readonly"],!e.default_value&&tN["readonly-none"],"w-[164px] basis-[164px] flex-none"),ellipsis:{showTooltip:!0},children:e.default_value||v.o.t("bot_element_unset")}):(0,d.jsx)(T.II,{"data-testid":"".concat(tz.A.BotVariableAddModalDefaultValueInput,".").concat(e.key),disabled:t,className:ep()(tN["memory-description"],"w-[164px] basis-[164px] flex-none"),placeholder:v.o.t("bot_edit_variable_default_value_placeholder"),value:e.default_value,onChange:e=>{Z("default_value",e,r)},maxLength:1e3,onBlur:()=>{n(),P()}}),method:(0,d.jsxs)(T.T,{className:tN["memory-method"],spacing:14,children:[(0,d.jsx)(T.u,{content:v.o.t("variable_240520_03"),theme:"dark",children:(0,d.jsx)("div",{className:tN["memory-method-checkbox"],children:(0,d.jsx)(T.XZ,{checked:null==e||!e.prompt_disabled,onChange:e=>{Z("prompt_disabled",!e.target.checked,r)}})})}),(0,d.jsx)(T.rs,{"data-testid":"".concat(tz.A.BotVariableAddModalSwitch,".").concat(e.key),size:"small",checked:!(null==e?void 0:e.is_disabled),onChange:e=>{Z("is_disabled",!e,r)}}),(0,d.jsx)(T.u,{content:v.o.t("bot_datamemory_remove_field"),theme:"dark",children:(0,d.jsx)(T.hU,{"data-dtestid":"".concat(tz.A.BotVariableAddModalDelBtn,".").concat(e.key),icon:(0,d.jsx)(A.dVD,{}),color:"secondary",onClick:()=>{if(!t)(0,y.Gg)(y.Kg.memory_click_front,{bot_id:a,resource_id:e.id,resource_name:e.key,resource_type:"variable",action:"delete",source:"bot_detail_page",source_detail:"memory_manage"}),c.splice(r,1),P()}})})]})}});return(0,d.jsx)(T.u_,(0,I._)((0,s._)({},e),{centered:!0,onCancel:B,footer:(0,d.jsxs)(d.Fragment,{children:[z.length<10&&D?(0,d.jsx)("div",{className:tN["add-button-row-fix"],children:(0,d.jsx)(tZ,{className:tN["add-button"],type:"tertiary",onClick:()=>R(),icon:(0,d.jsx)(A.PwN,{}),children:v.o.t("bot_userProfile_add")})}):null,(0,d.jsxs)("div",{className:tN["template-footer"],children:[(0,d.jsx)(T.zx,{"data-testid":tz.A.BotVariableAddModalCancelBtn,color:"primary",onClick:B,children:v.o.t("edit_variables_modal_cancel_text")}),(0,d.jsx)(T.zx,{"data-testid":tz.A.BotVariableAddModalSaveBtn,disabled:c.some(e=>e.errType===g.gw.KEY_NAME_USED||e.errType===g.gw.KEY_IS_NULL),onClick:(0,l._)(function*(){var t;if(!(yield r.check({variable_list:c.map(e=>({key:e.key,description:e.description,default_value:e.default_value}))})).check_not_pass)o(e=>{e.variables=[...z]}),null==e||null===(t=e.onOk)||void 0===t||t.call(e)}),children:v.o.t("edit_variables_modal_ok_text")})]})]}),width:800,title:v.o.t("edit_variables_modal_title"),className:ep()(tN["memory-add-modal"],e.className),children:(0,d.jsxs)("div",{className:ep()(tN["modal-add-container"],!c.length&&tN.center,"gap-y-2"),children:[(0,d.jsx)(tK,{variableGroup:{key:v.o.t("variable_user_name"),description:v.o.t("variable_user_description")},children:(0,d.jsx)(tY,{isReadonly:t,loading:L,highLight:_,activeId:e.activeId,variablesConfig:U,handleInputedClick:R,header:(0,d.jsx)(tG,{isReadonly:t})})}),(0,d.jsx)(tK,{variableGroup:{key:v.o.t("variable_system_name"),description:v.o.t("variable_system_describtion")},children:(0,d.jsx)(tY,{isReadonly:t,loading:L,highLight:_,activeId:e.activeId,subGroupConfig:S.filter(e=>e.var_info_list),variablesConfig:S.filter(e=>!e.var_info_list),handleInputedClick:R,header:(0,d.jsx)(tV,{isReadonly:t}),hideAddButton:!0})}),!r.pass&&(0,d.jsx)(T.l0.ErrorMessage,{error:v.o.t("variable_edit_not_pass")}),(0,d.jsx)(tE,{visible:b,needSecondConfirm:!!c.length,showType:"variableList",addTemplate:e=>{var t=[...e.map(e=>(0,I._)((0,s._)({id:(0,M.x0)()},e),{key:e.key,description:e.description,default_value:e.default_value}))];f((0,tC.Z)(t,"key").filter(e=>e.key)),x(!1)},onCancel:()=>{x(!1)},onOk:()=>{x(!1)}})]})}))},tJ=e=>{var{title:t}=e,r=(0,N.sV)(),n=(0,h.Ee)(e=>e.variables),[o,a]=(0,u.useState)(!1),l=(0,g.ti)(),[s,p]=(0,u.useState)(),m=(0,c.useParams)(),f=e=>{if(!l)(0,y.Gg)(y.Kg.memory_click_front,{bot_id:(null==m?void 0:m.bot_id)||"",resource_type:"variable",action:"turn_on",source:"bot_detail_page",source_detail:"memory_manage"}),a(!0),p(e)},b=(0,w.nk)({blockKey:k._t.DATA_MEMORY_BLOCK,configured:n.length>0});return(0,u.useEffect)(()=>{r(!!(null==n?void 0:n.length))},[null==n?void 0:n.length]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(N.iP,{blockEventName:x.Ij.DATA_MEMORY_BLOCK_OPEN,showBottomBorder:!0,header:t,defaultExpand:b,actionButton:(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(N.HS,{tooltips:n.length<10?v.o.t("bot_edit_variable_add_tooltip"):v.o.t("bot_edit_variable_add_tooltip_edit"),onClick:()=>f(),enableAutoHidden:!0,"data-testid":"bot.editor.tool.data-memory.add-button"})}),children:(0,d.jsx)("div",{className:tN["memory-content"],children:(0,d.jsx)(tD,{onOpenMemoryAdd:f})})}),(0,d.jsx)(tQ,{visible:o,activeId:s,onCancel:()=>{a(!1),(0,y.Gg)(y.Kg.memory_click_front,{bot_id:(null==m?void 0:m.bot_id)||"",resource_type:"variable",action:"turn_off",source:"bot_detail_page",source_detail:"memory_manage"})},onOk:()=>{a(!1),(0,x.Kn)(x.Ij.DATA_MEMORY_BLOCK_OPEN)}})]})},t$=e=>(0,d.jsx)(f.xV,{namespace:f.xW.VARIABLE,children:(0,d.jsx)(tJ,(0,s._)({},e))}),t0=r("576182"),t1={};t1.styleTagTransform=K(),t1.setAttributes=V(),t1.insert=F().bind(null,"head"),t1.domAPI=B(),t1.insertStyleElement=G(),R()(t0.Z,t1);var t2=t0.Z&&t0.Z.locals?t0.Z.locals:void 0,t4=e=>{var{mode:t=1,className:r,style:n,children:o}=e,a=(0,u.useRef)(null),l=t===eG.J4.SingleMode,s=t===eG.J4.MultiMode;return(0,d.jsx)("div",{className:ep()("w-full h-full overflow-hidden",l&&t2["wrapper-single"],s&&t2["wrapper-multi"],r),style:n,ref:a,children:o})},t5=r("287487"),t6=r("474872"),t3=r("286518"),t8=(e,t)=>e!==g.Tn.None||t!==g.Tn.None,t7=(e,t)=>e===g.Tn.Generating?t3.eE.BackgroundStatic:t===g.Tn.Generating?t3.eE.BackgroundGif:void 0,t9=e=>{var t,r,{openConfig:n,setBackgroundImageInfoList:o}=null!=e?e:{},{messageList:a,imageDotStatus:s,gifDotStatus:d,setGenerateBackgroundModalByImmer:c}=(0,g.z1)((0,p.N)(e=>({messageList:e.imageList,imageDotStatus:e.generateBackGroundModal.image.dotStatus,gifDotStatus:e.generateBackGroundModal.gif.dotStatus,setGenerateBackgroundModalByImmer:e.setGenerateBackgroundModalByImmer,selectedImage:e.generateBackGroundModal.selectedImage}))),u=(0,m.G)(e=>e.botId),h=t8(s,d),f=s!==g.Tn.None?t3.eE.BackgroundStatic:t3.eE.BackgroundGif,b=t7(s,d),{runAsync:v}=(0,tB.Z)((0,l._)(function*(){return yield j.pr.MarkReadNotice({pic_type:f,bot_id:u})}),{manual:!0}),x=e=>e!==g.Tn.None&&e!==g.Tn.Generating;var y=(t=(0,l._)(function*(){h&&(c(e=>{e.activeKey=s!==g.Tn.None?t6.B6.Static:t6.B6.Gif,x(s)&&f===t3.eE.BackgroundStatic&&(e.image.dotStatus=g.Tn.None),x(d)&&f===t3.eE.BackgroundGif&&(e.gif.dotStatus=g.Tn.None)}),(x(s)||x(d))&&(yield v()))}),function(){return t.apply(this,arguments)});var _=(r=(0,l._)(function*(){if(b){var e,t=null===(e=a.find(e=>e.type===b))||void 0===e?void 0:e.id;yield j.pr.CancelGenerateGif({task_id:t}),c(e=>{b===t3.eE.BackgroundGif&&(e.gif.loading=!1,e.gif.dotStatus=g.Tn.None),b===t3.eE.BackgroundStatic&&(e.image.loading=!1,e.image.dotStatus=g.Tn.None),e.generatingTaskId=""})}yield y(),null==o||o([])}),function(){return r.apply(this,arguments)});return{handleEdit:()=>{null==n||n()},showDot:h,showDotStatus:s!==g.Tn.None?s:d,handleRemove:_,markRead:y}},re=r("297158"),rt=r("492570"),rr=r("997516"),rn=r("478641"),ri=r("552995"),ro=r("727914"),ra=e=>new Promise((t,r)=>{var n=new FileReader;n.onload=e=>{var n,o=null===(n=e.target)||void 0===n?void 0:n.result;if(!o||"string"!=typeof o){r(new ro.sH("checkImageWidthAndHeight","file read invalid"));return}var a=new Image;a.src=o,a.onload=function(){a.height<640?(_.O$.error(v.o.t("bgi_upload_image_format_requirement")),t(!1)):a.complete&&t(!0)}},n.onerror=()=>{r(new ro.sH("checkImageWidthAndHeight","file read fail"))},n.onabort=()=>{r(new ro.sH("checkImageWidthAndHeight","file read abort"))},n.readAsDataURL(e)}),rl=e=>ri.DE[e],rs=e=>{var t,r,n,o,a,l;return{url:null!==(a=null===(r=e[0])||void 0===r?void 0:null===(t=r.web_background_image)||void 0===t?void 0:t.origin_image_url)&&void 0!==a?a:"",uri:null!==(l=null===(o=e[0])||void 0===o?void 0:null===(n=o.web_background_image)||void 0===n?void 0:n.origin_image_uri)&&void 0!==l?l:""}},rd=e=>{var{isGenerateSuccess:t,selectedImageInfo:r,originBackground:n}=e;return t&&(null==r?void 0:r.tar_url)?{url:r.tar_url,uri:r.tar_uri}:rs(n).url?rs(n):{}},rc=(e,t)=>{var r,n=null==t?void 0:null===(r=t.current)||void 0===r?void 0:r.cropper;if(!n)return{left:0,right:0};var{size:o}=rl(e),a=o.width,l=null==n?void 0:n.getCanvasData(),s=null==n?void 0:n.getImageData(),d=s.left+(null==l?void 0:l.left),c=a-s.width-d;return{left:(0,rt.Z)(d/a,2),right:(0,rt.Z)(c/a,2)}},ru=e=>{var t;return(0,rr.Z)(null===(t=e.current)||void 0===t?void 0:t.cropper.getCanvasData(),["left","top","width","height"])},rp=e=>new Promise((t,r)=>{var n=[];e.forEach(e=>{n.push(new Promise((t,r)=>{var n,o,a=null===(n=e.current)||void 0===n?void 0:n.cropper,l=null==a?void 0:null===(o=a.getCroppedCanvas())||void 0===o?void 0:o.toDataURL("image/webp",.7);l?rh(l).then(e=>{t(e)}):r(new ro.sH("computeThemeColor","cropper not exist"))}))}),Promise.all(n).then(e=>t(e)).catch(e=>r(e))});function rh(e){return new Promise((t,r)=>{var n=new rn.Z,o=new Image;o.src=e,o.onload=()=>{var e=n.getColor(o);if(e){var[a,l,s]=e;t("rgba(".concat(a,", ").concat(l,", ").concat(s,")"))}else r(new ro.sH("getImageThemeColor","not get theme color"))}})}var rm=r("947578"),rg=r("904861"),rf=e=>e.type.startsWith("image/");class rb{constructor({controllerId:e,fileList:t,userId:r,onProgress:n,onComplete:o,onUploadError:a,onUploaderReady:s,onStartUpload:d,onGetTokenError:c,onGetUploadInstanceError:u,onAuditFailed:p}){var h;this.cancel=()=>{this.abortController.abort()},this.pause=()=>{var e;null===(e=this.uploader)||void 0===e||e.pause()},this.fileItemList=t.map(e=>({file:e,fileType:rf(e)?"image":"object"})),this.controllerId=e,this.abortController=new AbortController,this.uploader=null,(0,rg.k)({fileItemList:this.fileItemList,userId:r,signal:this.abortController.signal,timeout:void 0,onUploaderReady:t=>{this.uploader=t,null==s||s(!0,e)},onProgress:t=>null==n?void 0:n(t,e),onUploadAllSuccess:(h=(0,l._)(function*(t){var r=t.map(e=>{var t=e.uploadResult.Uri;if(!t)throw Error("failed to get uri, item: ".concat(e));return t});try{if(!r||!r.length)throw Error("upload success without uri, uploadID ".concat(t));var n=yield j.pr.GetImagexShortUrl({uris:r,scene:t3.Jo.BackgroundImage}),l=r.map(e=>{var t,r;if(!e)throw Error("failed to get url, uri: ".concat(e));return{url:null===(r=n.data)||void 0===r?void 0:null===(t=r.url_info)||void 0===t?void 0:t[e].url,uri:e}});if(!l)throw Error("failed to get urls, list: ".concat(l));l.some(e=>e.url)?null==o||o(l,e):null==p||p(e)}catch(t){null==a||a(t instanceof Error?t:Error(String(t)),e)}}),function(e){return h.apply(this,arguments)}),onUploadError:t=>null==a?void 0:a(t.extra.error,e),onStartUpload:t=>null==d?void 0:d(t,e),onGetUploadInstanceError:t=>null==u?void 0:u(t,e),onGetTokenError:t=>null==c?void 0:c(t,e)})}}var rv=e=>{var{getUserId:t,onUploadError:r,onUploadAllSuccess:n,onAuditError:o}=e,a=(0,u.useRef)({}),l=e=>{delete a.current[e]},s=e=>{var t=a.current[e];if(!!t)t.cancel(),l(e)},d=(e,t)=>{s(t),r(),_.FN.error({content:(0,rm.u)(v.o.t("Upload_failed")),showClose:!1})},c=()=>{o?o():_.FN.error({content:v.o.t("inappropriate_contents"),showClose:!1}),r()},p=()=>{Object.entries(a.current).forEach(e=>{var[,t]=e;return t.cancel()}),a.current={}};return(0,u.useEffect)(()=>p,[]),{uploadFileList:e=>{var r=(0,M.x0)();if(!!e.length)a.current[r]=new rb({fileList:e,controllerId:r,userId:t(),onComplete:e=>{n(e)},onUploadError:d,onGetTokenError:d,onGetUploadInstanceError:d,onAuditFailed:c})}}},rx=e=>{var t,{cropperWebRef:r,cropperMobileRef:n,setLoading:o,getUserId:a,onSuccess:d,currentOriginImage:c,handleCancel:p,onAuditCheck:h}=e,m=(0,u.useRef)([]),{check:g}=tS(),f=e=>{var{mode:t,originImageInfo:o,themeColorList:a}=e,l="pc"===t?r:n;return(0,I._)((0,s._)({},o),{theme_color:"pc"===t?a[0]:a[1],gradient_position:rc(t,l),canvas_position:ru(l)})};var b=(t=(0,l._)(function*(e){o(!1);var t,a,l=yield rp([r,n]);if(!(null==c?void 0:c.url))return;var u={themeColorList:l,originImageInfo:{origin_image_uri:(null==e?void 0:null===(t=e[0])||void 0===t?void 0:t.uri)||c.uri,origin_image_url:(null==e?void 0:null===(a=e[0])||void 0===a?void 0:a.url)||c.url}},b=[{web_background_image:f((0,s._)({mode:"pc"},u)),mobile_background_image:f((0,s._)({mode:"mobile"},u))}];m.current=[];var v=yield g({background_images_struct:null==b?void 0:b[0]}),x=!!(null==v?void 0:v.check_not_pass);if(h(x),!x)d(b),p()}),function(e){return t.apply(this,arguments)}),{uploadFileList:v}=rv({onUploadAllSuccess:b,getUserId:()=>a().userId,onUploadError:()=>{o(!1)},onAuditError:()=>h(!0)});return{handleSubmit:()=>{o(!0);try{(null==c?void 0:c.fileInstance)&&(null==c?void 0:c.fileInstance)instanceof File?(m.current=[c.fileInstance],v(m.current)):b()}catch(e){e instanceof Error&&re.kg.error({error:e})}}}},ry=e=>{var t;return!!(null===(t=e.dataTransfer)||void 0===t?void 0:t.types.includes("Files"))},r_=()=>{var e=(0,u.useRef)(null),[t,r]=(0,u.useState)(!1),n=()=>{if(!!e.current)clearTimeout(e.current),e.current=null};return{isDragIn:t,setIsDragIn:r,onDragEnter:e=>{if(n(),!!ry(e))r(!0)},onDragEnd:()=>{n(),e.current=setTimeout(()=>{r(!1)},100)},onDragOver:e=>{if(e.preventDefault(),n(),!!ry(e))r(!0)}}},rw=r("442595"),rj=e=>{var t,r,n,o,{cropperRef:a,url:s,mode:d,setLoading:c,backgroundInfo:p}=e,[h,m]=(0,u.useState)({left:0,right:0}),[g,f]=(0,u.useState)(null!==(o=null==p?void 0:p.theme_color)&&void 0!==o?o:"#fff"),b=(0,u.useRef)(s),{size:v,centerWidth:x}=ri.DE[d];(0,u.useEffect)(()=>{b.current=s,!s&&f("#fff"),y()},[s]);var y=()=>{m(rc(d,a))},_=e=>{var t,r,n,o,l=null==a?void 0:null===(t=a.current)||void 0===t?void 0:t.cropper;if(!!l){var s=null==l?void 0:l.getCanvasData(),d=null==l?void 0:l.getImageData(),c=d.height+s.top-v.height,u=(0,rw.Z)(d.left+(null==s?void 0:s.left),2);e<0&&(null===(r=a.current)||void 0===r||r.cropper.setCanvasData({top:0})),c<0&&(null===(n=a.current)||void 0===n||n.cropper.setCanvasData({top:v.height-d.height}));var p=(0,rt.Z)((v.width-x)/2+.4*x,2),h=(0,rt.Z)(v.width-d.width-p,2);(u>p||u<h)&&(null===(o=a.current)||void 0===o||o.cropper.setCanvasData({left:u>p?p:h}))}};var w=(t=(0,l._)(function*(){yield j(),y()}),function(){return t.apply(this,arguments)});var j=(r=(0,l._)(function*(){var e,t,r=null===(e=a.current)||void 0===e?void 0:e.cropper;null==r||r.disable();var n=null==r?void 0:null===(t=r.getCroppedCanvas())||void 0===t?void 0:t.toDataURL("image/webp",.7);n&&(f((yield rh(n))),null==r||r.enable())}),function(){return r.apply(this,arguments)});return{gradientPosition:h,handleReady:(n=(0,l._)(function*(){var e,t=null===(e=a.current)||void 0===e?void 0:e.cropper;(null==p?void 0:p.canvas_position)&&b.current===p.origin_image_url&&(null==t||t.setCanvasData(null==p?void 0:p.canvas_position)),yield j(),c(!1)}),function(){return n.apply(this,arguments)}),handleThemeColor:j,handleCrop:e=>{y(),_(e.detail.y)},cropEnd:w,onZoom:()=>{var e,t,r,n,o,{width:l=0,height:s=0,naturalWidth:d=0,naturalHeight:c=0}=null!==(r=null===(t=a.current)||void 0===t?void 0:null===(e=t.cropper)||void 0===e?void 0:e.getCanvasData())&&void 0!==r?r:{};d>c?s>=2*v.height&&(null===(n=a.current)||void 0===n||n.cropper.setCanvasData({height:2*v.width})):l>2*v.width&&(null===(o=a.current)||void 0===o||o.cropper.setCanvasData({width:2*v.width}))},themeColor:g,size:v}};var rk=((o={})[o.Manual=0]="Manual",o[o.Generate=1]="Generate",o),rN="__first_drag_guide__";r("84094");var rT=r.p+"static/image/image.48e1fd29.png",rE=r("878233"),rD={};rD.styleTagTransform=K(),rD.setAttributes=V(),rD.insert=F().bind(null,"head"),rD.domAPI=B(),rD.insertStyleElement=G(),R()(rE.Z,rD);var rC=rE.Z&&rE.Z.locals?rE.Z.locals:void 0,rS=e=>{var{icon:t,title:r,desc:n,btnOnClick:o,btnText:a,tip:l}=e;return(0,d.jsxs)("div",{className:"flex items-center flex-col m-auto",children:[(0,d.jsx)("div",{className:"mb-4 w-6 h-6",children:t}),(0,d.jsxs)("div",{className:"text-xxl text-[#1C1F23] font-medium flex items-center gap-1/2",children:[r,l]}),(0,d.jsx)("div",{className:"text-xs text-[#888D92] mb-4 mt-1",children:n}),o?(0,d.jsx)(T.zx,{onClick:o,color:"primary",className:"!coz-fg-primary !coz-mg-primary",children:a}):null]})},rI=e=>{var{manualUpload:t,renderEnhancedUpload:r,mode:n="init"}=e,[o,a]=(0,u.useState)(!1),l=(0,d.jsx)(rS,{icon:(0,d.jsx)(z.bCE,{className:rC.icon}),title:v.o.t("upload_image_guide"),tip:(0,d.jsx)(_.J2,{position:"top",content:(0,d.jsxs)("div",{className:"p-4 w-[240px]",children:[(0,d.jsx)("div",{className:"coz-fg-plus font-semi",children:v.o.t("bgi_upload_image_format_requirement_title")}),(0,d.jsx)("div",{className:"coz-fg-secondary text-xs",children:v.o.t("bgi_upload_image_format_requirement")}),(0,d.jsx)("img",{src:rT,className:"w-full mt-3"})]}),children:(0,d.jsx)(T.zx,{icon:(0,d.jsx)(z.aUG,{}),color:"primary",size:"mini",className:"!bg-transparent"})}),desc:v.o.t("upload_image_format_requirement"),btnText:v.o.t("upload_image"),btnOnClick:t});return"init"===n?(0,d.jsxs)("div",{className:"w-full flex items-center flex-col	p-16  border border-dashed  rounded-[6px] h-[466px] mb-6 ".concat(o?"coz-stroke-hglt coz-bg-primary":"coz-stroke-primary coz-bg-max"),onClick:e=>e.stopPropagation(),onDragEnter:()=>{a(!0)},onDragLeave:()=>{a(!1)},children:[l,null==r?void 0:r()]}):(0,d.jsx)("div",{className:"opacity-80 coz-bg-max w-full h-full flex items-center flex-col justify-center",children:l})},rM=r("668096"),rO=e=>{var{userId:t}=e,r=!window.localStorage.getItem("".concat(rN,"[").concat(t,"]")),[n,o]=(0,u.useState)({x:0,y:0}),[a,l]=(0,u.useState)(!1),[s,c]=(0,u.useState)(!1);return(0,d.jsxs)(d.Fragment,{children:[a&&r?(0,d.jsx)(T.J2,{content:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"coz-fg-plus font-semi",children:v.o.t("bgi_adjust_tooltip_title")}),(0,d.jsx)("div",{className:"coz-fg-dim text-xs",children:v.o.t("bgi_adjust_tooltip_content")})]}),visible:!0,rePosKey:n.x+n.y,showArrow:!0,position:"top",children:(0,d.jsx)("div",{className:"absolute w-4 h-4 z-[300]",style:{top:n.y,left:n.x}})}):null,r?(0,d.jsx)("div",{className:"absolute w-full h-full z-[300] pointer-events-none",onMouseEnter:()=>{l(!0)},onMouseLeave:()=>{l(!1)},onClick:()=>{c(!0),window.localStorage.setItem("".concat(rN,"[").concat(t,"]"),"true")},onMouseMove:e=>{o({x:e.nativeEvent.offsetX,y:e.nativeEvent.offsetY})},style:{pointerEvents:s?"none":"auto"}}):null]})},rA=r("382174"),rz=r("486687"),rL={};rL.styleTagTransform=K(),rL.setAttributes=V(),rL.insert=F().bind(null,"head"),rL.domAPI=B(),rL.insertStyleElement=G(),R()(rz.Z,rL);var rP=rz.Z&&rz.Z.locals?rz.Z.locals:void 0,rR={pc:[{width:300,height:45},{width:300,height:34},{width:73,height:24}],mobile:[{width:186,height:63},{width:185,height:28},{width:60,height:20}]},rZ=e=>{var{bg:t,width:r,height:n,rounded:o,className:a}=e;return(0,d.jsx)("div",{className:"rounded-".concat(o," ").concat(a),style:{background:t,width:r,height:n,backdropFilter:"blur(6px)"}})},rB=e=>{var{bg:t,size:r}=e;return(0,d.jsx)("div",{className:"bg-[".concat(t,"] rounded-full"),style:{background:t,width:r,height:r}})},rU=e=>{var{mode:t,loading:r=!1,hasUrl:n=!1}=e;return(0,u.useMemo)(()=>(0,d.jsxs)("div",{className:"w-full h-full p-2 absolute z-[200] pointer-events-none ",children:[(0,d.jsxs)("div",{className:"flex gap-2 mb-6",children:[(0,d.jsx)(T.Vp,{color:"primary",prefixIcon:null,className:"!text-white !bg-[rgba(0,0,0,0.28)]",children:"pc"===t?v.o.t("display_on_widescreen"):v.o.t("display_on_vertical_screen")}),r?(0,d.jsx)(T.Vp,{color:"primary",prefixIcon:(0,d.jsx)(rA.Z,{spin:!0}),className:"!text-white !bg-[rgba(0,0,0,0.28)]",children:v.o.t("knowledge_insert_img_009")}):null]}),(0,d.jsx)("div",{className:"flex justify-center",children:(0,d.jsx)("div",{className:"pc"===t?"w-[326px]":"w-[205px]",children:rR[t].map((e,o)=>{var a=r||!n,l=a?1===o?"#4E40E5":"#F4F4F6":1===o?"rgba(6, 7, 9, 0.24)":"rgba(255, 255, 255, 0.60)";return(0,d.jsxs)("div",{className:"flex gap-1 mb-2",children:[(0,d.jsx)(rB,{size:"pc"===t?18:16,bg:l}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:ep()(rP.text,{[rP.shadow]:!a,"coz-fg-dim":a,"text-white":!a}),children:1===o?"Glory":"Coze"}),(0,d.jsx)(rZ,{width:e.width,height:e.height,bg:l,rounded:"lg",className:ep()({[rP["background-border"]]:!a,[rP.default]:a})})]})]},o)})})})]}),[t,r,n])},rF=r("50797"),rH={};rH.styleTagTransform=K(),rH.setAttributes=V(),rH.insert=F().bind(null,"head"),rH.domAPI=B(),rH.insertStyleElement=G(),R()(rF.Z,rH);var rV=rF.Z&&rF.Z.locals?rF.Z.locals:void 0,rW=e=>{var{url:t="",mode:r="pc",cropperRef:n,loading:o,setLoading:a,getUserId:l,backgroundInfo:s}=e,{handleCrop:c,handleReady:u,themeColor:p,gradientPosition:h,size:m,onZoom:g,cropEnd:f}=rj({url:t,mode:r,cropperRef:n,setLoading:a,backgroundInfo:s}),b={image_url:t,gradient_position:h,theme_color:p},v=l(),x=(0,ez.Z)(g,100);return(0,d.jsxs)("div",{className:"".concat(ep()(rV["cropper-container"])," outline outline-1 outline-[#0607091A] hover:outline-[#4E40E5]"),style:{background:p,height:m.height,width:m.width},children:[(0,d.jsx)(rO,{userId:v}),(0,d.jsx)(rU,{mode:r,loading:o,hasUrl:!!t}),(0,d.jsx)(ri.Uh,{backgroundInfo:{web_background_image:"pc"===r?b:{},mobile_background_image:"mobile"===r?b:{}},preview:!0},r),t?(0,d.jsx)(rM.Z,{ready:u,initialAspectRatio:m.width/m.height,src:t,style:{height:m.height,width:m.width},background:!1,guides:!1,zoom:x,ref:n,dragMode:"move",viewMode:0,modal:!1,center:!1,cropBoxMovable:!1,cropBoxResizable:!1,highlight:!1,autoCropArea:1,minCanvasHeight:m.height,minCropBoxHeight:m.height,minCropBoxWidth:m.width,minContainerWidth:m.width,crop:c,cropend:f,checkCrossOrigin:!1,checkOrientation:!1,crossOrigin:"anonymous"}):null]})},rG=e=>{var t,r,n,{pictureValue:o,onChange:a,disabled:c,uploaderRef:h,cropperWebRef:m,cropperMobileRef:f,backgroundValue:b=[],getUserId:x,setUploadMode:y,uploadMode:w,renderEnhancedUpload:j}=e,[k,N]=(0,u.useState)(!1),T=null===(r=b[0])||void 0===r?void 0:r.mobile_background_image,E=null===(n=b[0])||void 0===n?void 0:n.web_background_image,{onDragEnter:D,onDragEnd:C,isDragIn:S,onDragOver:I}=r_(),{setGenerateBackgroundModalByImmer:M}=(0,g.z1)((0,p.N)(e=>({setGenerateBackgroundModalByImmer:e.setGenerateBackgroundModalByImmer})));var O=(t=(0,l._)(function*(e){N(!0);var{onSuccess:t,onError:r,file:n}=e;if("string"!=typeof n)try{var{fileInstance:o}=n;o?(yield ra(o))?(t(n),null==a||a(n),M(e=>{e.selectedImage={}})):N(!1):r({status:0})}catch(e){N(!1),e instanceof Error&&re.kg.error({error:e,eventName:"poll_scene_mockset_fail"})}}),function(e){return t.apply(this,arguments)}),A={url:null==o?void 0:o.url,loading:k,setLoading:N,getUserId:x},z=()=>{y(rk.Generate)};return(0,d.jsx)("div",{className:"px-6 mt-[1px]",children:(0,d.jsx)(_.gq,{action:"",limit:1,draggable:!0,customRequest:O,accept:".jpeg,.jpg,.png,.webp,.gif",showReplace:!1,showUploadList:!1,ref:h,disabled:c,maxSize:10240,onDrop:C,onSizeError:()=>{_.FN.error({content:v.o.t("upload_image_size_limit",{max_size:"10M"}),showClose:!1})},children:(null==o?void 0:o.url)||w===rk.Generate?(0,d.jsxs)("div",{className:"relative flex justify-between gap-3",onClick:e=>{e.stopPropagation()},onDragEnter:D,onDragOver:I,onDragLeave:C,children:[(0,d.jsx)(rW,(0,s._)({mode:"pc",cropperRef:m,backgroundInfo:E},A)),(0,d.jsx)(rW,(0,s._)({mode:"mobile",cropperRef:f,backgroundInfo:T},A)),S?(0,d.jsx)("div",{className:"w-full h-full absolute z-[300]",children:(0,d.jsx)(rI,{mode:"fill"})}):null]}):(0,d.jsx)(rI,{manualUpload:()=>{var e;y(rk.Manual),null==h||null===(e=h.current)||void 0===e||e.openFileDialog()},renderEnhancedUpload:()=>null==j?void 0:j({aiUpload:z})})})})},rq=e=>{var{handleOpenFileDialog:t,handleCancel:r,handleSubmit:n,loading:o,disabledConfig:a}=e;return(0,d.jsxs)("div",{className:"flex justify-between p-6 coz-bg-max",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(T.zx,{onClick:t,color:"primary",disabled:a.upload,children:v.o.t("bgi_reupload")}),a.submit?null:(0,d.jsx)("span",{className:"coz-fg-dim ml-3 text-xs",children:v.o.t("bgi_adjust_tooltip_content")})]}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)(T.zx,{onClick:r,color:"highlight",className:"!coz-mg-hglt !coz-fg-hglt",children:v.o.t("Cancel")}),(0,d.jsx)(T.zx,{"data-testid":"agent-ide.chat_background_img_submit",onClick:n,loading:o,disabled:a.submit,children:v.o.t("Confirm")})]})]})},rK=e=>{var{backgroundValue:t=[],getUserId:r,onSuccess:n,cancel:o,renderUploadSlot:a,renderEnhancedUpload:l}=e,s=(0,u.useRef)(null),c=(0,u.createRef)(),h=(0,u.createRef)(),[m,f]=(0,u.useState)(!1),[b,v]=(0,u.useState)(!1),{selectedImageInfo:x,isGenerateSuccess:y,setGenerateBackgroundModalByImmer:_}=(0,g.z1)((0,p.N)(e=>{var t;return{selectedImageInfo:null===(t=e.generateBackGroundModal.selectedImage)||void 0===t?void 0:t.img_info,isGenerateSuccess:e.generateBackGroundModal.gif.dotStatus===g.Tn.Success||e.generateBackGroundModal.image.dotStatus===g.Tn.Success,setGenerateBackgroundModalByImmer:e.setGenerateBackgroundModalByImmer}})),w=rd({isGenerateSuccess:y,originBackground:t,selectedImageInfo:x}),{showDot:j}=t9(),k=j||w.url?rk.Generate:rk.Manual,[N,T]=(0,u.useState)(k),[E,D]=(0,u.useState)(w),C=null==E?void 0:E.url;(0,u.useEffect)(()=>{w.url!==(null==x?void 0:x.tar_url)&&_(e=>{e.selectedImage={img_info:{tar_uri:w.uri,tar_url:w.url}}})},[]),(0,u.useEffect)(()=>{x&&(D({uri:null==x?void 0:x.tar_uri,url:null==x?void 0:x.tar_url}),v(!1))},[null==x?void 0:x.tar_url]);var S=()=>{o(),I()},I=()=>{[c,h].forEach(e=>{var t,r;null===(r=e.current)||void 0===r||null===(t=r.cropper)||void 0===t||t.destroy()})},{handleSubmit:M}=rx({onSuccess:n,handleCancel:S,cropperWebRef:c,cropperMobileRef:h,currentOriginImage:null!=E?E:{},setLoading:f,getUserId:r,onAuditCheck(e){v(e)}}),O=e=>{D(e),v(!1)};return(0,d.jsxs)(u.Fragment,{children:[(0,d.jsxs)("div",{className:"flex flex-col overflow-hidden flex-auto relative",children:[(0,d.jsx)(rG,{pictureValue:E,onChange:O,uploaderRef:s,cropperWebRef:c,cropperMobileRef:h,backgroundValue:t,getUserId:()=>r().userId,setUploadMode:T,uploadMode:N,renderEnhancedUpload:l}),null==a?void 0:a({pictureOnChange:O,pictureUrl:C,uploadMode:N})]}),C||N===rk.Generate?(0,d.jsx)(rq,{handleOpenFileDialog:()=>{var e;return null===(e=s.current)||void 0===e?void 0:e.openFileDialog()},handleCancel:S,handleSubmit:M,loading:m,disabledConfig:{upload:!C&&N===rk.Manual,submit:!C}}):null,b?(0,d.jsx)("div",{className:"pb-6 coz-bg-max px-6",children:(0,d.jsx)(tA,{})}):null]})},rX=r("110178"),rY={};rY.styleTagTransform=K(),rY.setAttributes=V(),rY.insert=F().bind(null,"head"),rY.domAPI=B(),rY.insertStyleElement=G(),R()(rX.Z,rY);var rQ=rX.Z&&rX.Z.locals?rX.Z.locals:void 0,rJ=e=>{var[t,r]=(0,u.useState)(!1),{markRead:n}=t9(),{imageLoading:o,gifLoading:a,setGenerateBackgroundModalByImmer:l}=(0,g.z1)((0,p.N)(e=>({imageLoading:e.generateBackGroundModal.image.loading,gifLoading:e.generateBackGroundModal.gif.loading,setGenerateBackgroundModalByImmer:e.setGenerateBackgroundModalByImmer}))),c=()=>{n(),r(!1),(a||o)&&l(e=>{a?e.gif.dotStatus=g.Tn.Generating:e.image.dotStatus=g.Tn.Generating})};return{node:t&&(0,d.jsx)(_.M5,{type:"action",title:v.o.t("bgi_title"),visible:!0,width:800,className:rQ["background-config-modal"],bodyStyle:{display:"flex",flexDirection:"column"},centered:!0,footer:null,onCancel:c,children:(0,d.jsx)(rK,(0,I._)((0,s._)({},e),{cancel:c}))}),open:()=>{r(!0)}}},r$=r("664281"),r0={};r0.styleTagTransform=K(),r0.setAttributes=V(),r0.insert=F().bind(null,"head"),r0.domAPI=B(),r0.insertStyleElement=G(),R()(r$.Z,r0);var r1=r$.Z&&r$.Z.locals?r$.Z.locals:void 0,r2=e=>{var{backgroundImageInfoList:t=[],isReadOnly:r=!1,openConfig:n,setBackgroundImageInfoList:o}=e,a=rs(t).url,{handleEdit:l,showDot:s,showDotStatus:c,handleRemove:u}=t9({openConfig:n,setBackgroundImageInfoList:o});return(0,d.jsx)("div",{children:a||s?(0,d.jsxs)("div",{className:"p-2 w-full flex items-center justify-between coz-mg-primary hover:coz-mg-primary-hovered rounded-small cursor-pointer",children:[(0,d.jsxs)("div",{className:"w-8 h-8 rounded-[6px] relative flex items-center justify-center coz-mg-primary",style:{backgroundImage:a?"url(".concat(a,")"):"none",backgroundRepeat:"no-repeat",backgroundSize:"cover"},children:[s&&!a?(0,d.jsx)(A.Q2$,{}):null,s?(0,d.jsx)(t6.Ke,{status:c}):null]}),!r&&(0,d.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,d.jsx)(T.zx,{icon:(0,d.jsx)(z.yl5,{className:r1.icon}),color:"primary",size:"mini",className:"!bg-transparent hover:!coz-mg-primary-hovered !p-1 !h-6 coz-fg-secondary",onClick:l}),(0,d.jsx)(T.gn,{content:v.o.t("bgi_remove_popup_content"),okButtonColor:"red",title:v.o.t("bgi_remove_popup_title"),okText:v.o.t("Remove"),onConfirm:u,children:(0,d.jsx)(T.zx,{icon:(0,d.jsx)(z.XvT,{className:r1.icon}),color:"primary",size:"mini",className:"!bg-transparent hover:!coz-mg-primary-hovered !p-1 !h-6 coz-fg-secondary"})})]})]}):(0,d.jsx)("div",{className:"coz-fg-secondary text-lg",children:v.o.t("bgi_desc")})})},r4=e=>{var t,r,{title:n}=e,o=(0,N.sV)(),{backgroundImageInfoList:a,setBackgroundImageInfoList:l}=(0,h.Ee)((0,p.N)(e=>({backgroundImageInfoList:e.backgroundImageInfoList,setBackgroundImageInfoList:e.setBackgroundImageInfoList}))),s=(0,g.ti)(),{showDot:c}=t9(),m=!!(null==a?void 0:null===(r=a[0])||void 0===r?void 0:null===(t=r.web_background_image)||void 0===t?void 0:t.origin_image_url),f=(0,w.nk)({blockKey:k._t.BACKGROUND_IMAGE_BLOCK,configured:m||c}),b=t5.Z.useUserInfo(),{node:y,open:_}=rJ({getUserId:()=>{var e;return{userId:null!==(e=null==b?void 0:b.user_id_str)&&void 0!==e?e:""}},onSuccess:e=>{l(e),(0,x.Kn)(x.Ij.BACKGROUND_IMAGE_BLOCK)},backgroundValue:a});return(0,u.useEffect)(()=>{o(m)},[m]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(N.iP,{showBottomBorder:!0,tooltipType:"tooltip",header:n,defaultExpand:f,actionButton:(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(N.HS,{tooltips:m?v.o.t("bgi_already_set"):void 0,onClick:()=>{_()},disabled:m,enableAutoHidden:!0,"data-testid":"bot.editor.tool.background.add-button"})}),children:(0,d.jsx)(r2,{isReadOnly:s,backgroundImageInfoList:a,openConfig:_,setBackgroundImageInfoList:l})}),y]})},r5=r("360823");r("977270");var r6=r("427407");function r3(){return(r3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}var r8=["shift","alt","meta","mod","ctrl"],r7={esc:"escape",return:"enter",".":"period",",":"comma","-":"slash"," ":"space","`":"backquote","#":"backslash","+":"bracketright",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function r9(e){return(e&&r7[e]||e||"").trim().toLowerCase().replace(/key|digit|numpad|arrow/,"")}function ne(e,t){return void 0===t&&(t=","),e.split(t)}function nt(e,t,r){void 0===t&&(t="+");var n=e.toLocaleLowerCase().split(t).map(function(e){return r9(e)}),o={alt:n.includes("alt"),ctrl:n.includes("ctrl")||n.includes("control"),shift:n.includes("shift"),meta:n.includes("meta"),mod:n.includes("mod")},a=n.filter(function(e){return!r8.includes(e)});return r3({},o,{keys:a,description:r})}"undefined"!=typeof document&&(document.addEventListener("keydown",function(e){if(void 0!==e.key)ni([r9(e.key),r9(e.code)])}),document.addEventListener("keyup",function(e){if(void 0!==e.key)no([r9(e.key),r9(e.code)])})),"undefined"!=typeof window&&window.addEventListener("blur",function(){nr.clear()});var nr=new Set;function nn(e){return Array.isArray(e)}function ni(e){var t=Array.isArray(e)?e:[e];nr.has("meta")&&nr.forEach(function(e){var t;return t=e,!r8.includes(t)&&nr.delete(e.toLowerCase())}),t.forEach(function(e){return nr.add(e.toLowerCase())})}function no(e){var t=Array.isArray(e)?e:[e];"meta"===e?nr.clear():t.forEach(function(e){return nr.delete(e.toLowerCase())})}function na(e,t){var r=e.target;void 0===t&&(t=!1);var n=r&&r.tagName;return nn(t)?!!(n&&t&&t.some(function(e){return e.toLowerCase()===n.toLowerCase()})):!!(n&&t&&!0===t)}var nl=function(e,t,r){void 0===r&&(r=!1);var n,o,a=t.alt,l=t.meta,s=t.mod,d=t.shift,c=t.ctrl,u=t.keys,p=e.key,h=e.code,m=e.ctrlKey,g=e.metaKey,f=e.shiftKey,b=e.altKey,v=r9(h),x=p.toLowerCase();if(!(null!=u&&u.includes(v))&&!(null!=u&&u.includes(x))&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(v))return!1;if(!r){if(!b===a&&"alt"!==x||!f===d&&"shift"!==x)return!1;if(s){if(!g&&!m)return!1}else if(!g===l&&"meta"!==x&&"os"!==x||!m===c&&"ctrl"!==x&&"control"!==x)return!1}if(u&&1===u.length&&(u.includes(x)||u.includes(v)))return!0;if(u){;return void 0===o&&(o=","),(nn(n=u)?n:n.split(o)).every(function(e){return nr.has(e.trim().toLowerCase())})}if(!u)return!0;return!1},ns=(0,u.createContext)(void 0),nd=(0,u.createContext)({hotkeys:[],enabledScopes:[],toggleScope:function(){},enableScope:function(){},disableScope:function(){}}),nc=function(e){e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},nu="undefined"!=typeof window?u.useLayoutEffect:u.useEffect,np=r("214942"),nh=r("561641"),nm=r("852718"),ng={};ng.styleTagTransform=K(),ng.setAttributes=V(),ng.insert=F().bind(null,"head"),ng.domAPI=B(),ng.insertStyleElement=G(),R()(nm.Z,ng);var nf=nm.Z&&nm.Z.locals?nm.Z.locals:void 0,nb=(0,u.lazy)(()=>Promise.all([r.e("4574"),r.e("6720")]).then(r.bind(r,77067))),nv=()=>{var e,t,r,n,o,a,l,s,c,h,g,f,b,v,w,j,k,N,T,E,{isDebugPanelShow:D,currentDebugQueryId:C,setIsDebugPanelShow:S,setCurrentDebugQueryId:I}=(0,r6.j)(),{botId:M}=(0,m.G)((0,p.N)(e=>({botId:e.botId}))),O=null!==(E=null===(T=t5.Z.useUserInfo())||void 0===T?void 0:T.user_id_str)&&void 0!==E?E:"",{id:A}=(0,np.rY)(e=>e.space);return e="ctrl+k, meta+k",t=()=>{!D&&(0,y.Gg)(y.Kg.open_debug_panel,{path:"shortcut_debug"}),I(""),S(!D)},a=(o=(0,u.useState)(null))[0],l=o[1],s=(0,u.useRef)(!1),c=r,h=nn(e)?e.join(null==c?void 0:c.splitKey):e,g=r instanceof Array?r:n instanceof Array?n:void 0,f=(0,u.useCallback)(t,null!=g?g:[]),b=(0,u.useRef)(f),g?b.current=f:b.current=t,j=(v=c,!function e(t,r){return t&&r&&"object"==typeof t&&"object"==typeof r?Object.keys(t).length===Object.keys(r).length&&Object.keys(t).reduce(function(n,o){return n&&e(t[o],r[o])},!0):t===r}((w=(0,u.useRef)(void 0)).current,v)&&(w.current=v),w.current),k=(0,u.useContext)(nd).enabledScopes,N=(0,u.useContext)(ns),nu(function(){if((null==j?void 0:j.enabled)!==!1&&(e=k,t=null==j?void 0:j.scopes,0===e.length&&t?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):!!(!t||e.some(function(e){return t.includes(e)})||e.includes("*")))){var e,t,r=function(e,t){var r;if(void 0===t&&(t=!1),na(e,["input","textarea","select"])&&!na(e,null==j?void 0:j.enableOnFormTags))return;if(null!==a){var n=a.getRootNode();if((n instanceof Document||n instanceof ShadowRoot)&&n.activeElement!==a&&!a.contains(n.activeElement)){nc(e);return}}if(null==(r=e.target)||!r.isContentEditable||!!(null!=j&&j.enableOnContentEditable))ne(h,null==j?void 0:j.splitKey).forEach(function(r){var n,o,a,l,d,c,u,p=nt(r,null==j?void 0:j.combinationKey);if(nl(e,p,null==j?void 0:j.ignoreModifiers)||null!=(u=p.keys)&&u.includes("*")){;if(null!=j&&null!=j.ignoreEventWhen&&j.ignoreEventWhen(e)||t&&s.current)return;if(n=e,o=p,("function"==typeof(a=null==j?void 0:j.preventDefault)&&a(n,o)||!0===a)&&n.preventDefault(),l=e,d=p,"function"==typeof(c=null==j?void 0:j.enabled)?!c(l,d):!0!==c&&void 0!==c){nc(e);return}b.current(e,p),!t&&(s.current=!0)}})},n=function(e){if(void 0!==e.key)ni(r9(e.code)),((null==j?void 0:j.keydown)===void 0&&(null==j?void 0:j.keyup)!==!0||null!=j&&j.keydown)&&r(e)},o=function(e){if(void 0!==e.key)no(r9(e.code)),s.current=!1,null!=j&&j.keyup&&r(e,!0)},l=a||(null==c?void 0:c.document)||document;return l.addEventListener("keyup",o),l.addEventListener("keydown",n),N&&ne(h,null==j?void 0:j.splitKey).forEach(function(e){return N.addHotkey(nt(e,null==j?void 0:j.combinationKey,null==j?void 0:j.description))}),function(){l.removeEventListener("keyup",o),l.removeEventListener("keydown",n),N&&ne(h,null==j?void 0:j.splitKey).forEach(function(e){return N.removeHotkey(nt(e,null==j?void 0:j.combinationKey,null==j?void 0:j.description))})}}},[a,h,j,k]),(0,u.useEffect)(()=>(D?((0,nh.zs)(),window.scrollTo(document.body.scrollWidth,0)):(0,x.PE)(),()=>{(0,x.PE)()}),[D]),(0,u.useEffect)(()=>()=>{I("")},[]),D?(0,d.jsx)("div",{className:nf.container,children:(0,d.jsx)(u.Suspense,{fallback:(0,d.jsx)("div",{className:nf["debug-panel-lazy-loading"],children:(0,d.jsx)(_.yC,{})}),children:(0,d.jsx)(nb,{isShow:D,botId:M,userID:O,spaceID:A,placement:"left",currentQueryLogId:C,onClose:()=>{S(!1),I("")}})})}):null},nx=r("363036"),ny=re.kg.createLoggerWith({ctx:{meta:{},namespace:"bot_debug"}}),n_=e=>{var{children:t}=e,r=(0,c.useParams)(),n=(0,nx.Z)(()=>ny.createLoggerWith({ctx:{meta:{bot_id:r.bot_id}}}),[]);return(0,d.jsx)(re.vW.Provider,{value:n,children:t})};r("714393"),r("493278"),r("841622"),r("620715");var nw=r("117770"),nj=r("601477"),nk=r("871873"),nN=r("403805"),nT={};nT.styleTagTransform=K(),nT.setAttributes=V(),nT.insert=F().bind(null,"head"),nT.domAPI=B(),nT.insertStyleElement=G(),R()(nN.Z,nT),nN.Z&&nN.Z.locals&&nN.Z.locals;var nE=540,nD=e=>{var{title:t,navigation:r,mainContent:n,mainContentTitle:o,className:a,onCancel:l,closeIcon:c,style:u}=e,p=(0,ed._)(e,["title","navigation","mainContent","mainContentTitle","className","onCancel","closeIcon","style"]);return(0,d.jsx)(T.u_,(0,I._)((0,s._)({header:null,footer:null,className:"coz-nav-modal ".concat(a||""),style:(0,nk.Z)(u,{"--nav-modal-body-height":"".concat(604,"px")})},p),{children:(0,d.jsxs)("div",{className:"flex w-full h-full",children:[(0,d.jsxs)("div",{className:"flex pt-[30px] px-[8px] coz-bg-max w-[200px] shrink-0 flex-col",children:[(0,d.jsx)("div",{className:"text-[20px] coz-fg-plus mx-[8px] leading-[28px] font-medium mb-[16px]",children:t}),r]}),(0,d.jsxs)("div",{className:"flex flex-col coz-bg-plus overflow-auto px-[24px] w-full",style:{paddingTop:24,"--nav-modal-main-content-height":"".concat(nE,"px")},children:[(0,d.jsxs)("div",{className:"flex justify-end",children:[o?(0,d.jsx)("div",{className:"mr-auto content-center text-[20px] coz-fg-plus mx-[8px] leading-[28px] font-medium",children:o}):null,c||(0,d.jsx)(T.zx,{style:{height:40,width:40},size:"large",color:"secondary",onClick:l,icon:(0,d.jsx)(A.rmE,{})})]}),n]})]})}))},nC=e=>{var{text:t,selected:r=!1,selectedIcon:n=(0,d.jsx)(d.Fragment,{}),unselectedIcon:o=(0,d.jsx)(d.Fragment,{}),suffix:a,onClick:l,className:s}=e;return(0,d.jsxs)("div",{onClick:l,className:["flex","flex-row","cursor-pointer","items-center","justify-between","rounded-normal","px-[8px]","py-[6px]","mb-[6px]","text-lg","text-foreground-4","w-full","hover:bg-background-5","active:bg-background-6",r?"bg-background-4":"",s].join(" "),children:[(0,d.jsxs)("div",{className:"flex flex-row gap-[8px] items-center flex-1 overflow-hidden",children:[r?n:o,(0,d.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,d.jsx)("div",{className:"font-medium",children:t})})]}),"string"==typeof a?(0,d.jsx)("div",{className:"font-base text-foreground-2",children:a}):null!=a?a:(0,d.jsx)(d.Fragment,{})]})};nD.displayName="NavModal",nC.displayName="NavModalItem";var nS=r("243238"),nI=r("800651"),nM=e=>{var t,{menuList:r}=e,n=(0,nI.E)({isStore:!1}),[o,a]=(0,u.useState)(),l=null===(t=r[0])||void 0===t?void 0:t.name,{open:s,node:c}=(0,nI.Iu)({memoryModule:o||l,menuList:r,setMemoryModule:a,isStore:!1});return(0,d.jsxs)(f.xV,{namespace:f.xW.MEMORY,children:[c,(0,d.jsx)(r5.dI,{visible:r.length>0,itemKey:"key_".concat(v.o.t("database_memory_menu")),operateType:r5.n.DROPDOWN,title:v.o.t("database_memory_menu"),icon:(0,d.jsx)(z.t2M,{}),onEntryButtonClick:()=>{n(l),a(l),s()},dropdownProps:{showTick:!0,clickToHide:!0,render:(0,d.jsx)(nI.IX,{menuList:r,onClickItem:e=>{a(e),s()}})},buttonProps:{"data-testid":tz.A.BotMemoryDebugBtn}})]})},nO=r("416290"),nA=r("458949"),nz=r("763055"),nL=e=>{var t,{botId:r}=e,{loading:n,error:o,data:a,run:l}=(0,tB.Z)(()=>j.Js.GetQueriedOAuthPluginList({bot_id:r}),{manual:!0}),{runAsync:s}=(0,tB.Z)(e=>j.Js.RevokeAuthToken({plugin_id:e,bot_id:r}),{manual:!0,onSuccess:()=>{l()}});return(0,u.useEffect)(()=>{l()},[]),{loading:n,error:o,data:null!==(t=null==a?void 0:a.oauth_plugin_list)&&void 0!==t?t:[],runGetList:l,runRevoke:s}},nP=r("943972"),nR={};nR.styleTagTransform=K(),nR.setAttributes=V(),nR.insert=F().bind(null,"head"),nR.domAPI=B(),nR.insertStyleElement=G(),R()(nP.Z,nR);var nZ=nP.Z&&nP.Z.locals?nP.Z.locals:void 0,nB=e=>{var{onCancel:t,needPopconfirm:r}=e;return[{title:v.o.t("permission_manage_modal_table_name"),dataIndex:"name",render:(e,t)=>(0,d.jsxs)("div",{className:"flex items-center gap-[8px]",children:[(0,d.jsx)("img",{alt:"",src:t.plugin_icon,className:"h-[32px] w-[32px] rounded-[8px]"}),(0,d.jsxs)("div",{className:"flex flex-col min-w-0",children:[(0,d.jsx)(T.ZT.Text,{className:"coz-fg-primary text-[14px] font-medium lending-[20px]",ellipsis:{showTooltip:!0},children:t.name}),t.status===nA.OZ.Unauthorized&&(0,d.jsx)(T.ZT.Text,{className:"coz-fg-secondary text-[12px] lending-[16px]",size:"small",ellipsis:{showTooltip:!0},children:v.o.t("permission_manage_modal_reauth_hint")})]})]})},{title:v.o.t("permission_manage_modal_table_action"),align:"left",width:80,render:(e,n)=>{if(n.status===nA.OZ.Authorized)return r?(0,d.jsx)(T.gn,{trigger:"click",okButtonColor:"red",title:v.o.t("permission_manage_modal_cancel_auth_confirm_modal"),content:v.o.t("permission_manage_modal_reauth_hint"),onConfirm:()=>t(n),okText:v.o.t("confirm"),className:"w-[240px]",position:"bottomRight",children:(0,d.jsx)(T.zx,{size:"small",color:"primary",children:v.o.t("cancel")})}):(0,d.jsx)(T.zx,{onClick:()=>t(n),size:"small",color:"primary",children:v.o.t("cancel")})}}]},nU=e=>{var{botId:t,scrollY:r,confirmType:n}=e,o=(0,u.useRef)(null),a=(0,nO.Z)(o),{loading:l,data:s,runRevoke:c}=nL({botId:t}),p=nB({onCancel:e=>{if("modal"!==n)return c(e.plugin_id);T.u_.error({title:v.o.t("permission_manage_modal_cancel_auth_confirm_modal"),content:v.o.t("permission_manage_modal_reauth_hint"),cancelButtonProps:{theme:"borderless"},okButtonProps:{theme:"solid"},cancelText:v.o.t("Cancel"),okText:v.o.t("Confirm"),style:{width:320},onOk:()=>c(e.plugin_id)})},needPopconfirm:"popconfirm"===n}),h=(null==a?void 0:a.height)?(null==a?void 0:a.height)-38:0;return(0,d.jsx)("div",{className:"flex-1 min-h-0 mt-[16px]",ref:o,children:(0,d.jsx)(T.iA,{useHoverStyle:!1,wrapperClassName:"flex-1 min-h-0",tableProps:{className:nZ.plugin_permission_list_table,dataSource:s,columns:p,loading:l,scroll:{y:r||h},rowKey:"plugin_id"},empty:(0,d.jsx)(nH,{})})})},nF=()=>(0,d.jsxs)(T.T,{spacing:4,children:[(0,d.jsx)("span",{children:v.o.t("permission_manage_modal_title")}),(0,d.jsx)(T.u,{content:v.o.t("permission_manage_modal_title_hover_tip"),children:(0,d.jsx)("div",{className:"flex items-center justify-center hover:coz-mg-secondary-hovered cursor-pointer w-[32px] h-[32px] rounded-[8px] text-[16px]",children:(0,d.jsx)(A.L03,{className:"coz-fg-secondary"})})})]}),nH=()=>(0,d.jsx)("div",{className:"flex-1 flex justify-center h-full",children:(0,d.jsxs)("div",{className:"flex flex-col gap-[16px] justify-center items-center h-[80%]",children:[(0,d.jsx)(nz.l3,{className:"h-[140px] w-[140px]"}),(0,d.jsx)("span",{className:"coz-fg-plus text-[16px] font-medium leading-[22px]",children:v.o.t("permission_manage_modal_empty_list")})]})});r("368696");var nV=((a={})[a.Unknown=0]="Unknown",a[a.Private=1]="Private",a[a.Public=2]="Public",a);nV.Private,v.o.t("coze_custom_publish_platform_12"),nV.Public,v.o.t("coze_custom_publish_platform_13"),v.o.t("coze_custom_publish_platform_14"),v.o.t("coze_custom_publish_platform_15"),eo.tD.Authorized,v.o.t("bot_publish_columns_status_authorized"),eo.tD.Unauthorized,v.o.t("bot_publish_columns_status_unauthorized"),r("479886"),r("626389"),(0,_.Q2)(T.II),(0,_.Q2)(T.Rn),(0,_.Q2)(_.cO),r("75117");var nW=r("597763"),nG={};nG.styleTagTransform=K(),nG.setAttributes=V(),nG.insert=F().bind(null,"head"),nG.domAPI=B(),nG.insertStyleElement=G(),R()(nW.Z,nG),nW.Z&&nW.Z.locals&&nW.Z.locals;var nq=r("484782"),nK=r("435614"),nX={};nX.styleTagTransform=K(),nX.setAttributes=V(),nX.insert=F().bind(null,"head"),nX.domAPI=B(),nX.insertStyleElement=G(),R()(nK.Z,nX);var nY=nK.Z&&nK.Z.locals?nK.Z.locals:void 0;function nQ(e){var{desc:t=""}=e;return(0,d.jsx)(T.u,{position:"right",content:(0,d.jsx)("div",{className:ep()(nY["connector-tip"]),children:(0,d.jsx)(nq.D,{linkTarget:"_blank",children:t})}),children:(0,d.jsx)("span",{style:{lineHeight:0},children:(0,d.jsx)(A.L03,{className:"text-sm"})})})}},620715:function(e,t,r){"use strict";r.d(t,{s:()=>N});var n=r("151064"),o=r("455069"),a=r("346707"),l=r("344879"),s=r("550655"),d=r("252237"),c=r.n(d),u=r("775699"),p=r("599841"),h=r("837745"),m=r("139654");r("634405");var g=r("808549"),f=r("120454"),b=r("473980"),v=e=>{var{value:t,children:r,visible:a,tipFormatter:l=e=>"".concat(e)}=e,s=(0,b._)(e,["value","children","visible","tipFormatter"]),d=o.useRef(null),[c,p]=o.useState("1");function h(){d.current&&window.cancelAnimationFrame(d.current)}return o.useEffect(()=>(a?d.current=window.requestAnimationFrame(()=>{p(Math.random().toString())}):h(),h),[t,a]),(0,n.jsx)(u.u,(0,f._)((0,g._)({placement:"top",content:l(t),overlayInnerStyle:{minHeight:"auto"},rePosKey:c,visible:a},s),{children:r}))},x=(e,t)=>(0,n.jsx)(v,{value:t.value,visible:t.dragging,children:e}),y=r("72792"),_=e=>{var{value:t,onChange:r,max:o=1,min:a=0,step:l=1,disabled:s,marks:d,className:c}=e;return(0,n.jsx)("div",{className:y.Z["rc-slider-wrapper"],children:(0,n.jsx)(m.Z,{className:c,disabled:s,value:t,max:o,min:a,step:l,marks:d,handleRender:x,onChange:e=>{"number"==typeof e&&(null==r||r(e))}})})},w=r("238005"),j=(e,t,r)=>{if((0,a.Z)(r))return e.toString();var n=Number(e),o=e.toString();if(Number.isNaN(n))return"".concat(e);if(0===r&&!(0,l.Z)(Number(e))&&t)return"".concat(t);var s=o.indexOf(".");if(s<0)return o;var d=o.substring(0,s+1+r);return d.endsWith(".")&&0===r?d.substring(0,d.length-1):d},k=(e,t,r)=>{if((0,a.Z)(r))return e;if(0===r&&!(0,l.Z)(e)&&t)return t;var n=Math.pow(10,r);return Math.round(e*n)/n},N=(0,u.Q2)(e=>{var{value:t,onChange:r,max:o=1,min:a=0,step:l=1,disabled:d,decimalPlaces:m,marks:g,className:f,useRcSlider:b=!1}=e,v=e=>{var n=k(e,t,m);null==r||r(n)};return(0,n.jsxs)("div",{className:c()(w.Z["input-slider"],f),children:[b?(0,n.jsx)(_,{disabled:d,value:t,max:o,min:a,step:l,marks:g,onChange:e=>{"number"==typeof e&&(null==r||r(e))}}):(0,n.jsx)(u.iR,{className:w.Z.slider,disabled:d,value:t,max:o,min:a,step:l,marks:g,onChange:e=>{"number"==typeof e&&(null==r||r(e))}}),(0,n.jsxs)("div",{style:{position:"relative",marginLeft:24},children:[(0,n.jsx)(p.Z,{className:c()(w.Z["input-btn"],d&&w.Z["input-btn-disabled"]),onClick:e=>{if(e.stopPropagation(),!(0,s.Z)(t)||!(t<=a))!d&&void 0!==t&&v(t-l)}}),(0,n.jsx)(u.Rn,{className:w.Z["input-number"],value:t,disabled:d,formatter:e=>j(e,t),hideButtons:!0,onNumberChange:v,max:o,min:a}),(0,n.jsx)(h.Z,{className:c()(w.Z["input-btn"],d&&w.Z["input-btn-disabled"]),onClick:e=>{if(!(0,s.Z)(t)||!(t>=o))e.stopPropagation(),!d&&void 0!==t&&v(t+l)}})]})]})})},211236:function(e,t,r){"use strict";r.d(t,{C:function(){return h}});var n=r(808549),o=r(120454),a=r(473980),l=r(151064),s=r(336205),d=r(674343),c=r(775699),u=r(44172),p=r(124922),h=e=>{var{children:t}=e,r=(0,a._)(e,["children"]);return(0,l.jsx)(c.M5,(0,o._)((0,n._)({},r),{title:(0,l.jsx)("div",{className:"coz-fg-plus text-[20px] leading-8",children:s.o.t("bot_edit_opening_text_title")}),centered:!0,style:{maxWidth:640,aspectRatio:640/668,height:"auto"},bodyStyle:{padding:0},className:p.Z["editor-expend-modal"],footer:null,type:"base-composition",closeIcon:(0,l.jsx)(d.u,{content:s.o.t("collapse"),children:(0,l.jsx)(u.eQ,{size:"extra-large",className:"cursor-pointer",onClick:r.onCancel})}),children:t}))}},150500:function(e,t,r){"use strict";r.d(t,{OF:function(){return b},Tn:function(){return v},To:function(){return f},ci:function(){return x}});var n,o=r(825955),a=r(808549),l=r(788637),s=r(735114),d=r(947578),c=r(297158),u=r(336205),p=r(727914),h=r(382534),m=r(39663),g=r(674343),f=e=>{var{id:t,onRevokeSuccess:r,onRevokeFinally:n}=e,{loading:a,runAsync:l}=(0,s.Z)((0,o._)(function*(){return yield h.nA.CancelUserAuth({connector_id:t})}),{manual:!0,onSuccess:()=>{null==r||r(t)},onFinally:()=>{null==n||n()}});return{revokeLoading:a,runRevoke:l}};var b=(n=(0,o._)(function*(e){var t,r,{id:n,authInfo:o,origin:l}=e,s=yield h.nA.GetConnectorAuthState({connector_id:n}),d=null!==(r=null==s?void 0:null===(t=s.data)||void 0===t?void 0:t.state)&&void 0!==r?r:{};(0,m.HL)({navigatePath:location.pathname,type:"oauth",extra:(0,a._)({origin:l},d)},n,o)}),function(e){return n.apply(this,arguments)}),v=e=>!(0,l.Z)(e)&&!!(null==e?void 0:e.authorize_url),x=()=>{c.kg.error({message:"connection_missing_oauth_info",error:new p.sH("normal_error","Connection missing oauth information")}),g.FN.error({content:(0,d.u)(u.o.t("error"))})}},561641:function(e,t,r){"use strict";r.d(t,{EK:function(){return c},dj:function(){return p},pX:function(){return l},vh:function(){return u},zW:function(){return d},zs:function(){return s}});var n=r(808549),o=r(120454);r(336205),r(775699);var a=r(178385);r(298203),r(150500);var l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=[];return null==e||e.forEach(e=>{e.level=t,r.push(e),e.sub_nodes&&r.push(...l(e.sub_nodes,t+1))}),r},s=()=>{var e=document.body.style,t=document.getElementsByTagName("html")[0].style;e.minHeight="600px",t.minHeight="600px",e.minWidth="1680px",t.minWidth="1680px"},d="10000114",c="10000122",u=(e,t)=>(null==t?void 0:t.length)?t.map(t=>{var r,l,s,d,c,u,p,h=null!==(s=null==e?void 0:e[t.id])&&void 0!==s?s:{};return(0,o._)((0,n._)({},t),{publish_status:null!==(d=h.publish_result_status)&&void 0!==d?d:a.an.Failed,fail_text:null!==(c=h.msg)&&void 0!==c?c:"",share_link:null!==(u=null===(r=h.connector)||void 0===r?void 0:r.share_link)&&void 0!==u?u:"",bind_info:null!==(p=null===(l=h.connector)||void 0===l?void 0:l.bind_info)&&void 0!==p?p:t.bind_info})}):[],p=e=>{try{return JSON.parse(e)}catch(e){return""}}},189284:function(e,t,r){"use strict";r.d(t,{V:function(){return l}});var n=r(455069),o=r(864114),a=r(839974),l=()=>{var e=(0,a.L)(),[,t]=(0,n.useState)(0);return(0,n.useEffect)(()=>{var e=()=>{t(Date.now())};return o.l.on("change",e),()=>{o.l.off("change",e)}},[]),[e]}},486613:function(e,t,r){"use strict";r.d(t,{I0:function(){return c},Ll:function(){return g},Xb:function(){return h},_g:function(){return m},jY:function(){return p},sv:function(){return u}});var n,o,a,l,s,d,c=((n={})[n.Undefined=0]="Undefined",n[n.PersonalDraft=1]="PersonalDraft",n[n.Base=2]="Base",n[n.Publish=3]="Publish",n);var u=((o={})[o.Unknown=0]="Unknown",o[o.Add=1]="Add",o[o.Delete=2]="Delete",o[o.Modify=3]="Modify",o[o.Remove=4]="Remove",o[o.Remain=5]="Remain",o);var p=((a={})[a.Default=0]="Default",a[a.TextDetail=1]="TextDetail",a);var h=((l={})[l.Online=1]="Online",l[l.Submit=2]="Submit",l[l.Draft=3]="Draft",l);var m=((s={})[s.Bot=1]="Bot",s[s.Workflow=2]="Workflow",s);var g=((d={})[d.AgentFlow=1]="AgentFlow",d[d.Agent=2]="Agent",d[d.Workflow=3]="Workflow",d)},602876:function(e,t,r){"use strict";r.d(t,{wp:function(){return o}});var n,o=((n={})[n.Text=1]="Text",n[n.Number=2]="Number",n[n.Date=3]="Date",n[n.Float=4]="Float",n[n.Boolean=5]="Boolean",n)},672958:function(e,t,r){"use strict";r.d(t,{n:function(){return o}});var n,o=((n={})[n.AllData=0]="AllData",n[n.OnlySchema=1]="OnlySchema",n[n.OnlyPreview=2]="OnlyPreview",n)},458949:function(e,t,r){"use strict";r.d(t,{K9:function(){return T},Mv:function(){return E},OZ:function(){return O},Pi:function(){return z},Pt:function(){return U},Yz:function(){return A},ZZ:function(){return Z},fM:function(){return N},gR:function(){return F},ji:function(){return C},nw:function(){return I},qJ:function(){return M},qi:function(){return S},rH:function(){return L},vF:function(){return R},vw:function(){return k},wA:function(){return H},wL:function(){return P},x9:function(){return D},zV:function(){return B}});var n,o,a,l,s,d,c,u,p,h,m,g,f,b,v,x,y,_,w,j,k=((n={})[n.DebugWaiting=0]="DebugWaiting",n[n.DebugPassed=1]="DebugPassed",n);var N=((o={})[o.GET=1]="GET",o[o.POST=2]="POST",o[o.PUT=3]="PUT",o[o.DELETE=4]="DELETE",o[o.PATCH=5]="PATCH",o);var T=((a={})[a.DEFAULT=1]="DEFAULT",a[a.IMAGE=2]="IMAGE",a[a.DOC=3]="DOC",a[a.CODE=4]="CODE",a[a.PPT=5]="PPT",a[a.TXT=6]="TXT",a[a.EXCEL=7]="EXCEL",a[a.AUDIO=8]="AUDIO",a[a.ZIP=9]="ZIP",a[a.VIDEO=10]="VIDEO",a[a.VOICE=12]="VOICE",a);var E=((l={})[l.None=0]="None",l[l.Service=1]="Service",l[l.OAuth=3]="OAuth",l);var D=((s={})[s.COZE=0]="COZE",s[s.IDE=1]="IDE",s);var C=((d={})[d.Default=0]="Default",d[d.Enable=1]="Enable",d[d.Disable=2]="Disable",d);var S=((c={})[c.Input=0]="Input",c[c.Variable=1]="Variable",c);var I=((u={})[u.Unknown=0]="Unknown",u[u.NotFoundPlugin=1]="NotFoundPlugin",u[u.OfficialPlugin=2]="OfficialPlugin",u);var M=((p={})[p.TokenExchange=1]="TokenExchange",p[p.ClientCredential=2]="ClientCredential",p);var O=((h={})[h.Authorized=1]="Authorized",h[h.Unauthorized=2]="Unauthorized",h);var A=((m={})[m.OFFLINE=0]="OFFLINE",m[m.ONLINE=1]="ONLINE",m);var z=((g={})[g.Path=1]="Path",g[g.Query=2]="Query",g[g.Body=3]="Body",g[g.Header=4]="Header",g);var L=((f={})[f.String=1]="String",f[f.Integer=2]="Integer",f[f.Number=3]="Number",f[f.Object=4]="Object",f[f.Array=5]="Array",f[f.Bool=6]="Bool",f);var P=((b={})[b.OpenAPI=1]="OpenAPI",b[b.Curl=2]="Curl",b[b.Postman=3]="Postman",b[b.Swagger=4]="Swagger",b);var R=((v={})[v.Draft=0]="Draft",v[v.SUBMITTED=1]="SUBMITTED",v[v.REVIEWING=2]="REVIEWING",v[v.PREPARED=3]="PREPARED",v[v.PUBLISHED=4]="PUBLISHED",v[v.OFFLINE=5]="OFFLINE",v[v.BANNED=6]="BANNED",v);var Z=((x={})[x.Required=0]="Required",x[x.Supported=1]="Supported",x[x.Disable=2]="Disable",x);var B=((y={})[y.PLUGIN=1]="PLUGIN",y[y.APP=2]="APP",y[y.FUNC=3]="FUNC",y[y.WORKFLOW=4]="WORKFLOW",y[y.IMAGEFLOW=5]="IMAGEFLOW",y[y.LOCAL=6]="LOCAL",y);var U=((_={})[_.NeverListed=0]="NeverListed",_[_.Listed=1]="Listed",_[_.Unlisted=2]="Unlisted",_[_.Banned=3]="Banned",_);var F=((w={})[w.Curl=1]="Curl",w[w.Wget=2]="Wget",w[w.NodeJS=3]="NodeJS",w[w.Python=4]="Python",w[w.Golang=5]="Golang",w);var H=((j={})[j.Default=0]="Default",j[j.Owner=1]="Owner",j[j.Admin=2]="Admin",j[j.Member=3]="Member",j)},178626:function(e,t,r){"use strict";r.r(t),r.d(t,{md2html:()=>g,ZoneDelta:()=>p,LazyEditorFullInputInner:()=>j,LazyEditorFullInput:()=>w,DEFAULT_ZONE:()=>u,DeltaSetOptions:()=>l.DeltaSetOptions,Text:()=>x,ToolbarItemEnum:()=>c,normalizeSchema:()=>v,checkAndGetMarkdown:()=>b,DeltaSet:()=>h,ToolbarButton:()=>y,delta2md:()=>f,Plugin:()=>_,IApplyMetadata:()=>l.IApplyMetadata,EditorEventType:()=>m,displayType:()=>d});var n,o,a,l={};r.r(l),r.d(l,{S2:()=>u,uN:()=>h,rp:()=>m,_l:()=>c,If:()=>p,v:()=>d});var s=r("455069");var d=((n={}).inline="inline",n.block="block",n);var c=((o={}).Bold="Bold",o.Italic="Italic",o.Underline="Underline",o.Undo="Undo",o.Redo="Redo",o.Strikethrough="Strikethrough",o.Blockquote="Blockquote",o.UnorderedList="UnorderedList",o.OrderedList="OrderedList",o.Checkbox="Checkbox",o.Indent="Indent",o.H1="H1",o.H2="H2",o.H3="H3",o.AlignCenter="AlignCenter",o.AlignLeft="AlignLeft",o.AlignRight="AlignRight",o.HorizontalLine="HorizontalLine",o.Hyperlink="Hyperlink",o.Image="Image",o.Table="Table",o.CodeBlock="CodeBlock",o.Video="Video",o.DIVIDER="DIVIDER",o.ColorPicker="ColorPicker",o.FontSizeDropdown="FontSizeDropdown",o.AlignDropdown="AlignDropdown",o.HeadingDropdown="HeadingDropdown",o.FontFamilyDropdown="FontFamilyDropdown",o),u="0",p={};class h{constructor(e){this.deltas=e,this.deltas=e}}var m=((a={}).DID_PASTE="didPaste",a.RESIZE="resize",a.RECT_CHANGE="rectchange",a.SELECTION_CHANGE="selectionchange",a.SELECTION_CHANGE_AND_DOM_UPDATE="editorUpdateDomSelection",a.CONTENT_WILL_CHANGE="contentWillChange",a.CONTENT_CHANGE="contentchange",a.EDITABLE_CHANGE="editablechange",a.PAINT="paint",a.COPY="copy",a.CUT="cut",a.PASTE="paste",a.WILL_DELETE_FROM_CUT="willDeleteFromCut",a.INPUT="input",a.BEFORE_INPUT="beforeinput",a.KEYDOWN="keydown",a.KEYPRESS="keypress",a.KEYUP="keyup",a.EXEC_COMMAND="execCommand",a.ERROR="error",a.DELETE_KEY="keyDelete",a.FOCUS="focus",a.BLUR="blur",a.SCROLL_END="scrollend",a.SCROLL="scroll",a.KEYBAORDCHANGE="keyboardchange",a.COMPOSITION_END="compositionend",a.COMPOSITION_START="compositionstart",a.COMPOSITION_UPDATE="compositionupdate",a.REACT_CONTEXT_UPDATE="reactContextUpdate",a.BEFORE_DOM_RENDERER_RECONCILE="beforeDomRendererReconcile",a.AFTER_DOM_RENDERER_RECONCILE="afterDomRendererReconcile",a.UNDO_DID_INIT="undoDidInit",a),g=e=>e,f=function(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2],{markdown:e.insert,images:[],links:[],mentions:[],codeblocks:[]}},b=e=>{var{editor:t}=e;return{content:t.getText(),images:[],links:[]}},v=e=>{var t,r,n;return{0:{zoneType:null===(t=e[0])||void 0===t?void 0:t.zoneType,zoneId:null===(r=e[0])||void 0===r?void 0:r.zoneId,ops:null===(n=e[0])||void 0===n?void 0:n.ops}}},x=()=>null,y=()=>null;class _{}var w=(0,s.lazy)(()=>r.e("9258").then(r.bind(r,172374)).then(e=>({default:e.EditorInput}))),j=(0,s.lazy)(()=>r.e("9258").then(r.bind(r,172374)).then(e=>({default:e.EditorFullInputInner})))},936731:function(e,t,r){"use strict";r.d(t,{v:function(){return n.v}});var n=r(888461)},888461:function(e,t,r){"use strict";r.d(t,{v:function(){return p}});var n=r(151064),o=r(455069),a=r(252237),l=r.n(a),s=r(385038),d=r(674343),c=r(561119),u=r(105452),p=e=>{var{className:t,style:r,mainText:a,subText:p,percent:h=10,percentFormat:m,avatar:g,status:f,actions:b,tipText:v=""}=e;return(0,n.jsxs)("div",{className:l()(u.Z["progress-wrap"],"flex justify-between relative mb-[8px]",f===c.N.Failed?u.Z["processing-failed"]:"",f===c.N.Processing?u.Z.processing:"",t),style:r,children:[(0,n.jsx)("div",{className:l()(u.Z.content,"process-progress-item-content","max-w-[calc(100%-100px)]"),children:(0,n.jsxs)("div",{className:l()("flex items-center",u.Z.info),children:[g,(0,n.jsxs)("div",{className:l()("pl-[10px] max-w-full"),children:[(0,n.jsx)("div",{className:u.Z["main-text"],children:(0,n.jsx)(d.ZT.Text,{"data-dtestid":"".concat(s.w.CreateUnitListProgressName,".").concat(a),className:"coz-fg-primary text-14px",ellipsis:{showTooltip:{opts:{content:a}}},children:a})}),(0,n.jsxs)("div",{className:u.Z["sub-text"],children:[(0,n.jsx)("div",{className:u.Z.desc,children:p}),v?(0,n.jsx)("div",{className:u.Z["tip-desc"],children:v}):null]})]})]})}),(0,n.jsx)("div",{className:l()(u.Z.right,"process-progress-item-right"),children:f===c.N.Processing?(0,n.jsx)("span",{className:u.Z.percent,children:m||"".concat(h,"%")}):(0,n.jsx)("div",{className:l()(u.Z.actions,"process-progress-item-actions"),children:Array.isArray(b)?(0,n.jsx)(d.T,{spacing:"tight",children:b.map((e,t)=>(0,n.jsx)(o.Fragment,{children:e},t))}):null})}),f===c.N.Processing?(0,n.jsx)("div",{className:u.Z.progress,style:{width:"".concat(h,"%")}}):null]},a)}},392902:function(e,t,r){"use strict";r.d(t,{u3:()=>F,zx:()=>H,IO:()=>C,tM:()=>y});var n=r("808549"),o=r("120454"),a=r("473980"),l=r("151064"),s=r("455069"),d=r("962289"),c=r("550655"),u=r("252237"),p=r.n(u),h=r("385038"),m=r("336205"),g=r("775699"),f=r("674343"),b=r("528751"),v=(e,t)=>{for(var r=e>50?50:e,n=[],o=t;o<r;o++)n.push({label:m.o.t("datasets_createFileModel_tab_dataStarRow_value",{LineNumber:o+1}),value:o});return n},x=r("151359"),y=e=>{var{className:t="",data:r={},tableSettings:u,setTableSettings:y}=e,{preview_data:_,sheet_list:w}=r;if(!_||!w||!w.length)return(0,l.jsx)(l.Fragment,{});var j=(0,s.useRef)(),k=(0,s.useMemo)(()=>(0,d.Z)(w,u[b.hD.SHEET]),[w,u]),N=(0,s.useMemo)(()=>u,[w]),T=(0,s.useMemo)(()=>{var e=k.id||0===k.id?v(Number(null==k?void 0:k.total_row)>1?Number(k.total_row):2,0):[];return[{e2e:h.w.TableLocalTableConfigurationDataSheet,field:b.hD.SHEET,label:m.o.t("datasets_createFileModel_tab_DataSheet"),options:w.map(e=>({value:e.id,label:e.sheet_name}))},{e2e:h.w.TableLocalTableConfigurationSheetHeader,field:b.hD.KEY_START_ROW,label:m.o.t("datasets_createFileModel_tab_header"),options:e.slice(0,e.length-1)},{e2e:h.w.TableLocalTableConfigurationStarRow,field:b.hD.DATA_START_ROW,label:m.o.t("datasets_createFileModel_tab_dataStarRow"),options:e.slice(Number(u[b.hD.KEY_START_ROW])+1)}]},[r,k]),E=(e,t)=>{y&&y((0,n._)({},e));var r=(0,d.Z)(t,b.hD.SHEET),o=(0,d.Z)(t,b.hD.KEY_START_ROW);(0,c.Z)(r)&&j.current&&(j.current.setValue(b.hD.KEY_START_ROW,0),j.current.setValue(b.hD.DATA_START_ROW,1)),o&&j.current&&!(o<(0,d.Z)(e,b.hD.DATA_START_ROW))&&j.current.setValue(b.hD.DATA_START_ROW,o+1)};return(0,l.jsx)("div",{className:p()(x.Z["table-setting-bar"],t),children:(0,l.jsx)(g.l0,{layout:"horizontal",initValues:N,getFormApi:e=>j.current=e,onValueChange:(e,t)=>{E(e,t)},children:T.map(e=>{var{options:t}=e,r=(0,a._)(e,["options"]);return(0,l.jsx)(f.ih,(0,o._)((0,n._)({"data-testid":e.e2e,optionList:t},r),{onChange:t=>{if(!!t)E((0,o._)((0,n._)({},u),{[e.field]:t}),{[e.field]:t})}}),e.field)})})})},_=r("763055"),w=r("263825"),j=r("461190"),k=r("594022"),N=r("690612"),T=r("210208"),E=e=>(0,l.jsx)(f.Vp,{color:"primary",className:T.Z["column-type"],size:"mini",children:(0,w.y8)(e.columnType)}),D="table-preview",C=e=>{var{data:t,settings:r}=e,{sheet_list:n=[],table_meta:o={},preview_data:a={}}=t,d=Number(r[b.hD.DATA_START_ROW])||0,c=(0,s.useMemo)(()=>r[b.hD.SHEET]||0,[r]),u=(0,s.useMemo)(()=>{var e;return null===(e=(n||[]).find(e=>(null==e?void 0:e.id)===c))||void 0===e?void 0:e.sheet_name},[n,c]),p=(0,s.useMemo)(()=>{var e;return Number((null===(e=(n||[]).find(e=>(null==e?void 0:e.id)===c))||void 0===e?void 0:e.total_row)||0)-d||0},[n,c]),g=(o[c]||[]).map(e=>{var{sequence:t,column_name:r,is_semantic:n,column_type:o=k.QD.Unknown}=e;return o===k.QD.Image?{title:(0,l.jsxs)("div",{className:T.Z["td-title"],children:[(0,l.jsx)("div",{children:r}),(0,l.jsx)(E,{columnType:o})]}),dataIndex:t,render:(e,t)=>{var r=(0,N.bp)(e);return(0,l.jsx)(j.e0,{srcList:r,editable:!1})}}:{title:n?(0,l.jsxs)("div",{className:T.Z["td-title"],children:[r,n?(0,l.jsx)(f.Vp,{size:"mini",color:"green",className:T.Z["semantic-tag"],"data-testid":h.w.TableLocalPreviewSemantic,children:m.o.t("knowledge_1226_001")}):null,(0,l.jsx)(E,{columnType:o})]}):(0,l.jsxs)("div",{className:T.Z["td-title"],children:[r,(0,l.jsx)(E,{columnType:o})]}),width:180,dataIndex:t,ellipsis:{showTitle:!1},render:e=>(0,l.jsx)(f.ZT.Text,{ellipsis:{showTooltip:!0},children:e})}}),v=(0,s.useMemo)(()=>(a[c]||[]).slice(0,10).sort((e,t)=>JSON.stringify(e)>JSON.stringify(t)?1:-1),[a,c]);return(0,l.jsx)("div",{className:T.Z[D],children:v.length?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:T.Z["".concat(D,"-title")],"data-testid":h.w.TableLocalPreviewTitle,children:u}),(0,l.jsx)("div",{className:T.Z["".concat(D,"-content")],children:(0,l.jsx)(f.iA,{tableProps:{dataSource:v,columns:g}})}),(0,l.jsx)("div",{className:T.Z["preview-tips"],"data-testid":h.w.TableLocalPreviewFooterTotal,children:m.o.t("datasets_unit_tableformat_tips1",{TotalRows:p,ShowRows:Number(p)>10?10:p})})]}):(0,l.jsxs)("div",{className:T.Z["no-result"],children:[(0,l.jsx)(_.xs,{}),(0,l.jsx)("div",{className:T.Z["no-result-tips"],children:m.o.t("knowledge_1221_02")})]})})},S=r("745304"),I=r("306785"),M=r("481655"),O=r("410517"),A=r("537714"),z=r("915757"),L=r("44172"),P=r("274971"),R=r("391757"),Z="table-structure",B=e=>{var{children:t,tooltip:r,dataTestId:n}=e;return(0,l.jsxs)("div",{className:R.Z["".concat(Z,"-required-container")],"data-testid":n,children:[t,(0,l.jsx)("span",{className:R.Z["".concat(Z,"-col-required")],children:" *"}),r]})},U=e=>{var{onChange:t,record:r,value:n,autofocus:o=!1,isBlurValid:a=!1,initValid:d,validate:c,isPreview:u,placeholder:p,maxStrLen:h}=e,g=e=>{var t=null==c?void 0:c(e,m.o.t("datasets_segment_tableStructure_field_errEmpty"));return{valid:!d||!!(c?null==t?void 0:t.valid:e&&""!==e),errorMsg:(null==t?void 0:t.errorMsg)||m.o.t("datasets_segment_tableStructure_field_errEmpty")}},[b,v]=(0,s.useState)(n),[x,y]=(0,s.useState)(()=>{var e=g(n);return{valid:!!a||e.valid,errorMsg:e.errorMsg}}),_=e=>{y(g(e))},w=(null==r?void 0:r.errMsg)||"",j=(0,s.useMemo)(()=>w?"error":x.valid?"default":"error",[x,w]),k=(0,s.useCallback)(()=>w?(0,l.jsx)("div",{className:R.Z["input-error-msg"],children:w}):(0,l.jsx)(l.Fragment,{children:!x.valid&&(0,l.jsx)("div",{className:R.Z["input-error-msg"],children:x.errorMsg})}),[w,x]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(f.II,{autoFocus:o,value:b,maxLength:h,onChange:e=>{v(e.substring(0,h)),a||_(e)},disabled:u,validateStatus:j,suffix:(0,l.jsxs)("span",{className:R.Z["input-suffix"],children:[(b||"").length,"/",h]}),onBlur:()=>{t((null==b?void 0:b.substring(0,h))||""),_(b)},placeholder:p}),k()]})},F=e=>{var{data:t=[],setData:r,verifyMap:s={},initValid:d=!1,isBlurValid:c=!1,isPreview:u=!1,baseKey:b,showTitle:v=!1,children:x,tipsNode:y,isDragTable:_=!1}=e,j=(0,a._)(e,["data","setData","verifyMap","initValid","isBlurValid","isPreview","baseKey","showTitle","children","tipsNode","isDragTable"]),N=(0,P.l$)()===A.VP.RESEGMENT,T=[{title:()=>(0,l.jsx)(B,{dataTestId:h.w.TableLocalTableConfigurationIndex,tooltip:(0,l.jsx)(f.u,{className:"whitespace-pre-line",content:m.o.t("knowledge_multi_index"),children:(0,l.jsx)(g.y3,{size:"small",theme:"borderless",type:"tertiary",style:{marginLeft:4},icon:(0,l.jsx)(z.L03,{className:"coz-fg-secondary"})})}),children:(0,l.jsx)("div",{className:R.Z["table-header-tooltip"],"data-testid":h.w.TableLocalTableConfigurationIndex,children:(0,l.jsx)("span",{children:m.o.t("knowledge_table_structure_semantic")})})}),dataIndex:"is_semantic",width:90,align:"left",render:(e,n,o)=>{var a,{sequence:d}=n;var c=!!Object.keys(s).length&&!(null===(a=s[d||o])||void 0===a?void 0:a.valid)||u;return(0,l.jsxs)("div",{className:R.Z["semantic-radio"],children:[_?(0,l.jsx)(L.lls,{className:"structure-table-drag-icon"}):null,(0,l.jsx)(e=>{var t,r,{children:n}=e;return c&&(null===(t=s[d||o])||void 0===t?void 0:t.msg)?(0,l.jsx)(f.u,{trigger:"hover",content:null===(r=s[d||o])||void 0===r?void 0:r.msg,children:n}):n},{children:(0,l.jsx)(f.XZ,{checked:e,disabled:c,onChange:e=>{var n=[...t];n[o].is_semantic=!!e.target.checked,r(n)},"data-testid":h.w.TableStructureIndexCheckbox})})]})}},{title:()=>(0,l.jsx)(B,{dataTestId:h.w.TableLocalTableConfigurationColumnName,children:m.o.t("knowledge_table_structure_column_name")}),dataIndex:"column_name",align:"left",render:(e,n,o)=>{var{autofocus:a=!1}=n;return(0,l.jsx)("div",{className:R.Z["column-item"],children:(0,l.jsx)(U,{initValid:d,isBlurValid:c,onChange:e=>{var n=[...t];n[o].column_name=e,r(n)},record:n,value:e,validate:(e,r)=>(null==t?void 0:t.filter(t=>t.column_name===e).length)>=2?{valid:!1,errorMsg:m.o.t("Manual_crawling_040")}:(0,P.OP)(e,r),autofocus:a,isPreview:u,maxStrLen:30},"".concat(b).concat(null==n?void 0:n.sequence))})}},{title:()=>(0,l.jsx)("div",{"data-testid":h.w.TableLocalTableConfigurationDesc,children:m.o.t("knowledge_table_structure_desc")}),dataIndex:"desc",align:"left",render:(e,n,o)=>(0,l.jsx)("div",{className:R.Z["column-item"],children:(0,l.jsx)(U,{initValid:!1,isBlurValid:!1,placeholder:m.o.t("knowledge_variable_description_placeholder"),onChange:e=>{var n=[...t];n[o].desc=e,r(n)},record:n,value:e,autofocus:!1,isPreview:u,maxStrLen:2e3},"column-desc.".concat(b).concat(null==n?void 0:n.sequence))})},{title:()=>(0,l.jsx)(B,{dataTestId:h.w.TableLocalTableConfigurationType,children:m.o.t("knowledge_table_structure_data_type")}),dataIndex:"column_type",align:"left",render:(e,a,s)=>{var d=!!c||!!e;return(0,l.jsx)("div",{className:"pr-[16px] ".concat(R.Z["column-item"]),children:u?(0,l.jsx)(g.ZT.Text,{className:R.Z["column-item-value"],children:(0,w.y8)(e)}):(0,l.jsx)(w.L5,{value:e||"",selectProps:{disabled:!a.is_new_column&&N,optionList:(0,w.iQ)().map(e=>e.value===k.QD.Image?(0,o._)((0,n._)({},e),{disabled:a.is_semantic}):e),placeholder:m.o.t("db_table_save_exception_fieldtype")},errorMsg:d?void 0:m.o.t("datasets_segment_tableStructure_field_type_errEmpty"),handleChange:e=>{var n=[...t];n[s].column_type=e,r(n)}})},a.sequence)}},{title:(0,l.jsx)("div",{"data-testid":h.w.TableLocalTableConfigurationAction,children:m.o.t("datasets_unit_upload_field_action")}),dataIndex:"operate",width:82,align:"left",render:(e,n,o)=>(0,l.jsx)("div",{className:R.Z["column-item-action"],onClick:()=>{r(t.filter((e,t)=>o!==t))},children:(0,l.jsx)(f.u,{content:m.o.t(n.is_semantic?"datasets_segment_tableStructure_delTips":"datasets_table_title_actions_delete"),children:(0,l.jsx)(z.dVD,{"aria-disabled":!!n.is_semantic,className:R.Z["column-item-action-delete"]})})})}];u&&T.pop();var E=(0,O.Dy)((0,O.VT)(O.we,{activationConstraint:{distance:1}})),D=e=>{var{active:n,over:o}=e;if(n&&o&&n.id!==o.id){var a=Array.from(t),l=a.findIndex(e=>e.key===n.id),s=a.findIndex(e=>e.key===o.id);r((0,I.Rp)(a,l,s))}},C=e=>{var{attributes:t,listeners:r,setNodeRef:a,transform:s,transition:d,isDragging:c}=(0,I.nB)({id:e["data-row-key"]}),u=(0,n._)((0,o._)((0,n._)({},e.style),{transform:S.ux.Transform.toString(s),transition:d,cursor:c?"grabbing":"grab"}),c?{zIndex:999,position:"relative",background:"rgba(217, 220, 250, 1)"}:{});return(0,l.jsx)("tr",(0,n._)((0,o._)((0,n._)({},e),{ref:a,style:u}),t,r))};return(0,l.jsxs)("div",{className:R.Z["structure-wrapper"],children:[v?(0,l.jsx)(H,{}):null,y||null,_?(0,l.jsx)(O.LB,{autoScroll:!0,sensors:E,modifiers:[M.DL],onDragEnd:D,children:(0,l.jsx)(I.Fo,{items:t.map(e=>e.key||""),strategy:I.qw,children:(0,l.jsx)(f.iA,{wrapperClassName:p()(R.Z["".concat(Z,"-wrapper")],R.Z["drag-table"]),tableProps:(0,n._)({sticky:!0,dataSource:t,columns:T,pagination:!1,className:R.Z[Z],components:{body:{row:C}}},j)},b)})}):(0,l.jsx)(f.iA,{wrapperClassName:R.Z["".concat(Z,"-wrapper")],tableProps:(0,n._)({sticky:!0,dataSource:t,columns:T,pagination:!1,className:R.Z[Z]},j)},b),x]})},H=()=>(0,l.jsxs)("div",{className:R.Z["table-structure-bar-title"],"data-testid":h.w.TableLocalTableStructureTitle,children:[(0,l.jsx)("span",{children:m.o.t("datasets_segment_tableStructure_title")}),(0,l.jsx)(f.u,{content:m.o.t("knowledge_table_structure_column_tooltip"),children:(0,l.jsx)(z.L03,{className:p()(R.Z.icon,"coz-fg-secondary")})})]})},270917:function(e,t,r){"use strict";r.d(t,{p:()=>U});var n,o=r("808549"),a=r("120454"),l=r("473980"),s=r("151064"),d=r("455069"),c=r("252237"),u=r.n(c),p=r("763055"),h=r("263825"),m=r("385038"),g=r("336205"),f=r("915757"),b=r("674343"),v=r("528751"),x=r("537714"),y=r("695673"),_=r("900539"),w=e=>e.substring(0,e.lastIndexOf(".")),j=(e,t)=>{var r;return null==e?void 0:null===(r=e[t])||void 0===r?void 0:r.name},k=e=>e.reduce((e,t)=>(e[t.uid||""]=t,e),{}),N=(e,t)=>e.filter(e=>null==t?void 0:t.find(t=>{var r;return t.uri===(null==e?void 0:null===(r=e.response)||void 0===r?void 0:r.upload_uri)})),T=(e,t)=>{var r,n,o,a;return{type:(0,_.mD)((null==e?void 0:null===(r=e.response)||void 0===r?void 0:r.upload_uri)||e.name),uri:null==e?void 0:null===(n=e.response)||void 0===n?void 0:n.upload_uri,url:null==e?void 0:null===(o=e.response)||void 0===o?void 0:o.upload_url,name:(null!==(a=null==t?void 0:t.filename)&&void 0!==a?a:w(e.name)).slice(0,y.I1),size:e.size,status:e.status,percent:e.percent||0,fileInstance:e.fileInstance,uid:e.uid,validateMessage:e.validateMessage||""}},E=e=>e.filter(e=>!(!e.shouldUpload&&e.status===x.Dm.VALIDATE_FAIL)).map((t,r)=>T(t,{filename:j(e,r)})),D=(e,t)=>{var r=k(t);return e.filter(e=>{var t=r[e.uid||""];return!!t.shouldUpload||t.status!==x.Dm.VALIDATE_FAIL||!1}).map((e,n)=>{var a=r[e.uid||""],l=j(t,n);return(0,o._)({},e,T(a,{filename:l}))})},C=r("44172"),S=e=>{var t=(0,_.mD)(e.name)||"unknown",r={unknown:C.dd3,pdf:C.t1r,text:C.mBV,docx:C.yA0}[t]||C.dd3;return(0,s.jsx)(r,{})},I=r("825955"),M=r("745474"),O=r("458620"),A=r("727914"),z=r("178385"),L=r("382534"),P=r("274971");var R=(n=(0,I._)(function*(e){var{onSuccess:t,onError:r,onProgress:n,file:o}=e;try{var{name:a,fileInstance:l}=o;if(l){var s=(0,P.mD)(a),d=yield(0,P.y3)(l),c=yield L.nA.UploadFile({file_head:{file_type:s,biz_type:z.ym.BIZ_BOT_DATASET},data:d},{onUploadProgress:e=>{var t,r=null==o?void 0:o.status,a=null==o?void 0:o.response;if(r!==x.Dm.SUCCESS&&r!==x.Dm.UPLOAD_FAIL&&r!==x.Dm.VALIDATE_FAIL&&(null==a?!void 0:!a.upload_url)){var{total:s,loaded:d}=e;void 0!==s&&d<s&&n({total:null!==(t=e.total)&&void 0!==t?t:l.size,loaded:e.loaded})}}});t(c.data)}else r({status:0}),M.s5.errorEvent(M.xW.KNOWLEDGE,{eventName:O.b.KnowledgeUploadFile,error:new A.sH(O.b.KnowledgeUploadFile,"".concat(O.b.KnowledgeUploadFile,": Failed to upload file"))})}catch(e){r({status:0}),M.s5.errorEvent(M.xW.KNOWLEDGE,{eventName:O.b.KnowledgeUploadFile,error:e})}}),function(e){return n.apply(this,arguments)}),Z=e=>{var t,{maxSizeMB:n}=e;return t=(0,I._)(function*(e){var t={fileInstance:e.file.fileInstance,status:e.file.status,validateMessage:e.file.validateMessage,shouldUpload:!0,autoRemove:!1},{fileInstance:l}=e.file;if(!l)return(0,a._)((0,o._)({},t),{status:x.Dm.UPLOAD_FAIL,shouldUpload:!1});var s=n||v.G2;if(l.size>1048576*s)return b.FN.warning({showClose:!1,content:g.o.t("file_too_large",{max_size:"".concat(s,"MB")})}),(0,a._)((0,o._)({},t),{shouldUpload:!1,status:x.Dm.VALIDATE_FAIL,validateMessage:g.o.t("file_too_large",{max_size:"".concat(s,"MB")})});if("pdf"===(0,P.mD)(l.name).toLowerCase())try{var{getDocument:d,initPdfJsWorker:c}=yield r.e("7841").then(r.bind(r,187394));c();var u=yield(0,P.JD)(l);if((yield d({data:u}).promise).numPages>v.XC)return b.FN.warning({showClose:!1,content:g.o.t("atasets_createpdf_over250")}),{shouldUpload:!1,status:x.Dm.VALIDATE_FAIL}}catch(e){if(M.s5.errorEvent(M.xW.KNOWLEDGE,{eventName:O.b.KnowledgeParseFile,error:e}),(null==e?void 0:e.name)==="PasswordException")return b.FN.error({showClose:!1,content:g.o.t("pdf_encrypted")}),{shouldUpload:!1,status:x.Dm.VALIDATE_FAIL}}return t}),function(e){return t.apply(this,arguments)}},B=r("928589"),U=e=>{var{unitList:t,onFinish:r,setUnitList:n,showIllustration:c=!0,multiple:x=!0,maxSizeMB:y=v.G2}=e,_=(0,l._)(e,["unitList","onFinish","setUnitList","showIllustration","multiple","maxSizeMB"]),{limit:w}=_,[j,k]=(0,d.useState)([]);(0,d.useEffect)(()=>{t.length<j.length&&k(N(j,t))},[t.length]);var T=(0,d.useCallback)(()=>{b.FN.warning({showClose:!1,content:g.o.t("knowledge_upload_format_error")})},[]),C=(0,h.hJ)(),I=(0,h.S2)(e=>{k(e.fileList),n(E(e.fileList))},C),M=(0,h.S2)(()=>{r(D(t,j))},C),O=(0,d.useMemo)(()=>t.length>=w,[t,w]),A=Z({maxSizeMB:y});return(0,s.jsx)(b.gq,(0,a._)((0,o._)({draggable:!0,"data-testid":m.w.UploadUnitFile,multiple:x,fileList:j,disabled:O,previewFile:S,onAcceptInvalid:T,beforeUpload:A,customRequest:R,onChange:I,onSuccess:M,dragIcon:(0,s.jsx)(f.Isu,{className:B.Z["upload-icon"]})},_),{className:u()(B.Z.upload,_.className),children:t.length>=w&&c?(0,s.jsxs)("div",{className:B.Z["create-enough-file"],onClick:e=>e.stopPropagation(),children:[(0,s.jsx)(p.ns,{className:B.Z.picture}),(0,s.jsx)("div",{className:B.Z.text,children:g.o.t("knowledge_1218_001",{MaxDocs:w})})]}):null}))}},47522:function(e,t,r){"use strict";r.d(t,{vL:()=>m,k1:()=>h,Zq:()=>p,nC:()=>n.n,G8:()=>u});var n=r("735997"),o=r("151064"),a=r("695673"),l=r("385038"),s=r("336205"),d=r("915757"),c=r("674343");function u(e){return(0,o.jsx)("div",{"data-dtestid":"".concat(l.w.LocalUploadListFileSize,".").concat(e.name),className:"coz-fg-secondary text-12px",children:null==e?void 0:e.size})}function p(e){var{index:t,record:r,params:n}=e,{onChange:a,unitList:l,onDelete:u}=n;return(0,o.jsx)(c.u,{spacing:12,content:s.o.t("Delete"),position:"top",children:(0,o.jsx)(c.hU,{color:"secondary",icon:(0,o.jsx)(d.dVD,{className:"text-14px"}),iconPosition:"left",size:"small",onClick:()=>{a(l.filter((e,r)=>t!==r)),"function"==typeof u&&(null==u||u(r,t))}})})}function h(e){var t,{index:r,record:n,params:l}=e,{onChange:u,unitList:p}=l,{node:h,open:m}=(0,a.i0)({name:null!==(t=null==n?void 0:n.name)&&void 0!==t?t:"",onOk:e=>{var t=[...p];t[r].name=e,u(t)}});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(c.u,{spacing:12,content:s.o.t("Edit"),position:"top",children:(0,o.jsx)(c.hU,{color:"secondary",icon:(0,o.jsx)(d.JAz,{className:"text-14px"}),iconPosition:"left",size:"small",onClick:()=>m()})}),h]})}function m(e){var{index:t,record:r,params:n}=e;if(n.disableRetry)return null;var{onRetry:a}=n;return(0,o.jsx)(c.u,{spacing:12,content:s.o.t("datasets_unit_update_retry"),position:"top",children:(0,o.jsx)(c.hU,{color:"secondary",icon:(0,o.jsx)(d.mxP,{className:"text-14px"}),iconPosition:"left",size:"small",onClick:()=>{null==a||a(r,t)}})})}r("274971"),r("237365")},735997:function(e,t,r){"use strict";r.d(t,{n:function(){return h}});var n=r(808549),o=r(120454),a=r(151064);r(455069);var l=r(385038),s=r(336205),d=r(888461),c=r(561119),u=r(237365),p=(e,t,r)=>e===c.N.Failed?(0,a.jsx)("div",{"data-dtestid":"".concat(l.w.CreateUnitListProgressName,".","subText"),className:"text-12px",children:t||s.o.t("datasets_unit_upload_fail")}):r,h=e=>{var{unitList:t=[],getColumns:r}=e;return 0===t.length?null:(0,a.jsx)("div",{className:"upload-container",children:t.map((e,t)=>{var h=(0,u.Z)(null==e?void 0:e.status),m=(null==e?void 0:e.statusDescript)||"",{subText:g,actions:f,formatType:b}=r?r(e,t):{};return(0,a.jsx)(d.v,{mainText:e.name||"--",subText:p(h,m,g),tipText:(0,a.jsx)("span",{"data-dtestid":"".concat(l.w.LocalUploadListStatus,".").concat(e.name),children:h===c.N.Failed?m||s.o.t("datasets_unit_upload_fail"):s.o.t("datasets_unit_upload_success")}),status:h,avatar:(0,u.a)((0,o._)((0,n._)({},e),{formatType:b})),actions:f,percent:e.percent||10},e.uid)})})}},237365:function(e,t,r){"use strict";r.d(t,{Z:function(){return u},a:function(){return c}});var n=r(151064),o=r(537714),a=r(280053),l=r(775699),s=r(44172),d=r(561119),c=e=>{var{type:t,formatType:r,url:o}=e;return r===a.a5.Image&&["jpg","jpeg","png","webp"].includes(t)?(0,n.jsx)(l.Ee,{src:o,width:24,height:24,style:{borderRadius:"4px",marginRight:"12px",flexShrink:0}}):"md"===t?(0,n.jsx)(s.s7F,{}):"pdf"===t?(0,n.jsx)(s.I2v,{}):"docx"===t?(0,n.jsx)(s.KHq,{}):"txt"===t?(0,n.jsx)(s.KNN,{}):"xlsx"===t||"xltx"===t||"xls"===t?(0,n.jsx)(s.$lV,{}):"csv"===t?(0,n.jsx)(s.tsT,{}):r===a.a5.Table?(0,n.jsx)(s.LAr,{}):(0,n.jsx)(s.Hnk,{})},u=e=>e===o.Dm.UPLOADING||e===o.Dm.VALIDATING||e===o.Dm.WAIT||e===a.Vq.Handling||e===o.Ao.EntityStatusProcess?d.N.Processing:e===o.Dm.SUCCESS||e===a.Vq.Finish||e===o.Ao.EntityStatusSuccess?d.N.Complete:e===o.Dm.VALIDATE_FAIL||e===o.Dm.UPLOAD_FAIL||e===a.Vq.Failed||e===o.Ao.EntityStatusFail?d.N.Failed:d.N.Processing},861445:function(e,t,r){"use strict";r.d(t,{O7:function(){return n},WT:function(){return s},Yg:function(){return o},xT:function(){return a}});var n=100,o=3e3,a=[".xls",".xlsx",".csv"],l={DOUYIN:{acceptFileTypes:[".pdf",".txt",".doc",".docx"],fileFormatString:"PDFTXTDOCDOCX",addUnitMaxLimit:100},DEFAULT:{acceptFileTypes:[".pdf",".txt",".docx",".md"],fileFormatString:"PDFTXTDOCXMD",addUnitMaxLimit:300}},s=e=>e&&l[e]||l.DEFAULT},116497:function(e,t,r){"use strict";r.d(t,{G2:function(){return a},XC:function(){return l},ge:function(){return o}});var n,o=((n={})[n.ZERO=0]="ZERO",n[n.ONE=1]="ONE",n[n.THREE=3]="THREE",n[n.SEVEN=7]="SEVEN",n[n.THIRTY=30]="THIRTY",n),a=100,l=500},528751:function(e,t,r){"use strict";r.d(t,{pL:()=>s,O7:()=>a.O7,Q:()=>u,ge:()=>m.ge,hD:()=>c,XC:()=>m.XC,z2:()=>p,DU:()=>d,c3:()=>l,v1:()=>h.v,Px:()=>h.P,G2:()=>m.G2,Yg:()=>a.Yg});var n,o,a=r("861445");var l=((n={}).ERROR="error",n.LOADING="loading",n.NORMAL="normal",n),s=50,d=30;var c=((o={}).SHEET="sheet_id",o.KEY_START_ROW="header_line_idx",o.DATA_START_ROW="start_line_idx",o),u={sheet_id:0,header_line_idx:0,start_line_idx:1},p={sheet_id:0,header_line_idx:0,start_line_idx:0},h=r("461334"),m=r("116497")},461334:function(e,t,r){"use strict";r.d(t,{P:function(){return l},v:function(){return s}});var n=r(336205),o=r(288391),a=()=>({[o.IB.LINE_BREAK]:n.o.t("datasets_Custom_segmentID_linebreak"),[o.IB.LINE_BREAK2]:n.o.t("datasets_Custom_segmentID_2linebreak"),[o.IB.CN_PERIOD]:n.o.t("datasets_Custom_segmentID_cnperiod"),[o.IB.CN_EXCLAMATION]:n.o.t("datasets_Custom_segmentID_cn_exclamation"),[o.IB.EN_PERIOD]:n.o.t("datasets_Custom_segmentID_enperiod"),[o.IB.EN_EXCLAMATION]:n.o.t("datasets_Custom_segmentID_en_exclamation"),[o.IB.CN_QUESTION]:n.o.t("datasets_Custom_segmentID_cn_question"),[o.IB.EN_QUESTION]:n.o.t("datasets_Custom_segmentID_en_question"),[o.IB.CUSTOM]:n.o.t("datasets_Custom_segmentID_custom")}),l=()=>Object.entries(a()).map(e=>{var[t,r]=e;return{value:t,label:r}}),s={separator:{type:o.IB.LINE_BREAK,customValue:"###"},maxTokens:800,preProcessRules:[],overlap:10}},771242:function(e,t,r){"use strict";r.d(t,{nC:function(){return a.nC},p:function(){return o.p},uA:function(){return n.uA},vS:function(){return l.v},zP:function(){return n.zP}}),r(528751);var n=r(274971),o=r(270917),a=r(47522),l=r(936731);r(237365)},561119:function(e,t,r){"use strict";r.d(t,{N:function(){return o}});var n,o=((n={})[n.Processing=0]="Processing",n[n.Complete=1]="Complete",n[n.Failed=2]="Failed",n)},288391:function(e,t,r){"use strict";r.d(t,{IB:function(){return d},OX:function(){return l},dV:function(){return s}});var n,o,a,l=((n={})[n.AUTO=0]="AUTO",n[n.CUSTOM=1]="CUSTOM",n[n.LEVEL=2]="LEVEL",n);var s=((o={}).REMOVE_SPACES="remove_extra_spaces",o.REMOVE_EMAILS="remove_urls_emails",o);var d=((a={}).LINE_BREAK="\n",a.LINE_BREAK2="\n\n",a.CN_PERIOD="",a.CN_EXCLAMATION="",a.EN_PERIOD=".",a.EN_EXCLAMATION="!",a.CN_QUESTION="",a.EN_QUESTION="?",a.CUSTOM="custom",a)},900539:function(e,t,r){"use strict";r.d(t,{As:function(){return N},BD:function(){return D},JD:function(){return k},V1:function(){return E},l$:function(){return y},mD:function(){return w},mZ:function(){return T},td:function(){return _},te:function(){return b},uA:function(){return x},wV:function(){return f},y3:function(){return j},zP:function(){return v}});var n=r(808549),o=r(120454),a=r(962289),l=r(22916),s=r(745474),d=r(537714),c=r(458620),u=r(336205),p=r(727914),h=r(280053),m=r(674343),g=r(528751),f=e=>{var{unitList:t,data:r,fileInstance:a,index:l}=e;return r?t.map((e,t)=>l===t?(0,o._)((0,n._)({},e),{uri:r.upload_uri||"",status:d.Dm.SUCCESS,percent:100,fileInstance:a}):e):t};function b(e){var t=e.filter(e=>e.status===h._m.Failed);t.length&&s.s5.errorEvent(s.xW.KNOWLEDGE,{eventName:c.b.KnowledgeGetTaskProgress,error:new p.sH(c.b.KnowledgeGetTaskProgress,"".concat(c.b.KnowledgeGetTaskProgress,": get progress fail. ").concat(JSON.stringify(t))),meta:{failIds:t}})}function v(e){return e.length>0&&e.every(e=>e.progress===g.O7||e.status===h._m.Failed)}var x=e=>{e.current&&(clearTimeout(e.current),e.current=void 0)};function y(){var e=(0,l.kF)();return(0,a.Z)(e,"opt",d.VP.ADD)}function _(){var e=(0,l.kF)();return(0,a.Z)(e,"docID",void 0)}var w=e=>{var t=e.lastIndexOf(".");return e.slice(t+1).toLowerCase()},j=e=>new Promise((t,r)=>{var n=new FileReader;n.onload=e=>{var n,o=null===(n=e.target)||void 0===n?void 0:n.result;if(!o||"string"!=typeof o){r(new p.sH("getBase64","file read invalid"));return}t(o.replace(/^.*?,/,""))},n.onerror=()=>{m.FN.error(u.o.t("read_file_failed_please_retry")),r(new p.sH("getBase64","file read fail"))},n.onabort=()=>{r(new p.sH("getBase64","file read abort"))},n.readAsDataURL(e)}),k=e=>new Promise((t,r)=>{var n=new FileReader;n.onload=e=>{var n;(null===(n=e.target)||void 0===n?void 0:n.result)?t(new Uint8Array(e.target.result)):r(new p.sH("getUint8Array","file read invalid"))},n.readAsArrayBuffer(e)});function N(e,t){var r=e.filter(e=>e.status===h._m.Failed);r.length>0&&s.s5.errorEvent(s.xW.KNOWLEDGE,{eventName:t,error:new p.sH(t,"".concat(t,": fail document_ids are ").concat(JSON.stringify(r))),meta:{failDocumentIds:r}})}var T=e=>u.o.t("knowledge_add_unit_process_notice"),E=(e,t)=>e===d.VP.RESEGMENT&&t&&[d.Cm.TABLE_GOOGLE_DRIVE,d.Cm.TABLE_FEISHU].includes(t),D=e=>e===d.VP.INCREMENTAL},274971:function(e,t,r){"use strict";r.d(t,{wO:()=>n.wO,hd:()=>n.hd,l$:()=>o.l$,VR:()=>a.VR,V1:()=>o.V1,y3:()=>o.y3,mZ:()=>o.mZ,mD:()=>o.mD,zP:()=>o.zP,JD:()=>o.JD,td:()=>o.td,As:()=>o.As,UQ:()=>l,te:()=>o.te,wV:()=>o.wV,BD:()=>o.BD,OP:()=>n.OP,uA:()=>o.uA});var n=r("690612"),o=r("900539"),a=r("417062");function l(e){return!1}r("888711")},690612:function(e,t,r){"use strict";r.d(t,{OP:function(){return s},bp:function(){return d},hd:function(){return l},wO:function(){return u}});var n=r(962289),o=r(336205),a=r(528751),l=e=>({[a.ge.ZERO]:o.o.t("datasets_frequencyModal_frequency_noUpdate"),[a.ge.ONE]:o.o.t("datasets_frequencyModal_frequency_day",{num:1}),[a.ge.THREE]:o.o.t("datasets_frequencyModal_frequency_day",{num:3}),[a.ge.SEVEN]:o.o.t("datasets_frequencyModal_frequency_day",{num:7}),[a.ge.THIRTY]:o.o.t("datasets_frequencyModal_frequency_day",{num:30})})[e],s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=!0,n="";return e?(/["'`\\]+/g.test(e)&&(r=!1,n=o.o.t("knowledge_tableStructure_field_errLegally")),["_knowledge_slice_id"].includes(e)&&(r=!1,n=o.o.t("knowledge_tableStructure_errSystemField")),{valid:r,errorMsg:n}):{valid:!1,errorMsg:t}},d=e=>{if(!e)return[];var t=e.match(/<img[^>]+src\s*=\s*['"]([^'"]+)['"][^>]*>/g),r=[];if(t)for(var n=0;n<t.length;n++){var o,a=null===(o=t[n].match(/src\s*=\s*['"]([^'"]+)['"]/))||void 0===o?void 0:o[1];a&&r.push(a)}return r},c=e=>Object.values(a.hD).includes(e),u=e=>{var t={sheet_id:"",header_line_idx:"",start_line_idx:""};return Object.keys(e).reduce((t,r)=>(c(r)&&(t[r]=String((0,n.Z)(e,r))),t),t),t}},417062:function(e,t,r){"use strict";r.d(t,{VR:function(){return s}});var n=r(280053),o=r(461334),a=r(288391),l=e=>e.chunk_type===n.x2.CustomChunk?a.OX.CUSTOM:e.chunk_type===n.x2.LevelChunk?a.OX.LEVEL:a.OX.AUTO,s=e=>{if(e&&Object.keys(e)&&(null==e?void 0:e.chunk_strategy))try{var t=(null==e?void 0:e.chunk_strategy)||{},r=[];return t.remove_extra_spaces&&r.push(a.dV.REMOVE_SPACES),t.remove_urls_emails&&r.push(a.dV.REMOVE_EMAILS),{docInfo:e,segmentMode:l(null==e?void 0:e.chunk_strategy),segmentRule:{separator:t.separator?d(t.separator):o.v.separator,maxTokens:t.max_tokens?Number(t.max_tokens):o.v.maxTokens,preProcessRules:r,overlap:t.overlap?Number(t.overlap):o.v.overlap}}}catch(e){}},d=e=>(function(e){var t=[];for(var[,r]of Object.entries(e))r!==e.CUSTOM&&t.push(r);return t})(a.IB).indexOf(e)>-1?{type:e}:{type:a.IB.CUSTOM,customValue:e}},888711:function(e,t,r){"use strict";r.d(t,{Y:function(){return a}});var n=r(537714),o=r(288391),a=(e,t)=>{if(e===o.OX.CUSTOM){var r=(null==t?void 0:t.maxTokens)||0,a=null==t?void 0:t.separator,l=(null==a?void 0:a.type)===o.IB.CUSTOM&&!(null==a?void 0:a.customValue);if(0===r||l||"number"!=typeof t.overlap||Number.isNaN(t.overlap))return n.xZ.DISABLE}return n.xZ.ENABLE}},299464:function(e,t,r){"use strict";r.d(t,{q9:()=>tx,Gx:()=>ey,a8:()=>eM,it:()=>t_,hP:()=>eO});var n,o,a,l,s,d=r("151064"),c=r("455069"),u=r("287487"),p=r("22916"),h=r("825955"),m=r("808549"),g=r("120454"),f=r("263825"),b=r("75117"),v=r("336205"),x=r("674343"),y=r("653598"),_=r("178385"),w=r("382534"),j=r("658665");var k=((n={}).CREATE="create",n.EDIT="edit",n),N=e=>{var{onSubmit:t,onClose:r,initValues:n,mode:o="create",renderAutoGenerate:a}=e,[l,s]=(0,c.useState)(!1),u=()=>{s(!1),null==r||r()};return{visible:l,open:()=>{s(!0)},close:u,modal:(0,d.jsx)(T,{visible:l,onClose:u,onSubmit:t,initValues:n,mode:o,renderAutoGenerate:a})}},T=e=>{var t,r,n,o,a,l,s,u,p,k,{visible:N,initValues:T,onClose:E,onSubmit:D,mode:C,renderAutoGenerate:S}=e,I=(0,c.useRef)(null);var M=(t=(0,h._)(function*(){if(!!I.current){var e,t,r,n,o,a,l=yield I.current.validate();D((0,g._)((0,m._)({},l),{icon_uri:[{url:null!==(o=null==l?void 0:null===(t=l.icon_uri)||void 0===t?void 0:null===(e=t[0])||void 0===e?void 0:e.url)&&void 0!==o?o:"",uri:null!==(a=null==l?void 0:null===(n=l.icon_uri)||void 0===n?void 0:null===(r=n[0])||void 0===r?void 0:r.uid)&&void 0!==a?a:""}]}))}}),function(){return t.apply(this,arguments)}),[O,A]=(0,c.useState)({uri:null!==(s=null==T?void 0:null===(o=T.icon_uri)||void 0===o?void 0:null===(n=o[0])||void 0===n?void 0:n.uri)&&void 0!==s?s:"",url:null!==(u=null==T?void 0:null===(l=T.icon_uri)||void 0===l?void 0:null===(a=l[0])||void 0===a?void 0:a.url)&&void 0!==u?u:""}),[z,L]=(0,c.useState)({name:null!==(p=null==T?void 0:T.name)&&void 0!==p?p:"",desc:null!==(k=null==T?void 0:T.description)&&void 0!==k?k:""});var P=(r=(0,h._)(function*(){var e,t,r,n,o,a,{icon:l}=yield w.MJ.GetIcon({format_type:y.a5.Database});A({uri:null!==(t=null==l?void 0:l.uri)&&void 0!==t?t:"",url:null!==(r=null==l?void 0:l.url)&&void 0!==r?r:""}),null===(e=I.current)||void 0===e||e.setValue("icon_uri",[{url:null!==(n=null==l?void 0:l.url)&&void 0!==n?n:"",uri:null!==(o=null==l?void 0:l.uri)&&void 0!==o?o:"",uid:null!==(a=null==l?void 0:l.uri)&&void 0!==a?a:"",isDefault:!0}])}),function(){return r.apply(this,arguments)}),R=(0,c.useCallback)(e=>{var{name:t,description:r,icon_uri:n}=e;if(!!I.current){if(I.current.setValue("name",t),I.current.setValue("description",r),L({name:null!=t?t:"",desc:null!=r?r:""}),!n||!n[0].url){P();return}I.current.setValue("icon_uri",[{url:n[0].url,uri:n[0].uri,uid:n[0].uri,isDefault:!0}])}},[I]);return(0,c.useEffect)(()=>{if(!!N&&!!T)R(T)},[N,T,R]),(0,d.jsx)(x.u_,{title:"create"===C?v.o.t("db_add_table_title"):v.o.t("db_edit_title"),closable:!0,visible:N,onCancel:()=>{if(I.current){var e;null===(e=I.current)||void 0===e||e.reset(["name","description","icon_uri"])}null==E||E()},className:"w-[480px]",okText:v.o.t("db2_004"),okButtonProps:{"data-testid":"database.info_modal.button.confirm"},cancelText:v.o.t("db_del_field_confirm_no"),onOk:M,maskClosable:!1,children:(0,d.jsx)(x.l0,{className:j.Z["database-model-content"],getFormApi:e=>{I.current=e},initValues:T,children:e=>{var{formState:t}=e;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(f.NB,{"data-testid":"database.info_modal.input.name",field:"name",label:v.o.t("db_add_table_name"),placeholder:v.o.t("db_add_table_name_tips"),required:!0,maxLength:50,disabled:"edit"===C,onChange:e=>{L(t=>(0,g._)((0,m._)({},t),{name:(null==e?void 0:e.trim())||""}))},rules:[{required:!0,message:v.o.t("db2_005")},{pattern:/^[a-z][a-z0-9_]{0,63}$/,message:v.o.t("db_new_0004")}]}),(0,d.jsx)(f.eI,{"data-testid":"database.info_modal.input.description",field:"description",label:v.o.t("db_add_table_desc"),placeholder:v.o.t("db_add_table_desc_tips"),maxCount:100,maxlength:100,onChange:e=>{L(t=>(0,g._)((0,m._)({},t),{desc:(null==e?void 0:e.trim())||""}))}}),(0,d.jsx)(b.s,{label:v.o.t("datasets_model_create_avatar"),field:"icon_uri",fileBizType:_.ym.BIZ_DATASET_ICON,iconType:_.Tu.Dataset,uploadClassName:"w-auto",generateInfo:z,withAutoGenerate:!!S,renderAutoGenerate:S,initValue:[{url:null==O?void 0:O.url,uid:null==O?void 0:O.uri,isDefault:!0}]})]})}})})},E=r("177198"),D=r("915757"),C=r("252237"),S=r.n(C),I={info:"bg-[rgba(var(--coze-brand-1),var(--coze-brand-1-alpha))]",warning:"bg-[rgba(var(--coze-yellow-1),var(--coze-yellow-1-alpha))]",danger:"bg-[rgba(var(--coze-red-1),var(--coze-red-1-alpha))]",success:"bg-[rgba(var(--coze-green-1),var(--coze-green-1-alpha))]"};function M(e){var{type:t,persistentKey:r,className:n,children:o}=e,[a,l]=(0,c.useState)(!!localStorage.getItem(r)),[s,u]=(0,c.useState)(!1);return a||s?null:(0,d.jsxs)("div",{className:S()("p-[8px] flex justify-center",I[null!=t?t:"info"],n),children:[(0,d.jsx)("div",{className:"flex grow justify-center text-[14px] leading-[20px]",children:o}),(0,d.jsxs)("div",{className:"flex items-center gap-[10px] leading-none",children:[(0,d.jsx)(x.ZT.Text,{type:"secondary",fontSize:"12px",className:"cursor-pointer",onClick:()=>{localStorage.setItem(r,"1"),l(!0)},children:v.o.t("not_show_again")}),(0,d.jsx)(x.hU,{color:"secondary",size:"mini",className:"!h-[unset]",icon:(0,d.jsx)(D.rmE,{className:"w-[16px] h-[16px]"}),onClick:()=>u(!0)})]})]})}var O=r("801815"),A=r("392300"),z=r("689951"),L=r("745474"),P=r("458620"),R=r("707107"),Z=r("775699"),B=r("44172"),U=r("499283"),F=r("33630"),H=r("826256"),V=e=>{var{errorMsg:t,errorMsgFloat:r}=e;return(0,d.jsxs)("div",{className:S()({[H.Z["select-wrapper"]]:!0,[H.Z["error-wrapper"]]:!!t}),children:[(0,d.jsx)(x.Ph,(0,g._)((0,m._)({},e.selectProps),{style:{width:"100%"},value:e.value,onChange:t=>{var r;null==e||null===(r=e.handleChange)||void 0===r||r.call(e,t)},dropdownClassName:H.Z["selected-option"]})),t?(0,d.jsx)("div",{className:S()({[H.Z["error-content"]]:!0,[H.Z["error-float"]]:!!r}),children:(0,d.jsx)("div",{className:H.Z["error-text"],children:t})}):null]})},W=r("550655"),G=r("626862"),q=r("125915"),K=e=>{var t,r,n,o,{ellipsis:a=!0,maxCount:l,errorMsgFloat:s}=e,u=(0,W.Z)(l)&&l>0;(0,c.useImperativeHandle)(e.onRef,()=>({triggerFocus:f}));var p=(0,G.Z)({value:e.value,inputOnFocus:!1,inputEle:!1}),h=(0,c.useRef)(null),f=()=>{var e;p.inputEle=!0,null==h||null===(e=h.current)||void 0===e||e.focus()},b=(0,c.useMemo)(()=>{var e,t;return((null===(e=h.current)||void 0===e?void 0:e.clientWidth)||0)<((null===(t=h.current)||void 0===t?void 0:t.scrollWidth)||0)-1},[a,p.inputOnFocus,p.value,null===(t=h.current)||void 0===t?void 0:t.clientWidth,null===(r=h.current)||void 0===r?void 0:r.scrollWidth,p.inputEle]);(0,c.useEffect)(()=>{p.value=e.value},[e.value]);var v=(0,d.jsxs)("span",{className:q.Z["limit-count"],children:[(null===(n=p.value)||void 0===n?void 0:n.length)||0,"/",l]});return(0,d.jsxs)("div",{className:S()(q.Z["input-wrapper"],e.className),style:e.style,children:[!p.inputEle&&b?(0,d.jsx)(x.u,(0,g._)((0,m._)({content:(0,d.jsx)("article",{style:{maxWidth:200,wordWrap:"break-word",wordBreak:"normal"},children:p.value}),position:"top",showArrow:!0,mouseEnterDelay:300},e.tooltipProps),{children:(0,d.jsx)("div",{className:S()((null==e?void 0:e.errorMsg)?q.Z["error-wrapper"]:null),onClick:()=>{!p.inputEle&&setTimeout(()=>{var e;null==h||null===(e=h.current)||void 0===e||e.focus()},10),p.inputEle=!0},children:(0,d.jsx)(x.II,(0,g._)((0,m._)({},e.inputProps),{ref:h,value:p.value,className:a?q.Z.input:"",suffix:u?v:void 0}))})})):(0,d.jsx)("div",{className:S()((null==e?void 0:e.errorMsg)?q.Z["error-wrapper"]:null),children:(0,d.jsx)(x.J2,(0,g._)((0,m._)({},e.onFocusPopoverProps),{trigger:"custom",visible:!!(null===(o=e.onFocusPopoverProps)||void 0===o?void 0:o.content)&&p.inputOnFocus,showArrow:!0,children:(0,d.jsx)(x.II,(0,g._)((0,m._)({},e.inputProps),{ref:h,value:p.value,className:a?q.Z.input:"",onChange:t=>{var r;p.value=t,null==e||null===(r=e.handleChange)||void 0===r||r.call(e,t)},onFocus:()=>{var t;p.inputOnFocus=!0,p.inputEle=!0,null==e||null===(t=e.handleFocus)||void 0===t||t.call(e,p.value||"")},onBlur:t=>{var r,n;p.inputOnFocus=!1,null==e||null===(r=e.handleBlur)||void 0===r||r.call(e,p.value||""),null==e||null===(n=e.onBlur)||void 0===n||n.call(e,t),p.inputEle=!1},suffix:u?v:void 0}))}))}),(null==e?void 0:e.errorMsg)?(0,d.jsx)("div",{className:S()({[q.Z["error-content"]]:!0,[q.Z["error-float"]]:!!s}),children:(0,d.jsx)("div",{className:q.Z["error-text"],children:null==e?void 0:e.errorMsg})}):null]})},X=(0,x.Q2)(K,{valueKey:"value",onKeyChangeFnName:"handleChange"}),Y=r("602876"),Q=[{value:Y.wp.Text,label:v.o.t("db_add_table_field_type_txt")},{value:Y.wp.Number,label:v.o.t("db_add_table_field_type_int")},{value:Y.wp.Date,label:v.o.t("db_add_table_field_type_time")},{value:Y.wp.Float,label:v.o.t("db_add_table_field_type_number")},{value:Y.wp.Boolean,label:v.o.t("db_add_table_field_type_bool")}];v.o.t("db_add_table_temp_desc"),F.mx.LimitedReadWrite,(0,O.x0)(),v.o.t("db_add_table_temp_field_desc1"),Y.wp.Text,(0,O.x0)(),v.o.t("db_add_table_temp_field_desc2"),Y.wp.Number,(0,O.x0)(),v.o.t("db_add_table_temp_field_desc3"),Y.wp.Text,F.mx.LimitedReadWrite,v.o.t("db_table_0129_005"),v.o.t("db_table_0129_002"),F.mx.ReadOnly,v.o.t("db_table_0129_006"),v.o.t("db_table_0129_003"),F.mx.UnlimitedReadWrite,v.o.t("db_table_0129_007"),v.o.t("db_table_0129_004"),F.mx.RWModeMax;var J={excel:[F.mx.LimitedReadWrite],normal:[F.mx.LimitedReadWrite],expert:[F.mx.LimitedReadWrite,F.mx.UnlimitedReadWrite]},$={name:"uuid",desc:v.o.t("workflow_240221_01"),type:Y.wp.Text,must_required:!0,nanoid:(0,O.x0)(),isSystemField:!0},ee={name:"id",desc:v.o.t("database_240520_01"),type:Y.wp.Number,must_required:!0,nanoid:(0,O.x0)(),isSystemField:!0},et={name:"sys_platform",desc:v.o.t("db_optimize_002"),type:Y.wp.Text,must_required:!0,nanoid:(0,O.x0)(),isSystemField:!0},er=[ee,et,$,{name:"bstudio_create_time",desc:v.o.t("db_optimize_003"),type:Y.wp.Date,must_required:!0,nanoid:(0,O.x0)(),isSystemField:!0}],en={id:"bstudio_id",sys_platform:"bstudio_connector_id",uuid:"bstudio_connector_uid",bstudio_create_time:"bstudio_create_time"};function ei(e){var t,r,{field:n,textType:o="secondary",type:a,tip:l,required:s}=e;return(0,d.jsxs)("div",{className:"flex flex-row items-center",children:[(0,d.jsx)(x.ZT.Text,{type:o,weight:500,fontSize:"12px",ellipsis:!0,children:n}),s?(0,d.jsx)("span",{className:"coz-fg-hglt-red text-[12px] leading-[16px]",children:"*"}):null,l?(0,d.jsx)(x.u,{content:l,style:{maxWidth:"unset"},children:(0,d.jsx)(D.L03,{className:"w-[12px] h-[12px] ml-[3px] coz-fg-secondary"})}):null,"number"==typeof a?(0,d.jsx)(x.Vp,{color:"primary",size:"mini",className:"ml-[4px]",children:null!==(r=null===(t=Q.find(e=>e.value===a))||void 0===t?void 0:t.label)&&void 0!==r?r:a}):null]})}var eo=r("736351");var ea=((o={}).custom="custom",o.template="template",o.excel="excel",o.recommend="recommend",o.naturalLanguage="naturalLanguage",o);var el=((a={})[a.Required=1]="Required",a[a.Unique=2]="Unique",a[a.Naming=3]="Naming",a),es=[{type:1,regex:/[^a-z0-9_]/,errorMsg:v.o.t("db_add_table_field_name_tips2")},{type:2,regex:/^[^a-z]/,errorMsg:v.o.t("db_add_table_field_name_tips3")},{type:3,regex:/[\s\S]{64,}/,errorMsg:v.o.t("db_add_table_field_name_tips4")}],ed=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[...t];return es.forEach(t=>{r=r.filter(e=>e!==t.errorMsg),t.regex.test(e||"")&&r.push(t.errorMsg)}),r},ec=[{label:v.o.t("db_add_table_field_name"),key:"name",validator:[{type:el.Naming,message:""},{type:el.Required,message:v.o.t("db_table_save_exception_nofieldname")},{type:el.Unique,message:v.o.t("db_table_save_exception_fieldname")}],defaultValue:"",require:!0},{label:v.o.t("db_add_table_field_desc"),key:"desc",require:!1,validator:[],defaultValue:""},{label:v.o.t("db_add_table_field_type"),key:"type",require:!0,validator:[{type:el.Required,message:v.o.t("db_table_save_exception_fieldtype")}],defaultValue:""},{label:v.o.t("db_add_table_field_necessary"),key:"must_required",require:!1,validator:[],defaultValue:!0}],eu=(e,t)=>e.map(r=>{var n=(0,m._)({},r);return ec.forEach(r=>{var o=r.key;r.validator.forEach(r=>{!(null==n?void 0:n.errorMapper)&&(n.errorMapper={});var a,l=null==n?void 0:null===(a=n.errorMapper)||void 0===a?void 0:a[o],s=n[o];!l&&(n.errorMapper[o]=[],l=[]);var d=r.message;switch(r.type){case el.Required:"save"===t&&!s&&ec.find(e=>!!n[e.key]&&!e.defaultValue)&&n.errorMapper[o].push(d),"change"===t&&s&&(n.errorMapper[o]=l.filter(e=>e!==d));break;case el.Unique:"save"===t&&s&&1!==e.filter(e=>e[o]===n[o]).length&&n.errorMapper[o].push(d),"change"===t&&s&&1===e.filter(e=>e[o]===n[o]).length&&(n.errorMapper[o]=l.filter(e=>e!==d));break;case el.Naming:("save"===t||"blur"===t||"change"===t&&l.length)&&(n.errorMapper[o]=ed(s,l))}n.errorMapper[o]=Array.from(new Set(n.errorMapper[o]))})}),n}),ep=r("474872"),eh=r("606526"),em=()=>(0,d.jsx)(ep.yk,{className:eh.Z["modal-key-tip"],children:"- ".concat(v.o.t("db_add_table_field_name_tips1"),"\n- ").concat(v.o.t("db_add_table_field_name_tips2"),"\n- ").concat(v.o.t("db_add_table_field_name_tips3"),"\n- ").concat(v.o.t("db_add_table_field_name_tips4"))}),eg=r("777432"),ef=(0,c.forwardRef)((e,t)=>{var r,n,o,{data:a,botId:l="",spaceId:s="",creatorId:u="",onSave:p,onCancel:f,onDeleteField:b,forceEdit:y=!1,maxColumnNum:_=20,useComputingEnableGoToNextStep:j,readAndWriteModeOptions:k,onlyShowDatabaseInfoRWMode:N,enableAdd:T=!0,loading:D=!1,setContentCheckErrorMsg:C=A.Z,createType:I,showDatabaseBaseInfo:M,hiddenTableBorder:H,isReadonlyMode:W,projectID:G,renderModeSelect:q}=e,[Y,$]=(0,c.useState)([]),ee=(0,c.useRef)(null),et=(0,c.useRef)(null),en=(0,c.useRef)(),ea=!!a.tableId,[el,{setTrue:es,setFalse:ec}]=(0,z.Z)(!1),ep=Y.filter(e=>!e.isSystemField),eh=ep.length>=_,ef=ep.length>_,eb=ep.filter(e=>e.name||e.desc||e.type).length<=0,ev=[0x2a339708,0x2a3851f8],ex=e=>{(0,U.k0)(e)&&ev.includes(Number(null==e?void 0:e.code))&&C((null==e?void 0:e.msg)||v.o.t("knowledge_bot_update_databse_tnserr_msg"))},ey=function(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];if(!el)$([...Y,{nanoid:(0,O.x0)(),name:"",desc:"",type:void 0,must_required:!1}]),e&&setTimeout(()=>{var e,t,r;null===(t=ee.current)||void 0===t||null===(e=t.triggerFocus)||void 0===e||e.call(t),null===(r=et.current)||void 0===r||r.scrollIntoView({block:"end",behavior:"smooth"})},100)},e_=e=>{$(t=>eu(t,e))};var ew=(r=(0,h._)(function*(){var e=eu(Y,"save");if($(e),M)try{yield en.current.formApi.validate(["name"])}catch(e){return!1}return!e.find(e=>Object.keys(e.errorMapper||{}).find(t=>{var r,n;return!!(null==e?void 0:null===(n=e.errorMapper)||void 0===n?void 0:null===(r=n[t])||void 0===r?void 0:r.length)}))&&!eb&&!0}),function(){return r.apply(this,arguments)});var ej=(n=(0,h._)(function*(){var e,t,r={};r=en.current?en.current.formApi.getValues():{name:a.name,desc:a.desc,readAndWriteMode:a.readAndWriteMode,prompt_disabled:(null===(e=a.extra_info)||void 0===e?void 0:e.prompt_disabled)==="true"},ea?(0,R.Gg)(R.Kg.edit_table_click,{need_login:!0,have_access:!0,bot_id:l,table_name:r.name}):(0,R.Gg)(R.Kg.create_table_click,{need_login:!0,have_access:!0,bot_id:l,table_name:r.name,database_create_type:I});var n={table_name:N?a.name:r.name,table_desc:N?a.desc:r.desc,icon_uri:a.icon_uri,prompt_disabled:!!r.prompt_disabled,field_list:Y.filter(e=>!!e.name&&!e.isSystemField).map(e=>({name:e.name,desc:e.desc||"",type:e.type,must_required:e.must_required,id:null==e?void 0:e.id,alterId:null==e?void 0:e.alterId})),rw_mode:r.readAndWriteMode};if(ea)try{t=yield w.v6.UpdateDatabase((0,g._)((0,m._)({},n),{id:a.tableId}))}catch(e){L.s5.errorEvent(L.xW.DATABASE,{eventName:P.b.DatabaseAlterTable,error:e}),ex(e);return}else try{t=yield w.v6.AddDatabase((0,g._)((0,m._)({},n),{space_id:s,creator_id:u,project_id:G}))}catch(e){L.s5.errorEvent(L.xW.DATABASE,{eventName:P.b.DatabaseAddTable,error:e}),ex(e);return}p&&(yield p({response:t})),null==f||f()}),function(){return n.apply(this,arguments)});var ek=(o=(0,h._)(function*(){try{if(es(),!(yield ew()))return;yield ej()}finally{ec()}}),function(){return o.apply(this,arguments)}),eN=e=>{if(!e)return v.o.t("db_add_table_name_tips");var t=ed(e);return t.length>0?t.join("; "):""};(0,c.useImperativeHandle)(t,()=>({submit:()=>(0,h._)(function*(){return yield ek()})(),validate:()=>(0,h._)(function*(){return yield ew()})(),setTableFieldsList:$,isReadonly:el,tableBasicInfoFormRef:en,tableFieldsList:Y}),[el,Y,en]),null==j||j(Y,eb);var eT=T?[...Y,{operate:"add"}]:Y,eE=()=>{C("")};return(0,c.useEffect)(()=>{if($([...er,...a.tableMemoryList]),en.current&&!D){var e;en.current.formApi.setValues({name:(null==a?void 0:a.name)||"",desc:(null==a?void 0:a.desc)||"",prompt_disabled:!!ea&&(null===(e=a.extra_info)||void 0===e?void 0:e.prompt_disabled)==="true",readAndWriteMode:(null==a?void 0:a.readAndWriteMode)||F.mx.LimitedReadWrite})}},[a,D]),(0,d.jsxs)("div",{className:S()(eg.Z["table-structure-wrapper"],{[eg.Z["hidden-form-border"]]:H}),children:[M?(0,d.jsxs)(x.l0,{ref:en,layout:"vertical",className:eg.Z["table-structure-form"],onValueChange:(e,t)=>{("name"in t||"desc"in t)&&eE()},children:[N?null:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(X,{field:"name",label:{text:v.o.t("db_add_table_name"),required:!0},validate:e=>eN(e),trigger:["change","blur"],fieldClassName:eg.Z["table-name-form-field"],disabled:W,inputProps:{"data-testid":E.A.BotDatabaseAddModalTableNameInput,disabled:!y&&(el||ea),placeholder:v.o.t("db_add_table_name_tips")},onFocusPopoverProps:{style:{padding:"2px 12px"},position:"left",content:(0,d.jsx)(em,{})}}),(0,d.jsx)(x.l0.TextArea,{"data-testid":E.A.BotDatabaseAddModalTableDescInput,field:"desc",label:v.o.t("db_add_table_desc"),disabled:el||W,rows:2,placeholder:v.o.t("db_add_table_desc_tips"),fieldClassName:eg.Z["table-desc-form-field"]})]}),q&&k?q({dataTestId:E.A.BotDatabaseAddModalTableQueryModeSelect,field:"readAndWriteMode",label:v.o.t("db_table_0129_001"),type:"select",options:J[k]}):null]}):null,ef?(0,d.jsx)(Z.jL,{type:"warning",description:v.o.t("db_table_0126_027",{ColumNum:_}),className:eg.Z["max-row-banner"]}):null,(0,d.jsx)(Z.$,{tableProps:{loading:D,columns:[{dataIndex:"name",title:(0,d.jsx)(ei,{field:v.o.t("db_add_table_field_name"),required:!0,tip:(0,d.jsxs)("div",{className:eg.Z["th-tip-name"],children:[(0,d.jsx)("span",{style:{width:494,marginBottom:8},children:v.o.t("db_add_table_field_name_tips")}),(0,d.jsx)(Z.Ee,{preview:!1,width:494,height:163,src:eo})]})}),render:(e,t,r)=>{var n,o,a;return"add"!==t.operate?(0,d.jsx)(K,{style:{position:"static"},onRef:ee,value:t.name,inputProps:{"data-testid":E.A.BotDatabaseAddModalFieldNameInput,"data-dtestid":E.A.BotDatabaseAddModalFieldNameInput,disabled:el||t.isSystemField||W,placeholder:"Enter Name"},errorMsgFloat:!0,onFocusPopoverProps:{style:{padding:"2px 12px"},position:"left",content:(0,d.jsx)(em,{})},errorMsg:null===(a=Y[r])||void 0===a?void 0:null===(o=a.errorMapper)||void 0===o?void 0:null===(n=o.name)||void 0===n?void 0:n.join("; "),handleChange:e=>{var t=[...Y];t[r].name=e,$(t),e_("change"),eE()},handleBlur:()=>{e_("blur")}}):(0,d.jsx)("div",{ref:et,"data-testid":E.A.BotDatabaseAddModalAddBtn,children:eh?(0,d.jsx)("div",{style:{paddingRight:10},children:(0,d.jsx)(Z.u,{position:"top",content:v.o.t("bot_database_add_field",{number:_}),children:(0,d.jsx)(x.zx,{color:"secondary",disabled:!0,icon:(0,d.jsx)(B.N_R,{}),children:v.o.t("bot_userProfile_add")})})}):(0,d.jsx)(x.zx,{color:"primary",disabled:el,onClick:()=>ey(!0),icon:(0,d.jsx)(B.N_R,{}),children:v.o.t("bot_userProfile_add")})})},width:261},{dataIndex:"desc",title:(0,d.jsx)(ei,{field:v.o.t("db_add_table_field_desc"),tip:(0,d.jsx)("article",{style:{width:327},children:v.o.t("db_add_table_field_desc_tips")})}),render:(e,t,r)=>"add"!==t.operate?(0,d.jsx)(K,{value:t.desc,maxCount:300,inputProps:{"data-testid":"".concat(E.A.BotDatabaseAddModalFieldDescInput,".").concat(r,".").concat(t.name),"data-dtestid":"".concat(E.A.BotDatabaseAddModalFieldDescInput,".").concat(r,".").concat(t.name),maxLength:300,disabled:el||t.isSystemField||W,placeholder:v.o.t("bot_edit_variable_description_placeholder")},errorMsgFloat:!0,handleChange:e=>{var t=[...Y];t[r].desc=e,$(t),eE()}}):null,width:369},{dataIndex:"type",title:(0,d.jsx)(ei,{field:v.o.t("db_add_table_field_type"),required:!0,tip:(0,d.jsx)("article",{style:{width:327},children:v.o.t("db_add_table_field_type_tips")})}),render:(e,t,r)=>{var n,o,a;return"add"!==t.operate?(0,d.jsx)(V,{value:t.type,selectProps:{"data-testid":"".concat(E.A.BotDatabaseAddModalFieldTypeSelect,".").concat(r,".").concat(t.name),"data-dtestid":"".concat(E.A.BotDatabaseAddModalFieldTypeSelect,".").concat(r,".").concat(t.name),disabled:el||ea&&!!t.id||t.isSystemField||W,placeholder:v.o.t("db_table_save_exception_fieldtype"),optionList:Q},errorMsgFloat:!0,errorMsg:null===(a=Y[r])||void 0===a?void 0:null===(o=a.errorMapper)||void 0===o?void 0:null===(n=o.type)||void 0===n?void 0:n.join("; "),handleChange:e=>{var t=[...Y];t[r].type=e,$(t),e_("change")}}):null},width:214},{dataIndex:"must_required",title:(0,d.jsx)(ei,{field:v.o.t("db_add_table_field_necessary"),tip:(0,d.jsxs)("article",{style:{width:327},children:[(0,d.jsx)("p",{className:eg.Z["th-tip-dot"],children:v.o.t("db_add_table_field_necessary_tips1")}),(0,d.jsx)("p",{className:eg.Z["th-tip-dot"],children:v.o.t("db_add_table_field_necessary_tips2")})]})}),render:(e,t,r)=>"add"!==t.operate?(0,d.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,d.jsx)(x.rs,{"data-testid":"".concat(E.A.BotDatabaseAddModalFieldRequiredSwitch,".").concat(r,".").concat(t.name),"data-dtestid":"".concat(E.A.BotDatabaseAddModalFieldRequiredSwitch,".").concat(r,".").concat(t.name),disabled:el||t.disableMustRequired||t.isSystemField||W,checked:t.must_required,onChange:e=>{var t=[...Y];t[r].must_required=e,$(t)},size:"small","aria-label":"a switch for semi demo"})}):null,width:108},{dataIndex:"operate",title:(0,d.jsx)(ei,{field:v.o.t("db_table_0126_021")}),render:(e,t,r)=>"add"!==t.operate?(0,d.jsx)(Z.gl,{deleteProps:{handleClick:()=>{if(!el){var e=[...Y.slice(0,r),...Y.slice(r+1)];$(e),e_("change"),null==b||b(e)}},popconfirm:{defaultVisible:!1,visible:!1},tooltip:{content:v.o.t("datasets_table_title_actions_delete")},disabled:t.isSystemField||W},editProps:{hide:!0}}):null,width:85}],dataSource:eT,pagination:!1,className:eg.Z["table-structure-table"],rowKey:"nanoid"},wrapperClassName:eg.Z["table-structure-table-wrapper"]}),eb&&!D?(0,d.jsx)("div",{className:eg.Z["table-empty-tips"],children:v.o.t("db_table_save_exception_nofield")}):null]})}),eb=e=>{var{onReturn:t,onSubmit:r,initValue:n,showDatabaseBaseInfo:o,extraParams:a,onlyShowDatabaseInfoRWMode:l,projectID:s,renderGenerate:u,renderModeSelect:p}=e,[h,m]=(0,c.useState)(!1),g=()=>{m(!1)};return{visible:h,open:()=>{m(!0)},close:g,modal:(0,d.jsx)(ev,{visible:h,onClose:g,onReturn:t,onSubmit:r,initValue:n,showDatabaseBaseInfo:o,extraParams:a,onlyShowDatabaseInfoRWMode:l,projectID:s,renderGenerate:u,renderModeSelect:p})}};function ev(e){var t,r,{visible:n,onClose:o,onReturn:a,onSubmit:l,initValue:s,showDatabaseBaseInfo:u,onlyShowDatabaseInfoRWMode:p,extraParams:{botId:f="",spaceId:b="",creatorId:y=""}={},projectID:_,renderGenerate:w,renderModeSelect:j}=e,[k,N]=(0,c.useState)(!1),[T,C]=(0,c.useState)(!1),[S,I]=(0,c.useState)(!1),[O,A]=(0,c.useState)(s),z=(0,c.useRef)(null),L=(0,c.useMemo)(()=>!!s.tableId,[s]);var P=(t=(0,h._)(function*(e){var{response:t}=e;yield null==l?void 0:l(t)}),function(e){return t.apply(this,arguments)});var R=(r=(0,h._)(function*(){if(z.current)try{C(!0),yield z.current.submit()}finally{C(!1)}}),function(){return r.apply(this,arguments)});return(0,c.useEffect)(()=>{A(s)},[s]),(0,d.jsx)(x.u_,{closable:!0,maskClosable:!1,visible:n,onCancel:void 0,onOk:R,size:"xxl",header:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"flex flex-row items-center",children:[(0,d.jsx)("div",{className:"flex-1 text-[20px] font-medium coz-fg-plus",children:L?v.o.t("db_edit_title"):v.o.t("db_add_table_title")}),L?null:null==w?void 0:w({tableStructureRef:z,onGenerateChange:e=>{A((0,g._)((0,m._)({},O),{tableMemoryList:e}))},onGenerating:N,botId:f}),(0,d.jsx)("div",{children:(0,d.jsx)(x.hU,{color:"secondary",icon:(0,d.jsx)(D.rmE,{className:"text-[20px] coz-fg-secondary"}),onClick:o})})]}),L?(0,d.jsx)(M,{type:"warning",persistentKey:"_coze_database_edit_warning",className:"mx-[-24px]",children:v.o.t("db_edit_tips1")}):null]}),footer:(0,d.jsxs)("div",{className:"coz-modal-footer",children:[(0,d.jsx)(x.zx,{color:"primary",onClick:()=>{if(a){a();return}},children:L?v.o.t("db_del_field_confirm_no"):v.o.t("db2_003")}),(0,d.jsx)(x.zx,{"data-testid":E.A.BotDatabaseAddModalSubmitBtn,loading:T,onClick:R,disabled:S,children:v.o.t("db_edit_save")})]}),children:(0,d.jsx)("div",{children:(0,d.jsx)(ef,{data:O,ref:z,loading:k,loadingTips:v.o.t("bot_database_ai_waiting"),botId:f,spaceId:b,creatorId:y,maxColumnNum:20,useComputingEnableGoToNextStep:(e,t)=>{if(t||e.filter(e=>!e.isSystemField).length>20){I(!0);return}I(!e.every(e=>{var t,r;if(!(null==e?void 0:e.errorMapper))return!0;return!((null===(t=e.errorMapper.name)||void 0===t?void 0:t.length)>0)&&!((null===(r=e.errorMapper.type)||void 0===r?void 0:r.length)>0)&&!0}))},createType:ea.custom,hiddenTableBorder:!0,readAndWriteModeOptions:"expert",showDatabaseBaseInfo:u,onlyShowDatabaseInfoRWMode:p,onSave:P,onCancel:o,projectID:_,renderModeSelect:j})})})}var ex=r("214942"),ey=e=>{var t,{projectID:r,onFinish:n}=e,o=(0,c.useRef)(0),a=(0,p.EV)(),l=(0,ex.rY)(e=>e.getSpaceId()),s=null===(t=u.Z.useUserInfo())||void 0===t?void 0:t.user_id_str,[h,m]=(0,c.useState)({name:"",description:"",icon_uri:[{uri:"",url:"",uid:""}]}),g=(0,c.useMemo)(()=>{var e,t;return{tableId:"",name:null==h?void 0:h.name,desc:null==h?void 0:h.description,icon_uri:null===(t=h.icon_uri)||void 0===t?void 0:null===(e=t[0])||void 0===e?void 0:e.uri,readAndWriteMode:F.mx.LimitedReadWrite,tableMemoryList:[]}},[h]),f=()=>{x(),w(),o.current=0},{modal:b,open:v,close:x}=N({onSubmit:e=>{m(e),o.current=1,x(),j()},initValues:h,mode:k.CREATE}),{modal:y,open:_,close:w}=eb({onClose:()=>{console.log("open"),o.current=0,j()},onReturn:()=>{o.current=0,j(),w()},onSubmit:e=>{var t,r,{id:o,draft_id:l}=null!==(t=e.database_info)&&void 0!==t?t:{};if(o&&l){if(n){n(o,l);return}null===(r=a.toResource)||void 0===r||r.call(a,"database",o,{page_modal:"normal",from:"create"}),f()}},initValue:g,showDatabaseBaseInfo:!0,onlyShowDatabaseInfoRWMode:!0,extraParams:{spaceId:l,creatorId:s},projectID:r}),j=()=>{0===o.current?v():_()};return{modal:(0,d.jsxs)(d.Fragment,{children:[b,y]}),open:j,close:f}},e_=r("311807"),ew=r("974235"),ej=r("763055"),ek=r("382174"),eN=r("280053"),eT=r("951003"),eE=r("75991"),eD=e=>{var{label:t,onClick:r,selected:n}=e;return(0,d.jsxs)("div",{onClick:r,className:S()(["flex items-center gap-[8px] px-[12px]","px-[12px] py-[6px] rounded-[8px]","cursor-pointer","hover:text-[var(--light-usage-text-color-text-0,#1c1f23)]","hover:bg-[var(--light-usage-fill-color-fill-0,rgba(46,50,56,5%))]",n&&"text-[var(--light-usage-text-color-text-0,#1c1d23)] bg-[var(--light-usage-fill-color-fill-0,rgba(46,47,56,5%))]"]),children:[(0,d.jsx)(D.Iqn,{}),t]})},eC=r("367275"),eS=e=>{var[t,{setFalse:r,setTrue:n}]=(0,z.Z)(!1);return(0,d.jsx)(Z.zx,(0,g._)((0,m._)({onMouseEnter:()=>{n()},onMouseLeave:()=>{r()}},e),{className:S()(eC.Z["database-added"],{[eC.Z["added-mousein"]]:t}),children:t?v.o.t("Remove"):v.o.t("Added")}))},eI=e=>{var{icon:t,title:r,description:n,isAdd:o,onClick:a,onAdd:l,onRemove:s}=e,c=()=>{if(o){null==s||s();return}null==l||l()};return(0,d.jsxs)("div",{onClick:a,className:"flex flex-row items-center p-[16px] border-t-0 border-l-0 border-r-0 border-b-[1px] border-solid coz-stroke-primary last:border-b-0 cursor-pointer",children:[(0,d.jsx)("img",{src:t,className:"w-[36px] h-[36px] rounded-[8px]"}),(0,d.jsxs)("div",{className:"flex flex-col ml-[12px] min-w-0 flex-grow",children:[(0,d.jsx)("p",{className:"text-[14px] font-medium leading-[20px] coz-fg-primary mb-[4px]",children:r}),(0,d.jsx)(Z.ZT.Text,{ellipsis:{showTooltip:{opts:{content:n}}},className:"text-[12px] leading-[16px] coz-fg-secondary truncate !max-w-[680px]",children:n})]}),(0,d.jsx)("div",{className:"ml-[16px]",children:o?(0,d.jsx)(eS,{onClick:e=>{e.stopPropagation(),c()}}):(0,d.jsx)(Z.zx,{"data-testid":"bot.database.add.modal.add.button",className:S()("w-[53px] flex justify-center items-center",eC.Z["database-add"]),onClick:e=>{e.stopPropagation(),c()},children:v.o.t("Add_2")})})]})},eM=e=>{var t,r,{visible:n,onClose:o,onAddDatabase:a,onRemoveDatabase:l,onClickDatabase:s,onCreateDatabase:p,enterFrom:f,botId:b,spaceId:y,workflowAddList:_=[],projectID:j,tips:k}=e,N=(0,v.D)(),T=u.Z.useUserInfo(),E=(0,c.useRef)(null),[D,C]=(0,c.useState)(j?"project":"library"),[I,M]=(0,c.useState)(!1),[O,A]=(0,c.useState)(!0),[z,L]=(0,c.useState)("all"),[P,R]=(0,c.useState)("create_time"),[U,H]=(0,c.useState)(""),[V,W]=(0,c.useState)({tableId:"",name:"",desc:"",icon_uri:"",readAndWriteMode:F.mx.LimitedReadWrite,tableMemoryList:[]}),[G,q]=(0,c.useState)(!1);var K=(t=(0,h._)(function*(e){var{key_word:t,filter_creator:r,page_offset:n,sort_by:o}=e,a=yield w.v6.ListDatabase((0,g._)((0,m._)({},"project"===D?{project_id:j}:{}),{bot_id:"bot"===f?b:"0",space_id:y,table_type:"bot"===f?F.Nd.DraftTable:F.Nd.OnlineTable,table_name:t,creator_id:"all"===r?"0":r,limit:50,offset:n,order_by:[{field:o,direction:F.Sr.Desc}]}));return{list:a.database_info_list||[],nextOffset:n+1,total:a.total_count,hasMore:a.has_more}}),function(e){return t.apply(this,arguments)}),{loading:X,data:Y,loadingMore:Q,reload:J}=(0,ew.Z)(e=>K({key_word:U,filter_creator:z,page_offset:(null==e?void 0:e.nextOffset)||0,sort_by:P}),{manual:!0,isNoMore:e=>!!(!(null==e?void 0:e.total)||!e.hasMore),reloadDeps:[U,z,P,D,j],target:E}),$=()=>{if(!!E.current){var{scrollTop:e,scrollHeight:t,clientHeight:r}=E.current;t-(e+r)<1?A(!1):A(!0)}},ee=e=>{a&&e.id&&(null==a||a(e.id,J))},et=e=>{l&&e.id&&(null==l||l(e.id,J))},er=e=>{s&&e.id&&(null==s||s(e.id))},en=e=>{"template"===e?W((0,g._)((0,m._)({},V),{name:"reading_notes",desc:"for saving reading notes",readAndWriteMode:F.mx.LimitedReadWrite,extra_info:{prompt_disabled:"true"},tableMemoryList:[{name:"name",desc:"",type:1,must_required:!0},{name:"section",desc:"",type:2,must_required:!0},{name:"note",desc:"",type:1,must_required:!0}]})):W({tableId:"",name:"",desc:"",readAndWriteMode:F.mx.LimitedReadWrite,tableMemoryList:[]}),q(!0)},ei=()=>(0,d.jsxs)("div",{className:eC.Z["tips-wrapper"],children:[(0,d.jsxs)("div",{className:eC.Z["tip-title"],children:[v.o.t("db2_018"),":"]}),(0,d.jsxs)("p",{className:"my-[8px]",children:["\uD83D\uDCA1 ",(0,d.jsxs)("em",{className:eC.Z["tip-desc"],children:[v.o.t("db2_019"),":"]})]}),(0,d.jsx)(Z.Ee,{height:136,src:"zh-CN"===N?eE:eT}),(0,d.jsxs)("div",{className:eC.Z["tip-title"],children:[v.o.t("db2_020"),":"]}),(0,d.jsxs)("div",{className:eC.Z["bot-bg"],children:[(0,d.jsxs)("div",{className:S()(eC.Z["bot-item"],"mb-[12px]"),children:[(0,d.jsx)("div",{className:S()(eC.Z["bot-img"],eC.Z["img-user"]),children:v.o.t("db2_021")}),(0,d.jsx)("div",{className:S()(eC.Z["bot-content"],eC.Z["content-user"]),children:v.o.t("db2_022")})]}),(0,d.jsxs)("div",{className:eC.Z["bot-item"],children:[(0,d.jsx)("div",{className:S()(eC.Z["bot-img"],eC.Z["img-bot"]),children:v.o.t("db2_023")}),(0,d.jsx)("div",{className:S()(eC.Z["bot-content"],eC.Z["content-bot"]),children:v.o.t("db2_024")})]})]})]}),eo=()=>(0,d.jsx)(x.II,{placeholder:v.o.t("db2_014"),className:"w-full",value:U,onChange:(0,e_.Z)(e=>{H(e)},500)}),ea=()=>(0,d.jsx)("div",{className:"flex flex-row items-center w-full justify-between pr-[12px]",children:(0,d.jsxs)("div",{className:S()(eC.Z.select,"flex flex-row flex-1"),children:[(0,d.jsx)("div",{className:"flex flex-row items-center",children:(0,d.jsxs)(x.Ph,{showArrow:!0,size:"default",className:"border-none ml-[4px] hover:border-none bg-transparent outline-none",value:z,onChange:e=>L(e),insetLabel:(0,d.jsx)("p",{className:eC.Z.label,children:v.o.t("db2_009")}),children:[(0,d.jsx)(x.Ph.Option,{value:"all",label:v.o.t("db2_010")}),T?(0,d.jsx)(x.Ph.Option,{value:T.user_id_str,label:T.name},T.user_id_str):null]})}),(0,d.jsx)("div",{className:"flex flex-row items-center ml-[12px]",children:(0,d.jsxs)(x.Ph,{showArrow:!0,size:"default",className:"border-none ml-[4px] hover:border-none bg-transparent outline-none",value:P,onChange:e=>R(e),insetLabel:(0,d.jsx)("p",{className:eC.Z.label,children:v.o.t("db2_011")}),children:[(0,d.jsx)(x.Ph.Option,{value:"create_time",label:v.o.t("db2_012")}),(0,d.jsx)(x.Ph.Option,{value:"update_time",label:v.o.t("db2_013")})]})})]})}),el=()=>(0,d.jsxs)("div",{className:"overflow-y-auto relative h-full",ref:E,onScroll:$,children:[null==Y?void 0:Y.list.map((e,t)=>(0,d.jsx)(eI,{icon:e.icon_url,title:e.table_name,description:e.table_desc,isAdd:"workflow"===f?!!(e.id&&(null==_?void 0:_.length)&&(null==_?void 0:_.includes(e.id))):!!e.is_added_to_bot,onClick:()=>er(e),onAdd:()=>ee(e),onRemove:()=>et(e)},t)),Q?(0,d.jsxs)("div",{className:eC.Z["loading-more"],children:[(0,d.jsx)(ek.Z,{spin:!0,style:{marginRight:"4px"}}),(0,d.jsx)("div",{children:v.o.t("Loading")})]}):null]}),es=()=>(0,d.jsx)("div",{className:"overflow-y-auto relative w-full h-full flex justify-center items-center",children:(0,d.jsx)(x.HY,{image:(0,d.jsx)(ej.ts,{style:{width:150,height:150}})})}),ed=()=>{o()},ec=e=>{ed();var t,{id:r,draft_id:n}=null!==(t=e.database_info)&&void 0!==t?t:{};r&&n&&(null==p||p(r,n))};var eu=(r=(0,h._)(function*(){var e,t,r=yield w.MJ.GetIcon({format_type:eN.a5.Database});(null===(e=r.icon)||void 0===e?void 0:e.uri)&&W((0,g._)((0,m._)({},V),{icon_uri:null===(t=r.icon)||void 0===t?void 0:t.uri}))}),function(){return r.apply(this,arguments)});(0,c.useEffect)(()=>{n&&(J(),eu())},[n]);var{modal:ep,open:eh,close:em}=ey({projectID:j,enterFrom:"library",onFinish:(e,t)=>{em(),null==p||p(e,t)}}),eg=()=>(0,d.jsxs)(d.Fragment,{children:[k,(0,d.jsx)(x.yC,{spinning:X,wrapperClassName:S()(["overflow-hidden",eC.Z.list]),children:(null==Y?void 0:Y.list.length)!==0?el():es()}),O?(0,d.jsx)("div",{className:S()(eC.Z["bottom-shadow"],"w-full h-[80px] absolute left-0 bottom-0","pointer-events-none")}):null]});return{renderDatabase:()=>(0,d.jsxs)(c.Fragment,{children:[ep,(0,d.jsx)(Z.FS,{closable:!0,visible:n,onCancel:ed,header:v.o.t("db2_025"),filter:ea(),sider:(0,d.jsxs)(Z.yh,{className:"!pt-[16px]",children:[(0,d.jsxs)(Z.yh.Header,{className:"mb-[16px] gap-[12px]",children:[eo(),(0,d.jsx)(x.Lt,{trigger:"custom",visible:I,render:(0,d.jsxs)(x.Lt.Menu,{className:"w-[196px]",children:[(0,d.jsx)(x.Lt.Item,{className:"!pl-[8px]",onClick:()=>{M(!1),eh()},children:v.o.t("db2_015")}),(0,d.jsx)(x.Lt.Item,{className:"!pl-[8px] [&_.coz-item-text]:w-full",onClick:()=>{M(!1),en("template")},children:(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{children:v.o.t("db2_016")}),(0,d.jsx)(x.J2,{style:{maxWidth:"460px",backgroundColor:"var(--Bg-COZ-bg-max, #363D4D)",boxShadow:"0 4px 12px 0 rgba(0, 0, 0, 8%), 0 8px 24px 0 rgba(0, 0, 0, 4%)"},trigger:"hover",content:ei(),zIndex:9999,showArrow:!0,children:(0,d.jsx)(x.Vp,{color:"primary",size:"small",className:"ml-[8px]",children:v.o.t("db2_017")})})]})})]}),onClickOutSide:()=>{M(!1)},children:(0,d.jsx)(x.zx,{color:"brand",iconPosition:"right",icon:(0,d.jsx)(B.Wdl,{}),onClick:()=>M(!0),children:v.o.t("db_add_table_title")})})]}),(0,d.jsxs)(Z.yh.Content,{className:"flex flex-col gap-[4px]",children:[(0,d.jsx)(eD,{label:v.o.t("project_resource_modal_library_resources",{resource:v.o.t("resource_type_database")}),onClick:()=>{C("library")},selected:"library"===D}),j?(0,d.jsx)(eD,{label:v.o.t("project_resource_modal_project_resources",{resource:v.o.t("resource_type_database")}),onClick:()=>{C("project")},selected:"project"===D}):null]})]}),content:(0,d.jsx)(Z.vy,{className:"relative px-[12px] gap-[16px]",children:eg()})}),(0,d.jsx)(ev,{visible:G,onClose:()=>q(!1),onReturn:()=>q(!1),onSubmit:ec,showDatabaseBaseInfo:!0,onlyShowDatabaseInfoRWMode:!1,initValue:V,extraParams:{botId:b,spaceId:y,creatorId:null==T?void 0:T.user_id_str}})]}),renderContent:eg,renderInput:eo,renderFilter:ea}},eO=e=>{var{renderDatabase:t}=eM(e);return(0,d.jsx)(d.Fragment,{children:t()})},eA=r("157728"),ez=r("997516");var eL=((l={}).Structure="structure",l.Draft="draft",l.Online="online",l),eP=()=>(0,d.jsx)(d.Fragment,{});(0,x.Q2)(eP,{valueKey:"value",onKeyChangeFnName:"onChange"});var eR=()=>(0,d.jsx)(d.Fragment,{}),eZ=r("40009"),eB=r("955751");function eU(e){var{loading:t,fieldList:r}=e,n=[{title:(0,d.jsx)(ei,{field:v.o.t("db_add_table_field_name"),tip:(0,d.jsxs)("article",{className:"w-[494px]",children:[(0,d.jsx)("p",{className:"mb-[8px]",children:v.o.t("db_add_table_field_name_tips")}),(0,d.jsx)(x.Ee,{preview:!1,width:494,height:163,src:eZ})]})}),dataIndex:"name",width:261},{title:(0,d.jsx)(ei,{field:v.o.t("db_add_table_field_desc"),tip:(0,d.jsx)("article",{className:"w-[327px]",children:v.o.t("db_add_table_field_desc_tips")})}),dataIndex:"desc"},{title:(0,d.jsx)(ei,{field:v.o.t("db_add_table_field_type"),tip:(0,d.jsx)("article",{className:"w-[327px]",children:v.o.t("db_add_table_field_type_tips")})}),dataIndex:"type",width:214,render:(e,t)=>{var r,n;return null!==(n=null===(r=Q.find(e=>e.value===t.type))||void 0===r?void 0:r.label)&&void 0!==n?n:t.type}},{title:(0,d.jsx)(ei,{field:v.o.t("db_add_table_field_necessary"),tip:(0,d.jsxs)("article",{className:"w-[327px]",children:[(0,d.jsx)("p",{children:v.o.t("db_add_table_field_necessary_tips1")}),(0,d.jsx)("p",{children:v.o.t("db_add_table_field_necessary_tips2")})]})}),dataIndex:"must_required",width:108,render:(e,t)=>v.o.t(t.must_required?"db_optimize_037":"db_optimize_038")}],o=er.concat(r),[a,l]=(0,c.useState)(0),s=(0,c.useRef)(null);return(0,c.useEffect)(()=>{var e=new ResizeObserver(e=>{for(var t of e)t.target===s.current&&l(t.contentRect.height)});return s.current&&e.observe(s.current),()=>e.disconnect()},[]),(0,d.jsx)("div",{className:"h-full mt-[8px]",ref:s,children:(0,d.jsx)(x.iA,{tableProps:{loading:t,columns:n,dataSource:o,scroll:{y:a>40?a-40:"auto"}},className:eB.Z["table-structure-wrapper"]})})}var eF=r("735114"),eH=r("479886"),eV=r.n(eH),eW=BigInt("9223372036854775807"),eG=BigInt("-9223372036854775808"),eq=e=>{if(""===e||null==e||Number.isNaN(e))return!1;try{var t=BigInt(e);if(t>eW||t<eG)return!1;return!0}catch(e){return!1}},eK={0x9896f2:"10000120",0x9896f3:"10000121"};function eX(){var e,t,{includeMigrated:r=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{space_id:n}=(0,eA.useParams)(),[o]=(0,eA.useSearchParams)(),a=null!==(e=null!=n?n:o.get("space_id"))&&void 0!==e?e:"",{data:l}=(0,eF.Z)((0,h._)(function*(){var e=(yield w.v6.GetConnectorName({SpaceId:a,Version:"inhouse",ListAll:!0})).ConnectorList;return null==e?void 0:e.map(t=>{var r,n,o,a=null!==(n=null===(r=t.ConnectorID)||void 0===r?void 0:r.toString())&&void 0!==n?n:"";if(eK[a]){var l=e.find(e=>{var t;return(null===(t=e.ConnectorID)||void 0===t?void 0:t.toString())===eK[a]});if(null==l?void 0:l.ConnectorName)return{label:l.ConnectorName,value:a,migrated:!0}}return{label:null!==(o=t.ConnectorName)&&void 0!==o?o:"",value:a}})}),{refreshDeps:[a],cacheKey:"db_connector_name_".concat(a)});return null!==(t=r?l:null==l?void 0:l.filter(e=>!e.migrated))&&void 0!==t?t:[]}var eY=(0,x.Q2)(x.Kx),eQ=(0,x.Q2)(x.k7),eJ=(0,x.Q2)(e=>(0,d.jsx)(x.Mt,(0,g._)((0,m._)({},e),{type:"dateTime",format:"yyyy-MM-dd HH:mm:ss",onChange:t=>{var r;return null===(r=e.onChange)||void 0===r?void 0:r.call(e,eV()(t).format("YYYY-MM-DD HH:mm:ss"))}}))),e$=(0,x.Q2)(x.Ph);function e0(e){return Object.fromEntries(Object.values(e).map(e=>{var t,r;return[e.fieldName,null!==(r=null===(t=e.value)||void 0===t?void 0:t.toString())&&void 0!==r?r:""]}))}function e1(e){var{visible:t,fields:r,tableType:n,initialValues:o,onSubmit:a,onCancel:l}=e,s="object"!=typeof o,[u,p]=(0,c.useState)(!1),f=(0,c.useRef)(null);(0,c.useEffect)(()=>{if(t&&o){var e,r;null===(r=f.current)||void 0===r||null===(e=r.formApi)||void 0===e||e.setValues(e0(o))}},[t,o]);var b=eX();return(0,d.jsx)(x.u_,{visible:t,title:v.o.t(s?"db_optimize_022":"db_optimize_023"),okText:v.o.t(s?"db_optimize_025":"db_edit_save"),okButtonProps:{loading:u},onOk:(0,h._)(function*(){p(!0);try{var e,t,r,n,l=yield null===(r=f.current)||void 0===r?void 0:null===(t=r.formApi)||void 0===t?void 0:t.validate();if(l){;yield a(Object.assign(o?e0(o):{},(e=l,Object.fromEntries(Object.entries(e).map(e=>{var t,[r,n]=e;return[r,null!==(t=null==n?void 0:n.toString())&&void 0!==t?t:""]})))),null==o?void 0:null===(n=o.bstudio_connector_id)||void 0===n?void 0:n.value)}}finally{p(!1)}}),cancelText:v.o.t("db_optimize_024"),onCancel:()=>{var e,t;l(),null===(t=f.current)||void 0===t||null===(e=t.formApi)||void 0===e||e.reset()},children:(0,d.jsxs)(x.l0,{allowEmpty:!0,ref:f,children:[n===F.Nd.OnlineTable?(0,d.jsx)(e$,(0,g._)((0,m._)({},function(e){var t,r;return{key:e.name,field:null!==(r=en[null!==(t=e.name)&&void 0!==t?t:""])&&void 0!==r?r:"",label:(0,d.jsx)(ei,{field:e.name,textType:"primary",type:e.type,tip:e.desc,required:!0})}}(et)),{optionList:b,className:"w-full"})):null,r.map(e=>{var t=function(e){return{key:e.fieldName,field:e.fieldName,rules:[{required:e.required}],label:{text:(0,d.jsx)(ei,{field:e.fieldName,textType:"primary",type:e.type,tip:e.fieldDescription,required:e.required}),required:!1}}}(e);switch(e.type){case Y.wp.Text:return(0,d.jsx)(eY,(0,g._)((0,m._)({},t),{autosize:{minRows:1,maxRows:5}}));case Y.wp.Number:return(0,d.jsx)(x.l0.Input,(0,g._)((0,m._)({},t),{className:S()("w-full","[&_.semi-input-wrapper]:coz-stroke-plus","focus-within:[&_.semi-input-wrapper]:coz-stroke-hglt","[&_.semi-input-wrapper.semi-input-wrapper-error]:coz-stroke-hglt-red"),validate:e=>{var t;return eq(null!==(t=null==e?void 0:e.toString())&&void 0!==t?t:"")?"":"invalid Integer"}}));case Y.wp.Date:return(0,d.jsx)(eJ,(0,g._)((0,m._)({},t),{className:S()("w-full","[&_.semi-datepicker-input]:w-full","[&_.coz-date-picker-select]:w-full","[&[aria-invalid]_.coz-date-picker-select]:coz-stroke-hglt-red")}));case Y.wp.Float:return(0,d.jsx)(eQ,(0,g._)((0,m._)({},t),{className:S()("w-full","[&_.semi-input-wrapper]:coz-stroke-plus","focus-within:[&_.semi-input-wrapper]:coz-stroke-hglt","[&_.semi-input-wrapper.semi-input-wrapper-error]:coz-stroke-hglt-red"),validate:e=>Number.isNaN(e)||Math.abs(e)===1/0?"invalid Float":""}));case Y.wp.Boolean:return(0,d.jsx)(e$,(0,g._)((0,m._)({},t),{optionList:[{value:"true",label:"true"},{value:"false",label:"false"}],className:"w-full"}));default:return null}})]})})}var e2=e=>"column-selection"===e.key?(0,g._)((0,m._)({},e),{resizable:!1,width:60}):e.fixed?(0,g._)((0,m._)({},e),{resizable:!1}):(0,g._)((0,m._)({},e),{width:100>Number(e.width)?100:Number(e.width)}),e4=r("537714"),e5=r("47522"),e6=r("771242");function e3(e){var t,{databaseId:r,tableType:n,unitList:o,onUnitListChange:a}=e;(0,c.useEffect)(()=>{a(o)},[a,o]);var l=(t=(0,h._)(function*(){var e=yield w.v6.GetDatabaseTemplate({database_id:r,table_type:n});e.TosUrl&&window.open(e.TosUrl,"_blank")}),function(){return t.apply(this,arguments)});return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(e6.p,{unitList:o,setUnitList:a,onFinish:a,limit:1,multiple:!1,accept:".csv,.xlsx",maxSizeMB:20,showRetry:!1,dragMainText:v.o.t("datasets_createFileModel_step2_UploadDoc"),dragSubText:v.o.t("datasets_unit_update_exception_tips3"),action:"",className:S()("[&_.semi-upload-drag-area]:!h-[290px]",{hidden:o.length>0}),showIllustration:!1}),(0,d.jsxs)(x.ZT.Paragraph,{type:"secondary",className:S()("mt-[8px]",{hidden:o.length>0}),children:[v.o.t("db_optimize_018"),(0,d.jsx)(x.ZT.Text,{link:!0,className:"ml-[8px]",onClick:l,children:v.o.t("db_optimize_019")})]}),(0,d.jsx)(e6.nC,{edit:!1,type:e4.Cm.TABLE_DOC,unitList:o,onChange:a,disableRetry:!0,getColumns:(e,t)=>({actions:[(0,d.jsx)(e5.Zq,{record:e,index:t,params:{unitList:o,onChange:a,type:e4.Cm.TABLE_DOC,edit:!1}})]})})]})}var e8=r("561119"),e7=r("298203"),e9={[e8.N.Processing]:"datasets_createFileModel_step4_processing",[e8.N.Complete]:"datasets_createFileModel_step4_Finish",[e8.N.Failed]:"datasets_createFileModel_step4_failed"};function te(e){var{databaseId:t,tableType:r,fileItem:n,tableSheet:o,connectorId:a}=e,l=(0,c.useMemo)(()=>{var e,t;return(0,e7.td)(null!==(t=null===(e=n.fileInstance)||void 0===e?void 0:e.size)&&void 0!==t?t:0)},[n]),[s,u]=(0,c.useState)({mainText:n.name,subText:l,tipText:l,percent:10,status:e8.N.Processing}),{run:p,cancel:h}=(0,eF.Z)(()=>w.v6.DatabaseFileProgressData({database_id:t,table_type:r}),{manual:!0,pollingInterval:3e3,onSuccess:e=>{var{data:t}=e;if(t){if(t.status_descript){var r=t.status_descript;u(e=>(0,g._)((0,m._)({},e),{subText:r,tipText:r,status:e8.N.Failed})),h()}else u(e=>{var r;return(0,g._)((0,m._)({},e),{percent:null!==(r=t.progress)&&void 0!==r?r:0})}),100===t.progress&&(u(e=>(0,g._)((0,m._)({},e),{status:e8.N.Complete,actions:[v.o.t("datasets_unit_process_success")]})),h())}}});return(0,c.useEffect)(()=>{w.v6.SubmitDatabaseInsertTask({database_id:t,table_type:r,file_uri:n.uri,table_sheet:o,connector_id:a}).finally(()=>{p()})},[]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"h-[32px] leading-[32px] mb-[8px]",children:(0,d.jsx)(x.ZT.Text,{fontSize:"14px",weight:500,children:v.o.t(e9[s.status])})}),(0,d.jsx)(e6.vS,(0,g._)((0,m._)({avatar:(0,d.jsx)(B.$lV,{})},s),{className:"[&_.process-progress-item-actions]:!block"}))]})}var tt=r("392902"),tr=r("672958"),tn=r("594022"),ti=r("532267");function to(e){var t,r,n,o,{databaseId:a,tableFields:l,fileUri:s,tableSheet:u}=e,[p,h]=(0,c.useState)(),m=(0,c.useMemo)(()=>l.map((e,t)=>({column_name:e.fieldName,column_type:function(e){switch(e){case ti.wp.Text:return tn.QD.Text;case ti.wp.Number:return tn.QD.Number;case ti.wp.Date:return tn.QD.Date;case ti.wp.Float:return tn.QD.Float;case ti.wp.Boolean:return tn.QD.Boolean;default:return tn.QD.Text}}(e.type),desc:e.fieldDescription,sequence:"".concat(t),is_semantic:!1,id:"".concat(t)})),[l]),{loading:g}=(0,eF.Z)(()=>w.v6.GetTableSchema({database_id:a,source_file:{tos_uri:s},table_data_type:tr.n.OnlyPreview,table_sheet:u}),{onSuccess:e=>{var t,r=null==u?void 0:u.sheet_id;r&&h({sheet_list:e.sheet_list,table_meta:{[r]:m},preview_data:{[r]:null!==(t=e.preview_data)&&void 0!==t?t:[]}})}});return!g&&p&&u?(0,d.jsx)(tt.IO,{data:p,settings:{sheet_id:Number.parseInt(null!==(r=null==(t=u)?void 0:t.sheet_id)&&void 0!==r?r:"0"),header_line_idx:Number.parseInt(null!==(n=null==t?void 0:t.header_line_idx)&&void 0!==n?n:"0"),start_line_idx:Number.parseInt(null!==(o=null==t?void 0:t.start_line_idx)&&void 0!==o?o:"0")}}):(0,d.jsx)(x.yC,{size:"large",wrapperClassName:"w-full h-[288px]"})}function ta(e){var t,r,n,o,a,l;return{sheet_id:null!==(o=null==e?void 0:null===(t=e.sheet_id)||void 0===t?void 0:t.toString())&&void 0!==o?o:"",header_line_idx:null!==(a=null==e?void 0:null===(r=e.header_line_idx)||void 0===r?void 0:r.toString())&&void 0!==a?a:"",start_line_idx:null!==(l=null==e?void 0:null===(n=e.start_line_idx)||void 0===n?void 0:n.toString())&&void 0!==l?l:""}}function tl(e){var{databaseId:t,tableType:r,tableFields:n,fileUri:o,onTableSheetChange:a}=e,[l,s]=(0,c.useState)(),[u,p]=(0,c.useState)({sheet_id:0,header_line_idx:0,start_line_idx:1}),[h,m]=(0,c.useState)([]),{loading:g}=(0,eF.Z)(()=>w.v6.GetTableSchema({database_id:t,source_file:{tos_uri:o},table_data_type:tr.n.OnlySchema,table_sheet:ta(u)}),{refreshDeps:[o,u],onSuccess:e=>{s({sheet_list:e.sheet_list,preview_data:{}}),e.table_meta&&m(e.table_meta.map(e=>{var t,r,o=n.find(t=>t.fieldName===e.column_name);return null!=o?o:{fieldName:null!==(t=e.column_name)&&void 0!==t?t:"-",fieldDescription:null!==(r=e.desc)&&void 0!==r?r:"-",type:function(e){switch(e){case y.QD.Text:return Y.wp.Text;case y.QD.Number:return Y.wp.Number;case y.QD.Date:return Y.wp.Date;case y.QD.Float:return Y.wp.Float;case y.QD.Boolean:return Y.wp.Boolean;default:return Y.wp.Text}}(e.column_type),required:!1}}))}});return(0,c.useEffect)(()=>{w.v6.ValidateTableSchema({database_id:t,source_file:{tos_uri:o},table_type:r,table_sheet:ta(u)}).then(e=>{e.schema_valid_result?a():a(ta(u))}).catch(()=>{a()})},[u]),l?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(tt.tM,{data:l,tableSettings:u,setTableSettings:p}),(0,d.jsx)(x.iA,{tableProps:{loading:g,columns:function(){return[{title:(0,d.jsx)(ei,{field:v.o.t("db_add_table_field_name")}),render:(e,t)=>t.fieldName},{title:(0,d.jsx)(ei,{field:v.o.t("db_add_table_field_desc")}),render:(e,t)=>t.fieldDescription},{title:(0,d.jsx)(ei,{field:v.o.t("db_add_table_field_type")}),render:(e,t)=>{var r,n;return null!==(n=null===(r=Q.find(e=>e.value===t.type))||void 0===r?void 0:r.label)&&void 0!==n?n:"-"}}]}(),dataSource:h},className:S()("[&_.semi-table-row-head]:!border-b-[1px]","[&_.semi-table-row-cell]:!h-[56px]","[&_.semi-table-row-cell]:!border-b-0","[&_.semi-table-row-cell]:!bg-none","[&_.semi-table-row-cell]:!bg-transparent")})]}):(0,d.jsx)(x.yC,{size:"large",wrapperClassName:"w-full h-[288px]"})}var ts=((s={})[s.Upload=0]="Upload",s[s.Config=1]="Config",s[s.Preview=2]="Preview",s[s.Process=3]="Process",s);function td(e){var{step:t}=e;return(0,d.jsxs)(x.Rg,{type:"basic",hasLine:!1,current:t,className:S()("my-[24px] justify-center","[&_.semi-steps-item]:flex-none","[&_.semi-steps-item-title]:!max-w-[unset]"),children:[(0,d.jsx)(x.Rg.Step,{title:v.o.t("db_optimize_014")}),(0,d.jsx)(x.Rg.Step,{title:v.o.t("db_optimize_015")}),(0,d.jsx)(x.Rg.Step,{title:v.o.t("db_optimize_016")}),(0,d.jsx)(x.Rg.Step,{title:v.o.t("db_optimize_017")})]})}function tc(e){var{visible:t,databaseId:r,tableFields:n,tableType:o,connectorId:a,onClose:l,onComplete:s}=e,[u,p]=(0,c.useState)(ts.Upload),[h,m]=(0,c.useState)([]),[g,f]=(0,c.useState)(),b=()=>{p(ts.Upload),m([]),f(void 0)};return(0,d.jsxs)(x.u_,{visible:t,title:v.o.t("db_optimize_013"),onCancel:l,width:1120,className:"[&_.semi-modal-content]:min-h-[520px]",footer:(0,d.jsx)(d.Fragment,{children:u!==ts.Process?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(x.zx,{color:"primary",disabled:u===ts.Upload,onClick:()=>p(u-1),children:v.o.t("db_optimize_020")}),(0,d.jsx)(x.zx,{disabled:(()=>{switch(u){case ts.Upload:return h.length<=0||h.some(e=>e.status!==e4.Dm.SUCCESS);case ts.Config:return!g;case ts.Preview:case ts.Process:default:return!1}})(),onClick:()=>p(u+1),children:v.o.t("db_optimize_021")})]}):(0,d.jsx)(x.zx,{onClick:()=>{null==l||l(),null==s||s(),b()},children:v.o.t("db2_004")})}),children:[(0,d.jsx)(td,{step:u}),u===ts.Upload?(0,d.jsx)(e3,{databaseId:r,tableType:o,unitList:h,onUnitListChange:m}):null,u===ts.Config?(0,d.jsx)(tl,{databaseId:r,tableFields:n,tableType:o,fileUri:h[0].uri,onTableSheetChange:f}):null,u===ts.Preview?(0,d.jsx)(to,{databaseId:r,tableFields:n,fileUri:h[0].uri,tableSheet:g}):null,u===ts.Process?(0,d.jsx)(te,{databaseId:r,tableType:o,fileItem:h[0],tableSheet:g,connectorId:a}):null]})}function tu(e){var{readonly:t,databaseId:r,tableType:n,tableFields:o,onNewRow:a,onRefresh:l}=e,[s,u]=(0,c.useState)(!1),[p,m]=(0,c.useState)(!1),[g,f]=(0,c.useState)(),b=eX(),y=e=>{u(!1),m(!0),f(e)};return(0,d.jsxs)("div",{className:"flex gap-[8px] mt-[8px] mb-[12px]",children:[(0,d.jsx)(x.zx,{color:"secondary",icon:(0,d.jsx)(D.PwN,{className:t?"":"coz-fg-hglt"}),disabled:t,onClick:a,children:(0,d.jsx)("span",{className:t?"":"coz-fg-hglt",children:v.o.t("db_optimize_022")})}),n===F.Nd.DraftTable?(0,d.jsx)(x.zx,{color:"secondary",icon:(0,d.jsx)(D.nBN,{}),disabled:t,onClick:()=>y(),children:v.o.t("db_optimize_013")}):(0,d.jsx)(x.Lt,{trigger:"custom",visible:s,onClickOutSide:()=>u(!1),position:"bottomLeft",render:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(x.Lt.Title,{className:"pl-[32px] border-0 border-b border-solid coz-stroke-primary",children:v.o.t("database_optimize_100")}),(0,d.jsx)("div",{className:"min-w-[170px] max-h-[220px] overflow-auto",children:(0,d.jsx)(x.Lt.Menu,{children:b.map(e=>(0,d.jsx)(x.Lt.Item,{onClick:()=>y(e.value),children:e.label},e.value))})})]}),children:(0,d.jsxs)(x.zx,{color:"secondary",icon:(0,d.jsx)(D.nBN,{}),disabled:t,onClick:()=>u(!0),children:[(0,d.jsx)("span",{children:v.o.t("db_optimize_013")}),(0,d.jsx)(D.Wdl,{className:"ml-[4px]"})]})}),(0,d.jsx)("div",{className:"ml-auto"}),n===F.Nd.DraftTable?(0,d.jsx)(x.zx,{color:"secondary",icon:(0,d.jsx)(D.dVD,{}),disabled:t,onClick:()=>x.u_.confirm({title:v.o.t("dialog_240305_01"),content:v.o.t("dialog_240305_02"),okText:v.o.t("dialog_240305_03"),okButtonColor:"red",cancelText:v.o.t("dialog_240305_04"),onOk:(0,h._)(function*(){yield w.v6.ResetBotTable({database_info_id:r,table_type:n}),l()})}),children:v.o.t("db_optimize_011")}):null,(0,d.jsx)(x.zx,{color:"secondary",icon:(0,d.jsx)(D.mxP,{}),onClick:l,children:v.o.t("db_optimize_012")}),(0,d.jsx)(tc,{visible:p,databaseId:r,tableFields:o,tableType:n,connectorId:g,onClose:()=>m(!1),onComplete:l})]})}var tp={id:200,sys_platform:180,uuid:260,bstudio_create_time:200};function th(e){var t,{value:r}=e,n=null!==(t=null==r?void 0:r.toString())&&void 0!==t?t:"";return(0,d.jsx)(x.ZT.Text,{ellipsis:{showTooltip:{opts:{className:S()("[&_.semi-tooltip-content]:max-h-[110px]","[&_.semi-tooltip-content]:line-clamp-5")}}},children:n})}var tm=e=>{var{fieldList:t,connectorNames:r,isReadonlyMode:n,handleEditRow:o,handleDeleteRow:a}=e,l=[];return l.push(...er.map(e=>{var t,n,o;return{title:()=>(0,d.jsx)(ei,{field:e.name,type:e.type,tip:e.desc,required:!0}),dataIndex:en[null!==(t=e.name)&&void 0!==t?t:""],width:null!==(o=tp[null!==(n=e.name)&&void 0!==n?n:""])&&void 0!==o?o:260,render:e=>{var t;return"bstudio_connector_id"===e.fieldName?(0,d.jsx)(x.ZT.Text,{ellipsis:!0,children:null!==(t=r[e.value])&&void 0!==t?t:e.value}):(0,d.jsx)(th,{value:e.value})}}})),l.push(...t.map(e=>({title:()=>(0,d.jsx)(ei,{field:e.fieldName,type:e.type,tip:e.fieldDescription,required:e.required}),dataIndex:e.fieldName,width:260,render:e=>(0,d.jsx)(th,{value:null==e?void 0:e.value})}))),l.push({title:v.o.t("db_table_0126_021"),width:100,resize:!1,fixed:"right",render:(e,t,r)=>n?(0,d.jsxs)(x.T,{children:[(0,d.jsx)(x.hU,{disabled:!0,icon:(0,d.jsx)(D.JAz,{}),size:"small",color:"secondary"}),(0,d.jsx)(x.hU,{disabled:!0,icon:(0,d.jsx)(D.dVD,{}),size:"small",color:"secondary"})]}):(0,d.jsxs)(x.T,{children:[(0,d.jsx)(x.hU,{icon:(0,d.jsx)(D.JAz,{}),size:"default",color:"secondary",onClick:()=>o(t)}),(0,d.jsx)(x.gn,{title:v.o.t("db_optimize_026"),content:v.o.t("db_optimize_027"),okText:v.o.t("db_optimize_028"),okButtonColor:"red",cancelText:v.o.t("db_optimize_029"),onConfirm:()=>a(t),children:(0,d.jsx)(x.hU,{icon:(0,d.jsx)(D.dVD,{}),size:"default",color:"secondary"})})]})}),l};function tg(e){var{selectedCount:t=0,onDelete:r,onCancel:n}=e;return(0,d.jsxs)("div",{className:S()("flex items-center p-[8px] gap-[8px] rounded-[12px]","coz-bg-max border-solid coz-stroke-primary coz-shadow-default","fixed bottom-[8px] left-[50%] translate-x-[-50%] z-10",{hidden:t<=0}),children:[(0,d.jsx)(x.ZT.Text,{type:"secondary",children:v.o.t("db_optimize_031",{n:t})}),(0,d.jsx)(x.iz,{layout:"vertical"}),(0,d.jsx)(x.zx,{color:"red",icon:(0,d.jsx)(D.dVD,{}),onClick:r,children:v.o.t("db_optimize_030")}),(0,d.jsx)(x.iz,{layout:"vertical"}),(0,d.jsx)(x.hU,{color:"secondary",icon:(0,d.jsx)(D.rmE,{}),onClick:n})]})}var tf=r("873688");function tb(e){var t,r,{databaseId:n,tableType:o,tableFields:a,isReadonlyMode:l,enterFrom:s,onAfterEditRecords:u}=e,p=(0,c.useMemo)(()=>a.map(e=>{var t,r,n,o;return{fieldName:null!==(t=e.name)&&void 0!==t?t:"",fieldDescription:null!==(r=e.desc)&&void 0!==r?r:"",required:null!==(n=e.must_required)&&void 0!==n&&n,type:null!==(o=e.type)&&void 0!==o?o:Y.wp.Text}}),[a]),[g,f]=(0,c.useState)(20),[b,y]=(0,c.useState)(1),[_,j]=(0,c.useState)(0),[k,N]=(0,c.useState)([]),{loading:T,refresh:E}=(0,eF.Z)(()=>w.v6.ListDatabaseRecords({database_id:n,table_type:o,offset:(b-1)*g,limit:g}),{onSuccess:e=>{j(e.TotalNum),N(e.data)},refreshDeps:[n,o,g,b]}),D=(0,c.useMemo)(()=>{var e;return e=p,k.map(t=>{var r=Object.keys(t),n={};return r.forEach(r=>{var o=e.find(e=>e.fieldName===r);if(!o){n[r]={fieldName:r,type:Y.wp.Text,required:!0,value:t[r]};return}switch(o.type){case Y.wp.Boolean:n[r]={fieldName:r,value:t[r],type:Y.wp.Boolean,required:o.required};break;case Y.wp.Number:n[r]={fieldName:r,value:t[r],type:Y.wp.Number,required:o.required};break;case Y.wp.Date:n[r]={fieldName:r,value:t[r],type:Y.wp.Date,required:o.required};break;case Y.wp.Float:n[r]={fieldName:r,value:t[r],type:Y.wp.Float,required:o.required};break;case Y.wp.Text:n[r]={fieldName:r,value:t[r],type:Y.wp.Text,required:o.required}}}),n})},[p,k]),C=()=>{E(),null==u||u()},I=eX({includeMigrated:!0}),M=(0,c.useMemo)(()=>Object.fromEntries(I.map(e=>[e.value,e.label])),[I]),[O,A]=(0,c.useState)([]),[z,L]=(0,c.useState)(!1),[P,R]=(0,c.useState)(),Z=e=>{R(e),L(!0)};var B=(t=(0,h._)(function*(e,t){t?yield w.v6.UpdateDatabaseRecords({database_id:n,table_type:o,record_data_alter:[e],ori_connector_id:t}):yield w.v6.UpdateDatabaseRecords({database_id:n,table_type:o,record_data_add:[e]}),L(!1),R(void 0),C()}),function(e,r){return t.apply(this,arguments)});var U=(r=(0,h._)(function*(e){yield w.v6.UpdateDatabaseRecords({database_id:n,table_type:o,record_data_delete:[{bstudio_id:e.bstudio_id.value}]}),C()}),function(e){return r.apply(this,arguments)}),F=(0,c.useMemo)(()=>tm({fieldList:p,isReadonlyMode:l,connectorNames:M,handleDeleteRow:U,handleEditRow:Z}),[p,l,M]),[H,V]=(0,c.useState)(0),W=(0,c.useRef)(null);return(0,c.useEffect)(()=>{var e=new ResizeObserver(e=>{for(var t of e)t.target===W.current&&V(t.contentRect.height)});return W.current&&e.observe(W.current),()=>e.disconnect()},[]),(0,d.jsxs)("div",{className:tf.Z.table,ref:W,children:[(0,d.jsx)(tu,{readonly:l,databaseId:n,tableType:o,tableFields:p,onNewRow:()=>Z(),onRefresh:E}),(0,d.jsx)(x.iA,{tableProps:{loading:T,columns:F,dataSource:D,rowSelection:{fixed:!0,selectedRowKeys:O.map(e=>{var t;return null===(t=e.bstudio_id)||void 0===t?void 0:t.value}),onChange:(e,t)=>A(null!=t?t:[])},resizable:{onResize:e2},rowKey:e=>{var t;return null==e?void 0:null===(t=e.bstudio_id)||void 0===t?void 0:t.value},scroll:{y:H>128?H-128:"auto"},pagination:{total:_,currentPage:b,pageSize:g,onChange:(e,t)=>{y(e),f(t),A([])}},renderPagination:e=>(0,d.jsxs)("div",{className:"w-full flex gap-[8px] items-center justify-end",children:[(0,d.jsx)(x.ZT.Text,{type:"secondary",fontSize:"12px",children:v.o.t("db_optimize_032",{n:_})}),(0,d.jsx)(x.iz,{layout:"vertical",className:"h-[16px]"}),(0,d.jsx)(x.U8,(0,m._)({size:"small",showSizeChanger:!0,pageSizeOpts:[20,50,100]},e))]})},wrapperClassName:S()(tf.Z["table-wrapper"],{[tf.Z["table-wrapper-project"]]:"project"===s}),empty:(0,d.jsx)(x.HY,{image:(0,d.jsx)(ej.ts,{className:"w-[140px] h-[140px]"}),title:v.o.t("timecapsule_0108_003")}),indexRowSelection:!0}),(0,d.jsx)(tg,{selectedCount:O.length,onDelete:()=>x.u_.confirm({title:v.o.t("db_optimize_026"),content:v.o.t("db_optimize_027"),okText:v.o.t("dialog_240305_03"),okButtonColor:"red",cancelText:v.o.t("dialog_240305_04"),onOk:(0,h._)(function*(){yield w.v6.UpdateDatabaseRecords({database_id:n,table_type:o,record_data_delete:O.map(e=>({bstudio_id:e.bstudio_id.value}))}),A([]),C()})}),onCancel:()=>A([])}),(0,d.jsx)(e1,{fields:p,visible:z,tableType:o,initialValues:P,onSubmit:B,onCancel:()=>L(!1)})]})}var tv=r("175706"),tx=e=>{var t,r,n,o,a,l,s,p,{version:f,enterFrom:b,initialTab:y,needHideCloseIcon:_=!1,addRemoveButtonText:j,onClose:N,onClickAddRemoveButton:C,onIDECallback:I,onAfterEditBasicInfo:O,onAfterEditRecords:A,databaseId:z}=e,L=null===(a=u.Z.useUserInfo())||void 0===a?void 0:a.user_id_str,[P,R]=(0,c.useState)(!1),[Z,B]=(0,c.useState)(!1),[U,H]=(0,c.useState)({}),[V,W]=(0,c.useState)(f?eL.Structure:null!=y?y:eL.Structure),[G,q]=(0,c.useState)(!1),[K,X]=(0,c.useState)(!0);var Y=(t=(0,h._)(function*(){try{X(!0);var e,t,r,n,o=yield w.v6.GetDatabaseByID((0,m._)({id:z},f?{version:f}:{}));o.database_info?(H(o.database_info),o.database_info.table_name&&(null==I||null===(t=I.onUpdateDisplayName)||void 0===t||t.call(I,o.database_info.table_name),null==I||null===(r=I.onStatusChange)||void 0===r||r.call(I,"normal"))):null==I||null===(n=I.onStatusChange)||void 0===n||n.call(I,"error")}catch(t){null==I||null===(e=I.onStatusChange)||void 0===e||e.call(I,"error")}finally{X(!1)}}),function(){return t.apply(this,arguments)}),Q=U.creator_id!==L||!!f,J=(0,c.useMemo)(()=>({tableId:U.id||"",name:U.table_name||"",desc:U.table_desc||"",icon_uri:U.icon_uri||"",readAndWriteMode:U.rw_mode||F.mx.LimitedReadWrite,tableMemoryList:U.field_list||[]}),[U]),$=(0,c.useMemo)(()=>({name:U.table_name||"",description:U.table_desc||"",icon_uri:[{url:U.icon_url||"",uri:U.icon_uri||"",uid:U.icon_uri||"",isDefault:!0}]}),[U]);var ee=(r=(0,h._)(function*(e){var t,r=yield w.v6.UpdateDatabase((0,m._)({},(0,ez.Z)(U,["id","icon_uri","table_name","table_desc","field_list","rw_mode","prompt_disabled","extra_info"]),e));(null==r?void 0:null===(t=r.database_info)||void 0===t?void 0:t.id)?(yield Y(),O&&O(),P&&R(!1)):x.FN.error("Update database failed")}),function(e){return r.apply(this,arguments)});var et=(n=(0,h._)(function*(e){var t,r=yield w.v6.UpdateDatabase((0,g._)((0,m._)({},U),{rw_mode:e}));(null==r?void 0:null===(t=r.database_info)||void 0===t?void 0:t.id)&&(yield Y(),O&&O())}),function(e){return n.apply(this,arguments)});var er=(o=(0,h._)(function*(){yield Y(),O&&O()}),function(){return o.apply(this,arguments)});(0,c.useEffect)(()=>{Y()},[]);var en=["create","library"].includes(b);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:S()("h-full w-full max-w-[100vw] flex flex-col overflow-hidden","project"===b?"coz-bg-max rounded-b-[8px] border-solid coz-stroke-primary":"coz-bg-plus"),children:[(0,d.jsxs)("div",{className:S()("flex flex-row items-center justify-between shrink-0",en?"h-[40px] m-[24px]":"h-[64px] px-[16px] py-[12px] border-0 border-b border-solid coz-stroke-primary"),children:[(0,d.jsxs)("div",{className:"flex items-center gap-[8px]",children:[_?null:(0,d.jsx)(x.hU,{color:"secondary",icon:en?(0,d.jsx)(D.$1i,{}):(0,d.jsx)(D.rmE,{}),onClick:N}),(0,d.jsx)(x.EZ,{type:"bot",color:"grey",src:null===(s=$.icon_uri)||void 0===s?void 0:null===(l=s[0])||void 0===l?void 0:l.url}),(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsxs)("div",{className:"flex flex-row items-center gap-[2px] leading-none",children:[(0,d.jsx)(x.ZT.Text,{weight:500,fontSize:"14px",children:$.name}),Q?null:(0,d.jsx)(x.hU,{size:"mini",color:"secondary",icon:(0,d.jsx)(D.JAz,{className:"coz-fg-secondary"}),onClick:()=>R(!0)})]}),(0,d.jsx)(x.ZT.Text,{fontSize:"12px",children:$.description})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-[8px]",children:[(0,d.jsx)(eP,{disabled:Q,value:U.rw_mode,onChange:et}),b.includes("bot")||"workflow"===b?(0,d.jsx)(x.zx,{disabled:Q,loading:G,onClick:()=>{if(C)try{q(!0),C("workflow"===b?z:null==U?void 0:U.draft_id)}finally{q(!1)}},children:j}):null]})]}),(0,d.jsx)("div",{className:S()("grow overflow-hidden",en?"mx-[24px]":"mx-[16px]"),children:(0,d.jsxs)(x.nj,{className:tv.Z.tab,type:"text",align:"left",tabBarExtraContent:(0,d.jsxs)(x.T,{spacing:16,children:[(0,d.jsx)(eR,{}),V===eL.Structure?(0,d.jsx)(x.zx,{"data-testid":E.A.BotDatabaseEditTableStructureBtn,onClick:()=>B(!0),icon:(0,d.jsx)(D.JAz,{}),color:"highlight",disabled:Q,children:v.o.t("db_new_0003")}):null]}),tabBarClassName:"flex flex-row items-center w-full",activeKey:V,onChange:e=>W(e),lazyRender:!0,children:[(0,d.jsx)(x.nj.TabPanel,{tab:v.o.t("db_new_0001"),itemKey:eL.Structure,children:(0,d.jsx)(eU,{loading:K,fieldList:null!==(p=U.field_list)&&void 0!==p?p:[]})}),(0,d.jsxs)(x.nj.TabPanel,{tab:v.o.t("db_optimize_009"),itemKey:eL.Draft,disabled:!!f,children:[(0,d.jsx)(M,{type:"info",persistentKey:"_coze_database_draft_data_warning",children:v.o.t("db_optimize_010")}),(0,d.jsx)(tb,{databaseId:z,tableType:F.Nd.DraftTable,tableFields:U.field_list||[],isReadonlyMode:!1,enterFrom:b,onAfterEditRecords:A})]}),(0,d.jsxs)(x.nj.TabPanel,{tab:v.o.t("db_new_0002"),itemKey:eL.Online,disabled:!!f,children:[(0,d.jsx)(M,{type:"info",persistentKey:"_coze_database_online_data_warning",children:v.o.t("database_optimize_200")}),(0,d.jsx)(tb,{databaseId:z,tableType:F.Nd.OnlineTable,tableFields:U.field_list||[],isReadonlyMode:Q,enterFrom:b,onAfterEditRecords:A})]})]})})]}),(0,d.jsx)(T,{visible:P,onSubmit:e=>{var t,r;return ee({table_name:e.name,icon_uri:null===(r=e.icon_uri)||void 0===r?void 0:null===(t=r[0])||void 0===t?void 0:t.uri,table_desc:e.description})},initValues:$,mode:k.EDIT,onClose:()=>R(!1)}),(0,d.jsx)(ev,{visible:Z,initValue:J,onSubmit:er,showDatabaseBaseInfo:!1,onlyShowDatabaseInfoRWMode:!0,onReturn:()=>B(!1),onClose:()=>B(!1)})]})},ty=e=>{var t,r,{version:n,botId:o,spaceId:a,databaseId:l,enterFrom:s,needHideCloseIcon:u,initialTab:m}=e,{onStatusChange:g,onUpdateDisplayName:f}=(0,p.kJ)(),b=(0,eA.useNavigate)(),[y,_]=(0,c.useState)("bot_add"===s?"Add":"Remove");var j=(t=(0,h._)(function*(e){var t=yield w.v6.BindDatabase({database_id:e,bot_id:o});0===t.code?(x.FN.success("Add database success"),_("Remove")):x.FN.error(t.msg)}),function(e){return t.apply(this,arguments)});var k=(r=(0,h._)(function*(e){var t=yield w.v6.UnBindDatabase({database_id:e,bot_id:o});0===t.code?(x.FN.success("Remove database success"),_("Add")):x.FN.error(t.msg)}),function(e){return r.apply(this,arguments)}),N=(0,c.useMemo)(()=>"Add"===y?v.o.t("db2_030"):"Remove"===y?v.o.t("db2_031"):"",[y]);return(0,d.jsx)(tx,{version:n,enterFrom:s,databaseId:l,initialTab:m,addRemoveButtonText:N,onIDECallback:{onStatusChange:g,onUpdateDisplayName:f},onClickAddRemoveButton:e=>{if(!!e)if("Add"===y)j(e);else{if("Remove"!==y)return;k(e)}},needHideCloseIcon:u,onClose:()=>{1===window.history.length&&b("/space/".concat(a,"/library")),b(-1)}})},t_=e=>{var{version:t,needHideCloseIcon:r,initialTab:n}=e,o=(0,p.kF)(),{botID:a,tableID:l,biz:s}=o,c=(0,ex.rY)(e=>e.getSpaceId());return l?(0,d.jsx)(ty,{version:t,botId:null!=a?a:"",databaseId:l,needHideCloseIcon:r,enterFrom:null!=s?s:"",spaceId:null!=c?c:"",initialTab:null!=n?n:o.initialTab}):(0,d.jsx)("div",{children:"no database id!"})}},800651:function(e,t,r){"use strict";r.d(t,{_R:()=>ex,IX:()=>ej,g3:()=>ek,Iu:()=>C,E:()=>h,sM:()=>Y});var n,o=r("151064"),a=r("455069"),l=r("177198"),s=r("336205"),d=r("775699"),c=r("808549"),u=r("157728"),p=r("707107"),h=e=>{var{isStore:t=!1}=e,{bot_id:r="",product_id:n=""}=(0,u.useParams)(),o={longTimeMemory:"long_term_memory",database:"database",variable:"variable",filebox:"filebox"};return function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,p.Gg)(p.Kg.memory_click_front,(0,c._)({bot_id:t?n:r,product_id:t?n:"",resource_type:o[e||""],action:"turn_on",source:t?"store_detail_page":"bot_detail_page",source_detail:"memory_preview"},a))}},m=r("407821"),g=r.n(m),f=r("472772"),b=r.n(f),v=r("395245"),x=r.n(v),y=r("297998"),_=r.n(y),w=r("646576"),j=r.n(w),k=r("606121"),N=r.n(k),T=r("277472"),E={};E.styleTagTransform=N(),E.setAttributes=_(),E.insert=x().bind(null,"head"),E.domAPI=b(),E.insertStyleElement=j(),g()(T.Z,E);var D=T.Z&&T.Z.locals?T.Z.locals:void 0,C=e=>{var t,{memoryModule:r,menuList:n,setMemoryModule:c,isStore:u}=e,p=h({isStore:u}),m=null===(t=n[0])||void 0===t?void 0:t.name,g=r||m,{modal:f,open:b,close:v}=(0,d.q0)({type:"info",width:1138,height:665,className:D["memory-debug-modal"],bodyStyle:{padding:0},title:s.o.t("database_memory_menu"),centered:!0,footer:null,onCancel:()=>{p(g,{action:"turn_off"}),c(m),v()}});return{node:f((0,o.jsx)(d.mQ,{className:D.tabs_memory,tabPosition:"left",activeKey:g,onChange:e=>{c(e),p(e)},lazyRender:!0,children:n.map(e=>(0,o.jsx)(d.Jm,{itemKey:e.name,tab:(0,o.jsxs)("span",{"data-dtestid":"".concat(l.A.BotMemoryDebugModalTab,".").concat(e.name),className:D["memory-debug-modal-tabs-tab"],children:[e.icon,e.label]}),children:a.isValidElement(e.component)?a.cloneElement(e.component,{onCancel:v}):e.component},e.name))})),open:b,close:v}},S=r("825955"),I=r("120454"),M=r("252237"),O=r.n(M),A=r("626862"),z=r("790426"),L=r("277194"),P=r("388993"),R=r("745474"),Z=r("458620"),B=r("727914"),U=r("382534"),F=r("479886"),H=r.n(F),V=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY/MM/DD HH:mm:ss";return H().unix(e).format(t)},W=r("834743"),G={};G.styleTagTransform=N(),G.setAttributes=_(),G.insert=x().bind(null,"head"),G.domAPI=b(),G.insertStyleElement=j(),g()(W.Z,G);var q=W.Z&&W.Z.locals?W.Z.locals:void 0,{Paragraph:K}=d.ZT,X=e=>{var t,{className:r,value:n,botId:c,keyword:u,onClear:p,afterUpdate:h}=e,[m,g]=(0,a.useState)(n);(0,a.useEffect)(()=>g(n),[n]);var f=(t=(0,S._)(function*(){try{if(m===n)return;var e=yield U.v6.SetKvMemory({bot_id:c,data:[{keyword:u,value:m}]});0===e.code?(d.FN.success({content:s.o.t("Update_success"),showClose:!1}),null==h||h()):d.FN.warning({content:s.o.t("Update_failed"),showClose:!1})}catch(e){R.s5.errorEvent(R.xW.VARIABLE,{eventName:Z.b.VariableSetValue,error:e instanceof Error?e:new B.sH(Z.b.VariableSetValue,"".concat(Z.b.VariableSetValue,": operation fail")),meta:{bot_id:c}})}}),function(){return t.apply(this,arguments)});return(0,o.jsx)("div",{className:r,"data-dtestid":"".concat(l.A.BotVariableDebugModalValueInput,".").concat(u),children:(0,o.jsx)(d.u3,{showClear:!0,value:m,onChange:e=>g(e),onClear:p,onBlur:f})})},Y=()=>{var e,t,r=(0,P.G)(e=>e.botId),n=(0,L.Ee)(e=>e.variables),[u,h]=(0,a.useState)(!1),[m,g]=(0,a.useState)(!1),f=(0,A.Z)({current:[]});var b=(e=(0,S._)(function*(){try{h(!0);var e=yield U.v6.GetPlayGroundMemory({bot_id:r});if(null==e?void 0:e.memories){var t=n.map(t=>{var r,n=(null===(r=e.memories)||void 0===r?void 0:r.find(e=>e.keyword===t.key))||{};return(0,I._)((0,c._)({},n),{keyword:t.key,loading:!1})});f.current=t}}catch(e){R.s5.errorEvent(R.xW.VARIABLE,{eventName:Z.b.VariableGetValue,error:e instanceof Error?e:new B.sH(Z.b.VariableSetValue,"".concat(Z.b.VariableSetValue,": get list fail")),meta:{bot_id:r}})}finally{h(!1)}}),function(){return e.apply(this,arguments)});(0,a.useEffect)(()=>{b()},[]);var v=(t=(0,S._)(function*(e){try{var t=yield U.v6.DelProfileMemory({bot_id:r,keywords:e?[e]:void 0});0===t.code?(d.FN.success({content:s.o.t("variable_reset_succ_tips"),showClose:!1}),b()):d.FN.warning({content:s.o.t("variable_reset_fail_tips"),showClose:!1})}catch(e){R.s5.errorEvent(R.xW.VARIABLE,{eventName:Z.b.VariableDeleteValue,error:e instanceof Error?e:new B.sH(Z.b.VariableSetValue,"".concat(Z.b.VariableSetValue,": operation fail")),meta:{bot_id:r}})}}),function(e){return t.apply(this,arguments)});return(0,o.jsxs)("div",{className:q["variable-debug-container"],children:[(0,o.jsxs)(d.yC,{spinning:u,children:[(0,o.jsxs)("div",{className:q["modal-container-title"],children:[(0,o.jsx)("div",{className:q.keyword,"data-testid":l.A.BotVariableDebugModalNameTitleText,children:s.o.t("variable_field_name")}),(0,o.jsx)("div",{className:q.value,"data-testid":l.A.BotVariableDebugModalValueTitleText,children:s.o.t("variable_field_value")}),(0,o.jsx)("div",{className:q.update_time,"data-testid":l.A.BotVariableDebugModalEditDateTitleText,children:s.o.t("variable_edit_time")})]}),f.current.map(e=>{var t;return e.keyword?(0,o.jsxs)("div",{className:O()(q["modal-container-row"],{[q.system_row]:e.is_system}),children:[(0,o.jsx)("div",{className:q.keyword,"data-dtestid":"".concat(l.A.BotVariableDebugModalNameText,".").concat(e.keyword),children:(0,o.jsx)(K,{ellipsis:{rows:1,showTooltip:{opts:{style:{maxWidth:234,wordBreak:"break-word"}}}},children:e.keyword})}),e.is_system?(0,o.jsx)(K,{"data-dtestid":"".concat(l.A.BotVariableDebugModalValueInput,".").concat(e.keyword),ellipsis:{rows:1,showTooltip:{opts:{style:{maxWidth:234,wordBreak:"break-word"}}}},children:e.value}):(0,o.jsx)(X,{className:q.value,value:e.value||(null==n?void 0:null===(t=n.find(t=>t.key===e.keyword))||void 0===t?void 0:t.default_value),keyword:e.keyword||"",botId:r,onClear:(0,S._)(function*(){yield v(e.keyword||"")}),afterUpdate:b}),(0,o.jsx)("div",{className:q.update_time,"data-dtestid":"".concat(l.A.BotVariableDebugModalEditDateText,".").concat(e.keyword),children:e.update_time?V(Number(e.update_time),"YYYY-MM-DD HH:mm"):""})]},e.keyword):null})]}),(0,o.jsx)("div",{className:q["variable-debug-footer"],"data-testid":l.A.BotVariableDebugModalResetBtn,children:(0,o.jsx)(d.u,{className:q["hover-tip"],showArrow:!0,content:s.o.t("variable_reset_tips"),children:(0,o.jsx)(d.y3,{type:"tertiary",onClick:()=>{(0,p.Gg)(p.Kg.memory_click_front,{bot_id:r,resource_type:"variable",action:"reset",source:"bot_detail_page",source_detail:"memory_preview"}),g(!0)},children:s.o.t("variable_reset")})})}),(0,o.jsx)(d.u_,{zIndex:9999,centered:!0,okType:"danger",visible:m,onCancel:()=>{g(!1)},title:s.o.t("variable_reset_confirm"),okText:s.o.t("variable_reset_yes"),cancelText:s.o.t("variable_reset_no"),keepDOM:!1,maskClosable:!1,icon:(0,o.jsx)(z.Z,{size:"extra-large",style:{color:"#FF2710"}}),onOk:(0,S._)(function*(){yield v(),g(!1)}),children:s.o.t("variable_reset_tips")})]})},Q=r("664319"),J=r("674343"),$=r("44172"),ee=r("33630"),et=r("934030"),er={};er.styleTagTransform=N(),er.setAttributes=_(),er.insert=x().bind(null,"head"),er.domAPI=b(),er.insertStyleElement=j(),g()(et.Z,er);var en=et.Z&&et.Z.locals?et.Z.locals:void 0,ei=e=>{var{database:t,botID:r,workflowID:n,afterReset:a,projectID:l}=e,{tableId:u,name:h}=t,{open:m,close:g,modal:f}=(0,d.q0)({type:"info",title:s.o.t("dialog_240305_01"),content:s.o.t("dialog_240305_02"),okButtonProps:{type:"warning"},icon:(0,o.jsx)($.xAI,{}),onOk:(0,S._)(function*(){try{yield U.v6.ResetBotTable((0,I._)((0,c._)({},n?{workflow_id:n}:{},r?{bot_id:r}:{},l?{project_id:l}:{}),{table_id:u,table_type:ee.Nd.DraftTable,database_info_id:u}))}catch(e){R.s5.errorEvent(R.xW.DATABASE,{error:e,eventName:Z.b.DatabaseResetTableRecords});return}g(),null==a||a()}),onCancel:()=>{g()},className:en["reset-confirm-modal"],zIndex:1001});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(d.zx,{type:"tertiary",onClick:()=>{(0,p.Gg)(p.Kg.memory_click_front,{bot_id:null!=r?r:"",resource_type:"database",resource_id:u,resource_name:h,action:"reset",source:"bot_detail_page",source_detail:"memory_preview"}),m()},className:en["button-reset"],children:s.o.t("database_240227_01")}),f((0,o.jsx)(o.Fragment,{children:s.o.t("dialog_240305_02")}))]})},eo=r("763055"),ea=r("461190"),el=r("962289"),es=r("602876"),{Text:ed}=d.ZT,ec=(e,t)=>(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(ed,{ellipsis:{showTooltip:{opts:{content:e}}},children:e}),t?(0,o.jsx)("span",{style:{color:"red",height:"16px"},children:"*"}):null]}),eu=(e,t)=>{var r,n=null!==(r=null===ea._N||void 0===ea._N?void 0:ea._N.getTableWidthMap(t))&&void 0!==r?r:{},o=855/e.length>120?855/e.length:120,a=e.map((t,r)=>{var a={},l=(0,el.Z)(n,t.name||""),s=l||o,d=r===e.length-1;switch(t.type){case es.wp.Text:a={className:d&&"".concat(en["last-column-text"]," not-resize-handle"),title:ec(t.name,t.must_required||!1),dataIndex:t.name,width:d?void 0:s};break;case es.wp.Number:case es.wp.Float:a={className:d&&"".concat(en["last-column-min-width"]," not-resize-handle"),title:ec(t.name,t.must_required||!1),dataIndex:t.name,width:d?void 0:s};break;case es.wp.Date:a={className:d&&"".concat(en["last-column-date"]," not-resize-handle"),title:ec(t.name,t.must_required||!1),dataIndex:t.name,width:d?void 0:s};break;case es.wp.Boolean:a={className:d&&"".concat(en["last-column-min-width"]," not-resize-handle"),title:ec(t.name,t.must_required||!1),dataIndex:t.name,width:d?void 0:s}}return a});return{list:a,width:a.reduce((e,t)=>e+(Number(t.width)||120),0)}},ep=(0,a.forwardRef)((e,t)=>{var r,{database:n,botID:l,workflowID:u,projectID:p}=e,{tableId:h}=n,[m,g]=(0,a.useState)(!1),[f,b]=(0,a.useState)([]);ea._N.initWidthMap();var v=(0,a.useMemo)(()=>eu(n.tableMemoryList,h),[n.tableMemoryList]);var x=(r=(0,S._)(function*(){var e;g(!0);try{e=yield U.v6.ListDatabaseRecords({project_id:p,workflow_id:u,bot_id:l,database_id:h,offset:0,limit:0,table_type:ee.Nd.DraftTable})}catch(e){R.s5.errorEvent(R.xW.DATABASE,{eventName:Z.b.DatabaseQueryTable,error:e instanceof Error?e:new B.sH(Z.b.DatabaseQueryTable,"".concat(Z.b.DatabaseQueryTable,": operation fail"))})}(null==e?void 0:e.data)&&b((null==e?void 0:e.data)||[]),g(!1)}),function(){return r.apply(this,arguments)});return((0,a.useEffect)(()=>{x()},[]),(0,a.useImperativeHandle)(t,()=>({refetch:x})),(null==f?void 0:f.length)||m)?(0,o.jsx)(ea.HA,{tableKey:h,columns:v.list,dataSource:f,loading:m,className:en["data-table"],resizable:!0,onResize:e=>{var t=v.list.filter(t=>t.dataIndex!==e.dataIndex).reduce((e,t)=>Number(e)+Number(t.width),0),r=855-t;return t+e.width<855?(0,I._)((0,c._)({},e),{width:e.width<r?r:e.width}):e}}):(0,o.jsx)(d.YZ,{className:O()([en["empty-wrapper-database"],"pb-0"]),empty:{icon:(0,o.jsx)(eo.l3,{}),title:s.o.t("timecapsule_0108_003")}})}),eh=r("37597"),em={};em.styleTagTransform=N(),em.setAttributes=_(),em.insert=x().bind(null,"head"),em.domAPI=b(),em.insertStyleElement=j(),g()(eh.Z,em);var eg=eh.Z&&eh.Z.locals?eh.Z.locals:void 0,{Text:ef}=J.ZT,eb=(0,a.forwardRef)((e,t)=>{var{info:r,botID:n,workflowID:s,projectID:d}=e,c=(0,a.useRef)(null);return(0,a.useImperativeHandle)(t,()=>{var e;return{refetch:null===(e=c.current)||void 0===e?void 0:e.refetch}}),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ep,{projectID:d,database:r,botID:n,workflowID:s,ref:c}),(0,o.jsx)("div",{className:"absolute top-[6px] right-0","data-testid":l.A.BotDatabaseDebugModalResetBtn,children:(0,o.jsx)(ei,{database:r,botID:n,workflowID:s,projectID:d,afterReset:()=>{var e,t;null===(t=c.current)||void 0===t||null===(e=t.refetch)||void 0===e||e.call(t)}})})]})}),ev=(0,a.forwardRef)((e,t)=>{var r,{botID:n,workflowID:s,databaseList:d,projectID:c,activeDatabaseID:u}=e,[p,h]=(0,a.useState)(null!=u?u:null==d?void 0:null===(r=d[0])||void 0===r?void 0:r.tableId);(0,a.useEffect)(()=>{void 0!==u&&h(u)},[u]);var m=(0,a.useRef)({});return(0,a.useImperativeHandle)(t,()=>({refetch:m.current[p]})),(0,o.jsx)("div",{className:O()({[eg["modal-content-tabs"]]:!0,"h-full":!0}),children:d.length?(0,o.jsx)(J.mQ,{type:"line",keepDOM:!1,renderTabBar:e=>{var{list:t,activeKey:r,onTabClick:n}=e;return(0,o.jsx)("div",{className:O()([eg["tab-bar-box"],"mr-[108px]"]),children:null==t?void 0:t.map((e,a)=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ef,{"data-dtestid":"".concat(l.A.BotDatabaseDebugModalTableNameTab,".").concat(e.tab),className:O()({[eg["tab-bar-item"]]:!0,[eg["tab-bar-item-active"]]:r===e.itemKey}),onClick:t=>{null==n||n(e.itemKey,t)},ellipsis:{showTooltip:!0},children:e.tab}),a===t.length-1?null:(0,o.jsx)(J.iz,{layout:"vertical"})]}))})},activeKey:p,onChange:h,children:d.map(e=>(0,o.jsx)(J.Jm,{tab:e.name,itemKey:e.tableId,children:(0,o.jsx)(eb,{projectID:c,info:e,botID:n,workflowID:s,ref:t=>{(null==t?void 0:t.refetch)&&(m.current[e.tableId]=t.refetch)}})}))}):null})}),ex=()=>{var e=(0,P.G)(e=>e.botId),{databaseList:t}=(0,L.Ee)((0,Q.N)(e=>({databaseList:e.databaseList})));return(0,o.jsx)(ev,{botID:e,databaseList:t})},ey=r("809183"),e_={};e_.styleTagTransform=N(),e_.setAttributes=_(),e_.insert=x().bind(null,"head"),e_.domAPI=b(),e_.insertStyleElement=j(),g()(ey.Z,e_);var ew=ey.Z&&ey.Z.locals?ey.Z.locals:void 0,ej=e=>{var{menuList:t,isStore:r=!1,onClickItem:n}=e,a=h({isStore:r}),s=e=>{a(e),n(e)};return(0,o.jsx)(d.H3,{className:ew["memory-debug-dropdown"],children:null==t?void 0:t.map(e=>(0,o.jsx)(d.K4,{"data-dtestid":"".concat(l.A.BotMemoryDebugDropdownItem,".").concat(e.name),icon:e.icon,onClick:()=>s(e.name),className:ew["memory-debug-dropdown-item"],children:e.label}))})};var ek=((n={}).Variable="variable",n.Database="database",n.LongTermMemory="longTermMemory",n.Filebox="filebox",n)},497082:function(e,t,r){"use strict";r.d(t,{W:function(){return d}});var n=r(151064),o=r(573242),a=r(879179),l=r(455069),s=(0,l.createContext)({isInProvider:!1}),d=e=>{var{children:t}=e,r=(0,l.useContext)(s);return(0,n.jsx)(s.Provider,{value:{isInProvider:!0},children:r.isInProvider?t:(0,n.jsx)(a.W,{backend:o.PD,context:window,children:t})})}},960394:function(e,t,r){"use strict";r.d(t,{a:function(){return l}});var n=r(221478),o=r(990828),a=r(455069),l=e=>{var{id:t,type:r,direction:l="verticle",enabled:s=!0,onMove:d}=e,c=(0,a.useRef)(),u=(0,a.useRef)(s);u.current=s;var[{isHovered:p},h]=(0,n.L)({accept:r,collect:e=>({isHovered:e.isOver()}),canDrop:()=>u.current,hover:(e,r)=>{if(!!c.current&&e.id!==t){var n,o=r.getClientOffset(),a=null===(n=c.current)||void 0===n?void 0:n.getBoundingClientRect(),s=!1;if("verticle"===l){if((null==o?void 0:o.y)===void 0)return;var u=(a.top+a.bottom)/2;s=(null==o?void 0:o.y)<u,d(e.id,t,s)}if("horizontal"===l){if((null==o?void 0:o.x)===void 0)return;var p=(a.left+a.right)/2;s=(null==o?void 0:o.x)<p,d(e.id,t,s)}}}}),[{isDragging:m},g,f]=(0,o.c)({type:r,item:()=>({id:t}),canDrag:()=>u.current,collect:e=>({isDragging:e.isDragging()})});return{isHovered:p,isDragging:m,connect:(0,a.useMemo)(()=>(e,t)=>{h(e),g(null!=t?t:e),f(e),c.current=e.current},[h,g])}}},33575:function(e,t,r){"use strict";r.d(t,{c:function(){return u}});var n=r(808549),o=r(120454),a=r(151064),l=r(497082),s=r(960394),d=e=>{var{id:t,type:r,data:l,itemRender:d,enabled:c,onMove:u,direction:p}=e,h=(0,s.a)({id:t,type:r,onMove:u,enabled:c,direction:p});return(0,a.jsx)(d,(0,o._)((0,n._)({},h),{data:l}))},c=e=>e.id,u=e=>{var{list:t,type:r,getId:n=c,onChange:o,enabled:s,itemRender:u,direction:p}=e;return(0,a.jsx)(l.W,{children:t.map(e=>{var l=n(e);return(0,a.jsx)(d,{type:r,id:l,data:e,itemRender:u,enabled:s,direction:p,onMove:(e,r,a)=>{var l=[...t],s=l.findIndex(t=>n(t)===e),d=l.splice(s,1)[0],c=l.findIndex(e=>n(e)===r)+(a?0:1);if(s!==c)d&&l.splice(c,0,d),o(l)}},l)})})}},841622:function(e,t,r){"use strict";var n=r(407821),o=r.n(n),a=r(472772),l=r.n(a),s=r(395245),d=r.n(s),c=r(297998),u=r.n(c),p=r(646576),h=r.n(p),m=r(606121),g=r.n(m),f=r(854385),b={};b.styleTagTransform=g(),b.setAttributes=u(),b.insert=d().bind(null,"head"),b.domAPI=l(),b.insertStyleElement=h(),o()(f.Z,b),t.Z=f.Z&&f.Z.locals?f.Z.locals:void 0},238005:function(e,t,r){"use strict";var n=r(407821),o=r.n(n),a=r(472772),l=r.n(a),s=r(395245),d=r.n(s),c=r(297998),u=r.n(c),p=r(646576),h=r.n(p),m=r(606121),g=r.n(m),f=r(587019),b={};b.styleTagTransform=g(),b.setAttributes=u(),b.insert=d().bind(null,"head"),b.domAPI=l(),b.insertStyleElement=h(),o()(f.Z,b),t.Z=f.Z&&f.Z.locals?f.Z.locals:void 0},124922:function(e,t,r){"use strict";var n=r(407821),o=r.n(n),a=r(472772),l=r.n(a),s=r(395245),d=r.n(s),c=r(297998),u=r.n(c),p=r(646576),h=r.n(p),m=r(606121),g=r.n(m),f=r(21524),b={};b.styleTagTransform=g(),b.setAttributes=u(),b.insert=d().bind(null,"head"),b.domAPI=l(),b.insertStyleElement=h(),o()(f.Z,b),t.Z=f.Z&&f.Z.locals?f.Z.locals:void 0},72792:function(e,t,r){"use strict";var n=r(407821),o=r.n(n),a=r(472772),l=r.n(a),s=r(395245),d=r.n(s),c=r(297998),u=r.n(c),p=r(646576),h=r.n(p),m=r(606121),g=r.n(m),f=r(569204),b={};b.styleTagTransform=g(),b.setAttributes=u(),b.insert=d().bind(null,"head"),b.domAPI=l(),b.insertStyleElement=h(),o()(f.Z,b),t.Z=f.Z&&f.Z.locals?f.Z.locals:void 0},105452:function(e,t,r){"use strict";var n=r(407821),o=r.n(n),a=r(472772),l=r.n(a),s=r(395245),d=r.n(s),c=r(297998),u=r.n(c),p=r(646576),h=r.n(p),m=r(606121),g=r.n(m),f=r(136965),b={};b.styleTagTransform=g(),b.setAttributes=u(),b.insert=d().bind(null,"head"),b.domAPI=l(),b.insertStyleElement=h(),o()(f.Z,b),t.Z=f.Z&&f.Z.locals?f.Z.locals:void 0},210208:function(e,t,r){"use strict";var n=r(407821),o=r.n(n),a=r(472772),l=r.n(a),s=r(395245),d=r.n(s),c=r(297998),u=r.n(c),p=r(646576),h=r.n(p),m=r(606121),g=r.n(m),f=r(716998),b={};b.styleTagTransform=g(),b.setAttributes=u(),b.insert=d().bind(null,"head"),b.domAPI=l(),b.insertStyleElement=h(),o()(f.Z,b),t.Z=f.Z&&f.Z.locals?f.Z.locals:void 0},151359:function(e,t,r){"use strict";var n=r(407821),o=r.n(n),a=r(472772),l=r.n(a),s=r(395245),d=r.n(s),c=r(297998),u=r.n(c),p=r(646576),h=r.n(p),m=r(606121),g=r.n(m),f=r(903687),b={};b.styleTagTransform=g(),b.setAttributes=u(),b.insert=d().bind(null,"head"),b.domAPI=l(),b.insertStyleElement=h(),o()(f.Z,b),t.Z=f.Z&&f.Z.locals?f.Z.locals:void 0},391757:function(e,t,r){"use strict";var n=r(407821),o=r.n(n),a=r(472772),l=r.n(a),s=r(395245),d=r.n(s),c=r(297998),u=r.n(c),p=r(646576),h=r.n(p),m=r(606121),g=r.n(m),f=r(264622),b={};b.styleTagTransform=g(),b.setAttributes=u(),b.insert=d().bind(null,"head"),b.domAPI=l(),b.insertStyleElement=h(),o()(f.Z,b),t.Z=f.Z&&f.Z.locals?f.Z.locals:void 0},928589:function(e,t,r){"use strict";var n=r(407821),o=r.n(n),a=r(472772),l=r.n(a),s=r(395245),d=r.n(s),c=r(297998),u=r.n(c),p=r(646576),h=r.n(p),m=r(606121),g=r.n(m),f=r(238205),b={};b.styleTagTransform=g(),b.setAttributes=u(),b.insert=d().bind(null,"head"),b.domAPI=l(),b.insertStyleElement=h(),o()(f.Z,b),t.Z=f.Z&&f.Z.locals?f.Z.locals:void 0},658665:function(e,t,r){"use strict";var n=r(407821),o=r.n(n),a=r(472772),l=r.n(a),s=r(395245),d=r.n(s),c=r(297998),u=r.n(c),p=r(646576),h=r.n(p),m=r(606121),g=r.n(m),f=r(112425),b={};b.styleTagTransform=g(),b.setAttributes=u(),b.insert=d().bind(null,"head"),b.domAPI=l(),b.insertStyleElement=h(),o()(f.Z,b),t.Z=f.Z&&f.Z.locals?f.Z.locals:void 0},606526:function(e,t,r){"use strict";var n=r(407821),o=r.n(n),a=r(472772),l=r.n(a),s=r(395245),d=r.n(s),c=r(297998),u=r.n(c),p=r(646576),h=r.n(p),m=r(606121),g=r.n(m),f=r(191552),b={};b.styleTagTransform=g(),b.setAttributes=u(),b.insert=d().bind(null,"head"),b.domAPI=l(),b.insertStyleElement=h(),o()(f.Z,b),t.Z=f.Z&&f.Z.locals?f.Z.locals:void 0},777432:function(e,t,r){"use strict";var n=r(407821),o=r.n(n),a=r(472772),l=r.n(a),s=r(395245),d=r.n(s),c=r(297998),u=r.n(c),p=r(646576),h=r.n(p),m=r(606121),g=r.n(m),f=r(694898),b={};b.styleTagTransform=g(),b.setAttributes=u(),b.insert=d().bind(null,"head"),b.domAPI=l(),b.insertStyleElement=h(),o()(f.Z,b),t.Z=f.Z&&f.Z.locals?f.Z.locals:void 0},125915:function(e,t,r){"use strict";var n=r(407821),o=r.n(n),a=r(472772),l=r.n(a),s=r(395245),d=r.n(s),c=r(297998),u=r.n(c),p=r(646576),h=r.n(p),m=r(606121),g=r.n(m),f=r(408582),b={};b.styleTagTransform=g(),b.setAttributes=u(),b.insert=d().bind(null,"head"),b.domAPI=l(),b.insertStyleElement=h(),o()(f.Z,b),t.Z=f.Z&&f.Z.locals?f.Z.locals:void 0},826256:function(e,t,r){"use strict";var n=r(407821),o=r.n(n),a=r(472772),l=r.n(a),s=r(395245),d=r.n(s),c=r(297998),u=r.n(c),p=r(646576),h=r.n(p),m=r(606121),g=r.n(m),f=r(53785),b={};b.styleTagTransform=g(),b.setAttributes=u(),b.insert=d().bind(null,"head"),b.domAPI=l(),b.insertStyleElement=h(),o()(f.Z,b),t.Z=f.Z&&f.Z.locals?f.Z.locals:void 0},175706:function(e,t,r){"use strict";var n=r(407821),o=r.n(n),a=r(472772),l=r.n(a),s=r(395245),d=r.n(s),c=r(297998),u=r.n(c),p=r(646576),h=r.n(p),m=r(606121),g=r.n(m),f=r(686203),b={};b.styleTagTransform=g(),b.setAttributes=u(),b.insert=d().bind(null,"head"),b.domAPI=l(),b.insertStyleElement=h(),o()(f.Z,b),t.Z=f.Z&&f.Z.locals?f.Z.locals:void 0},873688:function(e,t,r){"use strict";var n=r(407821),o=r.n(n),a=r(472772),l=r.n(a),s=r(395245),d=r.n(s),c=r(297998),u=r.n(c),p=r(646576),h=r.n(p),m=r(606121),g=r.n(m),f=r(116954),b={};b.styleTagTransform=g(),b.setAttributes=u(),b.insert=d().bind(null,"head"),b.domAPI=l(),b.insertStyleElement=h(),o()(f.Z,b),t.Z=f.Z&&f.Z.locals?f.Z.locals:void 0},955751:function(e,t,r){"use strict";var n=r(407821),o=r.n(n),a=r(472772),l=r.n(a),s=r(395245),d=r.n(s),c=r(297998),u=r.n(c),p=r(646576),h=r.n(p),m=r(606121),g=r.n(m),f=r(528857),b={};b.styleTagTransform=g(),b.setAttributes=u(),b.insert=d().bind(null,"head"),b.domAPI=l(),b.insertStyleElement=h(),o()(f.Z,b),t.Z=f.Z&&f.Z.locals?f.Z.locals:void 0},367275:function(e,t,r){"use strict";var n=r(407821),o=r.n(n),a=r(472772),l=r.n(a),s=r(395245),d=r.n(s),c=r(297998),u=r.n(c),p=r(646576),h=r.n(p),m=r(606121),g=r.n(m),f=r(898720),b={};b.styleTagTransform=g(),b.setAttributes=u(),b.insert=d().bind(null,"head"),b.domAPI=l(),b.insertStyleElement=h(),o()(f.Z,b),t.Z=f.Z&&f.Z.locals?f.Z.locals:void 0},116458:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC"},736351:function(e,t,r){"use strict";e.exports=r.p+"static/image/key-example.59a92fee.png"},40009:function(e,t,r){"use strict";e.exports=r.p+"static/image/key-example.59a92fee.png"},75991:function(e,t,r){"use strict";e.exports=r.p+"static/image/tips-template-cn.5f0790d9.png"},951003:function(e,t,r){"use strict";e.exports=r.p+"static/image/tips-template-en.07b81dd1.png"},269087:function(e,t,r){"use strict";r(151064),r(455069),t.Z="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIHZpZXdCb3g9IjAgMCAzMCAzMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04LjMzMzk4IDIuOTk5OTJDOC4zMzM5OCAxLjUyNzE2IDkuNTI3ODkgMC4zMzMyNTIgMTEuMDAwNyAwLjMzMzI1MkgyNy4wMDA2QzI4LjQ3MzQgMC4zMzMyNTIgMjkuNjY3MyAxLjUyNzE2IDI5LjY2NzMgMi45OTk5MlYxOC45OTk5QzI5LjY2NzMgMjAuNDcyNyAyOC40NzM0IDIxLjY2NjYgMjcuMDAwNiAyMS42NjY2SDIxLjY2NzNWMjYuOTk5OUMyMS42NjczIDI4LjQ3MjcgMjAuNDczNCAyOS42NjY2IDE5LjAwMDcgMjkuNjY2NkgzLjAwMDY1QzEuNTI3ODkgMjkuNjY2NiAwLjMzMzk4NCAyOC40NzI3IDAuMzMzOTg0IDI2Ljk5OTlWMTAuOTk5OUMwLjMzMzk4NCA5LjUyNzE2IDEuNTI3ODkgOC4zMzMyNSAzLjAwMDY1IDguMzMzMjVIOC4zMzM5OFYyLjk5OTkyWk04LjMzMzk4IDEwLjk5OTlIMy4wMDA2NVYyNi45OTk5SDE5LjAwMDdWMjEuNjY2NkgxMS4wMDA3QzkuNTI3ODkgMjEuNjY2NiA4LjMzMzk4IDIwLjQ3MjcgOC4zMzM5OCAxOC45OTk5VjEwLjk5OTlaTTE5LjAwMDcgMTguOTk5OUgxMS4wMDA3VjEwLjk5OTlIMTkuMDAwN1YxOC45OTk5Wk0yMS42NjczIDE4Ljk5OTlWMTAuOTk5OUMyMS42NjczIDkuNTI3MTYgMjAuNDczNCA4LjMzMzI1IDE5LjAwMDcgOC4zMzMyNUgxMS4wMDA3VjIuOTk5OTJIMjcuMDAwNlYxOC45OTk5SDIxLjY2NzNaIiBmaWxsPSIjMUQxQzIzIiBmaWxsLW9wYWNpdHk9IjAuMzUiLz4KPC9zdmc+Cg=="},858098:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,".error-message-fMtTqH{text-align:left;color:#ff441e}.error-message-fMtTqH .link-mHYoWx{color:#4d53e8}",""]),l.locals={"error-message":"error-message-fMtTqH",errorMessage:"error-message-fMtTqH",link:"link-mHYoWx"},t.Z=l},486687:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,".text-WvxO4k{font-size:8px;line-height:18px}.shadow-yADn7s{text-shadow:0 .5px 1px rgba(0,0,0,.2)}",""]),l.locals={text:"text-WvxO4k",shadow:"shadow-yADn7s"},t.Z=l},50797:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,".cropper-container-ds1NHQ{border-top-left-radius:6px;border-top-right-radius:6px;width:100%;position:relative}.cropper-container-ds1NHQ .cropper-wrap-box{border-top-left-radius:6px;border-top-right-radius:6px}.cropper-container-ds1NHQ .cropper-view-box{border-top-left-radius:6px;border-top-right-radius:6px;outline:none}.cropper-container-ds1NHQ .cropper-container{transition:opacity .3s cubic-bezier(.34,.69,.1,1)}",""]),l.locals={"cropper-container":"cropper-container-ds1NHQ",cropperContainer:"cropper-container-ds1NHQ"},t.Z=l},878233:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,".icon-I_T_AH svg{color:#4e40e5;width:24px;height:24px}",""]),l.locals={icon:"icon-I_T_AH"},t.Z=l},664281:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,".icon-cHa57O svg{width:15px}",""]),l.locals={icon:"icon-cHa57O"},t.Z=l},110178:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,".background-config-modal-zcVKSI .semi-modal-content{background:var(--coz-bg-primary,#f4f4f6);padding:0}.background-config-modal-zcVKSI .semi-modal-content .semi-modal-header{padding:0 24px}.background-config-modal-zcVKSI .semi-modal-content .semi-modal-body{padding:0}.background-config-modal-zcVKSI .semi-modal-content .semi-modal-footer{margin-top:0}@media screen and (max-height:840px){.background-config-modal-zcVKSI .semi-modal-content{max-height:calc(100vh - 80px)}}.error-message-wGTO7o{text-align:left;background-color:rgba(var(--coze-bg-3),var(--coze-bg-3-alpha));color:#ff441e;margin-bottom:24px}.error-message-wGTO7o .link-IERHru{color:#4d53e8}",""]),l.locals={"background-config-modal":"background-config-modal-zcVKSI",backgroundConfigModal:"background-config-modal-zcVKSI","error-message":"error-message-wGTO7o",errorMessage:"error-message-wGTO7o",link:"link-IERHru"},t.Z=l},367689:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,'.multiline-text-GVNO_v{word-break:break-word;white-space:pre-wrap}.multiline-container-uIOXgz{flex:1;grid-template-columns:100px 36px 100px;display:grid;overflow:hidden}.editor-container-YQ76sR{border:1px solid var(--Stroke-COZ-stroke-primary,rgba(6,7,9,.1));border-radius:8px;min-height:400px;margin-top:20px;overflow:hidden}.editor-header-rVNsYI{border-bottom:1px solid var(--Stroke-COZ-stroke-primary,rgba(6,7,9,.1));width:100%;display:flex}.editor-title-TtUkQu{color:var(--Fg-COZ-fg-primary,rgba(6,7,9,.8));flex:1;padding:12px;font-size:14px;font-weight:500;overflow:hidden}.editor-divider-sAapKP{width:1px;height:46px;color:var(--Stroke-COZ-stroke-primary,rgba(6,7,9,.1))}.editor-cj3RsF{background-color:transparent;min-height:400px;max-height:600px}.editor-cj3RsF .monaco-editor-background{background-color:#f9f9f9!important}.editor-cj3RsF .monaco-editor .vertical{box-shadow:0 0 0 0 var(--guide-color)inset!important}.editor-cj3RsF .margin{background-color:#f9f9f9!important}.editor-cj3RsF .monaco-diff-editor.side-by-side .editor.modified{border-left:1px solid var(--Stroke-COZ-stroke-primary,rgba(6,7,9,.1));box-shadow:none!important}.editor-cj3RsF .mtk1{color:var(--Fg-COZ-fg-dim,rgba(6,7,9,.6))}.editor-cj3RsF .margin-view-overlays .line-numbers{color:var(--Fg-COZ-fg-dim,rgba(6,7,9,.3));width:24px!important}.editor-cj3RsF .monaco-editor .diagonal-fill{background-size:8px 8px;background-image:linear-gradient(-45deg,rgba(34,34,34,.1) 12.5%,transparent 12.5%,transparent 50%,rgba(34,34,34,.1) 50%,rgba(34,34,34,.1) 62.5%,transparent 62.5%,transparent 100%)!important}.editor-cj3RsF .margin-view-overlays:after{pointer-events:none;background:var(--Stroke-COZ-stroke-primary,rgba(6,7,9,.1));width:1px;position:absolute;top:0;bottom:0;right:3px;content:" "!important}.editor-cj3RsF .line-numbers.active-line-number{color:var(--Fg-COZ-fg-primary,rgba(6,7,9,.8))!important}.editor-cj3RsF .monaco-editor .delete-sign{color:var(--Fg-COZ-fg-dim,rgba(6,7,9,.3))!important;font-size:8px!important;font-weight:900!important;left:29px!important}.editor-cj3RsF .monaco-editor .insert-sign{color:var(--Fg-COZ-fg-dim,rgba(6,7,9,.3))!important;font-size:8px!important;font-weight:900!important;left:29px!important}.editor-cj3RsF .monaco-editor .view-overlays .current-line{border:0!important}.editor-cj3RsF .monaco-scrollable-element>.scrollbar>.slider{background:var(--Fg-COZ-fg-dim,rgba(6,7,9,.3));border-radius:3px;width:8px!important}.editor-cj3RsF .decorationsOverviewRuler{display:none!important}.editor-cj3RsF .modified .slider{left:6px!important}.editor-cj3RsF .modified .presentation{width:12px!important;right:-4px!important}.editor-cj3RsF .original .slider{left:6px!important}.editor-cj3RsF .original .presentation{width:12px!important;left:3px!important}.editor-cj3RsF .gutter-insert{background-color:var(--vscode-diffEditor-insertedLineBackground,var(--vscode-diffEditor-insertedTextBackground))!important}.editor-cj3RsF .gutter-delete{background-color:var(--vscode-diffEditor-removedLineBackground,var(--vscode-diffEditor-removedTextBackground))!important}',""]),l.locals={"multiline-text":"multiline-text-GVNO_v",multilineText:"multiline-text-GVNO_v","multiline-container":"multiline-container-uIOXgz",multilineContainer:"multiline-container-uIOXgz","editor-container":"editor-container-YQ76sR",editorContainer:"editor-container-YQ76sR","editor-header":"editor-header-rVNsYI",editorHeader:"editor-header-rVNsYI","editor-title":"editor-title-TtUkQu",editorTitle:"editor-title-TtUkQu","editor-divider":"editor-divider-sAapKP",editorDivider:"editor-divider-sAapKP",editor:"editor-cj3RsF"},t.Z=l},675940:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,".list-utyqSJ{padding:.75rem 0 .75rem .75rem}.list-utyqSJ .semi-list-item-body-header{flex:1;width:0;overflow:hidden}",""]),l.locals={list:"list-utyqSJ"},t.Z=l},632032:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,".debug-tool-list-Nkc31r{justify-content:flex-end;align-items:center;width:100%;display:flex}",""]),l.locals={"debug-tool-list":"debug-tool-list-Nkc31r",debugToolList:"debug-tool-list-Nkc31r"},t.Z=l},392376:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,".wrapper-hoBQrT{background:#f7f7fa;flex-direction:column;height:100%;display:flex;overflow:hidden}.text-EcnEvb{font-size:12px;font-style:normal;font-weight:400;line-height:16px}.container-oSQhHb{flex-direction:row;flex:1;width:100%;height:calc(100% - 80px);display:flex}.spin-vLPCmB{z-index:100;background-color:rgba(255,255,255,.5);width:100%;height:100%;position:absolute;top:0;left:0}.develop-area-Caf5If{flex-direction:column;display:flex;overflow:hidden}.develop-area-scroll-MUn7H8{flex:1;overflow:auto}.setting-area-iMv_a_{border-left:1px solid rgba(28,29,35,.12);flex-direction:column;flex:1;display:flex;overflow:hidden}.setting-area-iMv_a_ .setting-title-block-tfbRz9{justify-content:flex-end;width:100%;margin:12px 0;display:flex}.setting-area-iMv_a_ .setting-area-scroll-ePGM8y{flex:1;overflow:auto}.setting-area-iMv_a_ .semi-collapse-item{border-bottom:none}.setting-area-iMv_a_ .semi-collapse-header{margin-left:0;margin-right:0}.setting-area-iMv_a_ .semi-collapse-content{padding-left:0;padding-right:0}.setting-area-iMv_a_ .semi-select{width:100%}.setting-area-iMv_a_ .semi-collapsible-wrapper{padding-left:16px}.message-area-Wg5g2l{flex-direction:column;justify-content:space-between;width:100%;min-width:404px;height:100%;transition:min-width .2s;display:flex;position:relative;overflow:hidden}.playground-neat-itWkIR .message-area-Wg5g2l{min-width:258px}.title-gMf7gA{margin:8px 0 0 4px!important}.sheet-title-node-cover-J5xig0{flex:1;justify-content:space-between;align-items:center;display:flex}.bj-cover-gTiduB{background-color:#fff;box-shadow:0 2px 4px rgba(0,0,0,.04),0 0 1px rgba(0,0,0,.08)}.border-cover-Xex5oo{border-bottom:none}.spin-wrapper-Ytly7Y.top-level-jPEu87{width:100%;height:100%!important}.spin-wrapper-Ytly7Y.top-level-jPEu87 .semi-spin-children{background:#f7f7fa;flex-direction:column;height:100%;display:flex;overflow:hidden}.sheet-view-left-header-QP0V2I{padding:16px 28px!important}.icon-button-16-ExZLxT{cursor:pointer}.icon-button-16-ExZLxT:hover{border-radius:4px}.icon-button-16-ExZLxT .semi-button.semi-button-size-small{height:16px;padding:1px!important}.icon-button-16-ExZLxT .semi-button.semi-button-size-small svg{color:rgba(var(--coze-fg-2),var(--coze-fg-2-alpha))}.tip-text-BNfLXu{color:var(--light-usage-text-color-text-2,rgba(28,29,35,.6));font-size:14px;font-style:normal;font-weight:400;line-height:22px}",""]),l.locals={wrapper:"wrapper-hoBQrT",text:"text-EcnEvb",container:"container-oSQhHb",spin:"spin-vLPCmB","develop-area":"develop-area-Caf5If",developArea:"develop-area-Caf5If","develop-area-scroll":"develop-area-scroll-MUn7H8",developAreaScroll:"develop-area-scroll-MUn7H8","setting-area":"setting-area-iMv_a_",settingArea:"setting-area-iMv_a_","setting-title-block":"setting-title-block-tfbRz9",settingTitleBlock:"setting-title-block-tfbRz9","setting-area-scroll":"setting-area-scroll-ePGM8y",settingAreaScroll:"setting-area-scroll-ePGM8y","message-area":"message-area-Wg5g2l",messageArea:"message-area-Wg5g2l","playground-neat":"playground-neat-itWkIR",playgroundNeat:"playground-neat-itWkIR",title:"title-gMf7gA","sheet-title-node-cover":"sheet-title-node-cover-J5xig0",sheetTitleNodeCover:"sheet-title-node-cover-J5xig0","bj-cover":"bj-cover-gTiduB",bjCover:"bj-cover-gTiduB","border-cover":"border-cover-Xex5oo",borderCover:"border-cover-Xex5oo","spin-wrapper":"spin-wrapper-Ytly7Y",spinWrapper:"spin-wrapper-Ytly7Y","top-level":"top-level-jPEu87",topLevel:"top-level-jPEu87","sheet-view-left-header":"sheet-view-left-header-QP0V2I",sheetViewLeftHeader:"sheet-view-left-header-QP0V2I","icon-button-16":"icon-button-16-ExZLxT",iconButton16:"icon-button-16-ExZLxT","tip-text":"tip-text-BNfLXu",tipText:"tip-text-BNfLXu"},t.Z=l},387428:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,".add-wE3DGi{min-width:96px}",""]),l.locals={add:"add-wE3DGi"},t.Z=l},434414:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,".error-container-_IyY_2 .error-link-Pq2VWp .error-link-underline-EVkAXO{color:var(--semi-color-danger);max-width:200px;margin-left:2px;font-size:14px;text-decoration:underline}.error-container-_IyY_2 .error-link-Pq2VWp .error-link-underline-EVkAXO a{color:var(--semi-color-danger)}",""]),l.locals={"error-container":"error-container-_IyY_2",errorContainer:"error-container-_IyY_2","error-link":"error-link-Pq2VWp",errorLink:"error-link-Pq2VWp","error-link-underline":"error-link-underline-EVkAXO",errorLinkUnderline:"error-link-underline-EVkAXO"},t.Z=l},293758:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,".disable-field-jMLuez{padding:12px 0 24px}.disable-field-jMLuez .title-s26PF2{margin-bottom:8px;font-size:14px;font-weight:600}.input-XYeEI3.input-XYeEI3{padding-top:4px}.input-XYeEI3 .semi-input-suffix{cursor:pointer;padding:8px}.link-button-tWRlPA.link-button-tWRlPA.link-button-tWRlPA{background-color:transparent}",""]),l.locals={"disable-field":"disable-field-jMLuez",disableField:"disable-field-jMLuez",title:"title-s26PF2",input:"input-XYeEI3","link-button":"link-button-tWRlPA",linkButton:"link-button-tWRlPA"},t.Z=l},205136:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,".step-order-La7ARW{background:var(--light-color-brand-brand-5,#4d53e8);width:16px;height:16px;color:var(--light-color-white-white,#fff);border-radius:50%;justify-content:center;align-items:center;margin-top:2px;font-size:10px;font-weight:600;display:flex}.step-title-vWRtVL{color:#000;margin-bottom:8px;font-size:14px;font-weight:600;line-height:22px}.markdown-qLZ0zo{color:var(--light-usage-text-color-text-0,#1d1c23);font-size:14px;line-height:22px}",""]),l.locals={"step-order":"step-order-La7ARW",stepOrder:"step-order-La7ARW","step-title":"step-title-vWRtVL",stepTitle:"step-title-vWRtVL",markdown:"markdown-qLZ0zo"},t.Z=l},783915:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,".start-text-pXfZ2p{color:var(--light-usage-text-color-text-0,#1d1c23);font-size:14px;line-height:22px}.config-link-HEiJGW{color:var(--light-color-brand-brand-5,#4d53e8);font-size:12px;line-height:16px}.markdown-PFR8kZ{color:var(--light-usage-text-color-text-0,#1d1c23);font-size:14px;line-height:22px}.guide-XLqN5c{margin-bottom:32px}",""]),l.locals={"start-text":"start-text-pXfZ2p",startText:"start-text-pXfZ2p","config-link":"config-link-HEiJGW",configLink:"config-link-HEiJGW",markdown:"markdown-PFR8kZ",guide:"guide-XLqN5c"},t.Z=l},642801:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,".step-order-kS8rzB{background:var(--light-color-brand-brand-5,#4d53e8);width:16px;height:16px;color:var(--light-color-white-white,#fff);border-radius:50%;justify-content:center;align-items:center;margin-top:2px;font-size:10px;font-weight:600;display:flex}.step-title-fbaFcC{color:#000;margin-bottom:8px;font-size:14px;font-weight:600;line-height:22px}.markdown-ihOOii{color:var(--light-usage-text-color-text-0,#1d1c23);font-size:14px;line-height:22px}.link-area-yqpTLT .link-list-hCIt6h{margin-top:16px}.link-area-yqpTLT .link-list-hCIt6h .title-HQq6si{color:var(--light-usage-text-color-text-0,#1d1c23);font-size:14px;font-weight:600;line-height:22px}.link-area-yqpTLT .link-list-hCIt6h .link-zMA1OB{word-break:break-word}.link-area-yqpTLT .link-list-hCIt6h .semi-form-field-error-message-ig2k1h{position:absolute}",""]),l.locals={"step-order":"step-order-kS8rzB",stepOrder:"step-order-kS8rzB","step-title":"step-title-fbaFcC",stepTitle:"step-title-fbaFcC",markdown:"markdown-ihOOii","link-area":"link-area-yqpTLT",linkArea:"link-area-yqpTLT","link-list":"link-list-hCIt6h",linkList:"link-list-hCIt6h",title:"title-HQq6si",link:"link-zMA1OB","semi-form-field-error-message":"semi-form-field-error-message-ig2k1h",semiFormFieldErrorMessage:"semi-form-field-error-message-ig2k1h"},t.Z=l},193969:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,"",""]),l.locals={},t.Z=l},852718:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,".container-vvBzPc{z-index:101;background-color:#fff;flex-shrink:0;justify-content:flex-end;width:400px;height:100%;display:flex}.container-vvBzPc .debug-panel-lazy-loading-mv6FhJ{justify-content:center;align-items:center;width:100%;height:100%;display:flex}",""]),l.locals={container:"container-vvBzPc","debug-panel-lazy-loading":"debug-panel-lazy-loading-mv6FhJ",debugPanelLazyLoading:"debug-panel-lazy-loading-mv6FhJ"},t.Z=l},854385:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,".info-title-hM03fu{margin-bottom:8px;font-size:16px;font-weight:600}.info-subtitle-xJLDxa{margin-top:12px;margin-bottom:8px;font-size:14px;font-weight:500}.container-LF_kv1{width:100%;height:100%}.diff-table-tF4K3Z{margin-bottom:24px}.diff-table-tF4K3Z .semi-table-row-head{border-bottom:1px solid var(--semi-color-border);font-size:12px;background-color:rgba(46,46,56,.04)!important;padding:4px 8px!important}.diff-table-tF4K3Z .semi-table-row-cell{font-size:12px;padding:10px 8px!important}.cell-span-H_nQzL{word-break:break-word;font-weight:400;font-size:12px!important}.property-tooltip-ji9W4V{word-break:break-word}.empty-container-YLcORh{flex-direction:column;justify-content:center;align-items:center;height:100%;min-height:200px;display:flex}.empty-info-q193R7{margin-top:4px}.list-BE2Xcy{border-radius:8px;border:1px solid var(--Stroke-COZ-stroke-plus,rgba(6,7,9,.15))!important;background-color:#fff!important}.list-BE2Xcy .semi-list-item{border-bottom:1px solid var(--Stroke-COZ-stroke-plus,rgba(6,7,9,.15))!important}.list-BE2Xcy .semi-list-item:last-child{border-bottom:none!important}.list-item-vLj8Sw{grid-template-columns:280px 120px 1fr;align-items:center;display:grid}.tag-1-aqUUN6{color:#3ec254;background-color:#d2f3d5}.tag-2-CdvW0P,.tag-4-MC5w82{color:#ff441e;background-color:#ffe0d2}.tag-3-KTmcm_{color:#ff9600;background-color:#fff1cc}.property-title-Tuf6E1{color:var(--Fg-COZ-fg-primary,rgba(6,7,9,.8));font-size:12px;font-weight:500}.info-block-s33QB0:not(:first-child){margin-top:24px}.mask-U3tgbz{pointer-events:none;background:linear-gradient(to top,rgba(var(--coze-bg-2),1)0,rgba(var(--coze-bg-2),0)100%);width:100%;height:32px;position:absolute;bottom:80px}",""]),l.locals={"info-title":"info-title-hM03fu",infoTitle:"info-title-hM03fu","info-subtitle":"info-subtitle-xJLDxa",infoSubtitle:"info-subtitle-xJLDxa",container:"container-LF_kv1","diff-table":"diff-table-tF4K3Z",diffTable:"diff-table-tF4K3Z","cell-span":"cell-span-H_nQzL",cellSpan:"cell-span-H_nQzL","property-tooltip":"property-tooltip-ji9W4V",propertyTooltip:"property-tooltip-ji9W4V","empty-container":"empty-container-YLcORh",emptyContainer:"empty-container-YLcORh","empty-info":"empty-info-q193R7",emptyInfo:"empty-info-q193R7",list:"list-BE2Xcy","list-item":"list-item-vLj8Sw",listItem:"list-item-vLj8Sw","tag-1":"tag-1-aqUUN6",tag1:"tag-1-aqUUN6","tag-2":"tag-2-CdvW0P",tag2:"tag-2-CdvW0P","tag-4":"tag-4-MC5w82",tag4:"tag-4-MC5w82","tag-3":"tag-3-KTmcm_",tag3:"tag-3-KTmcm_","property-title":"property-title-Tuf6E1",propertyTitle:"property-title-Tuf6E1","info-block":"info-block-s33QB0",infoBlock:"info-block-s33QB0",mask:"mask-U3tgbz"},t.Z=l},912221:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,".container-LGo43y,.container-LGo43y span{width:100%}.container-LGo43y .ellipse-ZWYQ6H>textarea{cursor:pointer;text-overflow:ellipsis;-webkit-line-clamp:inherit;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}.container-LGo43y .auto-size-LPBUoO{background-color:var(--semi-color-white)}.container-LGo43y .auto-size-LPBUoO>textarea{overflow-y:var(--chatflow-custom-textarea-overflow-y,hidden);max-height:var(--chatflow-custom-textarea-focused-max-height,unset);color:var(--semi-color-text-0,#383743);border-radius:8px}",""]),l.locals={container:"container-LGo43y",ellipse:"ellipse-ZWYQ6H","auto-size":"auto-size-LPBUoO",autoSize:"auto-size-LPBUoO"},t.Z=l},576182:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,".wrapper-multi-adJM04{position:relative}.wrapper-multi-adJM04 .semi-sidesheet.semi-sidesheet-popup{z-index:100}.wrapper-single-BQ0i4v{flex:1;grid-template-columns:26fr 14fr;display:grid}",""]),l.locals={"wrapper-multi":"wrapper-multi-adJM04",wrapperMulti:"wrapper-multi-adJM04","wrapper-single":"wrapper-single-BQ0i4v",wrapperSingle:"wrapper-single-BQ0i4v"},t.Z=l},824714:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,".wrapper-IyqOHp{background:#f7f7fa;flex-direction:column;height:100%;display:flex;overflow:hidden}.text-aoWPYd{font-size:12px;font-style:normal;font-weight:400;line-height:16px}.container-BDpIfq{flex-direction:row;flex:1;width:100%;height:calc(100% - 80px);display:flex}.spin-hxDlLU{z-index:100;background-color:rgba(255,255,255,.5);width:100%;height:100%;position:absolute;top:0;left:0}.develop-area-h55LQQ{flex-direction:column;display:flex;overflow:hidden}.develop-area-scroll-lisUEB{flex:1;overflow:auto}.setting-area-vwBw0s{border-left:1px solid rgba(28,29,35,.12);flex-direction:column;flex:1;display:flex;overflow:hidden}.setting-area-vwBw0s .setting-title-block-dumkFK{justify-content:flex-end;width:100%;margin:12px 0;display:flex}.setting-area-vwBw0s .setting-area-scroll-Q7B6s0{flex:1;overflow:auto}.setting-area-vwBw0s .semi-collapse-item{border-bottom:none}.setting-area-vwBw0s .semi-collapse-header{margin-left:0;margin-right:0}.setting-area-vwBw0s .semi-collapse-content{padding-left:0;padding-right:0}.setting-area-vwBw0s .semi-select{width:100%}.setting-area-vwBw0s .semi-collapsible-wrapper{padding-left:16px}.message-area-DmeWrT{flex-direction:column;justify-content:space-between;width:100%;min-width:404px;height:100%;transition:min-width .2s;display:flex;position:relative;overflow:hidden}.playground-neat-G5WbwU .message-area-DmeWrT{min-width:258px}.title-LN87Lj{margin:8px 0 0 4px!important}.sheet-title-node-cover-E7HVfS{flex:1;justify-content:space-between;align-items:center;display:flex}.bj-cover-YDIHqZ{background-color:#fff;box-shadow:0 2px 4px rgba(0,0,0,.04),0 0 1px rgba(0,0,0,.08)}.border-cover-_BkfJK{border-bottom:none}.spin-wrapper-eEoY6D.top-level-brLorh{width:100%;height:100%!important}.spin-wrapper-eEoY6D.top-level-brLorh .semi-spin-children{background:#f7f7fa;flex-direction:column;height:100%;display:flex;overflow:hidden}.sheet-view-left-header-VHYR9Y{padding:16px 28px!important}.icon-button-16-Pc15e8{cursor:pointer}.icon-button-16-Pc15e8:hover{border-radius:4px}.icon-button-16-Pc15e8 .semi-button.semi-button-size-small{height:16px;padding:1px!important}.icon-button-16-Pc15e8 .semi-button.semi-button-size-small svg{color:rgba(var(--coze-fg-2),var(--coze-fg-2-alpha))}.tip-text-XmR7EU{color:var(--light-usage-text-color-text-2,rgba(28,29,35,.6));font-size:14px;font-style:normal;font-weight:400;line-height:22px}.memory-content-a4VFSm{-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important}.memory-list-Ga4Jk6{flex-wrap:wrap;align-items:center;display:flex}.memory-list-Ga4Jk6 .semi-tag-grey-light{cursor:pointer;color:var(--light-color-grey-grey-5,#6b6b75);background:var(--light-usage-fill-color-fill-1,rgba(46,46,56,.08));border-radius:6px;margin:0 10px 12px 0;font-size:12px;font-weight:500;line-height:16px}.memory-list-Ga4Jk6 .semi-tag-grey-light:hover{background:var(--light-usage-fill-color-fill-2,rgba(46,46,56,.12))}.template-footer-IViE2y{justify-content:flex-end;align-items:center;display:flex}.template-footer-IViE2y .template-cancel-button-Himl2i{background-color:#fff;min-width:98px}.template-footer-IViE2y .template-cancel-button-Himl2i:hover{background-color:rgba(46,46,56,.08)!important}.template-footer-IViE2y .template-cancel-button-Himl2i>span{color:var(--light-usage-text-color-text-0,#1c1d23);font-size:14px;font-weight:600;line-height:22px}.template-demo-i7Zq7p .desc-c6EKiY{color:#000;font-size:12px;line-height:16px}.template-demo-i7Zq7p .image-U1hftR{background:#fff;border:1px solid #ededee;border-radius:10px;width:100%;margin:16px 0 8px}.template-demo-i7Zq7p .image-U1hftR .image-template-jFqXzW{width:100%;display:block}.template-demo-i7Zq7p .image-U1hftR .image-template-jFqXzW>img{width:100%}.template-demo-i7Zq7p .tip-PG0Yjw{color:var(--light-usage-text-color-text-2,rgba(29,28,35,.6));margin-bottom:8px;font-size:10px;line-height:16px}.template-variable-list-W9hJ5y{border-radius:8px;width:100%;display:block}.template-variable-list-W9hJ5y>img{width:100%}.use-template-pop-confirm-beWsoX .semi-button.semi-button-with-icon-only.semi-button-size-small{display:none}.tip-content-fgjZGj{width:560px;color:var(--light-color-grey-grey-8,#2e3238);flex-direction:column;justify-content:center;align-items:center;padding:12px;font-size:12px;font-style:normal;font-weight:400;line-height:18px;display:flex}.tip-content-fgjZGj .tip-top-ozvwwG{background:var(--light-color-grey-grey-0,#f9f9f9);border-radius:8px;padding:12px 8px}.tip-content-fgjZGj .tip-bottom-vPTqe5{justify-content:center;align-items:center;margin-top:4px;display:flex}.default-text-kPflJn{color:var(--light-usage-text-color-text-2,rgba(28,29,35,.6));font-size:14px;font-style:normal;font-weight:400;line-height:22px}.view-examples-F0UfAn{color:var(--light-color-brand-brand-5,#4d53e8);align-items:center;margin-bottom:12px;font-size:14px;line-height:22px;display:flex}.view-examples-F0UfAn .view-examples-text-y7g9d0,.view-examples-F0UfAn .view-examples-icon-cs4QGv{cursor:pointer}.memory-add-modal-vqD04J{background-color:#f7f7fa}.memory-add-modal-vqD04J .semi-modal-body{flex-direction:column;display:flex;padding-bottom:0!important}.memory-add-modal-vqD04J .semi-modal-content{background-color:#f7f7fa;height:calc(100vh - 140px)}.memory-add-modal-vqD04J .semi-modal-footer{margin-top:12px}.memory-add-modal-vqD04J .add-button-row-fix-LI3jyL{text-align:left;margin-bottom:38px;padding:0 16px 12px 32px}.memory-add-modal-vqD04J .add-button-row-fix-LI3jyL .add-button-sWzHHn{width:217px;padding:0 48px;margin:0!important}.memory-add-modal-vqD04J .modal-add-container-rp3KbD{flex-direction:column;flex:1;display:flex}.memory-add-modal-vqD04J .modal-add-container-rp3KbD .memory-add-empty-Ke5asR{margin-top:-8.5%}.memory-add-modal-vqD04J .modal-add-container-rp3KbD .memory-add-empty-Ke5asR .semi-empty-content{margin-top:16px}.memory-add-modal-vqD04J .modal-add-container-rp3KbD .memory-add-empty-Ke5asR .semi-empty-title{color:var(--light-usage-text-color-text-0,#1d1c23);font-size:16px;font-weight:600;line-height:22px}.memory-add-modal-vqD04J .modal-add-container-rp3KbD.center-F5KnAB{justify-content:center}.memory-add-modal-vqD04J .modal-add-container-rp3KbD .use-template-ULbLNE{flex-shrink:0;justify-content:flex-end;margin-bottom:16px;padding-top:8px;display:flex}.memory-add-modal-vqD04J .modal-add-container-rp3KbD .memory-edit-table-bqQCaO{width:100%;color:var(--light-usage-text-color-text-2,rgba(28,31,35,.6));flex-direction:column;flex:1;font-size:12px;font-weight:400;line-height:16px;display:flex}.memory-add-modal-vqD04J .modal-add-container-rp3KbD .memory-edit-table-bqQCaO thead{flex-shrink:0}.memory-add-modal-vqD04J .modal-add-container-rp3KbD .memory-edit-table-bqQCaO thead tr{border-bottom:1px solid var(--light-usage-border-color-border-1,rgba(29,28,35,.12));height:28px;padding:6px 16px 6px 0}.memory-add-modal-vqD04J .modal-add-container-rp3KbD .memory-edit-table-bqQCaO thead th{color:var(--Fg-COZ-fg-secondary,rgba(27,41,73,.62));font-size:12px;font-style:normal;font-weight:600;line-height:16px}.memory-add-modal-vqD04J .modal-add-container-rp3KbD .memory-edit-table-bqQCaO thead th:not(:-webkit-any(:lang(ae),:lang(ar),:lang(arc),:lang(bcc),:lang(bqi),:lang(ckb),:lang(dv),:lang(fa),:lang(glk),:lang(he),:lang(ku),:lang(mzn),:lang(nqo),:lang(pnb),:lang(ps),:lang(sd),:lang(ug),:lang(ur),:lang(yi))){text-align:left}.memory-add-modal-vqD04J .modal-add-container-rp3KbD .memory-edit-table-bqQCaO thead th:not(:-moz-any(:lang(ae),:lang(ar),:lang(arc),:lang(bcc),:lang(bqi),:lang(ckb),:lang(dv),:lang(fa),:lang(glk),:lang(he),:lang(ku),:lang(mzn),:lang(nqo),:lang(pnb),:lang(ps),:lang(sd),:lang(ug),:lang(ur),:lang(yi))){text-align:left}.memory-add-modal-vqD04J .modal-add-container-rp3KbD .memory-edit-table-bqQCaO thead th:not(:is(:lang(ae),:lang(ar),:lang(arc),:lang(bcc),:lang(bqi),:lang(ckb),:lang(dv),:lang(fa),:lang(glk),:lang(he),:lang(ku),:lang(mzn),:lang(nqo),:lang(pnb),:lang(ps),:lang(sd),:lang(ug),:lang(ur),:lang(yi))){text-align:left}.memory-add-modal-vqD04J .modal-add-container-rp3KbD .memory-edit-table-bqQCaO thead th:-webkit-any(:lang(ae),:lang(ar),:lang(arc),:lang(bcc),:lang(bqi),:lang(ckb),:lang(dv),:lang(fa),:lang(glk),:lang(he),:lang(ku),:lang(mzn),:lang(nqo),:lang(pnb),:lang(ps),:lang(sd),:lang(ug),:lang(ur),:lang(yi)){text-align:right}.memory-add-modal-vqD04J .modal-add-container-rp3KbD .memory-edit-table-bqQCaO thead th:-moz-any(:lang(ae),:lang(ar),:lang(arc),:lang(bcc),:lang(bqi),:lang(ckb),:lang(dv),:lang(fa),:lang(glk),:lang(he),:lang(ku),:lang(mzn),:lang(nqo),:lang(pnb),:lang(ps),:lang(sd),:lang(ug),:lang(ur),:lang(yi)){text-align:right}.memory-add-modal-vqD04J .modal-add-container-rp3KbD .memory-edit-table-bqQCaO thead th:is(:lang(ae),:lang(ar),:lang(arc),:lang(bcc),:lang(bqi),:lang(ckb),:lang(dv),:lang(fa),:lang(glk),:lang(he),:lang(ku),:lang(mzn),:lang(nqo),:lang(pnb),:lang(ps),:lang(sd),:lang(ug),:lang(ur),:lang(yi)){text-align:right}.memory-add-modal-vqD04J .modal-add-container-rp3KbD .memory-edit-table-bqQCaO thead th:last-child{padding:0}.memory-add-modal-vqD04J .modal-add-container-rp3KbD .memory-edit-table-bqQCaO .memory-row-nD4hqN{border-radius:8px;align-items:flex-start;padding:12px 16px 12px 0;transition:background .3s linear;position:relative}.memory-add-modal-vqD04J .modal-add-container-rp3KbD .memory-edit-table-bqQCaO .memory-row-nD4hqN.active-row-eIAbWi{background:var(--light-color-brand-brand-1,#d9dcfa)}.memory-add-modal-vqD04J .modal-add-container-rp3KbD .memory-edit-table-bqQCaO .memory-row-nD4hqN td{padding:0}.memory-add-modal-vqD04J .modal-add-container-rp3KbD .memory-edit-table-bqQCaO .add-button-row-jCRFzn{text-align:left;margin:12px 0;padding:0 22px}.memory-add-modal-vqD04J .modal-add-container-rp3KbD .memory-edit-table-bqQCaO .add-button-row-jCRFzn .add-button-sWzHHn{width:217px;padding:0 48px;margin:0!important}.memory-add-modal-vqD04J .modal-add-container-rp3KbD .memory-key-err-rDSdkC{color:var(--light-color-red-red-5,#f93920);position:relative}.memory-add-modal-vqD04J .modal-add-container-rp3KbD .memory-key-err-rDSdkC .key-error-tip-c4zeit{width:100%;position:absolute;bottom:-20px;left:0}.memory-add-modal-vqD04J .modal-add-container-rp3KbD .memory-key-err-rDSdkC .semi-input-wrapper{border:1px solid var(--light-color-red-red-5,#f93920)}.memory-add-modal-vqD04J .modal-add-container-rp3KbD .memory-key-readonly-aC9vkq{color:var(--light-color-grey-grey-8,#2e3238);font-size:12px;font-weight:400;line-height:20px}.memory-add-modal-vqD04J .modal-add-container-rp3KbD .memory-description-readonly-h6pF7d{color:var(--light-color-grey-grey-8,#2e3238);font-size:14px;font-weight:400;line-height:20px}.memory-add-modal-vqD04J .modal-add-container-rp3KbD .readonly-none-B7yTo6{cursor:not-allowed;width:100%;color:var(--semi-color-disabled-text);background:var(--light-color-grey-grey-1,#edeff2);border:1px solid var(--semi-color-border);border-radius:8px;padding:6px;font-size:12px;font-style:normal;font-weight:400;line-height:16px}.memory-add-modal-vqD04J .modal-add-container-rp3KbD .memory-description-readonly-h6pF7d,.memory-add-modal-vqD04J .modal-add-container-rp3KbD .memory-key-readonly-aC9vkq{width:100%;height:32px;color:var(--light-usage-text-color-text-1,rgba(28,29,35,.8));background:var(--light-color-grey-grey-1,#edeff2);border-radius:8px;padding:6px;font-size:14px;font-style:normal;font-weight:400;line-height:20px}.memory-add-modal-vqD04J .modal-add-container-rp3KbD .memory-method-NpGWgL{text-align:center;justify-content:flex-start;align-items:center;height:32px;display:flex}.memory-add-modal-vqD04J .modal-add-container-rp3KbD .memory-method-NpGWgL .semi-space{height:32px}.memory-add-modal-vqD04J .modal-add-container-rp3KbD .memory-method-checkbox-w3L9Re{justify-content:center;align-items:center;width:24px;height:24px;display:flex}.sys_item_box-rVW6sd{min-height:32px;color:var(--Light-usage-text---color-text-0,#1d1c23);padding-left:12px;font-size:14px;font-weight:400;line-height:32px}.sys_item_group-wRJV8O{color:var(--Light-usage-text---color-text-0,#1d1c23);align-items:center;font-size:14px;font-weight:600;line-height:20px;display:flex}.sys_item_group-wRJV8O.disabled-K8zFam{color:var(--Light-usage-text---color-text-3,rgba(29,28,35,.35))}.group-collapsible-VkHj21{width:100%;color:var(--Light-usage-text---color-text-0,#1d1c23);padding:12px 16px;font-size:14px;font-weight:600;display:flex}.group-collapsible-key-xc95zC{cursor:pointer;align-items:center;display:flex}.group-collapsible-value-lDBPxA div{padding-left:16px}.group-collapsible-desc-VUfGVV div{padding-left:8px}",""]),l.locals={wrapper:"wrapper-IyqOHp",text:"text-aoWPYd",container:"container-BDpIfq",spin:"spin-hxDlLU","develop-area":"develop-area-h55LQQ",developArea:"develop-area-h55LQQ","develop-area-scroll":"develop-area-scroll-lisUEB",developAreaScroll:"develop-area-scroll-lisUEB","setting-area":"setting-area-vwBw0s",settingArea:"setting-area-vwBw0s","setting-title-block":"setting-title-block-dumkFK",settingTitleBlock:"setting-title-block-dumkFK","setting-area-scroll":"setting-area-scroll-Q7B6s0",settingAreaScroll:"setting-area-scroll-Q7B6s0","message-area":"message-area-DmeWrT",messageArea:"message-area-DmeWrT","playground-neat":"playground-neat-G5WbwU",playgroundNeat:"playground-neat-G5WbwU",title:"title-LN87Lj","sheet-title-node-cover":"sheet-title-node-cover-E7HVfS",sheetTitleNodeCover:"sheet-title-node-cover-E7HVfS","bj-cover":"bj-cover-YDIHqZ",bjCover:"bj-cover-YDIHqZ","border-cover":"border-cover-_BkfJK",borderCover:"border-cover-_BkfJK","spin-wrapper":"spin-wrapper-eEoY6D",spinWrapper:"spin-wrapper-eEoY6D","top-level":"top-level-brLorh",topLevel:"top-level-brLorh","sheet-view-left-header":"sheet-view-left-header-VHYR9Y",sheetViewLeftHeader:"sheet-view-left-header-VHYR9Y","icon-button-16":"icon-button-16-Pc15e8",iconButton16:"icon-button-16-Pc15e8","tip-text":"tip-text-XmR7EU",tipText:"tip-text-XmR7EU","memory-content":"memory-content-a4VFSm",memoryContent:"memory-content-a4VFSm","memory-list":"memory-list-Ga4Jk6",memoryList:"memory-list-Ga4Jk6","template-footer":"template-footer-IViE2y",templateFooter:"template-footer-IViE2y","template-cancel-button":"template-cancel-button-Himl2i",templateCancelButton:"template-cancel-button-Himl2i","template-demo":"template-demo-i7Zq7p",templateDemo:"template-demo-i7Zq7p",desc:"desc-c6EKiY",image:"image-U1hftR","image-template":"image-template-jFqXzW",imageTemplate:"image-template-jFqXzW",tip:"tip-PG0Yjw","template-variable-list":"template-variable-list-W9hJ5y",templateVariableList:"template-variable-list-W9hJ5y","use-template-pop-confirm":"use-template-pop-confirm-beWsoX",useTemplatePopConfirm:"use-template-pop-confirm-beWsoX","tip-content":"tip-content-fgjZGj",tipContent:"tip-content-fgjZGj","tip-top":"tip-top-ozvwwG",tipTop:"tip-top-ozvwwG","tip-bottom":"tip-bottom-vPTqe5",tipBottom:"tip-bottom-vPTqe5","default-text":"default-text-kPflJn",defaultText:"default-text-kPflJn","view-examples":"view-examples-F0UfAn",viewExamples:"view-examples-F0UfAn","view-examples-text":"view-examples-text-y7g9d0",viewExamplesText:"view-examples-text-y7g9d0","view-examples-icon":"view-examples-icon-cs4QGv",viewExamplesIcon:"view-examples-icon-cs4QGv","memory-add-modal":"memory-add-modal-vqD04J",memoryAddModal:"memory-add-modal-vqD04J","add-button-row-fix":"add-button-row-fix-LI3jyL",addButtonRowFix:"add-button-row-fix-LI3jyL","add-button":"add-button-sWzHHn",addButton:"add-button-sWzHHn","modal-add-container":"modal-add-container-rp3KbD",modalAddContainer:"modal-add-container-rp3KbD","memory-add-empty":"memory-add-empty-Ke5asR",memoryAddEmpty:"memory-add-empty-Ke5asR",center:"center-F5KnAB","use-template":"use-template-ULbLNE",useTemplate:"use-template-ULbLNE","memory-edit-table":"memory-edit-table-bqQCaO",memoryEditTable:"memory-edit-table-bqQCaO","memory-row":"memory-row-nD4hqN",memoryRow:"memory-row-nD4hqN","active-row":"active-row-eIAbWi",activeRow:"active-row-eIAbWi","add-button-row":"add-button-row-jCRFzn",addButtonRow:"add-button-row-jCRFzn","memory-key-err":"memory-key-err-rDSdkC",memoryKeyErr:"memory-key-err-rDSdkC","key-error-tip":"key-error-tip-c4zeit",keyErrorTip:"key-error-tip-c4zeit","memory-key-readonly":"memory-key-readonly-aC9vkq",memoryKeyReadonly:"memory-key-readonly-aC9vkq","memory-description-readonly":"memory-description-readonly-h6pF7d",memoryDescriptionReadonly:"memory-description-readonly-h6pF7d","readonly-none":"readonly-none-B7yTo6",readonlyNone:"readonly-none-B7yTo6","memory-method":"memory-method-NpGWgL",memoryMethod:"memory-method-NpGWgL","memory-method-checkbox":"memory-method-checkbox-w3L9Re",memoryMethodCheckbox:"memory-method-checkbox-w3L9Re",sys_item_box:"sys_item_box-rVW6sd",sysItemBox:"sys_item_box-rVW6sd",sys_item_group:"sys_item_group-wRJV8O",sysItemGroup:"sys_item_group-wRJV8O",disabled:"disabled-K8zFam","group-collapsible":"group-collapsible-VkHj21",groupCollapsible:"group-collapsible-VkHj21","group-collapsible-key":"group-collapsible-key-xc95zC",groupCollapsibleKey:"group-collapsible-key-xc95zC","group-collapsible-value":"group-collapsible-value-lDBPxA",groupCollapsibleValue:"group-collapsible-value-lDBPxA","group-collapsible-desc":"group-collapsible-desc-VUfGVV",groupCollapsibleDesc:"group-collapsible-desc-VUfGVV"},t.Z=l},587019:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,".input-slider-Bge5Hv{align-items:flex-start;display:flex}.input-slider-Bge5Hv .semi-slider{padding:0}.input-slider-Bge5Hv .slider-LzRR4w{width:174px;height:52px}.input-slider-Bge5Hv .slider-LzRR4w .semi-slider-marks{color:var(--light-usage-text-color-text-2,rgba(28,31,35,.6));font-size:12px;top:32px}.input-slider-Bge5Hv .slider-LzRR4w .semi-slider-mark{transform:unset}.input-slider-Bge5Hv .slider-LzRR4w .semi-slider-mark:last-child{left:unset;width:-moz-fit-content;white-space:nowrap;width:fit-content;right:0;transform:translate(-100%)}.input-slider-Bge5Hv .slider-LzRR4w .semi-slider-dot.semi-slider-dot-active{background-color:transparent}.input-slider-Bge5Hv .input-number-c6DlEh{flex:1}.input-slider-Bge5Hv .input-number-c6DlEh .semi-input-wrapper{border:1px solid var(--light-usage-border-color-border,rgba(28,31,35,.08));background-color:#fff}.input-slider-Bge5Hv .input-number-c6DlEh .semi-input-wrapper:focus-within{border-color:var(--semi-color-focus-border)}.input-slider-Bge5Hv .input-number-c6DlEh input{text-align:center}.input-slider-Bge5Hv .input-btn-U6RmXK{cursor:pointer;color:rgba(28,29,35,.8);z-index:1;padding:10px 8px;font-size:12px;position:absolute;top:0}.input-slider-Bge5Hv .input-btn-U6RmXK:first-child{left:0}.input-slider-Bge5Hv .input-btn-U6RmXK:last-child{right:0}.input-slider-Bge5Hv .input-btn-disabled-j5wsN8{cursor:not-allowed}",""]),l.locals={"input-slider":"input-slider-Bge5Hv",inputSlider:"input-slider-Bge5Hv",slider:"slider-LzRR4w","input-number":"input-number-c6DlEh",inputNumber:"input-number-c6DlEh","input-btn":"input-btn-U6RmXK",inputBtn:"input-btn-U6RmXK","input-btn-disabled":"input-btn-disabled-j5wsN8",inputBtnDisabled:"input-btn-disabled-j5wsN8"},t.Z=l},217389:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,".font-normal-nuDs5K{color:rgba(var(--coze-fg-3),var(--coze-fg-3-alpha));font-size:12px;font-style:normal;font-weight:400;line-height:16px}.mode-change-title-space-hcl_9E{margin-left:4px!important;padding:2px 8px!important}.mode-change-title-space-hcl_9E .mode-change-title-SWcpOl{color:rgba(var(--coze-fg-3),var(--coze-fg-3-alpha));font-size:12px;font-style:normal;font-weight:400;line-height:16px}.mode-change-title-space-hcl_9E .mode-change-icon-RFtLWC{color:rgba(var(--coze-fg-3),var(--coze-fg-3-alpha));margin-left:4px}.mode-change-title-space-hcl_9E .mode-change-icon-RFtLWC svg{width:10px;height:10px}.mode-change-title-space-hcl_9E:active{background:var(--light-usage-fill-color-fill-1,rgba(46,46,56,.08))}.mode-change-title-space-hcl_9E:focus{background:var(--light-usage-fill-color-fill-2,rgba(46,46,56,.12))}.mode-change-popover-_ulQuS{border:1px solid var(--light-usage-border-color-border,rgba(28,31,35,.08));background:#f7f7fa;border-radius:12px;width:455px;box-shadow:0 4px 14px rgba(0,0,0,.1),0 0 1px rgba(0,0,0,.3)}.mode-change-popover-_ulQuS .mode-change-popover-content-ASSB7k{padding:16px}.mode-change-popover-_ulQuS .mode-change-popover-content-ASSB7k .semi-radio{border:1px solid var(--light-usage-border-color-border,rgba(29,28,35,.08))}.mode-change-popover-_ulQuS .mode-change-popover-content-ASSB7k .semi-radio-cardRadioGroup_checked{border:1px solid var(--light-color-brand-brand-5,#4d53e8)}.mode-change-disabled-yRGG7Y{align-items:center;margin-left:4px;padding:2px 8px;display:flex}.mode-change-disabled-yRGG7Y .icon-kwUiKQ{width:16px;height:16px;margin-right:4px}.mode-change-disabled-yRGG7Y .label-_FLv_I{color:rgba(var(--coze-fg-3),var(--coze-fg-3-alpha));font-size:12px;font-style:normal;font-weight:400;line-height:16px}",""]),l.locals={"font-normal":"font-normal-nuDs5K",fontNormal:"font-normal-nuDs5K","mode-change-title-space":"mode-change-title-space-hcl_9E",modeChangeTitleSpace:"mode-change-title-space-hcl_9E","mode-change-title":"mode-change-title-SWcpOl",modeChangeTitle:"mode-change-title-SWcpOl","mode-change-icon":"mode-change-icon-RFtLWC",modeChangeIcon:"mode-change-icon-RFtLWC","mode-change-popover":"mode-change-popover-_ulQuS",modeChangePopover:"mode-change-popover-_ulQuS","mode-change-popover-content":"mode-change-popover-content-ASSB7k",modeChangePopoverContent:"mode-change-popover-content-ASSB7k","mode-change-disabled":"mode-change-disabled-yRGG7Y",modeChangeDisabled:"mode-change-disabled-yRGG7Y",icon:"icon-kwUiKQ",label:"label-_FLv_I"},t.Z=l},403805:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,".coz-nav-modal.coz-modal.as-modal .semi-modal-content{padding:0}.coz-nav-modal .semi-modal-body{height:var(--nav-modal-body-height);display:flex}.coz-nav-modal .semi-modal-footer{display:none}",""]),t.Z=l},21524:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,".text-PgZ3j2{color:var(--light-usage-text-color-text-1,rgba(28,29,35,.8));margin-bottom:8px;font-size:12px;font-weight:600;line-height:16px}.onboarding-message-blur-AJWlyh textarea{text-overflow:ellipsis;-webkit-line-clamp:4;-webkit-box-orient:vertical;max-height:98px;display:-webkit-box}.onboarding-message-title-cBZN9T{color:var(--light-usage-text-color-text-1,rgba(28,29,35,.8));align-items:center;margin-bottom:8px;font-size:12px;font-weight:600;line-height:16px;display:flex;position:relative}.onboarding-message-title-cBZN9T.mt-20-Tf1YLD{margin-top:20px}.suggestion-message-item-oHRx98{align-items:center;width:100%;margin-bottom:8px;display:flex;position:relative}.suggestion-message-item-oHRx98 .apis-no-icon-XbBuN8{color:rgba(var(--coze-purple-5),1);position:absolute;right:16px}.suggestion-message-item-oHRx98 .semi-input-textarea-wrapper{padding-right:48px}.add-button-row-W7HbVo{justify-content:flex-end;margin-top:20px;display:flex}.add-icon-bRNWt0{display:flex}.add-icon-bRNWt0>img{width:14px;height:14px}.msg-replace-icon-faLzxq:hover{background-color:var(--semi-color-fill-0)}.text-readonly-Wderv4{color:var(--light-color-grey-grey-8,#2e3238);white-space:pre-wrap;font-size:14px;font-weight:400;line-height:20px}.text-readonly-Wderv4.mb-8-ImIi5K{margin-bottom:8px}.text-none-TcOwr6{color:var(--light-color-grey-grey-3,#a7abb0);font-size:14px;font-weight:400;line-height:20px}@keyframes suggestion-highlight-t_8awZ{0%{background-color:#fff8ea}to{background-color:#f4f4f5}}.suggestion-item-highlight-plbPuZ{animation:.8s infinite alternate suggestion-highlight-t_8awZ}.markdown-editor-btn-saYNM2{margin-right:8px;padding:0}.markdown-editor-btn-saYNM2 .markdown-editor-btn-text-u968Wp{color:rgba(var(--coze-fg-2),var(--coze-fg-2-alpha));font-weight:400}.editor-expend-modal-NpEEW3 .semi-modal-header .semi-button-with-icon-only{width:32px;height:32px}",""]),l.locals={text:"text-PgZ3j2","onboarding-message-blur":"onboarding-message-blur-AJWlyh",onboardingMessageBlur:"onboarding-message-blur-AJWlyh","onboarding-message-title":"onboarding-message-title-cBZN9T",onboardingMessageTitle:"onboarding-message-title-cBZN9T","mt-20":"mt-20-Tf1YLD",mt20:"mt-20-Tf1YLD","suggestion-message-item":"suggestion-message-item-oHRx98",suggestionMessageItem:"suggestion-message-item-oHRx98","apis-no-icon":"apis-no-icon-XbBuN8",apisNoIcon:"apis-no-icon-XbBuN8","add-button-row":"add-button-row-W7HbVo",addButtonRow:"add-button-row-W7HbVo","add-icon":"add-icon-bRNWt0",addIcon:"add-icon-bRNWt0","msg-replace-icon":"msg-replace-icon-faLzxq",msgReplaceIcon:"msg-replace-icon-faLzxq","text-readonly":"text-readonly-Wderv4",textReadonly:"text-readonly-Wderv4","mb-8":"mb-8-ImIi5K",mb8:"mb-8-ImIi5K","text-none":"text-none-TcOwr6",textNone:"text-none-TcOwr6","suggestion-item-highlight":"suggestion-item-highlight-plbPuZ",suggestionItemHighlight:"suggestion-item-highlight-plbPuZ","suggestion-highlight":"suggestion-highlight-t_8awZ",suggestionHighlight:"suggestion-highlight-t_8awZ","markdown-editor-btn":"markdown-editor-btn-saYNM2",markdownEditorBtn:"markdown-editor-btn-saYNM2","markdown-editor-btn-text":"markdown-editor-btn-text-u968Wp",markdownEditorBtnText:"markdown-editor-btn-text-u968Wp","editor-expend-modal":"editor-expend-modal-NpEEW3",editorExpendModal:"editor-expend-modal-NpEEW3"},t.Z=l},943972:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,".plugin_permission_list_table-njNW5O .semi-table-row{cursor:default!important;background-color:transparent!important}.plugin_permission_list_table-njNW5O .semi-table-row-head{cursor:default!important;background-color:transparent!important}.plugin_permission_list_table-njNW5O .semi-table-row-head{height:20px!important;color:var(--coz-fg-secondary)!important;font-size:12px!important;line-height:20px!important}.plugin_permission_list_table-njNW5O .semi-table.semi-table-fixed{height:20px!important;color:var(--coz-fg-secondary)!important;font-size:12px!important;line-height:20px!important}.plugin_permission_list_table-njNW5O .semi-table-row-cell{height:56px!important}.plugin_permission_list_table-njNW5O .semi-table-body{padding-top:0!important}",""]),l.locals={plugin_permission_list_table:"plugin_permission_list_table-njNW5O",pluginPermissionListTable:"plugin_permission_list_table-njNW5O"},t.Z=l},435614:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,".connector-tip-GmfpXN h3{color:var(--coz-fg-plus,rgba(6,7,9,.96));margin:0;font-size:14px;font-weight:600}.connector-tip-GmfpXN h4{color:var(--coz-fg-secondary,rgba(6,7,9,.5));margin:4px 0 12px;font-size:12px;font-weight:400;line-height:16px}.connector-tip-GmfpXN h4 a{color:var(--coz-fg-hglt,#4e40e5);text-decoration:none}.connector-tip-GmfpXN p:not(:first-child){text-align:center;margin:0;line-height:0}.connector-tip-GmfpXN p:not(:first-child) img{border-radius:14px;max-width:150px;height:200px}",""]),l.locals={"connector-tip":"connector-tip-GmfpXN",connectorTip:"connector-tip-GmfpXN"},t.Z=l},597763:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,".publish-platform-frame-OWpgjT .semi-table-header .semi-table.semi-table-fixed{height:21px!important}.publish-platform-frame-OWpgjT .coz-table-list .semi-table-container>.semi-table-body{padding-top:0!important}.publish-platform-frame-OWpgjT .semi-table-row-head{background-color:transparent!important;height:20px!important;padding:0 6px!important;font-size:12px!important;font-weight:400!important;line-height:20px!important}.publish-platform-frame-OWpgjT .semi-table-tbody>.semi-table-row>.semi-table-row-cell{height:56px!important;padding:0 8px!important}.publish-platform-frame-OWpgjT .semi-table-row{background-color:transparent!important}",""]),l.locals={"publish-platform-frame":"publish-platform-frame-OWpgjT",publishPlatformFrame:"publish-platform-frame-OWpgjT"},t.Z=l},569204:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,".rc-slider-wrapper-hSKRVu .rc-slider{padding:13px 0}.rc-slider-wrapper-hSKRVu .rc-slider-track{background-color:#4d53e8;height:4px}.rc-slider-wrapper-hSKRVu .rc-slider-tracks{background-color:#4d53e8;height:4px}.rc-slider-wrapper-hSKRVu .rc-slider-handle{opacity:1;border:none;width:24px;height:24px;margin-top:-11px}.rc-slider-wrapper-hSKRVu .rc-slider-handle{box-shadow:0 4px 6px rgba(0,0,0,.1)}.rc-slider-wrapper-hSKRVu .rc-slider-handle:focus{box-shadow:0 4px 6px rgba(0,0,0,.1)}.rc-slider-wrapper-hSKRVu .rc-slider-handle:focus-visible{box-shadow:0 4px 6px rgba(0,0,0,.1)}.rc-slider-wrapper-hSKRVu .rc-slider-handle:active{box-shadow:0 4px 6px rgba(0,0,0,.1)}.rc-slider-wrapper-hSKRVu .rc-slider .rc-slider-handle-dragging.rc-slider-handle-dragging.rc-slider-handle-dragging{box-shadow:0 4px 6px rgba(0,0,0,.1)}",""]),l.locals={"rc-slider-wrapper":"rc-slider-wrapper-hSKRVu",rcSliderWrapper:"rc-slider-wrapper-hSKRVu"},t.Z=l},372939:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,".sheet-container-Atj0tB{transition:width .1s linear;position:relative}.sheet-container-Atj0tB .semi-sidesheet-body{padding:0}.button-mhiGYA{cursor:pointer;z-index:100;position:absolute;top:18px}.btn-left-_bbvpw{left:0}.btn-right-irr1Wd{right:0}.sheet-wrapper-W1BdT5 .semi-sidesheet-body{padding:0}.sheet-content-bWlF2F{background-color:var(--light-color-grey-grey-0,#f7f7fa);flex-direction:column;width:100%;height:100%;display:flex;position:relative;overflow:hidden;box-shadow:0 6px 8px rgba(29,28,35,.06),0 0 2px rgba(29,28,35,.18)}.sheet-header-PVaJRD{border-bottom:1px solid var(--light-usage-border-color-border,rgba(29,28,35,.08));z-index:10;align-items:center;height:56px;padding:16px 24px;display:flex}.sheet-header-arrow-GGImZd{cursor:pointer;border:.5px solid var(--Light-usage-border---color-border,rgba(29,28,35,.08));background:var(--Light-usage-bg---color-bg-0,#fff);border-radius:4px;flex-shrink:0;justify-content:center;align-items:center;width:20px;height:20px;margin-right:8px;display:flex;transform:rotate(180deg);box-shadow:0 2px 4px rgba(0,0,0,.04),0 0 1px rgba(0,0,0,.08)}.sheet-header-arrow-left-gQEJ58{margin-left:8px;margin-right:0;transform:rotate(0)}.sheet-header-arrow-right-c7hH8E{box-shadow:0 -2px 4px rgba(0,0,0,.04),0 0 1px rgba(0,0,0,.08)}.sheet-header-content-fDlqrP{flex:1;align-items:center;display:flex}.sheet-header-title-_fAznV{color:var(--light-usage-text-color-text-0,#1c1d23);flex-shrink:0;margin-right:24px;font-size:18px;font-weight:600;line-height:24px}.sheet-header-scope-xRAvcM{flex:1;justify-content:flex-end;align-items:center;width:0;height:64px;display:flex}",""]),l.locals={"sheet-container":"sheet-container-Atj0tB",sheetContainer:"sheet-container-Atj0tB",button:"button-mhiGYA","btn-left":"btn-left-_bbvpw",btnLeft:"btn-left-_bbvpw","btn-right":"btn-right-irr1Wd",btnRight:"btn-right-irr1Wd","sheet-wrapper":"sheet-wrapper-W1BdT5",sheetWrapper:"sheet-wrapper-W1BdT5","sheet-content":"sheet-content-bWlF2F",sheetContent:"sheet-content-bWlF2F","sheet-header":"sheet-header-PVaJRD",sheetHeader:"sheet-header-PVaJRD","sheet-header-arrow":"sheet-header-arrow-GGImZd",sheetHeaderArrow:"sheet-header-arrow-GGImZd","sheet-header-arrow-left":"sheet-header-arrow-left-gQEJ58",sheetHeaderArrowLeft:"sheet-header-arrow-left-gQEJ58","sheet-header-arrow-right":"sheet-header-arrow-right-c7hH8E",sheetHeaderArrowRight:"sheet-header-arrow-right-c7hH8E","sheet-header-content":"sheet-header-content-fDlqrP",sheetHeaderContent:"sheet-header-content-fDlqrP","sheet-header-title":"sheet-header-title-_fAznV",sheetHeaderTitle:"sheet-header-title-_fAznV","sheet-header-scope":"sheet-header-scope-xRAvcM",sheetHeaderScope:"sheet-header-scope-xRAvcM"},t.Z=l},890132:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,".card-HizSVR{background-color:var(--light-color-grey-grey-0,#f7f7fa);flex-direction:column;height:100%;display:flex;position:relative;overflow:hidden}.sheet-header-eMPSsT{border-bottom:1px solid rgba(var(--coze-stroke-5),var(--coze-stroke-5-alpha));align-items:center;height:64px;padding:16px;display:flex}.sheet-header-title-lUbssD{flex-shrink:0;margin-right:24px;font-size:20px;font-weight:500;line-height:24px}.sheet-header-scope-Y4sexK{flex:1;justify-content:flex-end;align-items:center;width:0;height:64px;display:flex}",""]),l.locals={card:"card-HizSVR","sheet-header":"sheet-header-eMPSsT",sheetHeader:"sheet-header-eMPSsT","sheet-header-title":"sheet-header-title-lUbssD",sheetHeaderTitle:"sheet-header-title-lUbssD","sheet-header-scope":"sheet-header-scope-Y4sexK",sheetHeaderScope:"sheet-header-scope-Y4sexK"},t.Z=l},597049:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,".wrapper-k7Q0g8{background:#f7f7fa;flex-direction:column;height:100%;display:flex;overflow:hidden}.text-qhzUki{font-size:12px;font-style:normal;font-weight:400;line-height:16px}.container-4SZRik{flex-direction:row;flex:1;width:100%;height:calc(100% - 80px);display:flex}.spin-zrJDJk{z-index:100;background-color:rgba(255,255,255,.5);width:100%;height:100%;position:absolute;top:0;left:0}.develop-area-dpotd8{flex-direction:column;display:flex;overflow:hidden}.develop-area-scroll-u5D0eA{flex:1;overflow:auto}.setting-area-iTN2Zh{border-left:1px solid rgba(28,29,35,.12);flex-direction:column;flex:1;display:flex;overflow:hidden}.setting-area-iTN2Zh .setting-title-block-xReyvj{justify-content:flex-end;width:100%;margin:12px 0;display:flex}.setting-area-iTN2Zh .setting-area-scroll-T2kwGu{flex:1;overflow:auto}.setting-area-iTN2Zh .semi-collapse-item{border-bottom:none}.setting-area-iTN2Zh .semi-collapse-header{margin-left:0;margin-right:0}.setting-area-iTN2Zh .semi-collapse-content{padding-left:0;padding-right:0}.setting-area-iTN2Zh .semi-select{width:100%}.setting-area-iTN2Zh .semi-collapsible-wrapper{padding-left:16px}.message-area-S0HWeO{flex-direction:column;justify-content:space-between;width:100%;min-width:404px;height:100%;transition:min-width .2s;display:flex;position:relative;overflow:hidden}.playground-neat-g725IB .message-area-S0HWeO{min-width:258px}.title-j3iQN6{margin:8px 0 0 4px!important}.sheet-title-node-cover-dirymk{flex:1;justify-content:space-between;align-items:center;display:flex}.bj-cover-q_NUkq{background-color:#fff;box-shadow:0 2px 4px rgba(0,0,0,.04),0 0 1px rgba(0,0,0,.08)}.border-cover-QtTdPg{border-bottom:none}.spin-wrapper-jevNEm.top-level-DLuhzI{width:100%;height:100%!important}.spin-wrapper-jevNEm.top-level-DLuhzI .semi-spin-children{background:#f7f7fa;flex-direction:column;height:100%;display:flex;overflow:hidden}.sheet-view-left-header-Tt60pu{padding:16px 28px!important}.icon-button-16-TEB4VS{cursor:pointer}.icon-button-16-TEB4VS:hover{border-radius:4px}.icon-button-16-TEB4VS .semi-button.semi-button-size-small{height:16px;padding:1px!important}.icon-button-16-TEB4VS .semi-button.semi-button-size-small svg{color:rgba(var(--coze-fg-2),var(--coze-fg-2-alpha))}.tip-text-Xakf_H{color:var(--light-usage-text-color-text-2,rgba(28,29,35,.6));font-size:14px;font-style:normal;font-weight:400;line-height:22px}.suggestion-content-EoinvS .description-M3UKHI{color:var(--light-usage-text-color-text-2,rgba(28,29,35,.6));margin-bottom:12px;font-size:14px;font-style:normal;font-weight:400;line-height:22px}.suggestion-content-EoinvS .prompt-text-th5uf_{color:var(--Light-usage-text---color-text-0,#1d1c23);font-size:14px;font-style:normal;font-weight:400;line-height:20px}.suggestion-content-EoinvS .custom-prompt-checkbox-p69Zlt .semi-checkbox-addon{color:var(--Light-usage-text---color-text-2,rgba(28,29,35,.6));font-size:14px;font-style:normal;font-weight:400;line-height:22px}.suggestion-content-EoinvS .prompt-input-fkM4CR{margin-top:12px}",""]),l.locals={wrapper:"wrapper-k7Q0g8",text:"text-qhzUki",container:"container-4SZRik",spin:"spin-zrJDJk","develop-area":"develop-area-dpotd8",developArea:"develop-area-dpotd8","develop-area-scroll":"develop-area-scroll-u5D0eA",developAreaScroll:"develop-area-scroll-u5D0eA","setting-area":"setting-area-iTN2Zh",settingArea:"setting-area-iTN2Zh","setting-title-block":"setting-title-block-xReyvj",settingTitleBlock:"setting-title-block-xReyvj","setting-area-scroll":"setting-area-scroll-T2kwGu",settingAreaScroll:"setting-area-scroll-T2kwGu","message-area":"message-area-S0HWeO",messageArea:"message-area-S0HWeO","playground-neat":"playground-neat-g725IB",playgroundNeat:"playground-neat-g725IB",title:"title-j3iQN6","sheet-title-node-cover":"sheet-title-node-cover-dirymk",sheetTitleNodeCover:"sheet-title-node-cover-dirymk","bj-cover":"bj-cover-q_NUkq",bjCover:"bj-cover-q_NUkq","border-cover":"border-cover-QtTdPg",borderCover:"border-cover-QtTdPg","spin-wrapper":"spin-wrapper-jevNEm",spinWrapper:"spin-wrapper-jevNEm","top-level":"top-level-DLuhzI",topLevel:"top-level-DLuhzI","sheet-view-left-header":"sheet-view-left-header-Tt60pu",sheetViewLeftHeader:"sheet-view-left-header-Tt60pu","icon-button-16":"icon-button-16-TEB4VS",iconButton16:"icon-button-16-TEB4VS","tip-text":"tip-text-Xakf_H",tipText:"tip-text-Xakf_H","suggestion-content":"suggestion-content-EoinvS",suggestionContent:"suggestion-content-EoinvS",description:"description-M3UKHI","prompt-text":"prompt-text-th5uf_",promptText:"prompt-text-th5uf_","custom-prompt-checkbox":"custom-prompt-checkbox-p69Zlt",customPromptCheckbox:"custom-prompt-checkbox-p69Zlt","prompt-input":"prompt-input-fkM4CR",promptInput:"prompt-input-fkM4CR"},t.Z=l},863409:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,".database-list-CYqvaW{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.default-text-B1rnSq{color:rgba(28,29,35,.6);font-size:14px;font-weight:400;line-height:22px}",""]),l.locals={"database-list":"database-list-CYqvaW",databaseList:"database-list-CYqvaW","default-text":"default-text-B1rnSq",defaultText:"default-text-B1rnSq"},t.Z=l},248042:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,".action-buttons-y7ygwq{align-items:center;gap:8px;display:flex}.tip-content-ldnrz_{flex-direction:column;padding:12px;font-size:14px;font-style:normal;font-weight:400;line-height:18px;display:flex}",""]),l.locals={"action-buttons":"action-buttons-y7ygwq",actionButtons:"action-buttons-y7ygwq","tip-content":"tip-content-ldnrz_",tipContent:"tip-content-ldnrz_"},t.Z=l},136965:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,".progress-wrap-aG7E1c{background:var(--coz-mg-card);border:1px solid var(--coz-stroke-primary);border-radius:var(--default,8px);align-self:stretch;align-items:center;gap:10px;padding:8px 10px;display:flex;overflow:hidden}.progress-wrap-aG7E1c .content-oMctjI{z-index:1}.progress-wrap-aG7E1c .progress-rFtZNC{background:linear-gradient(rgba(148,152,247,.44),rgba(255,255,255,0));position:absolute;top:0;bottom:0;left:0}.progress-wrap-aG7E1c .info-HxV9yH .main-text-MMJMjm{color:var(--coz-fg-primary);font-size:14px;line-height:20px}.progress-wrap-aG7E1c .info-HxV9yH .sub-text-fLSQkk{color:var(--coz-fg-secondary);font-size:12px;line-height:16px}.progress-wrap-aG7E1c .info-HxV9yH .desc-perJT2{display:block}.progress-wrap-aG7E1c .info-HxV9yH .tip-desc-zJnp5I{display:none}.progress-wrap-aG7E1c .info-HxV9yH .semi-image{margin-right:0!important}.progress-wrap-aG7E1c:hover .info-HxV9yH .desc-perJT2{display:none}.progress-wrap-aG7E1c:hover .info-HxV9yH .tip-desc-zJnp5I{display:block}.progress-wrap-aG7E1c.processing-failed-Ngh1Ak{border:1px solid var(--coz-stroke-hglt-red)}.progress-wrap-aG7E1c.processing-failed-Ngh1Ak .sub-text-fLSQkk{color:var(--coz-fg-hglt-red)!important}.progress-wrap-aG7E1c.processing-EXtgs8:hover .info-HxV9yH .desc-perJT2{display:block}.progress-wrap-aG7E1c.processing-EXtgs8:hover .info-HxV9yH .tip-desc-zJnp5I{display:none}.progress-wrap-aG7E1c .right-d4B8Yg{z-index:2}.progress-wrap-aG7E1c .percent-_hawuy{color:var(--coz-fg-primary);text-align:right;text-overflow:ellipsis;font-size:14px;font-style:normal;font-weight:400;line-height:20px}.progress-wrap-aG7E1c .actions-iVWvwU{display:none}.progress-wrap-aG7E1c:hover .actions-iVWvwU{display:block}",""]),l.locals={"progress-wrap":"progress-wrap-aG7E1c",progressWrap:"progress-wrap-aG7E1c",content:"content-oMctjI",progress:"progress-rFtZNC",info:"info-HxV9yH","main-text":"main-text-MMJMjm",mainText:"main-text-MMJMjm","sub-text":"sub-text-fLSQkk",subText:"sub-text-fLSQkk",desc:"desc-perJT2","tip-desc":"tip-desc-zJnp5I",tipDesc:"tip-desc-zJnp5I","processing-failed":"processing-failed-Ngh1Ak",processingFailed:"processing-failed-Ngh1Ak",processing:"processing-EXtgs8",right:"right-d4B8Yg",percent:"percent-_hawuy",actions:"actions-iVWvwU"},t.Z=l},716998:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,".table-preview-RdOhnY{flex-direction:column;flex:1;display:flex;overflow:hidden}.table-preview-title-j9ZsaQ{height:32px;color:var(--coz-fg-plus);align-items:center;margin-bottom:5px;font-size:14px;font-style:normal;font-weight:600;line-height:20px;display:flex}.table-preview-RdOhnY .semantic-tag-v5UgTT,.table-preview-RdOhnY .column-type-fL_9tS{margin-left:6px}.table-preview-RdOhnY .preview-tips-tVs0lE{color:var(--coz-fg-dim);text-align:left;letter-spacing:0;margin-top:8px;font-size:12px;font-weight:400;line-height:20px}.table-preview-RdOhnY .no-result-auNDcw{flex-direction:column;justify-content:center;align-items:center;width:100%;height:448px;display:flex}.table-preview-RdOhnY .no-result-tips-lC6ADQ{color:var(--coz-fg-plus);margin-top:16px;font-size:16px;font-style:normal;font-weight:600;line-height:22px}.table-preview-content-Pn5Efi{overflow:auto}.table-preview-content-Pn5Efi th{background-color:transparent!important}.table-preview-content-Pn5Efi tr{background-color:transparent!important}.table-preview-content-Pn5Efi .semi-table-wrapper{height:100%;margin-top:0}.table-preview-content-Pn5Efi .semi-table-wrapper .coz-tag{font-weight:400}.table-preview-content-Pn5Efi .coz-table-wrapper .coz-table-list-hover .semi-table-row:hover>.semi-table-row-cell:before{background-color:transparent}.table-preview-content-Pn5Efi .coz-table-wrapper .coz-table-list-hover .semi-table-row:hover>.semi-table-row-cell:first-child{border-top-left-radius:0;border-bottom-left-radius:0}.table-preview-content-Pn5Efi .coz-table-wrapper .coz-table-list .semi-table-thead>.semi-table-row>.semi-table-row-head{color:var(--coz-fg-secondary);font-size:12px;font-weight:500}.table-preview-content-Pn5Efi .coz-table-wrapper .coz-table-list .semi-table-tbody>.semi-table-row>.semi-table-row-cell{height:56px;text-align:unset}.table-preview-content-Pn5Efi .coz-table-wrapper .coz-table-list .semi-table-tbody>.semi-table-row>.semi-table-row-cell .semi-typography{color:var(--coz-fg-secondary)}.table-preview-content-Pn5Efi .coz-table-wrapper .coz-table-list .semi-table-container>.semi-table-body{padding-top:0}.table-preview-content-Pn5Efi .coz-table-wrapper .coz-table-list .semi-table-tbody>.semi-table-row:last-child>.semi-table-row-cell{border-bottom:1px solid var(--coz-stroke-primary)}.table-preview-content-Pn5Efi .semi-table-header{z-index:99;position:-webkit-sticky;position:sticky;overflow-y:hidden!important}.table-preview-content-Pn5Efi .semi-table-colgroup .semi-table-col{min-width:200px}.table-preview-content-Pn5Efi .semi-table-tbody>.semi-table-row>.semi-table-row-cell{min-height:40px;padding:9px 16px!important}.table-preview-content-Pn5Efi .semi-table-tbody .semi-table-row:hover>.semi-table-row-cell{border-bottom:1px solid var(--coz-stroke-primary);background-color:transparent!important;background-image:none!important}.td-title-jJaSXe{align-items:center;display:flex}",""]),l.locals={"table-preview":"table-preview-RdOhnY",tablePreview:"table-preview-RdOhnY","table-preview-title":"table-preview-title-j9ZsaQ",tablePreviewTitle:"table-preview-title-j9ZsaQ","semantic-tag":"semantic-tag-v5UgTT",semanticTag:"semantic-tag-v5UgTT","column-type":"column-type-fL_9tS",columnType:"column-type-fL_9tS","preview-tips":"preview-tips-tVs0lE",previewTips:"preview-tips-tVs0lE","no-result":"no-result-auNDcw",noResult:"no-result-auNDcw","no-result-tips":"no-result-tips-lC6ADQ",noResultTips:"no-result-tips-lC6ADQ","table-preview-content":"table-preview-content-Pn5Efi",tablePreviewContent:"table-preview-content-Pn5Efi","td-title":"td-title-jJaSXe",tdTitle:"td-title-jJaSXe"},t.Z=l},903687:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,".table-setting-bar-a5JPpu{width:100%;margin-bottom:30px}.table-setting-bar-a5JPpu .semi-form-horizontal .semi-form-field{flex:1}.table-setting-bar-a5JPpu .semi-form-horizontal .semi-form-field .semi-select{border-radius:8px;width:100%}.table-setting-bar-a5JPpu .semi-form-field-label-text{color:var(--coz-fg-plus);font-size:14px;font-style:normal;font-weight:500;line-height:24px}.table-setting-bar-a5JPpu .semi-form-field-label{align-items:center;height:24px;margin-bottom:4px;display:flex}.table-setting-bar-a5JPpu .semi-form-horizontal .semi-form-field:last-child{margin-right:0;padding-right:0}",""]),l.locals={"table-setting-bar":"table-setting-bar-a5JPpu",tableSettingBar:"table-setting-bar-a5JPpu"},t.Z=l},264622:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,".table-structure-wrapper-UotMHC{flex:1;height:100%;overflow:hidden}.structure-wrapper-ALSVya{flex-direction:column;display:flex;overflow:hidden}.drag-table-wWjfw6 .semi-table-container .semi-table-tbody .semi-table-row .semi-table-row-cell:first-child{padding-left:16px!important}.table-structure-XrsiMG{border-radius:8px;overflow:hidden;margin-top:4px!important}.table-structure-XrsiMG .semi-spin{height:100%}.table-structure-XrsiMG .semi-spin-children{height:100%}.table-structure-XrsiMG .semi-table-fixed-header{height:100%}.table-structure-XrsiMG .semi-table-container{height:100%}.table-structure-required-container-UyIP6_{align-items:center;display:flex}.table-structure-col-required-Z1g12T{color:var(--coz-fg-hglt-red);text-overflow:ellipsis;margin-top:4px;font-size:12px;font-style:normal;font-weight:600;line-height:16px}.table-structure-XrsiMG .input-suffix-y7iErZ{margin-right:5px;font-size:12px;display:inline-block}.table-structure-XrsiMG .input-error-msg-d1JQO6{z-index:100;color:var(--coz-fg-hglt-red);margin-top:4px;margin-bottom:-20px;font-size:12px;font-style:normal;font-weight:400;line-height:16px;position:relative}.table-structure-XrsiMG .semantic-radio-TDSa9p{align-items:center;height:100%;padding-left:2px;display:flex;position:relative}.table-structure-XrsiMG .column-item-action-j7uaYU{align-items:center;height:100%;padding-top:3px;padding-left:7px;display:flex}.table-structure-XrsiMG .column-item-action-delete-fypzZy{cursor:pointer;font-size:14px}.table-structure-XrsiMG .column-item-Qnr35T{flex-direction:column;height:100%;display:flex}.table-structure-XrsiMG .column-item-value-ZKkacM{color:var(--coz-fg-secondary);text-overflow:ellipsis;font-size:14px;line-height:32px}.table-structure-XrsiMG .structure-table-drag-icon{opacity:0;position:absolute;left:-16px}.table-structure-XrsiMG .semi-table-row:hover .structure-table-drag-icon{opacity:1}.table-structure-XrsiMG .semi-table-row:focus .structure-table-drag-icon{opacity:1}.table-structure-XrsiMG .semi-table-thead>.semi-table-row>.semi-table-row-head{color:var(--coz-fg-secondary)!important;font-size:12px!important}.table-structure-XrsiMG .semi-table-container .semi-table-body{padding-bottom:12px;height:calc(100% - 39px)!important}.table-structure-XrsiMG .select-error-text{padding-top:0!important}.table-structure-XrsiMG .singleline-select-error-content{height:0}.table-structure-XrsiMG .semi-table-thead>.semi-table-row>.semi-table-row-head:first-child{padding-left:8px}.table-structure-XrsiMG .semi-table-thead>.semi-table-row>.semi-table-row-head{background-color:transparent!important}.table-structure-XrsiMG .semi-table-tbody>.semi-table-row{background-color:transparent!important}.table-structure-XrsiMG .semi-table-tbody>.semi-table-row>.semi-table-cell-fixed-left{background-color:transparent!important}.table-structure-XrsiMG .semi-table-thead>.semi-table-row>.semi-table-row-head.semi-table-cell-fixed-left:before{background-color:transparent!important}.table-structure-XrsiMG .semi-table-tbody{padding:5px 0}.table-structure-XrsiMG .semi-table-tbody .semi-table-row .semi-table-row-cell{border-bottom:0;height:56px!important;padding:12px 8px!important}.table-structure-XrsiMG .semi-table-tbody .semi-table-row .semi-table-row-cell:first-child{border-radius:0!important;padding-left:8px!important;padding-right:28px!important}.table-structure-XrsiMG .semi-table-tbody .semi-table-row:hover{cursor:auto;background:var(--coz-mg-secondary-hovered)}.table-structure-XrsiMG .semi-table-tbody .semi-table-row:hover>.semi-table-row-cell{background:0 0!important;border-bottom:0!important}.table-header-tooltip-Yh0j21{align-items:center;display:flex}.table-structure-bar-title-Naiqz6{height:32px;color:var(--coz-fg-plus);align-items:center;font-size:14px;font-style:normal;font-weight:600;display:flex}.table-structure-bar-title-Naiqz6 .icon-KXcibB{margin-top:3px;margin-left:4px}",""]),l.locals={"table-structure-wrapper":"table-structure-wrapper-UotMHC",tableStructureWrapper:"table-structure-wrapper-UotMHC","structure-wrapper":"structure-wrapper-ALSVya",structureWrapper:"structure-wrapper-ALSVya","drag-table":"drag-table-wWjfw6",dragTable:"drag-table-wWjfw6","table-structure":"table-structure-XrsiMG",tableStructure:"table-structure-XrsiMG","table-structure-required-container":"table-structure-required-container-UyIP6_",tableStructureRequiredContainer:"table-structure-required-container-UyIP6_","table-structure-col-required":"table-structure-col-required-Z1g12T",tableStructureColRequired:"table-structure-col-required-Z1g12T","input-suffix":"input-suffix-y7iErZ",inputSuffix:"input-suffix-y7iErZ","input-error-msg":"input-error-msg-d1JQO6",inputErrorMsg:"input-error-msg-d1JQO6","semantic-radio":"semantic-radio-TDSa9p",semanticRadio:"semantic-radio-TDSa9p","column-item-action":"column-item-action-j7uaYU",columnItemAction:"column-item-action-j7uaYU","column-item-action-delete":"column-item-action-delete-fypzZy",columnItemActionDelete:"column-item-action-delete-fypzZy","column-item":"column-item-Qnr35T",columnItem:"column-item-Qnr35T","column-item-value":"column-item-value-ZKkacM",columnItemValue:"column-item-value-ZKkacM","table-header-tooltip":"table-header-tooltip-Yh0j21",tableHeaderTooltip:"table-header-tooltip-Yh0j21","table-structure-bar-title":"table-structure-bar-title-Naiqz6",tableStructureBarTitle:"table-structure-bar-title-Naiqz6",icon:"icon-KXcibB"},t.Z=l},238205:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,".upload-si61kX{width:100%}.upload-si61kX .semi-upload-drag-area{background-color:var(--coz-mg-card);border-radius:8px;height:202px}.upload-si61kX .semi-upload-drag-area:hover{border-radius:var(--default,8px)}.upload-si61kX .semi-upload-drag-area.semi-upload-drag-area-legal{border-radius:var(--default,8px)}.upload-si61kX .semi-upload-drag-area-sub-text{color:var(--coz-fg-dim)}.upload-si61kX .semi-button-with-icon-only{border-radius:4px}.upload-si61kX .semi-upload-file-list{display:none}.upload-icon-iaQIvU{width:32px;height:32px}.create-enough-file-gKQjYO{cursor:not-allowed;flex-direction:column;justify-content:center;align-items:center;width:100%;height:100%;display:flex}.create-enough-file-gKQjYO .picture-rutWZA{width:122px;height:122px;margin-bottom:14px}.create-enough-file-gKQjYO .text-fu7IXG{color:rgba(28,31,35,.6);font-size:12px;line-height:16px}",""]),l.locals={upload:"upload-si61kX","upload-icon":"upload-icon-iaQIvU",uploadIcon:"upload-icon-iaQIvU","create-enough-file":"create-enough-file-gKQjYO",createEnoughFile:"create-enough-file-gKQjYO",picture:"picture-rutWZA",text:"text-fu7IXG"},t.Z=l},112425:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,".database-model-content-tIj0m7 .semi-form-field{padding-top:0;padding-bottom:16px}.database-model-content-tIj0m7 .semi-input-wrapper{background-color:rgba(var(--coze-bg-2),var(--coze-bg-2-alpha))}.database-model-content-tIj0m7 .semi-input-textarea-wrapper{background-color:rgba(var(--coze-bg-2),var(--coze-bg-2-alpha))}",""]),l.locals={"database-model-content":"database-model-content-tIj0m7",databaseModelContent:"database-model-content-tIj0m7"},t.Z=l},191552:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,".modal-key-tip-FNDXx_{width:200px!important}.modal-key-tip-FNDXx_ ul{padding-left:16px}",""]),l.locals={"modal-key-tip":"modal-key-tip-FNDXx_",modalKeyTip:"modal-key-tip-FNDXx_"},t.Z=l},694898:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,'.th-tip-name-rGuPdC{flex-direction:column;display:flex}.th-tip-dot-igOI00{padding-left:16px;position:relative}.th-tip-dot-igOI00:before{content:"";background-color:#000;border-radius:50%;width:5px;height:5px;position:absolute;top:7px;left:0}.form-input-error-Xsj4gN .semi-input-wrapper{border-color:#f93920}.form-input-error-Xsj4gN .semi-input-wrapper:hover{border-color:var(--semi-color-border,rgba(29,28,35,.08))}.table-structure-form-Ezs2aX{padding-bottom:4px}.table-structure-form-Ezs2aX .semi-form-field-validate-status-icon{display:none}.table-structure-form-Ezs2aX .semi-form-field-validate-status-icon+span{font-size:12px}.table-structure-form-Ezs2aX .semi-col-12 .semi-form-field[x-field-id=prompt_disabled]{justify-content:flex-end;display:flex}.table-structure-form-Ezs2aX .semi-col-12 .semi-form-field[x-field-id=prompt_disabled] .semi-form-field-main{align-items:center;display:flex;width:auto!important}.table-structure-form-Ezs2aX .semi-switch-checked{background-color:rgba(var(--coze-brand-5),1)!important}.table-structure-form-Ezs2aX .semi-switch-checked:hover{background-color:rgba(var(--coze-brand-6),1)!important}.max-row-banner-yDr9Ob{margin-bottom:24px}.form-item-label-tooltip-icon-dPXGBa{cursor:pointer;color:#c6cacd}.table-setting-select-a_BIxX .semi-select:hover{border:1px solid var(--semi-color-border)!important}.table-structure-table-sBwJzN .semi-table-container{border:1px solid var(--Light-usage-border---color-border-1,rgba(29,28,35,.08));border-radius:8px;padding:0 8px}.table-structure-table-sBwJzN .semi-table-header .semi-table-row-head{padding-left:8px;padding-right:8px;background:0 0!important}.table-structure-table-sBwJzN .semi-table-body .semi-table-row{background:0 0!important}.table-structure-table-sBwJzN .semi-table-body .semi-table-row:hover>.semi-table-row-cell{background:0 0!important}.table-structure-table-sBwJzN .semi-table-row{cursor:default!important}.table-structure-table-sBwJzN .semi-table-row>.semi-table-row-cell{padding-left:0;border-bottom:1px solid transparent!important;padding:12px 8px!important}.table-structure-table-sBwJzN .semi-table-body{border-radius:8px;padding:12px 0;overflow:visible;max-height:none!important}.table-structure-table-sBwJzN .semi-table-row-cell:before{display:none}.table-structure-table-sBwJzN .semi-input-wrapper-disabled{background:0 0;border:none}.table-structure-table-sBwJzN .semi-input-wrapper-disabled .semi-input-disabled{color:var(--coz-fg-primary);-webkit-text-fill-color:var(--coz-fg-primary);padding:0;font-weight:500}.table-structure-table-sBwJzN .semi-input-wrapper-disabled .semi-input-suffix{display:none}.table-structure-table-sBwJzN .semi-select-disabled{cursor:default;opacity:1;background:0 0;border:none}.table-structure-table-sBwJzN .semi-select-disabled:hover{background-color:transparent!important}.table-structure-table-sBwJzN .semi-select-disabled .semi-select-selection{cursor:default;margin:0}.table-structure-table-sBwJzN .semi-select-disabled .semi-select-selection .semi-select-selection-text{color:var(--coz-fg-primary);font-weight:500}.table-structure-table-sBwJzN .semi-select-disabled .semi-select-arrow{display:none}.table-structure-table-wrapper-YvUCp5{height:auto}.table-empty-tips-pB0Q_1{color:#f93920;padding:8px;font-size:12px;font-weight:400;line-height:16px}.spin-DHi3Xg .semi-spin-wrapper div{color:rgba(29,28,35,.35);font-size:16px}.table-setting-option-EKwfVk .semi-select-option-selected .semi-select-option-icon{color:#4d53e8}.table-name-form-field-qjON33{padding-bottom:24px!important}.table-name-form-field-qjON33 .semi-input-wrapper-disabled{-webkit-text-fill-color:#1d1c23}.table-desc-form-field-YxaaDH{padding-top:0!important}.prompt_disabled_popover-liVpSD .semi-popover-icon-arrow{right:8px!important}.read_mode_popover-RmV2WL .semi-popover-icon-arrow{left:8px!important}.hidden-form-border-AcU3Ef .semi-table-container{border:none;border-radius:0;padding:0}',""]),l.locals={"th-tip-name":"th-tip-name-rGuPdC",thTipName:"th-tip-name-rGuPdC","th-tip-dot":"th-tip-dot-igOI00",thTipDot:"th-tip-dot-igOI00","form-input-error":"form-input-error-Xsj4gN",formInputError:"form-input-error-Xsj4gN","table-structure-form":"table-structure-form-Ezs2aX",tableStructureForm:"table-structure-form-Ezs2aX","max-row-banner":"max-row-banner-yDr9Ob",maxRowBanner:"max-row-banner-yDr9Ob","form-item-label-tooltip-icon":"form-item-label-tooltip-icon-dPXGBa",formItemLabelTooltipIcon:"form-item-label-tooltip-icon-dPXGBa","table-setting-select":"table-setting-select-a_BIxX",tableSettingSelect:"table-setting-select-a_BIxX","table-structure-table":"table-structure-table-sBwJzN",tableStructureTable:"table-structure-table-sBwJzN","table-structure-table-wrapper":"table-structure-table-wrapper-YvUCp5",tableStructureTableWrapper:"table-structure-table-wrapper-YvUCp5","table-empty-tips":"table-empty-tips-pB0Q_1",tableEmptyTips:"table-empty-tips-pB0Q_1",spin:"spin-DHi3Xg","table-setting-option":"table-setting-option-EKwfVk",tableSettingOption:"table-setting-option-EKwfVk","table-name-form-field":"table-name-form-field-qjON33",tableNameFormField:"table-name-form-field-qjON33","table-desc-form-field":"table-desc-form-field-YxaaDH",tableDescFormField:"table-desc-form-field-YxaaDH",prompt_disabled_popover:"prompt_disabled_popover-liVpSD",promptDisabledPopover:"prompt_disabled_popover-liVpSD",read_mode_popover:"read_mode_popover-RmV2WL",readModePopover:"read_mode_popover-RmV2WL","hidden-form-border":"hidden-form-border-AcU3Ef",hiddenFormBorder:"hidden-form-border-AcU3Ef"},t.Z=l},408582:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,".input-wrapper-FtUpxy{width:100%;position:relative}.input-wrapper-FtUpxy span{width:100%}.error-wrapper-amWL8g .semi-input-wrapper{border:1px solid #f93920}.error-content-OcbxcM{height:20px}.error-float-v53a7a{white-space:nowrap;width:100%;position:absolute}.error-text-W3xpef{color:#f93920;padding-top:2px;font-size:12px;position:absolute}.input-EP2aeu input{text-overflow:ellipsis;overflow:hidden}.limit-count-xXMxxt{color:var(--light-usage-text-color-text-3,rgba(28,31,35,.35));padding-left:8px;padding-right:12px;font-size:12px;font-style:normal;font-weight:400;line-height:16px;overflow:hidden}",""]),l.locals={"input-wrapper":"input-wrapper-FtUpxy",inputWrapper:"input-wrapper-FtUpxy","error-wrapper":"error-wrapper-amWL8g",errorWrapper:"error-wrapper-amWL8g","error-content":"error-content-OcbxcM",errorContent:"error-content-OcbxcM","error-float":"error-float-v53a7a",errorFloat:"error-float-v53a7a","error-text":"error-text-W3xpef",errorText:"error-text-W3xpef",input:"input-EP2aeu","limit-count":"limit-count-xXMxxt",limitCount:"limit-count-xXMxxt"},t.Z=l},53785:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,".select-wrapper-cbYwaD{width:100%}.select-wrapper-cbYwaD .semi-select-disabled .semi-select-arrow{color:rgba(29,28,35,.6)}.select-wrapper-cbYwaD span{width:100%}.error-wrapper-_ZgJx2 .semi-select{border:1px solid #f93920}.error-content-TD7d74{height:20px}.error-float-lSPXTk{width:100%;position:absolute}.error-text-bm_wVC{color:#f93920;padding-top:2px;font-size:12px;position:absolute}.selected-option-FTHMPv .semi-select-option-selected .semi-select-option-icon{color:#4d53e8}",""]),l.locals={"select-wrapper":"select-wrapper-cbYwaD",selectWrapper:"select-wrapper-cbYwaD","error-wrapper":"error-wrapper-_ZgJx2",errorWrapper:"error-wrapper-_ZgJx2","error-content":"error-content-TD7d74",errorContent:"error-content-TD7d74","error-float":"error-float-lSPXTk",errorFloat:"error-float-lSPXTk","error-text":"error-text-bm_wVC",errorText:"error-text-bm_wVC","selected-option":"selected-option-FTHMPv",selectedOption:"selected-option-FTHMPv"},t.Z=l},686203:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,'.tab-QaYwt3{flex-direction:column;height:100%;display:flex;overflow:hidden}.tab-QaYwt3 .semi-tabs-bar{min-height:56px}.tab-QaYwt3 .semi-tabs-bar-extra{flex-direction:row;justify-content:end;align-items:center;width:100%;padding:0;display:flex}.tab-QaYwt3 .semi-tabs-content{flex-grow:1;padding:0;overflow:auto}.tab-QaYwt3 .semi-tabs-content .coz-tab-bar-content.semi-tabs-pane-active{height:100%}.tab-QaYwt3 .semi-tabs-content .coz-tab-bar-content.semi-tabs-pane-active .semi-tabs-pane-motion-overlay{flex-direction:column;height:100%;display:flex;overflow:hidden}.th-tip-dot-RPuwkq{padding-left:16px;position:relative}.th-tip-dot-RPuwkq:before{content:"";background-color:#000;border-radius:50%;width:5px;height:5px;position:absolute;top:7px;left:0}',""]),l.locals={tab:"tab-QaYwt3","th-tip-dot":"th-tip-dot-RPuwkq",thTipDot:"th-tip-dot-RPuwkq"},t.Z=l},116954:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,".table-B81I4V{flex-grow:1;position:relative;overflow:hidden}.table-B81I4V .table-wrapper-euQcfX .semi-table-wrapper{line-height:unset}.table-B81I4V .table-wrapper-euQcfX .semi-table-scroll-position-left .semi-table-tbody>.semi-table-row>.semi-table-cell-fixed-left-last{box-shadow:none}.table-B81I4V .table-wrapper-euQcfX .semi-table-scroll-position-left .semi-table-thead>.semi-table-row>.semi-table-cell-fixed-left-last{box-shadow:none}.table-B81I4V .table-wrapper-euQcfX .semi-table-scroll-position-right .semi-table-tbody>.semi-table-row>.semi-table-cell-fixed-right-first{box-shadow:none}.table-B81I4V .table-wrapper-euQcfX .semi-table-scroll-position-right .semi-table-thead>.semi-table-row>.semi-table-cell-fixed-right-first{box-shadow:none}.table-B81I4V .table-wrapper-euQcfX .semi-table-row>.semi-table-cell-fixed-left-last{box-shadow:2px 2px 3px rgba(0,0,0,.08)}.table-B81I4V .table-wrapper-euQcfX .semi-table-row>.semi-table-cell-fixed-right-first{box-shadow:-2px 2px 3px rgba(0,0,0,.08)}.table-B81I4V .table-wrapper-euQcfX .semi-table-tbody>.semi-table-row{cursor:default}.table-B81I4V .table-wrapper-euQcfX .semi-table-thead>.semi-table-row>.semi-table-row-head:last-child{text-align:unset}.table-B81I4V .table-wrapper-euQcfX .semi-table-tbody>.semi-table-row>.semi-table-row-cell:last-child{text-align:unset}.table-B81I4V .table-wrapper-euQcfX .coz-table-list .semi-table-fixed-header table{height:unset}.table-B81I4V .table-wrapper-euQcfX .semi-table-thead>.semi-table-row>.semi-table-row-head{height:28px;padding-bottom:0}.table-B81I4V .table-wrapper-euQcfX .semi-table-thead .semi-table-row .react-resizable-handle{background:0 0}.table-B81I4V .table-wrapper-euQcfX .semi-table-thead:hover .react-resizable:not(:-webkit-any(.semi-table-cell-fixed-left,.resizing,.not-resize-handle)) .react-resizable-handle{border-right:2px solid var(--coz-stroke-plus);border-left:1px solid var(--coz-stroke-plus);width:7px}.table-B81I4V .table-wrapper-euQcfX .semi-table-thead:hover .react-resizable:not(:-moz-any(.semi-table-cell-fixed-left,.resizing,.not-resize-handle)) .react-resizable-handle{border-right:2px solid var(--coz-stroke-plus);border-left:1px solid var(--coz-stroke-plus);width:7px}.table-B81I4V .table-wrapper-euQcfX .semi-table-thead:hover .react-resizable:not(:is(.semi-table-cell-fixed-left,.resizing,.not-resize-handle)) .react-resizable-handle{border-right:2px solid var(--coz-stroke-plus);border-left:1px solid var(--coz-stroke-plus);width:7px}.table-B81I4V .table-wrapper-euQcfX .semi-table-thead>.semi-table-row>.semi-table-row-head.resizing{border-right-color:var(--coz-stroke-hglt);border-right-width:1px}.table-B81I4V .table-wrapper-euQcfX .semi-table-thead>.semi-table-row>.semi-table-row-head.semi-table-cell-fixed-left-last{border-right:0}.table-B81I4V .table-wrapper-euQcfX .semi-table-thead>.semi-table-row>.semi-table-row-head.semi-table-cell-fixed-right-first{border-left:0}.table-B81I4V .table-wrapper-euQcfX .semi-table-tbody .semi-table-row>.semi-table-row-cell{height:56px}.table-B81I4V .table-wrapper-euQcfX .semi-table-tbody .semi-table-row>.semi-table-row-cell.resizing{border-right-color:var(--coz-stroke-hglt)}.table-B81I4V .table-wrapper-euQcfX .semi-table-tbody .semi-table-row>.semi-table-cell-fixed-left-last{border-right:0}.table-B81I4V .table-wrapper-euQcfX .semi-table-tbody .semi-table-row>.semi-table-cell-fixed-right-first{border-left:0}.table-B81I4V .table-wrapper-euQcfX .semi-table-tbody .semi-table-row:not(:hover)>.semi-table-row-cell.semi-table-cell-fixed-left{border-top-left-radius:0;border-bottom-left-radius:0}.table-B81I4V .table-wrapper-euQcfX .semi-table-tbody .semi-table-row:not(:hover)>.semi-table-row-cell.semi-table-cell-fixed-right{border-top-right-radius:0;border-bottom-right-radius:0}.table-B81I4V .table-wrapper-euQcfX .semi-table-pagination-outer{height:48px;min-height:unset}.table-wrapper-project-j7aSPD .coz-table-list .semi-table-thead>.semi-table-row>.semi-table-row-head.semi-table-cell-fixed-left:before{background-color:var(--coz-bg-max)}.table-wrapper-project-j7aSPD .coz-table-list .semi-table-thead>.semi-table-row>.semi-table-row-head.semi-table-cell-fixed-right:before{background-color:var(--coz-bg-max)}.table-wrapper-project-j7aSPD .coz-table-list .semi-table-thead>.semi-table-row>.semi-table-row-head{background-color:var(--coz-bg-max)}.table-wrapper-project-j7aSPD .coz-table-list .semi-table-tbody>.semi-table-row:not(:hover)>.semi-table-row-cell{background-color:var(--coz-bg-max)}",""]),l.locals={table:"table-B81I4V","table-wrapper":"table-wrapper-euQcfX",tableWrapper:"table-wrapper-euQcfX","table-wrapper-project":"table-wrapper-project-j7aSPD",tableWrapperProject:"table-wrapper-project-j7aSPD"},t.Z=l},528857:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,".table-structure-wrapper-SZG90C{height:100%;overflow:auto}.table-structure-wrapper-SZG90C .coz-table-spin{text-align:center}.table-structure-wrapper-SZG90C .semi-table-container .semi-table-row .semi-table-row-head{padding:6px 8px}.table-structure-wrapper-SZG90C .semi-table-container .semi-table-row .semi-table-row-cell{padding:6px 8px}.table-structure-wrapper-SZG90C .semi-table-container .semi-table-row .semi-table-row-head{border-bottom-width:1px}.table-structure-wrapper-SZG90C .semi-table-container .semi-table-row .semi-table-row-cell{background:0 0;border-bottom:0;height:56px;font-weight:500}",""]),l.locals={"table-structure-wrapper":"table-structure-wrapper-SZG90C",tableStructureWrapper:"table-structure-wrapper-SZG90C"},t.Z=l},898720:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,".select-J3wJj4 .semi-select:hover{background-color:transparent!important}.select-J3wJj4 .semi-select:active{background-color:transparent!important}.select-J3wJj4 .semi-select-focus{border:none;outline:none}.select-J3wJj4 .semi-select-open{border:none;outline:none}.select-J3wJj4 .semi-select-selection .semi-select-selection-text{font-weight:600!important}.bottom-shadow-HVs9Pw{background:linear-gradient(rgba(249,249,249,0) 0%,#f9f9f9 100%)}.label-r_G6Mo{color:var(--Fg-COZ-fg-secondary,rgba(6,7,9,.5));font-size:14px;font-style:normal;font-weight:600;line-height:20px}.tips-wrapper-J2KNMp{border-radius:12px}.tip-title-UTyceA{color:var(--Fg-COZ-fg-plus,#fff);margin-bottom:10px;font-size:12px;font-style:normal;font-weight:500;line-height:16px}.tip-desc-WKkdq3{color:rgba(255,255,255,.39);margin:8px 0;font-size:12px;font-style:normal;font-weight:400;line-height:16px}.bot-bg-IA2Zm4{background:var(--Mg-COZ-mg-primary,rgba(255,255,255,.06));border-radius:var(--default,8px);flex-direction:column;align-self:stretch;align-items:flex-start;gap:12px;padding:16px 12px;display:flex}.bot-item-WK4deo{justify-content:start;align-items:center;display:flex}.bot-img-hio3vT{color:#fff;border-radius:50%;justify-content:center;align-items:center;margin-right:8px;padding:8px;font-family:SF Pro Display;font-size:8px;font-style:normal;font-weight:500;line-height:7.254px;display:flex;width:24px!important;height:24px!important}.bot-img-hio3vT.img-user-G54LO4{background-color:var(--Fg-COZ-fg-color-blue,#0084ff)}.bot-img-hio3vT.img-bot-pYNKcX{background-color:var(--Fg-COZ-fg-color-cyan,#00b9b5)}.bot-content-DmAgbZ{width:100%;color:var(--Fg-COZ-fg-primary,rgba(255,255,255,.79));border-radius:var(--default,8px);padding:8px 12px;font-size:10px;font-style:normal;font-weight:400;line-height:14px}.bot-content-DmAgbZ.content-user-Y7_iZU{background:var(--Mg-COZ-mg-hglt-plus-dim,rgba(94,94,255,.37))}.bot-content-DmAgbZ.content-bot-IU9zOP{background:var(--Mg-COZ-mg-plus,rgba(255,255,255,.09))}.loading-more-W2dMLl,.no-more-K9TKcE{width:100%;color:var(--light-usage-text-color-text-2,var(--light-usage-text-color-text-2,rgba(28,31,35,.6)));grid-column:1/-1;justify-content:center;align-items:center;padding:13px 0;font-size:14px;font-weight:400;line-height:20px;display:flex;position:relative}.database-add-v00ROE{min-width:48px;min-height:30px;max-height:30px;font-size:12px;font-style:normal;font-weight:500;line-height:16.5px;color:var(--coz-fg-primary)!important;background-color:var(--coz-mg-primary)!important}.database-added-YR1yAA{min-width:48px;min-height:30px;max-height:30px;font-size:12px;font-style:normal;font-weight:500;line-height:16.5px;color:var(--coz-fg-dim)!important;background-color:var(--coz-mg-primary)!important}.database-added-YR1yAA.added-mousein-pawLIZ{color:var(--light-color-red-red-5,#ff441e)!important}.list-eNYUi9 .semi-spin-children{height:100%}",""]),l.locals={select:"select-J3wJj4","bottom-shadow":"bottom-shadow-HVs9Pw",bottomShadow:"bottom-shadow-HVs9Pw",label:"label-r_G6Mo","tips-wrapper":"tips-wrapper-J2KNMp",tipsWrapper:"tips-wrapper-J2KNMp","tip-title":"tip-title-UTyceA",tipTitle:"tip-title-UTyceA","tip-desc":"tip-desc-WKkdq3",tipDesc:"tip-desc-WKkdq3","bot-bg":"bot-bg-IA2Zm4",botBg:"bot-bg-IA2Zm4","bot-item":"bot-item-WK4deo",botItem:"bot-item-WK4deo","bot-img":"bot-img-hio3vT",botImg:"bot-img-hio3vT","img-user":"img-user-G54LO4",imgUser:"img-user-G54LO4","img-bot":"img-bot-pYNKcX",imgBot:"img-bot-pYNKcX","bot-content":"bot-content-DmAgbZ",botContent:"bot-content-DmAgbZ","content-user":"content-user-Y7_iZU",contentUser:"content-user-Y7_iZU","content-bot":"content-bot-IU9zOP",contentBot:"content-bot-IU9zOP","loading-more":"loading-more-W2dMLl",loadingMore:"loading-more-W2dMLl","no-more":"no-more-K9TKcE",noMore:"no-more-K9TKcE","database-add":"database-add-v00ROE",databaseAdd:"database-add-v00ROE","database-added":"database-added-YR1yAA",databaseAdded:"database-added-YR1yAA","added-mousein":"added-mousein-pawLIZ",addedMousein:"added-mousein-pawLIZ",list:"list-eNYUi9"},t.Z=l},37597:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,".modal-content-tabs-fam23T .semi-tabs{flex-direction:column;height:100%;display:flex}.modal-content-tabs-fam23T .semi-tabs-content{height:calc(100% - 40px);padding-bottom:0;padding:0!important}.modal-content-tabs-fam23T .semi-tabs-pane{height:100%}.modal-content-tabs-fam23T .semi-tabs-pane-motion-overlay{height:100%}.tab-bar-box-MuFHUf{justify-content:flex-start;align-items:center;gap:16px;padding:8px 0 8px 16px;display:flex}.tab-bar-item-ESDxnN{cursor:pointer;color:var(--Light-usage-text---color-text-2,rgba(29,28,35,.6));text-overflow:ellipsis;font-size:18px;font-style:normal;font-weight:600;line-height:24px}.tab-bar-item-active-W_6WPj{color:#4d53e8}",""]),l.locals={"modal-content-tabs":"modal-content-tabs-fam23T",modalContentTabs:"modal-content-tabs-fam23T","tab-bar-box":"tab-bar-box-MuFHUf",tabBarBox:"tab-bar-box-MuFHUf","tab-bar-item":"tab-bar-item-ESDxnN",tabBarItem:"tab-bar-item-ESDxnN","tab-bar-item-active":"tab-bar-item-active-W_6WPj",tabBarItemActive:"tab-bar-item-active-W_6WPj"},t.Z=l},934030:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,".empty-wrapper-database-X0FUbh .semi-empty-image{align-items:center;width:140px;height:140px}.empty-wrapper-database-X0FUbh .semi-empty-vertical .semi-empty-content{margin-top:16px}.data-table-To2pKr .table-wrapper{overflow-y:auto}.data-table-To2pKr .semi-table-wrapper{margin-top:0}.data-table-To2pKr .semi-table-header-sticky .semi-table-thead>.semi-table-row>.semi-table-row-head{background-color:transparent;border-width:1px}.data-table-To2pKr .semi-table-tbody>.semi-table-row:hover>.semi-table-row-cell{background-color:transparent;background-image:none}.data-table-To2pKr .semi-table-tbody>.semi-table-row>.semi-table-row-cell-ellipsis{overflow:inherit;text-overflow:inherit;white-space:normal}.data-table-To2pKr .semi-spin{width:100%;height:100%;position:static}.data-table-To2pKr .semi-spin-children{height:100%}.data-table-To2pKr .semi-table-small{height:100%}.data-table-To2pKr .semi-table-container{height:100%}.reset-confirm-modal-rIErGM .semi-modal-title{color:#1c1d23}.reset-confirm-modal-rIErGM .semi-modal-body{color:#1c1d23}.reset-confirm-modal-rIErGM .semi-modal-footer .semi-button{margin-left:16px}.reset-confirm-modal-rIErGM .semi-button-tertiary{color:#1c1d23}.last-column-min-width-YW7fOh{min-width:120px}.last-column-date-vPlj0o{min-width:160px}.last-column-text-MI6B4H{min-width:300px}",""]),l.locals={"empty-wrapper-database":"empty-wrapper-database-X0FUbh",emptyWrapperDatabase:"empty-wrapper-database-X0FUbh","data-table":"data-table-To2pKr",dataTable:"data-table-To2pKr","reset-confirm-modal":"reset-confirm-modal-rIErGM",resetConfirmModal:"reset-confirm-modal-rIErGM","last-column-min-width":"last-column-min-width-YW7fOh",lastColumnMinWidth:"last-column-min-width-YW7fOh","last-column-date":"last-column-date-vPlj0o",lastColumnDate:"last-column-date-vPlj0o","last-column-text":"last-column-text-MI6B4H",lastColumnText:"last-column-text-MI6B4H"},t.Z=l},809183:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,".memory-debug-dropdown-jxOL0l{min-width:120px;padding:4px}.memory-debug-dropdown-item-Mg5Awz{color:var(--coz-fg-primary);border-radius:4px;line-height:20px;height:32px!important;padding:8px!important}.memory-debug-dropdown-item-Mg5Awz:not(.semi-dropdown-item-active-Qv9QAG):hover{background-color:var(--coz-mg-secondary-hovered)!important}.memory-debug-dropdown-item-Mg5Awz .semi-dropdown-item-icon{color:var(--coz-fg-secondary);font-size:16px}",""]),l.locals={"memory-debug-dropdown":"memory-debug-dropdown-jxOL0l",memoryDebugDropdown:"memory-debug-dropdown-jxOL0l","memory-debug-dropdown-item":"memory-debug-dropdown-item-Mg5Awz",memoryDebugDropdownItem:"memory-debug-dropdown-item-Mg5Awz","semi-dropdown-item-active":"semi-dropdown-item-active-Qv9QAG",semiDropdownItemActive:"semi-dropdown-item-active-Qv9QAG"},t.Z=l},277472:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,".tabs_memory-hURyKd{height:100%}.tabs_memory-hURyKd .semi-tabs-tab-line.semi-tabs-tab-left.semi-tabs-tab-active{color:#1d1c23;background:rgba(28,28,35,.05);border-left:none;border-radius:8px;font-size:14px;font-weight:600}.tabs_memory-hURyKd .semi-tabs-bar-left{box-sizing:border-box;background:#f0f0f5;border-right:none;width:216px;padding:24px 12px 0}.tabs_memory-hURyKd .semi-tabs-bar-line.semi-tabs-bar-left .semi-tabs-tab{border-left:none}.tabs_memory-hURyKd .semi-tabs-tab{color:#1d1c23;align-items:center;height:40px;margin-bottom:4px;padding:0 12px;font-size:14px;font-weight:400;display:flex}.tabs_memory-hURyKd .semi-tabs-tab:hover{border-left:none;border-radius:8px}.tabs_memory-hURyKd .semi-tabs-content{flex:1;padding:12px 12px 0}.tabs_memory-hURyKd .semi-tabs-content .semi-tabs-pane-active.semi-tabs-pane{overflow:auto}.tabs_memory-hURyKd .semi-tabs-pane{height:100%}.tabs_memory-hURyKd .semi-tabs-pane-motion-overlay{height:100%}.memory-debug-modal-lnLzHg .semi-modal-content{padding:0;background-color:#f7f7fa!important}.memory-debug-modal-lnLzHg .semi-modal-content .semi-modal-header{border-bottom:1px solid rgba(29,28,35,.08);margin:0;padding:24px}.memory-debug-modal-tabs-tab-Y91f2D svg{vertical-align:text-top;margin-right:8px;font-size:16px}",""]),l.locals={tabs_memory:"tabs_memory-hURyKd",tabsMemory:"tabs_memory-hURyKd","memory-debug-modal":"memory-debug-modal-lnLzHg",memoryDebugModal:"memory-debug-modal-lnLzHg","memory-debug-modal-tabs-tab":"memory-debug-modal-tabs-tab-Y91f2D",memoryDebugModalTabsTab:"memory-debug-modal-tabs-tab-Y91f2D"},t.Z=l},834743:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,".variable-debug-container-MnXlQr{flex-direction:column;flex:1;justify-content:space-between;height:100%;display:flex;overflow-y:auto}.variable-debug-container-MnXlQr .keyword-VPFh2f{flex-shrink:0;width:140px;margin-right:16px}.variable-debug-container-MnXlQr .value-hIRV7k{flex:1;width:0}.variable-debug-container-MnXlQr .update_time-C9xuxy{flex-shrink:0;width:110px;margin-left:16px}.variable-debug-container-MnXlQr .modal-container-title-kILAKs{align-items:center;margin-bottom:6px;display:flex}.variable-debug-container-MnXlQr .modal-container-title-kILAKs .keyword-VPFh2f,.variable-debug-container-MnXlQr .modal-container-title-kILAKs .value-hIRV7k,.variable-debug-container-MnXlQr .modal-container-title-kILAKs .update_time-C9xuxy{color:var(--Light-usage-text---color-text-0,#1d1c23);font-size:12px;line-height:16px}.variable-debug-container-MnXlQr .modal-container-row-U5LVrK{align-items:center;display:flex}.variable-debug-container-MnXlQr .modal-container-row-U5LVrK.system_row-GcSeib{color:var(--Light-usage-text---color-text-1,rgba(29,28,35,.8));font-size:12px}.variable-debug-container-MnXlQr .modal-container-row-U5LVrK.system_row-GcSeib .semi-typography{color:var(--Light-usage-text---color-text-1,rgba(29,28,35,.8));flex:1;font-size:12px}.variable-debug-container-MnXlQr .modal-container-row-U5LVrK:not(:last-child){margin-bottom:16px}.variable-debug-container-MnXlQr .modal-container-row-U5LVrK .keyword-VPFh2f{font-size:14px;font-weight:600;line-height:22px}.variable-debug-container-MnXlQr .modal-container-row-U5LVrK .update_time-C9xuxy{color:var(--light-usage-text-color-text-2,rgba(29,28,35,.6));text-overflow:ellipsis;font-size:12px;line-height:16px}.operate-area-GwCoP2{border-top:1px solid var(--light-usage-border-color-border,rgba(29,28,35,.08));flex-shrink:0;padding:24px 0}.hover-tip-mtUab1{max-width:410px!important}.variable-debug-footer-NSBxdl{justify-content:flex-end;margin:24px 0;display:flex}.debug-header-deal-button-bv6e3i{border-radius:4px!important;height:26px!important;margin-left:8px!important;padding:4px!important}.debug-header-deal-button-bv6e3i:hover{background:var(--light-usage-fill-color-fill-0,rgba(46,46,56,.04))!important}.debug-header-deal-button-bv6e3i:active{background:var(--light-usage-fill-color-fill-1,rgba(46,46,56,.08))!important}.debug-header-deal-button-bv6e3i.click-z0GP8A{background:var(--light-usage-fill-color-fill-2,rgba(46,46,56,.12))!important}",""]),l.locals={"variable-debug-container":"variable-debug-container-MnXlQr",variableDebugContainer:"variable-debug-container-MnXlQr",keyword:"keyword-VPFh2f",value:"value-hIRV7k",update_time:"update_time-C9xuxy",updateTime:"update_time-C9xuxy","modal-container-title":"modal-container-title-kILAKs",modalContainerTitle:"modal-container-title-kILAKs","modal-container-row":"modal-container-row-U5LVrK",modalContainerRow:"modal-container-row-U5LVrK",system_row:"system_row-GcSeib",systemRow:"system_row-GcSeib","operate-area":"operate-area-GwCoP2",operateArea:"operate-area-GwCoP2","hover-tip":"hover-tip-mtUab1",hoverTip:"hover-tip-mtUab1","variable-debug-footer":"variable-debug-footer-NSBxdl",variableDebugFooter:"variable-debug-footer-NSBxdl","debug-header-deal-button":"debug-header-deal-button-bv6e3i",debugHeaderDealButton:"debug-header-deal-button-bv6e3i",click:"click-z0GP8A"},t.Z=l},450953:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a),s=r(964824),d=r.n(s),c=new URL(r(116458),r.b),u=l()(o()),p=d()(c);u.push([e.id,`.cropper-container{touch-action:none;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;direction:ltr;font-size:0;line-height:0;position:relative}.cropper-container img{-webkit-backface-visibility:hidden;backface-visibility:hidden;image-orientation:0deg;width:100%;height:100%;display:block;min-width:0!important;max-width:none!important;min-height:0!important;max-height:none!important}.cropper-wrap-box,.cropper-canvas,.cropper-drag-box,.cropper-crop-box,.cropper-modal{position:absolute;top:0;bottom:0;left:0;right:0}.cropper-wrap-box,.cropper-canvas{overflow:hidden}.cropper-drag-box{opacity:0;background-color:#fff}.cropper-modal{opacity:.5;background-color:#000}.cropper-view-box{outline:1px solid rgba(51,153,255,.75);width:100%;height:100%;display:block;overflow:hidden}.cropper-dashed{opacity:.5;border:0 dashed #eee;display:block;position:absolute}.cropper-dashed.dashed-h{border-top-width:1px;border-bottom-width:1px;width:100%;height:33.3333%;top:33.3333%;left:0}.cropper-dashed.dashed-v{border-left-width:1px;border-right-width:1px;width:33.3333%;height:100%;top:0;left:33.3333%}.cropper-center{opacity:.75;width:0;height:0;display:block;position:absolute;top:50%;left:50%}.cropper-center:before,.cropper-center:after{content:" ";background-color:#eee;display:block;position:absolute}.cropper-center:before{width:7px;height:1px;top:0;left:-3px}.cropper-center:after{width:1px;height:7px;top:-3px;left:0}.cropper-face,.cropper-line,.cropper-point{opacity:.1;width:100%;height:100%;display:block;position:absolute}.cropper-face{background-color:#fff;top:0;left:0}.cropper-line{background-color:#39f}.cropper-line.line-e{cursor:ew-resize;width:5px;top:0;right:-3px}.cropper-line.line-n{cursor:ns-resize;height:5px;top:-3px;left:0}.cropper-line.line-w{cursor:ew-resize;width:5px;top:0;left:-3px}.cropper-line.line-s{cursor:ns-resize;height:5px;bottom:-3px;left:0}.cropper-point{opacity:.75;background-color:#39f;width:5px;height:5px}.cropper-point.point-e{cursor:ew-resize;margin-top:-3px;top:50%;right:-3px}.cropper-point.point-n{cursor:ns-resize;margin-left:-3px;top:-3px;left:50%}.cropper-point.point-w{cursor:ew-resize;margin-top:-3px;top:50%;left:-3px}.cropper-point.point-s{cursor:s-resize;margin-left:-3px;bottom:-3px;left:50%}.cropper-point.point-ne{cursor:nesw-resize;top:-3px;right:-3px}.cropper-point.point-nw{cursor:nwse-resize;top:-3px;left:-3px}.cropper-point.point-sw{cursor:nesw-resize;bottom:-3px;left:-3px}.cropper-point.point-se{cursor:nwse-resize;opacity:1;width:20px;height:20px;bottom:-3px;right:-3px}@media (min-width:768px){.cropper-point.point-se{width:15px;height:15px}}@media (min-width:992px){.cropper-point.point-se{width:10px;height:10px}}@media (min-width:1200px){.cropper-point.point-se{opacity:.75;width:5px;height:5px}}.cropper-point.point-se:before{content:" ";opacity:0;background-color:#39f;width:200%;height:200%;display:block;position:absolute;bottom:-50%;right:-50%}.cropper-invisible{opacity:0}.cropper-bg{background-image:url(${p})}.cropper-hide{width:0;height:0;display:block;position:absolute}.cropper-hidden{display:none!important}.cropper-move{cursor:move}.cropper-crop{cursor:crosshair}.cropper-disabled .cropper-drag-box,.cropper-disabled .cropper-face,.cropper-disabled .cropper-line,.cropper-disabled .cropper-point{cursor:not-allowed}`,""]),t.Z=u},491285:function(e,t,r){"use strict";var n=r(125161),o=r.n(n),a=r(404442),l=r.n(a)()(o());l.push([e.id,".rc-slider{touch-action:none;box-sizing:border-box;-webkit-tap-highlight-color:transparent;border-radius:6px;width:100%;height:14px;padding:5px 0;position:relative}.rc-slider *{box-sizing:border-box;-webkit-tap-highlight-color:transparent}.rc-slider-rail{background-color:#e9e9e9;border-radius:6px;width:100%;height:4px;position:absolute}.rc-slider-track,.rc-slider-tracks{background-color:#abe2fb;border-radius:6px;height:4px;position:absolute}.rc-slider-track-draggable{z-index:1;box-sizing:content-box;background-clip:content-box;border-top:5px solid transparent;border-bottom:5px solid transparent;transform:translateY(-5px)}.rc-slider-handle{z-index:1;cursor:pointer;cursor:grab;opacity:.8;touch-action:pan-x;background-color:#fff;border:2px solid #96dbfa;border-radius:50%;width:14px;height:14px;margin-top:-5px;position:absolute}.rc-slider-handle-dragging.rc-slider-handle-dragging.rc-slider-handle-dragging{border-color:#57c5f7;box-shadow:0 0 0 5px #96dbfa}.rc-slider-handle:focus{box-shadow:none;outline:none}.rc-slider-handle:focus-visible{border-color:#2db7f5;box-shadow:0 0 0 3px #96dbfa}.rc-slider-handle-click-focused:focus{box-shadow:unset;border-color:#96dbfa}.rc-slider-handle:hover{border-color:#57c5f7}.rc-slider-handle:active{cursor:grabbing;border-color:#57c5f7;box-shadow:0 0 5px #57c5f7}.rc-slider-mark{width:100%;font-size:12px;position:absolute;top:18px;left:0}.rc-slider-mark-text{color:#999;text-align:center;vertical-align:middle;cursor:pointer;display:inline-block;position:absolute}.rc-slider-mark-text-active{color:#666}.rc-slider-step{background:0 0;width:100%;height:4px;position:absolute}.rc-slider-dot{vertical-align:middle;cursor:pointer;background-color:#fff;border:2px solid #e9e9e9;border-radius:50%;width:8px;height:8px;position:absolute;bottom:-2px}.rc-slider-dot-active{border-color:#96dbfa}.rc-slider-dot-reverse{margin-right:-4px}.rc-slider-disabled{background-color:#e9e9e9}.rc-slider-disabled .rc-slider-track{background-color:#ccc}.rc-slider-disabled .rc-slider-handle,.rc-slider-disabled .rc-slider-dot{box-shadow:none;cursor:not-allowed;background-color:#fff;border-color:#ccc}.rc-slider-disabled .rc-slider-mark-text,.rc-slider-disabled .rc-slider-dot{cursor:not-allowed!important}.rc-slider-vertical{width:14px;height:100%;padding:0 5px}.rc-slider-vertical .rc-slider-rail{width:4px;height:100%}.rc-slider-vertical .rc-slider-track{width:4px;bottom:0;left:5px}.rc-slider-vertical .rc-slider-track-draggable{border:0;border-left:5px solid transparent;border-right:5px solid transparent;transform:translate(-5px)}.rc-slider-vertical .rc-slider-handle{z-index:1;touch-action:pan-y;margin-top:0;margin-left:-5px;position:absolute}.rc-slider-vertical .rc-slider-mark{height:100%;top:0;left:18px}.rc-slider-vertical .rc-slider-step{width:4px;height:100%}.rc-slider-vertical .rc-slider-dot{margin-left:-2px}.rc-slider-tooltip-zoom-down-enter,.rc-slider-tooltip-zoom-down-appear,.rc-slider-tooltip-zoom-down-leave{animation-duration:.3s;animation-play-state:paused;animation-fill-mode:both;display:block!important}.rc-slider-tooltip-zoom-down-enter.rc-slider-tooltip-zoom-down-enter-active,.rc-slider-tooltip-zoom-down-appear.rc-slider-tooltip-zoom-down-appear-active{animation-name:rcSliderTooltipZoomDownIn;animation-play-state:running}.rc-slider-tooltip-zoom-down-leave.rc-slider-tooltip-zoom-down-leave-active{animation-name:rcSliderTooltipZoomDownOut;animation-play-state:running}.rc-slider-tooltip-zoom-down-enter,.rc-slider-tooltip-zoom-down-appear{animation-timing-function:cubic-bezier(.23,1,.32,1);transform:scale(0)}.rc-slider-tooltip-zoom-down-leave{animation-timing-function:cubic-bezier(.755,.05,.855,.06)}@keyframes rcSliderTooltipZoomDownIn{0%{transform-origin:50% 100%;opacity:0;transform:scale(0)}to{transform-origin:50% 100%;transform:scale(1)}}@keyframes rcSliderTooltipZoomDownOut{0%{transform-origin:50% 100%;transform:scale(1)}to{transform-origin:50% 100%;opacity:0;transform:scale(0)}}.rc-slider-tooltip{visibility:visible;box-sizing:border-box;-webkit-tap-highlight-color:transparent;position:absolute;top:-9999px;left:-9999px}.rc-slider-tooltip *{box-sizing:border-box;-webkit-tap-highlight-color:transparent}.rc-slider-tooltip-hidden{display:none}.rc-slider-tooltip-placement-top{padding:4px 0 8px}.rc-slider-tooltip-inner{color:#fff;text-align:center;background-color:#6c6c6c;border-radius:6px;min-width:24px;height:24px;padding:6px 2px;font-size:12px;line-height:1;text-decoration:none;box-shadow:0 0 4px #d9d9d9}.rc-slider-tooltip-arrow{border-style:solid;border-color:transparent;width:0;height:0;position:absolute}.rc-slider-tooltip-placement-top .rc-slider-tooltip-arrow{border-width:4px 4px 0;border-top-color:#6c6c6c;margin-left:-4px;bottom:4px;left:50%}",""]),t.Z=l},84094:function(e,t,r){"use strict";var n=r(407821),o=r.n(n),a=r(472772),l=r.n(a),s=r(395245),d=r.n(s),c=r(297998),u=r.n(c),p=r(646576),h=r.n(p),m=r(606121),g=r.n(m),f=r(450953),b={};b.styleTagTransform=g(),b.setAttributes=u(),b.insert=d().bind(null,"head"),b.domAPI=l(),b.insertStyleElement=h(),o()(f.Z,b),f.Z&&f.Z.locals&&f.Z.locals},634405:function(e,t,r){"use strict";var n=r(407821),o=r.n(n),a=r(472772),l=r.n(a),s=r(395245),d=r.n(s),c=r(297998),u=r.n(c),p=r(646576),h=r.n(p),m=r(606121),g=r.n(m),f=r(491285),b={};b.styleTagTransform=g(),b.setAttributes=u(),b.insert=d().bind(null,"head"),b.domAPI=l(),b.insertStyleElement=h(),o()(f.Z,b),f.Z&&f.Z.locals&&f.Z.locals},354428:function(e,t,r){"use strict";r.r(t),r.d(t,{useMonaco:()=>X,DiffEditor:()=>K,Editor:()=>J,loader:()=>P,default:()=>$});function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){var n,o,a;n=e,o=t,a=r[t],o in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){var n,o,a;n=e,o=t,a=r[t],o in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e){return function t(){for(var r=this,n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];return o.length>=e.length?e.apply(this,o):function(){for(var e=arguments.length,n=Array(e),a=0;a<e;a++)n[a]=arguments[a];return t.apply(r,[].concat(o,n))}}}function c(e){return({}).toString.call(e).includes("Object")}function u(e){return"function"==typeof e}var p,h,m,g=d(function(e,t){throw Error(e[t]||e.default)})({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),f=function(e,t){return!c(t)&&g("changeType"),Object.keys(t).some(function(t){var r,n;return r=e,n=t,!Object.prototype.hasOwnProperty.call(r,n)})&&g("changeField"),t},b=function(e){!u(e)&&g("selectorType")},v=function(e){!(u(e)||c(e))&&g("handlerType"),c(e)&&Object.values(e).some(function(e){return!u(e)})&&g("handlersType")},x=function(e){if(!e&&g("initialIsRequired"),!c(e)&&g("initialType"),!Object.keys(e).length)g("initialContent")};function y(e,t){return u(t)?t(e.current):t}function _(e,t){return e.current=s(s({},e.current),t),t}function w(e,t,r){return u(t)?t(e.current):Object.keys(r).forEach(function(r){var n;return null===(n=t[r])||void 0===n?void 0:n.call(t,e.current[r])}),r}var j={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "};var k=(p=function(e,t){throw Error(e[t]||e.default)},function e(){for(var t=this,r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return n.length>=p.length?p.apply(this,n):function(){for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return e.apply(t,[].concat(n,o))}})(j),N=function(e){var t;if(!e&&k("configIsRequired"),t=e,!({}).toString.call(t).includes("Object"))k("configType");return e.urls?(function(){console.warn(j.deprecation)}(),{paths:{vs:e.urls.monacoBase}}):e},T=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduceRight(function(e,t){return t(e)},e)}},E={type:"cancelation",msg:"operation is manually canceled"},D=function(e){var t=!1,r=new Promise(function(r,n){e.then(function(e){return t?n(E):r(e)}),e.catch(n)});return r.cancel=function(){return t=!0},r};var C=(m=2,function(e){if(Array.isArray(e))return e}(h=({create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};x(e),v(t);var r={current:e},n=d(w)(r,t),o=d(_)(r),a=d(f)(e),l=d(y)(r);return[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return b(e),e(r.current)},function(e){(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduceRight(function(e,t){return t(e)},e)}})(n,o,a,l)(e)}]}}).create({config:{paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}},isInitialized:!1,resolve:null,reject:null,monaco:null}))||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,a=void 0;try{for(var l,s=e[Symbol.iterator]();!(n=(l=s.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{!n&&null!=s.return&&s.return()}finally{if(o)throw a}}return r}}(h,2)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}}(h,m)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),S=C[0],I=C[1];function M(e){return document.body.appendChild(e)}function O(e){var t,r,n=S(function(e){return{config:e.config,reject:e.reject}});var o=(t="".concat(n.config.paths.vs,"/loader.js"),r=document.createElement("script"),t&&(r.src=t),r);return o.onload=function(){return e()},o.onerror=n.reject,o}function A(){var e=S(function(e){return{config:e.config,resolve:e.resolve,reject:e.reject}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(t){z(t),e.resolve(t)},function(t){e.reject(t)})}function z(e){!S().monaco&&I({monaco:e})}var L=new Promise(function(e,t){return I({resolve:e,reject:t})}),P={config:function(e){var t=N(e),r=t.monaco,n=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],!(t.indexOf(r)>=0)&&(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++){if(r=a[n],!(t.indexOf(r)>=0))Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}}return o}(t,["monaco"]);I(function(e){return{config:function e(t,r){return Object.keys(r).forEach(function(n){r[n]instanceof Object&&t[n]&&Object.assign(r[n],e(t[n],r[n]))}),o(o({},t),r)}(e.config,n),monaco:r}})},init:function(){var e=S(function(e){return{monaco:e.monaco,isInitialized:e.isInitialized,resolve:e.resolve}});if(!e.isInitialized){if(I({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),D(L);if(window.monaco&&window.monaco.editor)return z(window.monaco),e.resolve(window.monaco),D(L);T(M,O)(A)}return D(L)},__getMonacoInstance:function(){return S(function(e){return e.monaco})}},R=r("455069"),Z={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},B={display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"},U=function({children:e}){return R.createElement("div",{style:B},e)},F=(0,R.memo)(function({width:e,height:t,isEditorReady:r,loading:n,_ref:o,className:a,wrapperProps:l}){return R.createElement("section",{style:{...Z.wrapper,width:e,height:t},...l},!r&&R.createElement(U,null,n),R.createElement("div",{ref:o,style:{...Z.fullWidth,...!r&&Z.hide},className:a}))}),H=function(e){(0,R.useEffect)(e,[])},V=function(e,t,r=!0){let n=(0,R.useRef)(!0);(0,R.useEffect)(n.current||!r?()=>{n.current=!1}:e,t)};function W(){}function G(e,t,r,n){return function(e,t){return e.editor.getModel(q(e,t))}(e,n)||function(e,t,r,n){return e.editor.createModel(t,r,n?q(e,n):void 0)}(e,t,r,n)}function q(e,t){return e.Uri.parse(t)}var K=(0,R.memo)(function({original:e,modified:t,language:r,originalLanguage:n,modifiedLanguage:o,originalModelPath:a,modifiedModelPath:l,keepCurrentOriginalModel:s=!1,keepCurrentModifiedModel:d=!1,theme:c="light",loading:u="Loading...",options:p={},height:h="100%",width:m="100%",className:g,wrapperProps:f={},beforeMount:b=W,onMount:v=W}){let[x,y]=(0,R.useState)(!1),[_,w]=(0,R.useState)(!0),j=(0,R.useRef)(null),k=(0,R.useRef)(null),N=(0,R.useRef)(null),T=(0,R.useRef)(v),E=(0,R.useRef)(b),D=(0,R.useRef)(!1);H(()=>{let e=P.init();return e.then(e=>(k.current=e)&&w(!1)).catch(e=>e?.type!=="cancelation"&&console.error("Monaco initialization: error:",e)),()=>j.current?function(){let e=j.current?.getModel();s||e?.original?.dispose(),d||e?.modified?.dispose(),j.current?.dispose()}():e.cancel()}),V(()=>{if(j.current&&k.current){let t=j.current.getOriginalEditor(),o=G(k.current,e||"",n||r||"text",a||"");o!==t.getModel()&&t.setModel(o)}},[a],x),V(()=>{if(j.current&&k.current){let e=j.current.getModifiedEditor(),n=G(k.current,t||"",o||r||"text",l||"");n!==e.getModel()&&e.setModel(n)}},[l],x),V(()=>{let e=j.current.getModifiedEditor();e.getOption(k.current.editor.EditorOption.readOnly)?e.setValue(t||""):t!==e.getValue()&&(e.executeEdits("",[{range:e.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),e.pushUndoStop())},[t],x),V(()=>{j.current?.getModel()?.original.setValue(e||"")},[e],x),V(()=>{let{original:e,modified:t}=j.current.getModel();k.current.editor.setModelLanguage(e,n||r||"text"),k.current.editor.setModelLanguage(t,o||r||"text")},[r,n,o],x),V(()=>{k.current?.editor.setTheme(c)},[c],x),V(()=>{j.current?.updateOptions(p)},[p],x);let C=(0,R.useCallback)(()=>{if(!k.current)return;E.current(k.current);let s=G(k.current,e||"",n||r||"text",a||""),d=G(k.current,t||"",o||r||"text",l||"");j.current?.setModel({original:s,modified:d})},[r,t,o,e,n,a,l]),S=(0,R.useCallback)(()=>{!D.current&&N.current&&(j.current=k.current.editor.createDiffEditor(N.current,{automaticLayout:!0,...p}),C(),k.current?.editor.setTheme(c),y(!0),D.current=!0)},[p,c,C]);return(0,R.useEffect)(()=>{x&&T.current(j.current,k.current)},[x]),(0,R.useEffect)(()=>{_||x||S()},[_,x,S]),R.createElement(F,{width:m,height:h,isEditorReady:x,loading:u,_ref:N,className:g,wrapperProps:f})}),X=function(){let[e,t]=(0,R.useState)(P.__getMonacoInstance());return H(()=>{let r;return e||(r=P.init()).then(e=>{t(e)}),()=>r?.cancel()}),e},Y=function(e){let t=(0,R.useRef)();return(0,R.useEffect)(()=>{t.current=e},[e]),t.current},Q=new Map,J=(0,R.memo)(function({defaultValue:e,defaultLanguage:t,defaultPath:r,value:n,language:o,path:a,theme:l="light",line:s,loading:d="Loading...",options:c={},overrideServices:u={},saveViewState:p=!0,keepCurrentModel:h=!1,width:m="100%",height:g="100%",className:f,wrapperProps:b={},beforeMount:v=W,onMount:x=W,onChange:y,onValidate:_=W}){let[w,j]=(0,R.useState)(!1),[k,N]=(0,R.useState)(!0),T=(0,R.useRef)(null),E=(0,R.useRef)(null),D=(0,R.useRef)(null),C=(0,R.useRef)(x),S=(0,R.useRef)(v),I=(0,R.useRef)(),M=(0,R.useRef)(n),O=Y(a),A=(0,R.useRef)(!1),z=(0,R.useRef)(!1);H(()=>{let e=P.init();return e.then(e=>(T.current=e)&&N(!1)).catch(e=>e?.type!=="cancelation"&&console.error("Monaco initialization: error:",e)),()=>E.current?function(){I.current?.dispose(),h?p&&Q.set(a,E.current.saveViewState()):E.current.getModel()?.dispose(),E.current.dispose()}():e.cancel()}),V(()=>{let l=G(T.current,e||n||"",t||o||"",a||r||"");l!==E.current?.getModel()&&(p&&Q.set(O,E.current?.saveViewState()),E.current?.setModel(l),p&&E.current?.restoreViewState(Q.get(a)))},[a],w),V(()=>{E.current?.updateOptions(c)},[c],w),V(()=>{E.current&&void 0!==n&&(E.current.getOption(T.current.editor.EditorOption.readOnly)?E.current.setValue(n):n===E.current.getValue()||(z.current=!0,E.current.executeEdits("",[{range:E.current.getModel().getFullModelRange(),text:n,forceMoveMarkers:!0}]),E.current.pushUndoStop(),z.current=!1))},[n],w),V(()=>{let e=E.current?.getModel();e&&o&&T.current?.editor.setModelLanguage(e,o)},[o],w),V(()=>{void 0!==s&&E.current?.revealLine(s)},[s],w),V(()=>{T.current?.editor.setTheme(l)},[l],w);let L=(0,R.useCallback)(()=>{if(!(!D.current||!T.current)&&!A.current){S.current(T.current);let d=a||r,h=G(T.current,n||e||"",t||o||"",d||"");E.current=T.current?.editor.create(D.current,{model:h,automaticLayout:!0,...c},u),p&&E.current.restoreViewState(Q.get(d)),T.current.editor.setTheme(l),void 0!==s&&E.current.revealLine(s),j(!0),A.current=!0}},[e,t,r,n,o,a,c,u,p,l,s]);return(0,R.useEffect)(()=>{w&&C.current(E.current,T.current)},[w]),(0,R.useEffect)(()=>{k||w||L()},[k,w,L]),M.current=n,(0,R.useEffect)(()=>{w&&y&&(I.current?.dispose(),I.current=E.current?.onDidChangeModelContent(e=>{z.current||y(E.current.getValue(),e)}))},[w,y]),(0,R.useEffect)(()=>{if(w){let e=T.current.editor.onDidChangeMarkers(e=>{let t=E.current.getModel()?.uri;if(t&&e.find(e=>e.path===t.path)){let e=T.current.editor.getModelMarkers({resource:t});_?.(e)}});return()=>{e?.dispose()}}return()=>{}},[w,_]),R.createElement(F,{width:m,height:g,isEditorReady:w,loading:d,_ref:D,className:f,wrapperProps:b})}),$=J},252321:function(e,t,r){"use strict";function n(e,t,...r){if(function(){return"undefined"!=typeof process}()&&void 0===t)throw Error("invariant requires an error message argument");if(!e){let e;if(void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let n=0;(e=Error(t.replace(/%s/g,function(){return r[n++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}r.d(t,{k:function(){return n}})},260433:function(e,t,r){"use strict";function n(e,t,r,n){let o=r?r.call(n,e,t):void 0;if(void 0!==o)return!!o;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;let a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;let s=Object.prototype.hasOwnProperty.bind(t);for(let l=0;l<a.length;l++){let d=a[l];if(!s(d))return!1;let c=e[d],u=t[d];if(!1===(o=r?r.call(n,c,u,d):void 0)||void 0===o&&c!==u)return!1}return!0}r.d(t,{w:function(){return n}})},478641:function(e,t,r){"use strict";if(r.d(t,{Z:function(){return l}}),!n)var n={map:function(e,t){var r={};return t?e.map(function(e,n){return r.index=n,t.call(r,e)}):e.slice()},naturalOrder:function(e,t){return e<t?-1:e>t?1:0},sum:function(e,t){var r={};return e.reduce(t?function(e,n,o){return r.index=o,e+t.call(r,n)}:function(e,t){return e+t},0)},max:function(e,t){return Math.max.apply(null,t?n.map(e,t):e)}};var o=function(){var e=3;function t(e,t,r){return(e<<10)+(t<<5)+r}function r(e){var t=[],r=!1;function n(){t.sort(e),r=!0}return{push:function(e){t.push(e),r=!1},peek:function(e){return r||n(),void 0===e&&(e=t.length-1),t[e]},pop:function(){return r||n(),t.pop()},size:function(){return t.length},map:function(e){return t.map(e)},debug:function(){return r||n(),t}}}function o(e,t,r,n,o,a,l){this.r1=e,this.r2=t,this.g1=r,this.g2=n,this.b1=o,this.b2=a,this.histo=l}function a(){this.vboxes=new r(function(e,t){return n.naturalOrder(e.vbox.count()*e.vbox.volume(),t.vbox.count()*t.vbox.volume())})}return o.prototype={volume:function(e){return this._volume&&!e||(this._volume=(this.r2-this.r1+1)*(this.g2-this.g1+1)*(this.b2-this.b1+1)),this._volume},count:function(e){var r=this.histo;if(!this._count_set||e){var n,o,a,l=0;for(n=this.r1;n<=this.r2;n++)for(o=this.g1;o<=this.g2;o++)for(a=this.b1;a<=this.b2;a++)l+=r[t(n,o,a)]||0;this._count=l,this._count_set=!0}return this._count},copy:function(){return new o(this.r1,this.r2,this.g1,this.g2,this.b1,this.b2,this.histo)},avg:function(e){var r=this.histo;if(!this._avg||e){var n,o,a,l,s=0,d=8,c=0,u=0,p=0;for(o=this.r1;o<=this.r2;o++)for(a=this.g1;a<=this.g2;a++)for(l=this.b1;l<=this.b2;l++)s+=n=r[t(o,a,l)]||0,c+=n*(o+.5)*d,u+=n*(a+.5)*d,p+=n*(l+.5)*d;this._avg=s?[~~(c/s),~~(u/s),~~(p/s)]:[~~(d*(this.r1+this.r2+1)/2),~~(d*(this.g1+this.g2+1)/2),~~(d*(this.b1+this.b2+1)/2)]}return this._avg},contains:function(t){var r=t[0]>>e;return gval=t[1]>>e,bval=t[2]>>e,r>=this.r1&&r<=this.r2&&gval>=this.g1&&gval<=this.g2&&bval>=this.b1&&bval<=this.b2}},a.prototype={push:function(e){this.vboxes.push({vbox:e,color:e.avg()})},palette:function(){return this.vboxes.map(function(e){return e.color})},size:function(){return this.vboxes.size()},map:function(e){for(var t=this.vboxes,r=0;r<t.size();r++)if(t.peek(r).vbox.contains(e))return t.peek(r).color;return this.nearest(e)},nearest:function(e){for(var t,r,n,o=this.vboxes,a=0;a<o.size();a++)((r=Math.sqrt(Math.pow(e[0]-o.peek(a).color[0],2)+Math.pow(e[1]-o.peek(a).color[1],2)+Math.pow(e[2]-o.peek(a).color[2],2)))<t||void 0===t)&&(t=r,n=o.peek(a).color);return n},forcebw:function(){var e=this.vboxes;e.sort(function(e,t){return n.naturalOrder(n.sum(e.color),n.sum(t.color))});var t=e[0].color;t[0]<5&&t[1]<5&&t[2]<5&&(e[0].color=[0,0,0]);var r=e.length-1,o=e[r].color;o[0]>251&&o[1]>251&&o[2]>251&&(e[r].color=[255,255,255])}},{quantize:function(l,s){if(!l.length||s<2||s>256)return!1;var d,c,u,p,h,m,g,f,b,v,x,y,_,w,j=(d=l,u=Array(32768),d.forEach(function(r){u[c=t(r[0]>>e,r[1]>>e,r[2]>>e)]=(u[c]||0)+1}),u);j.forEach(function(){});var k=(p=l,h=j,b=1e6,v=0,x=1e6,y=0,_=1e6,w=0,p.forEach(function(t){(m=t[0]>>e)<b?b=m:m>v&&(v=m),(g=t[1]>>e)<x?x=g:g>y&&(y=g),(f=t[2]>>e)<_?_=f:f>w&&(w=f)}),new o(b,v,x,y,_,w,h)),N=new r(function(e,t){return n.naturalOrder(e.count(),t.count())});function T(e,r){for(var o,a=e.size(),l=0;l<1e3;){if(a>=r||l++>1e3)return;if((o=e.pop()).count()){var s=function(e,r){if(r.count()){var o=r.r2-r.r1+1,a=r.g2-r.g1+1,l=n.max([o,a,r.b2-r.b1+1]);if(1==r.count())return[r.copy()];var s,d,c,u,p=0,h=[],m=[];if(l==o)for(s=r.r1;s<=r.r2;s++){for(u=0,d=r.g1;d<=r.g2;d++)for(c=r.b1;c<=r.b2;c++)u+=e[t(s,d,c)]||0;h[s]=p+=u}else if(l==a)for(s=r.g1;s<=r.g2;s++){for(u=0,d=r.r1;d<=r.r2;d++)for(c=r.b1;c<=r.b2;c++)u+=e[t(d,s,c)]||0;h[s]=p+=u}else for(s=r.b1;s<=r.b2;s++){for(u=0,d=r.r1;d<=r.r2;d++)for(c=r.g1;c<=r.g2;c++)u+=e[t(d,c,s)]||0;h[s]=p+=u}return h.forEach(function(e,t){m[t]=p-e}),function(e){var t,n,o,a,l,d=e+"1",c=e+"2",u=0;for(s=r[d];s<=r[c];s++)if(h[s]>p/2){for(o=r.copy(),a=r.copy(),l=(t=s-r[d])<=(n=r[c]-s)?Math.min(r[c]-1,~~(s+n/2)):Math.max(r[d],~~(s-1-t/2));!h[l];)l++;for(u=m[l];!u&&h[l-1];)u=m[--l];return o[c]=l,a[d]=o[c]+1,[o,a]}}(l==o?"r":l==a?"g":"b")}}(j,o),d=s[0],c=s[1];if(!d)return;e.push(d),c&&(e.push(c),a++)}else e.push(o),l++}}N.push(k),T(N,.75*s);for(var E=new r(function(e,t){return n.naturalOrder(e.count()*e.volume(),t.count()*t.volume())});N.size();)E.push(N.pop());T(E,s);for(var D=new a;E.size();)D.push(E.pop());return D}}}().quantize,a=function(e){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.width=this.canvas.width=e.naturalWidth,this.height=this.canvas.height=e.naturalHeight,this.context.drawImage(e,0,0,this.width,this.height)};a.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)};var l=function(){};l.prototype.getColor=function(e,t){return void 0===t&&(t=10),this.getPalette(e,5,t)[0]},l.prototype.getPalette=function(e,t,r){var n=function(e){var t=e.colorCount,r=e.quality;if(void 0!==t&&Number.isInteger(t)){if(1===t)throw Error("colorCount should be between 2 and 20. To get one color, call getColor() instead of getPalette()");t=Math.min(t=Math.max(t,2),20)}else t=10;return(void 0===r||!Number.isInteger(r)||r<1)&&(r=10),{colorCount:t,quality:r}}({colorCount:t,quality:r}),l=new a(e),s=o(function(e,t,r){for(var n,o,a,l,s,d=[],c=0;c<t;c+=r)o=e[0+(n=4*c)],a=e[n+1],l=e[n+2],(void 0===(s=e[n+3])||s>=125)&&(o>250&&a>250&&l>250||d.push([o,a,l]));return d}(l.getImageData().data,l.width*l.height,n.quality),n.colorCount);return s?s.palette():null},l.prototype.getColorFromUrl=function(e,t,r){var n=this,o=document.createElement("img");o.addEventListener("load",function(){t(n.getPalette(o,5,r)[0],e)}),o.src=e},l.prototype.getImageData=function(e,t){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){if(200==this.status){var e=new Uint8Array(this.response);i=e.length;for(var r=Array(i),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);var o=r.join("");t("data:image/png;base64,"+window.btoa(o))}},r.send()},l.prototype.getColorAsync=function(e,t,r){var n=this;this.getImageData(e,function(e){var o=document.createElement("img");o.addEventListener("load",function(){t(n.getPalette(o,5,r)[0],this)}),o.src=e})}},889514:function(e,t,r){"use strict";function n(e,t){let r=t||{};return(""===e[e.length-1]?[...e,""]:e).join((r.padRight?" ":"")+","+(!1===r.padLeft?"":" ")).trim()}r.d(t,{P:function(){return n}})},924907:function(e,t,r){"use strict";var n=r(52141);t.Z=function(e,t,r){var o=e.length;return r=void 0===r?o:r,!t&&r>=o?e:(0,n.Z)(e,t,r)}},590709:function(e,t,r){"use strict";r.d(t,{Z:()=>g});var n=r("59110"),o="\ud800-\udfff",a="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",l="\ud83c[\udffb-\udfff]",s="[^"+o+"]",d="(?:\ud83c[\udde6-\uddff]){2}",c="[\ud800-\udbff][\udc00-\udfff]",u="(?:"+a+"|"+l+")?",p="[\\ufe0e\\ufe0f]?",h="(?:\\u200d(?:"+[s,d,c].join("|")+")"+p+u+")*",m=RegExp(l+"(?="+l+")|"+("(?:"+[s+a+"?",a,d,c,"["+o+"]"].join("|")+")")+(p+u+h),"g"),g=function(e){return(0,n.Z)(e)?e.match(m)||[]:e.split("")}},492570:function(e,t,r){"use strict";var n=(0,r(709794).Z)("floor");t.Z=n},573242:function(e,t,r){"use strict";r.d(t,{PD:()=>j});var n={};function o(e){let t=null;return()=>(null==t&&(t=e()),t)}r.r(n),r.d(n,{FILE:()=>s,HTML:()=>u,TEXT:()=>c,URL:()=>d});class a{enter(e){let t=this.entered.length;return this.entered=function(e,t){let r=new Set,n=e=>r.add(e);e.forEach(n),t.forEach(n);let o=[];return r.forEach(e=>o.push(e)),o}(this.entered.filter(t=>this.isNodeInDocument(t)&&(!t.contains||t.contains(e))),[e]),0===t&&this.entered.length>0}leave(e){var t,r;let n=this.entered.length;return this.entered=(t=this.entered.filter(this.isNodeInDocument),r=e,t.filter(e=>e!==r)),n>0&&0===this.entered.length}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class l{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get:()=>(console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null)})})}loadDataTransfer(e){if(e){let t={};Object.keys(this.config.exposeProperties).forEach(r=>{let n=this.config.exposeProperties[r];null!=n&&(t[r]={value:n(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,t)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,t){return t===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}let s="__NATIVE_FILE__",d="__NATIVE_URL__",c="__NATIVE_TEXT__",u="__NATIVE_HTML__";function p(e,t,r){let n=t.reduce((t,r)=>t||e.getData(r),"");return null!=n?n:r}let h={[s]:{exposeProperties:{files:e=>Array.prototype.slice.call(e.files),items:e=>e.items,dataTransfer:e=>e},matchesTypes:["Files"]},[u]:{exposeProperties:{html:(e,t)=>p(e,t,""),dataTransfer:e=>e},matchesTypes:["Html","text/html"]},[d]:{exposeProperties:{urls:(e,t)=>p(e,t,"").split("\n"),dataTransfer:e=>e},matchesTypes:["Url","text/uri-list"]},[c]:{exposeProperties:{text:(e,t)=>p(e,t,""),dataTransfer:e=>e},matchesTypes:["Text","text/plain"]}};function m(e){if(!e)return null;let t=Array.prototype.slice.call(e.types||[]);return Object.keys(h).filter(e=>{let r=h[e];return(null==r?!!void 0:!!r.matchesTypes)&&r.matchesTypes.some(e=>t.indexOf(e)>-1)})[0]||null}let g=o(()=>/firefox/i.test(navigator.userAgent)),f=o(()=>!!window.safari);class b{interpolate(e){let t;let{xs:r,ys:n,c1s:o,c2s:a,c3s:l}=this,s=r.length-1;if(e===r[s])return n[s];let d=0,c=l.length-1;for(;d<=c;){let o=r[t=Math.floor(.5*(d+c))];if(o<e)d=t+1;else{if(!(o>e))return n[t];c=t-1}}let u=e-r[s=Math.max(0,c)],p=u*u;return n[s]+o[s]*u+a[s]*p+l[s]*u*p}constructor(e,t){let r,n,o;let{length:a}=e,l=[];for(let e=0;e<a;e++)l.push(e);l.sort((t,r)=>e[t]<e[r]?-1:1);let s=[],d=[],c=[];for(let o=0;o<a-1;o++)r=e[o+1]-e[o],n=t[o+1]-t[o],d.push(r),s.push(n),c.push(n/r);let u=[c[0]];for(let e=0;e<d.length-1;e++){let t=c[e],n=c[e+1];if(t*n<=0)u.push(0);else{r=d[e];let o=d[e+1],a=r+o;u.push(3*a/((a+o)/t+(a+r)/n))}}u.push(c[c.length-1]);let p=[],h=[];for(let e=0;e<u.length-1;e++){o=c[e];let t=u[e],r=1/d[e],n=t+u[e+1]-o-o;p.push((o-t-n)*r),h.push(n*r*r)}this.xs=e,this.ys=t,this.c1s=u,this.c2s=p,this.c3s=h}}function v(e){let t=1===e.nodeType?e:e.parentElement;if(!t)return null;let{top:r,left:n}=t.getBoundingClientRect();return{x:n,y:r}}function x(e){return{x:e.clientX,y:e.clientY}}class y{get window(){return this.globalContext?this.globalContext:"undefined"!=typeof window?window:void 0}get document(){var e;return(null===(e=this.globalContext)||void 0===e?void 0:e.document)?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return(null===(e=this.optionsArgs)||void 0===e?void 0:e.rootElement)||this.window}constructor(e,t){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=t}}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n,o,a;n=e,o=t,a=r[t],o in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a})}return e}class w{profile(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:(null===(e=this.dragStartSourceIds)||void 0===e?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:(null===(t=this.dragOverTargetIds)||void 0===t?void 0:t.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){let e=this.rootElement;if(void 0!==e){if(e.__isReactDndBackendSetUp)throw Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){let e=this.rootElement;if(void 0!==e){if(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId){var t;null===(t=this.window)||void 0===t||t.cancelAnimationFrame(this.asyncEndDragFrameId)}}}connectDragPreview(e,t,r){return this.sourcePreviewNodeOptions.set(e,r),this.sourcePreviewNodes.set(e,t),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,t,r){this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,r);let n=t=>this.handleDragStart(t,e),o=e=>this.handleSelectStart(e);return t.setAttribute("draggable","true"),t.addEventListener("dragstart",n),t.addEventListener("selectstart",o),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",n),t.removeEventListener("selectstart",o),t.setAttribute("draggable","false")}}connectDropTarget(e,t){let r=t=>this.handleDragEnter(t,e),n=t=>this.handleDragOver(t,e),o=t=>this.handleDrop(t,e);return t.addEventListener("dragenter",r),t.addEventListener("dragover",n),t.addEventListener("drop",o),()=>{t.removeEventListener("dragenter",r),t.removeEventListener("dragover",n),t.removeEventListener("drop",o)}}addEventListeners(e){if(!!e.addEventListener)e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0)}removeEventListeners(e){if(!!e.removeEventListener)e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0)}getCurrentSourceNodeOptions(){let e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return _({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){let e=this.monitor.getSourceId();return _({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}isDraggingNativeItem(){let e=this.monitor.getItemType();return Object.keys(n).some(t=>n[t]===e)}beginDragNativeItem(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(e,t){let r=h[e];if(!r)throw Error(`native type ${e} has no configuration`);let n=new l(r);return n.loadDataTransfer(t),n}(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;this.mouseMoveTimeoutTimer=setTimeout(()=>{var e;return null===(e=this.rootElement)||void 0===e?void 0:e.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},1e3)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;null===(e=this.window)||void 0===e||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,t){if(!e.defaultPrevented)!this.dragStartSourceIds&&(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t)}handleDragEnter(e,t){this.dragEnterTargetIds.unshift(t)}handleDragOver(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}handleDrop(e,t){this.dropTargetIds.unshift(t)}constructor(e,t,r){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=e=>{let t=this.sourceNodes.get(e);return t&&v(t)||null},this.endDragNativeItem=()=>{if(!!this.isDraggingNativeItem())this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null},this.isNodeInDocument=e=>!!(e&&this.document&&this.document.body&&this.document.body.contains(e)),this.endDragIfSourceWasRemovedFromDOM=()=>{let e=this.currentDragSourceNode;if(!(null==e||this.isNodeInDocument(e)))this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.scheduleHover=e=>{null===this.hoverRafId&&"undefined"!=typeof requestAnimationFrame&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(e||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{null!==this.hoverRafId&&"undefined"!=typeof cancelAnimationFrame&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=e=>{if(e.defaultPrevented)return;let{dragStartSourceIds:t}=this;this.dragStartSourceIds=null;let r=x(e);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:r});let{dataTransfer:n}=e,o=m(n);if(this.monitor.isDragging()){if(n&&"function"==typeof n.setDragImage){let e=this.monitor.getSourceId(),t=this.sourceNodes.get(e),o=this.sourcePreviewNodes.get(e)||t;if(o){let{anchorX:e,anchorY:a,offsetX:l,offsetY:s}=this.getCurrentSourcePreviewNodeOptions(),d=function(e,t,r,n,o){var a,l,s,d,c,u;let p,h,m;let x="IMG"===(a=t).nodeName&&(g()||!(null===(l=document.documentElement)||void 0===l?void 0:l.contains(a))),y=v(x?e:t),_={x:r.x-y.x,y:r.y-y.y},{offsetWidth:w,offsetHeight:j}=e,{anchorX:k,anchorY:N}=n;let{dragPreviewWidth:T,dragPreviewHeight:E}=(s=x,d=t,c=w,u=j,p=s?d.width:c,h=s?d.height:u,f()&&s&&(h/=window.devicePixelRatio,p/=window.devicePixelRatio),{dragPreviewWidth:p,dragPreviewHeight:h}),{offsetX:D,offsetY:C}=o;return{x:0===D||D?D:new b([0,.5,1],[_.x,_.x/w*T,_.x+T-w]).interpolate(k),y:0===C||C?C:(m=new b([0,.5,1],[_.y,_.y/j*E,_.y+E-j]).interpolate(N),f()&&x&&(m+=(window.devicePixelRatio-1)*E),m)}}(t,o,r,{anchorX:e,anchorY:a},{offsetX:l,offsetY:s});n.setDragImage(o,d.x,d.y)}}try{null==n||n.setData("application/json",{})}catch(e){}this.setCurrentDragSourceNode(e.target);let{captureDraggingState:t}=this.getCurrentSourcePreviewNodeOptions();t?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(o)this.beginDragNativeItem(o);else{if(n&&!n.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=e=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var t;null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer)}if(!this.enterLeaveCounter.enter(e.target)||this.monitor.isDragging())return;let{dataTransfer:r}=e,n=m(r);n&&this.beginDragNativeItem(n,r)},this.handleTopDragEnter=e=>{let{dragEnterTargetIds:t}=this;if(this.dragEnterTargetIds=[],!!this.monitor.isDragging())this.altKeyPressed=e.altKey,t.length>0&&this.actions.hover(t,{clientOffset:x(e)}),t.some(e=>this.monitor.canDropOnTarget(e))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=e=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var t;null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer)}},this.handleTopDragOver=e=>{let{dragOverTargetIds:t}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none");return}this.altKeyPressed=e.altKey,this.lastClientOffset=x(e),this.scheduleHover(t),(t||[]).some(e=>this.monitor.canDropOnTarget(e))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=e=>{if(this.isDraggingNativeItem()&&e.preventDefault(),!!this.enterLeaveCounter.leave(e.target))this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover()},this.handleTopDropCapture=e=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var t;e.preventDefault(),null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer)}else m(e.dataTransfer)&&e.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=e=>{let{dropTargetIds:t}=this;this.dropTargetIds=[],this.actions.hover(t,{clientOffset:x(e)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=e=>{let t=e.target;if("function"==typeof t.dragDrop&&"INPUT"!==t.tagName&&"SELECT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable)e.preventDefault(),t.dragDrop()},this.options=new y(t,r),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new a(this.isNodeInDocument)}}let j=function(e,t,r){return new w(e,t,r)}},545690:function(e,t,r){"use strict";r.d(t,{L:function(){return n}});let n=(0,r(455069).createContext)({dragDropManager:void 0})},879179:function(e,t,r){"use strict";r.d(t,{W:()=>X});var n,o,a=r("151064"),l=r("275211"),s=r("252321");function d(e){return"object"==typeof e}let c="dnd-core/INIT_COORDS",u="dnd-core/BEGIN_DRAG",p="dnd-core/PUBLISH_DRAG_SOURCE",h="dnd-core/HOVER",m="dnd-core/DROP",g="dnd-core/END_DRAG";function f(e,t){return{type:c,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}let b={type:c,payload:{clientOffset:null,sourceClientOffset:null}};function v(e,t){return null===t?null===e:Array.isArray(e)?e.some(e=>e===t):e===t}class x{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){var e,t,r,n,o,a;let l=this,{dispatch:c}=this.store;let x=(e=this,{beginDrag:(t=e,function(e=[],r={publishSource:!0}){let{publishSource:n=!0,clientOffset:o,getSourceClientOffset:a}=r,l=t.getMonitor(),c=t.getRegistry();t.dispatch(f(o)),function(e,t,r){(0,s.k)(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach(function(e){(0,s.k)(r.getSource(e),"Expected sourceIds to be registered.")})}(e,l,c);let p=function(e,t){let r=null;for(let n=e.length-1;n>=0;n--)if(t.canDragSource(e[n])){r=e[n];break}return r}(e,l);if(null==p){t.dispatch(b);return}let h=null;if(o){if(!a)throw Error("getSourceClientOffset must be defined");(function(e){(0,s.k)("function"==typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")})(a),h=a(p)}t.dispatch(f(o,h));let m=c.getSource(p).beginDrag(l,p);if(null!=m)return function(e){(0,s.k)(d(e),"Item must be an object.")}(m),c.pinSource(p),{type:u,payload:{itemType:c.getSourceType(p),item:m,sourceId:p,clientOffset:o||null,sourceClientOffset:h||null,isSourcePublic:!!n}}}),publishDragSource:(r=e,function(){if(r.getMonitor().isDragging())return{type:p}}),hover:(n=e,function(e,{clientOffset:t}={}){(function(e){(0,s.k)(Array.isArray(e),"Expected targetIds to be an array.")})(e);let r=e.slice(0),o=n.getMonitor(),a=n.getRegistry();return function(e,t,r){for(let n=e.length-1;n>=0;n--){let o=e[n];!v(t.getTargetType(o),r)&&e.splice(n,1)}}(r,a,o.getItemType()),function(e,t,r){(0,s.k)(t.isDragging(),"Cannot call hover while not dragging."),(0,s.k)(!t.didDrop(),"Cannot call hover after drop.");for(let t=0;t<e.length;t++){let n=e[t];(0,s.k)(e.lastIndexOf(n)===t,"Expected targetIds to be unique in the passed array.");let o=r.getTarget(n);(0,s.k)(o,"Expected targetIds to be registered.")}}(r,o,a),function(e,t,r){e.forEach(function(e){r.getTarget(e).hover(t,e)})}(r,o,a),{type:h,payload:{targetIds:r,clientOffset:t||null}}}),drop:(o=e,function(e={}){let t=o.getMonitor(),r=o.getRegistry();(function(e){(0,s.k)(e.isDragging(),"Cannot call drop while not dragging."),(0,s.k)(!e.didDrop(),"Cannot call drop twice during one drag operation.")})(t),(function(e){let t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t})(t).forEach((n,a)=>{let l={type:m,payload:{dropResult:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n,o,a;n=e,o=t,a=r[t],o in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a})}return e}({},e,function(e,t,r,n){let o=r.getTarget(e),a=o?o.drop(n,e):void 0;return function(e){(0,s.k)(void 0===e||d(e),"Drop result must either be an object or undefined.")}(a),void 0===a&&(a=0===t?{}:n.getDropResult()),a}(n,a,r,t))}};o.dispatch(l)})}),endDrag:(a=e,function(){let e=a.getMonitor(),t=a.getRegistry();(function(e){(0,s.k)(e.isDragging(),"Cannot call endDrag while not dragging.")})(e);let r=e.getSourceId();return null!=r&&(t.getSource(r,!0).endDrag(e,r),t.unpinSource()),{type:g}})});return Object.keys(x).reduce((e,t)=>{var r;let n=x[t];return e[t]=(r=n,(...e)=>{let t=r.apply(l,e);void 0!==t&&c(t)}),e},{})}dispatch(e){this.store.dispatch(e)}constructor(e,t){this.isSetUp=!1,this.handleRefCountChange=()=>{let e=this.store.getState().refCount>0;this.backend&&(e&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!e&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=t,e.subscribe(this.handleRefCountChange)}}function y(e,t){return{x:e.x-t.x,y:e.y-t.y}}let _=[],w=[];_.__IS_NONE__=!0,w.__IS_ALL__=!0;class j{subscribeToStateChange(e,t={}){let{handlerIds:r}=t;(0,s.k)("function"==typeof e,"listener must be a function."),(0,s.k)(void 0===r||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");let n=this.store.getState().stateId;return this.store.subscribe(()=>{let t=this.store.getState(),o=t.stateId;try{!(o===n||o===n+1&&!function(e,t){var r,n;if(e===_)return!1;if(e===w||void 0===t)return!0;return(r=t,n=e,r.filter(e=>n.indexOf(e)>-1)).length>0}(t.dirtyHandlerIds,r))&&e()}finally{n=o}})}subscribeToOffsetChange(e){(0,s.k)("function"==typeof e,"listener must be a function.");let t=this.store.getState().dragOffset;return this.store.subscribe(()=>{let r=this.store.getState().dragOffset;if(r!==t)t=r,e()})}canDragSource(e){if(!e)return!1;let t=this.registry.getSource(e);return(0,s.k)(t,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()&&t.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;let t=this.registry.getTarget(e);if((0,s.k)(t,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;let r=this.registry.getTargetType(e);return v(r,this.getItemType())&&t.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;let t=this.registry.getSource(e,!0);if((0,s.k)(t,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;let r=this.registry.getSourceType(e);return r===this.getItemType()&&t.isDragging(this,e)}isOverTarget(e,t={shallow:!1}){if(!e)return!1;let{shallow:r}=t;if(!this.isDragging())return!1;let n=this.registry.getTargetType(e),o=this.getItemType();if(o&&!v(n,o))return!1;let a=this.getTargetIds();if(!a.length)return!1;let l=a.indexOf(e);return r?l===a.length-1:l>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return function(e){var t,r;let{clientOffset:n,initialClientOffset:o,initialSourceClientOffset:a}=e;if(!n||!o||!a)return null;return y((t=n,r=a,{x:t.x+r.x,y:t.y+r.y}),o)}(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return function(e){let{clientOffset:t,initialClientOffset:r}=e;return t&&r?y(t,r):null}(this.store.getState().dragOffset)}constructor(e,t){this.store=e,this.registry=t}}let k="undefined"!=typeof global?global:self,N=k.MutationObserver||k.WebKitMutationObserver;function T(e){return function(){let t=setTimeout(n,0),r=setInterval(n,50);function n(){clearTimeout(t),clearInterval(r),e()}}}let E="function"==typeof N?function(e){let t=1,r=new N(e),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){t=-t,n.data=t}}:T;class D{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,t){this.onError=e,this.release=t,this.task=null}}let C=new class e{enqueueTask(e){let{queue:t,requestFlush:r}=this;!t.length&&(r(),this.flushing=!0),t[t.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{let{queue:e}=this;for(;this.index<e.length;){let t=this.index;if(this.index++,e[t].call(),this.index>this.capacity){for(let t=0,r=e.length-this.index;t<r;t++)e[t]=e[t+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=E(this.flush),this.requestErrorThrow=T(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}},S=new class e{create(e){let t=this.freeTasks,r=t.length?t.pop():new D(this.onError,e=>t[t.length]=e);return r.task=e,r}constructor(e){this.onError=e,this.freeTasks=[]}}(C.registerPendingError),I="dnd-core/ADD_SOURCE",M="dnd-core/ADD_TARGET",O="dnd-core/REMOVE_SOURCE",A="dnd-core/REMOVE_TARGET";function z(e,t){if(t&&Array.isArray(e)){e.forEach(e=>z(e,!1));return}(0,s.k)("string"==typeof e||"symbol"==typeof e,t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}(n=o||(o={})).SOURCE="SOURCE",n.TARGET="TARGET";let L=0;function P(e){switch(e[0]){case"S":return o.SOURCE;case"T":return o.TARGET;default:throw Error(`Cannot parse handler ID: ${e}`)}}function R(e,t){let r=e.entries(),n=!1;do{let{done:e,value:[,o]}=r.next();if(o===t)return!0;n=!!e}while(!n);return!1}class Z{addSource(e,t){var r;z(e),r=t,(0,s.k)("function"==typeof r.canDrag,"Expected canDrag to be a function."),(0,s.k)("function"==typeof r.beginDrag,"Expected beginDrag to be a function."),(0,s.k)("function"==typeof r.endDrag,"Expected endDrag to be a function.");let n=this.addHandler(o.SOURCE,e,t);return this.store.dispatch({type:I,payload:{sourceId:n}}),n}addTarget(e,t){var r;z(e,!0),r=t,(0,s.k)("function"==typeof r.canDrop,"Expected canDrop to be a function."),(0,s.k)("function"==typeof r.hover,"Expected hover to be a function."),(0,s.k)("function"==typeof r.drop,"Expected beginDrag to be a function.");let n=this.addHandler(o.TARGET,e,t);return this.store.dispatch({type:M,payload:{targetId:n}}),n}containsHandler(e){return R(this.dragSources,e)||R(this.dropTargets,e)}getSource(e,t=!1){return(0,s.k)(this.isSourceId(e),"Expected a valid source ID."),t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return(0,s.k)(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return(0,s.k)(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return(0,s.k)(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return P(e)===o.SOURCE}isTargetId(e){return P(e)===o.TARGET}removeSource(e){var t;(0,s.k)(this.getSource(e),"Expected an existing source."),this.store.dispatch({type:O,payload:{sourceId:e}}),t=()=>{this.dragSources.delete(e),this.types.delete(e)},C.enqueueTask(S.create(t))}removeTarget(e){(0,s.k)(this.getTarget(e),"Expected an existing target."),this.store.dispatch({type:A,payload:{targetId:e}}),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){let t=this.getSource(e);(0,s.k)(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}unpinSource(){(0,s.k)(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,t,r){let n=function(e){let t=(L++).toString();switch(e){case o.SOURCE:return`S${t}`;case o.TARGET:return`T${t}`;default:throw Error(`Unknown Handler Role: ${e}`)}}(e);return this.types.set(n,t),e===o.SOURCE?this.dragSources.set(n,r):e===o.TARGET&&this.dropTargets.set(n,r),n}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}let B=(e,t)=>e===t,U={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n,o,a;n=e,o=t,a=r[t],o in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a})}return e}let H={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function V(e={},t){var r,n;return{dirtyHandlerIds:function(e=_,t){switch(t.type){case h:break;case I:case M:case A:case O:return _;default:return w}let{targetIds:r=[],prevTargetIds:n=[]}=t.payload,o=function(e,t){let r=new Map,n=e=>{r.set(e,r.has(e)?r.get(e)+1:1)};e.forEach(n),t.forEach(n);let o=[];return r.forEach((e,t)=>{1===e&&o.push(t)}),o}(r,n);if(!(o.length>0||!function(e,t,r=B){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!r(e[n],t[n]))return!1;return!0}(r,n)))return _;let a=n[n.length-1],l=r[r.length-1];return a!==l&&(a&&o.push(a),l&&o.push(l)),o}(e.dirtyHandlerIds,{type:t.type,payload:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n,o,a;n=e,o=t,a=r[t],o in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a})}return e}({},t.payload,{prevTargetIds:(r=e,n=[],"dragOperation.targetIds".split(".").reduce((e,t)=>e&&e[t]?e[t]:n||null,r))})}),dragOffset:function(e=U,t){let{payload:r}=t;switch(t.type){case c:case u:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case h:var n,o;if(n=e.clientOffset,o=r.clientOffset,!n&&!o||n&&o&&n.x===o.x&&n.y===o.y)return e;return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n,o,a;n=e,o=t,a=r[t],o in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a})}return e}({},e,{clientOffset:r.clientOffset});case g:case m:return U;default:return e}}(e.dragOffset,t),refCount:function(e=0,t){switch(t.type){case I:case M:return e+1;case O:case A:return e-1;default:return e}}(e.refCount,t),dragOperation:function(e=H,t){let{payload:r}=t;switch(t.type){case u:return F({},e,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case p:return F({},e,{isSourcePublic:!0});case h:return F({},e,{targetIds:r.targetIds});case A:var n,o;if(-1===e.targetIds.indexOf(r.targetId))return e;return F({},e,{targetIds:(n=e.targetIds,o=r.targetId,n.filter(e=>e!==o))});case m:return F({},e,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case g:return F({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}(e.dragOperation,t),stateId:function(e=0){return e+1}(e.stateId)}}var W=r("455069"),G=r("545690");let q=0,K=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var X=(0,W.memo)(function(e){var{children:t}=e;let[r,n]=function(e){if("manager"in e)return[{dragDropManager:e.manager},!1];let t=function(e,t=Y(),r,n){return!t[K]&&(t[K]={dragDropManager:function(e,t,r={},n=!1){let o=function(e){let t="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return(0,l.MT)(V,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}(n),a=new j(o,new Z(o)),s=new x(o,a),d=e(s,t,r);return s.receiveBackend(d),s}(e,t,r,n)}),t[K]}(e.backend,e.context,e.options,e.debugMode);return[t,!e.context]}(function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],!(t.indexOf(r)>=0)&&(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++){if(r=a[n],!(t.indexOf(r)>=0))Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}}return o}(e,["children"]));return(0,W.useEffect)(()=>{if(n){let e=Y();return++q,()=>{0==--q&&(e[K]=null)}}},[]),(0,a.jsx)(G.L.Provider,{value:r,children:t})});function Y(){return"undefined"!=typeof global?global:window}},195731:function(e,t,r){"use strict";r.d(t,{J:()=>a});var n=r("313321"),o=r("622117");function a(e,t,r){return function(e,t,r){let[a,l]=(0,n.r)(e,t,r);return(0,o.L)(function(){let t=e.getHandlerId();if(null!=t)return e.subscribeToStateChange(l,{handlerIds:[t]})},[e,l]),a}(t,e||(()=>({})),()=>r.reconnect())}},313321:function(e,t,r){"use strict";r.d(t,{r:function(){return l}});var n=r(739561),o=r(455069),a=r(622117);function l(e,t,r){let[l,s]=(0,o.useState)(()=>t(e)),d=(0,o.useCallback)(()=>{let o=t(e);!n(l,o)&&(s(o),r&&r())},[l,e,r]);return(0,a.L)(d),[l,d]}},990828:function(e,t,r){"use strict";r.d(t,{c:()=>x});var n=r("252321"),o=r("195731"),a=r("569024"),l=r("455069"),s=r("260433"),d=r("562310"),c=r("262265");class u{receiveHandlerId(e){if(this.handlerId!==e)this.handlerId=e,this.reconnect()}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){let e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){let e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return(t&&this.disconnectDragSource(),this.handlerId)?e?(t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),t):(this.lastConnectedDragSource=e,t):t}reconnectDragPreview(e=!1){let t=this.dragPreview,r=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(r&&this.disconnectDragPreview(),!!this.handlerId){if(!t){this.lastConnectedDragPreview=t;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!(0,s.w)(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!(0,s.w)(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=(0,c.p)({dragSource:(e,t)=>{this.clearDragSource(),this.dragSourceOptions=t||null,(0,d.d)(e)?this.dragSourceRef=e:this.dragSourceNode=e,this.reconnectDragSource()},dragPreview:(e,t)=>{this.clearDragPreview(),this.dragPreviewOptions=t||null,(0,d.d)(e)?this.dragPreviewRef=e:this.dragPreviewNode=e,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}var p=r("604022"),h=r("622117");let m=!1,g=!1;class f{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){(0,n.k)(!m,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return m=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{m=!1}}isDragging(){if(!this.sourceId)return!1;(0,n.k)(!g,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return g=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{g=!1}}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,t){return this.internalMonitor.isOverTarget(e,t)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}var b=r("613948");class v{beginDrag(){let e=this.spec,t=this.monitor,r=null;return null!=(r="object"==typeof e.item?e.item:"function"==typeof e.item?e.item(t):{})?r:null}canDrag(){let e=this.spec,t=this.monitor;return"boolean"==typeof e.canDrag?e.canDrag:"function"!=typeof e.canDrag||e.canDrag(t)}isDragging(e,t){let r=this.spec,n=this.monitor,{isDragging:o}=r;return o?o(n):t===e.getSourceId()}endDrag(){let e=this.spec,t=this.monitor,r=this.connector,{end:n}=e;n&&n(t.getItem(),t),r.reconnect()}constructor(e,t,r){this.spec=e,this.monitor=t,this.connector=r}}function x(e,t){var r,s;let d=(0,a.w)(e,t);(0,n.k)(!d.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");let c=function(){let e=(0,p.N)();return(0,l.useMemo)(()=>new f(e),[e])}(),m=function(e,t){let r=(0,p.N)(),n=(0,l.useMemo)(()=>new u(r.getBackend()),[r]);return(0,h.L)(()=>(n.dragSourceOptions=e||null,n.reconnect(),()=>n.disconnectDragSource()),[n,e]),(0,h.L)(()=>(n.dragPreviewOptions=t||null,n.reconnect(),()=>n.disconnectDragPreview()),[n,t]),n}(d.options,d.previewOptions);return!function(e,t,r){var o;let a=(0,p.N)(),s=function(e,t,r){let n=(0,l.useMemo)(()=>new v(e,t,r),[t,r]);return(0,l.useEffect)(()=>{n.spec=e},[e]),n}(e,t,r);let d=(o=e,(0,l.useMemo)(()=>{let e=o.type;return(0,n.k)(null!=e,"spec.type must be defined"),e},[o]));(0,h.L)(function(){if(null!=d){let[e,n]=(0,b.w)(d,s,a);return t.receiveHandlerId(e),r.receiveHandlerId(e),n}},[a,t,r,s,d])}(d,c,m),[(0,o.J)(d.collect,c,m),(r=m,(0,l.useMemo)(()=>r.hooks.dragSource(),[r])),(s=m,(0,l.useMemo)(()=>s.hooks.dragPreview(),[s]))]}},604022:function(e,t,r){"use strict";r.d(t,{N:function(){return l}});var n=r(252321),o=r(455069),a=r(545690);function l(){let{dragDropManager:e}=(0,o.useContext)(a.L);return(0,n.k)(null!=e,"Expected drag drop context"),e}},221478:function(e,t,r){"use strict";r.d(t,{L:()=>v});var n=r("195731"),o=r("569024"),a=r("455069"),l=r("260433"),s=r("562310"),d=r("262265");class c{get connectTarget(){return this.dropTarget}reconnect(){let e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();let t=this.dropTarget;if(!!this.handlerId){if(!t){this.lastConnectedDropTarget=t;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions))}}receiveHandlerId(e){if(e!==this.handlerId)this.handlerId=e,this.reconnect()}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!(0,l.w)(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=(0,d.p)({dropTarget:(e,t)=>{this.clearDropTarget(),this.dropTargetOptions=t,(0,s.d)(e)?this.dropTargetRef=e:this.dropTargetNode=e,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}var u=r("604022"),p=r("622117"),h=r("252321");let m=!1;class g{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}canDrop(){if(!this.targetId)return!1;(0,h.k)(!m,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return m=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{m=!1}}isOver(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}var f=r("613948");class b{canDrop(){let e=this.spec,t=this.monitor;return!e.canDrop||e.canDrop(t.getItem(),t)}hover(){let e=this.spec,t=this.monitor;e.hover&&e.hover(t.getItem(),t)}drop(){let e=this.spec,t=this.monitor;if(e.drop)return e.drop(t.getItem(),t)}constructor(e,t){this.spec=e,this.monitor=t}}function v(e,t){var r;let l=(0,o.w)(e,t),s=function(){let e=(0,u.N)();return(0,a.useMemo)(()=>new g(e),[e])}(),d=function(e){let t=(0,u.N)(),r=(0,a.useMemo)(()=>new c(t.getBackend()),[t]);return(0,p.L)(()=>(r.dropTargetOptions=e||null,r.reconnect(),()=>r.disconnectDropTarget()),[e]),r}(l.options);return!function(e,t,r){let n=(0,u.N)(),o=function(e,t){let r=(0,a.useMemo)(()=>new b(e,t),[t]);return(0,a.useEffect)(()=>{r.spec=e},[e]),r}(e,t),l=function(e){let{accept:t}=e;return(0,a.useMemo)(()=>((0,h.k)(null!=e.accept,"accept must be defined"),Array.isArray(t)?t:[t]),[t])}(e);(0,p.L)(function(){let[e,a]=(0,f.n)(l,o,n);return t.receiveHandlerId(e),r.receiveHandlerId(e),a},[n,t,o,r,l.map(e=>e.toString()).join("|")])}(l,s,d),[(0,n.J)(l.collect,s,d),(r=d,(0,a.useMemo)(()=>r.hooks.dropTarget(),[r]))]}},622117:function(e,t,r){"use strict";r.d(t,{L:function(){return o}});var n=r(455069);let o="undefined"!=typeof window?n.useLayoutEffect:n.useEffect},569024:function(e,t,r){"use strict";r.d(t,{w:function(){return o}});var n=r(455069);function o(e,t){let r=[...t||[]];return null==t&&"function"!=typeof e&&r.push(e),(0,n.useMemo)(()=>"function"==typeof e?e():e,r)}},562310:function(e,t,r){"use strict";function n(e){return null!==e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}r.d(t,{d:function(){return n}})},613948:function(e,t,r){"use strict";function n(e,t,r){let n=r.getRegistry(),o=n.addTarget(e,t);return[o,()=>n.removeTarget(o)]}function o(e,t,r){let n=r.getRegistry(),o=n.addSource(e,t);return[o,()=>n.removeSource(o)]}r.d(t,{n:function(){return n},w:function(){return o}})},262265:function(e,t,r){"use strict";r.d(t,{p:function(){return a}});var n=r(252321),o=r(455069);function a(e){let t={};return Object.keys(e).forEach(r=>{let a=e[r];if(r.endsWith("Ref"))t[r]=e[r];else{var s;let e=(s=a,(e=null,t=null)=>(0,o.isValidElement)(e)?(!function(e){if("string"==typeof e.type)return;let t=e.type.displayName||e.type.name||"the component";throw Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${t} into a <div>, or turn it into a drag source or a drop target itself.`)}(e),function(e,t){let r=e.ref;return((0,n.k)("string"!=typeof r,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),r)?(0,o.cloneElement)(e,{ref:e=>{l(r,e),l(t,e)}}):(0,o.cloneElement)(e,{ref:t})}(e,t?e=>s(e,t):s)):(s(e,t),e));t[r]=()=>e}}),t}function l(e,t){"function"==typeof e?e(t):e.current=t}},484782:function(e,t,r){"use strict";r.d(t,{D:()=>eN});var n={};r.r(n),r.d(n,{boolean:()=>P,booleanish:()=>R,commaOrSpaceSeparated:()=>H,commaSeparated:()=>F,number:()=>B,overloadedBoolean:()=>Z,spaceSeparated:()=>U});var o=r("455069"),a=r("830644"),l=r("812579"),s=r("651088"),d=r("930602");function c(e){let t=[],r=-1,n=0,o=0;for(;++r<e.length;){let a=e.charCodeAt(r),l="";if(37===a&&(0,d.H$)(e.charCodeAt(r+1))&&(0,d.H$)(e.charCodeAt(r+2)))o=2;else if(a<128)!/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))&&(l=String.fromCharCode(a));else if(a>55295&&a<57344){let t=e.charCodeAt(r+1);a<56320&&t>56319&&t<57344?(l=String.fromCharCode(a,t),o=1):l=""}else l=String.fromCharCode(a);l&&(t.push(e.slice(n,r),encodeURIComponent(l)),n=r+o+1,l=""),o&&(r+=o,o=0)}return t.join("")+e.slice(n)}var u=r("527678");let p=m("start"),h=m("end");function m(e){return function(t){let r=t&&t.position&&t.position[e]||{};return{line:r.line||null,column:r.column||null,offset:r.offset>-1?r.offset:null}}}let g={}.hasOwnProperty;function f(e){return String(e||"").toUpperCase()}function b(e,t){let r;let n=String(t.identifier).toUpperCase(),o=c(n.toLowerCase()),a=e.footnoteOrder.indexOf(n);-1===a?(e.footnoteOrder.push(n),e.footnoteCounts[n]=1,r=e.footnoteOrder.length):(e.footnoteCounts[n]++,r=a+1);let l=e.footnoteCounts[n],s={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fn-"+o,id:e.clobberPrefix+"fnref-"+o+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(r)}]};e.patch(t,s);let d={type:"element",tagName:"sup",properties:{},children:[s]};return e.patch(t,d),e.applyData(t,d)}function v(e,t){let r=t.referenceType,n="]";if("collapsed"===r?n+="[]":"full"===r&&(n+="["+(t.label||t.identifier)+"]"),"imageReference"===t.type)return{type:"text",value:"!["+t.alt+n};let o=e.all(t),a=o[0];a&&"text"===a.type?a.value="["+a.value:o.unshift({type:"text",value:"["});let l=o[o.length-1];return l&&"text"===l.type?l.value+=n:o.push({type:"text",value:n}),o}function x(e){let t=e.spread;return null==t?e.children.length>1:t}function y(e,t,r){let n=0,o=e.length;if(t){let t=e.codePointAt(n);for(;9===t||32===t;)n++,t=e.codePointAt(n)}if(r){let t=e.codePointAt(o-1);for(;9===t||32===t;)o--,t=e.codePointAt(o-1)}return o>n?e.slice(n,o):""}let _={blockquote:function(e,t){let r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,r),e.applyData(t,r)},break:function(e,t){let r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,r),[e.applyData(t,r),{type:"text",value:"\n"}]},code:function(e,t){let r=t.value?t.value+"\n":"",n=t.lang?t.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,o={};n&&(o.className=["language-"+n]);let a={type:"element",tagName:"code",properties:o,children:[{type:"text",value:r}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a={type:"element",tagName:"pre",properties:{},children:[a=e.applyData(t,a)]},e.patch(t,a),a},delete:function(e,t){let r={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)},emphasis:function(e,t){let r={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)},footnoteReference:b,footnote:function(e,t){let r=e.footnoteById,n=1;for(;n in r;)n++;let o=String(n);return r[o]={type:"footnoteDefinition",identifier:o,children:[{type:"paragraph",children:t.children}],position:t.position},b(e,{type:"footnoteReference",identifier:o,position:t.position})},heading:function(e,t){let r={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)},html:function(e,t){if(e.dangerous){let r={type:"raw",value:t.value};return e.patch(t,r),e.applyData(t,r)}return null},imageReference:function(e,t){let r=e.definition(t.identifier);if(!r)return v(e,t);let n={src:c(r.url||""),alt:t.alt};null!==r.title&&void 0!==r.title&&(n.title=r.title);let o={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,o),e.applyData(t,o)},image:function(e,t){let r={src:c(t.url)};null!==t.alt&&void 0!==t.alt&&(r.alt=t.alt),null!==t.title&&void 0!==t.title&&(r.title=t.title);let n={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,n),e.applyData(t,n)},inlineCode:function(e,t){let r={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,r);let n={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(t,n),e.applyData(t,n)},linkReference:function(e,t){let r=e.definition(t.identifier);if(!r)return v(e,t);let n={href:c(r.url||"")};null!==r.title&&void 0!==r.title&&(n.title=r.title);let o={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)},link:function(e,t){let r={href:c(t.url)};null!==t.title&&void 0!==t.title&&(r.title=t.title);let n={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},listItem:function(e,t,r){let n=e.all(t),o=r?function(e){let t=!1;if("list"===e.type){t=e.spread||!1;let r=e.children,n=-1;for(;!t&&++n<r.length;)t=x(r[n])}return t}(r):x(t),a={},l=[];if("boolean"==typeof t.checked){let e;let r=n[0];r&&"element"===r.type&&"p"===r.tagName?e=r:(e={type:"element",tagName:"p",properties:{},children:[]},n.unshift(e)),e.children.length>0&&e.children.unshift({type:"text",value:" "}),e.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let s=-1;for(;++s<n.length;){let e=n[s];(o||0!==s||"element"!==e.type||"p"!==e.tagName)&&l.push({type:"text",value:"\n"}),"element"!==e.type||"p"!==e.tagName||o?l.push(e):l.push(...e.children)}let d=n[n.length-1];d&&(o||"element"!==d.type||"p"!==d.tagName)&&l.push({type:"text",value:"\n"});let c={type:"element",tagName:"li",properties:a,children:l};return e.patch(t,c),e.applyData(t,c)},list:function(e,t){let r={},n=e.all(t),o=-1;for("number"==typeof t.start&&1!==t.start&&(r.start=t.start);++o<n.length;){let e=n[o];if("element"===e.type&&"li"===e.tagName&&e.properties&&Array.isArray(e.properties.className)&&e.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}let a={type:"element",tagName:t.ordered?"ol":"ul",properties:r,children:e.wrap(n,!0)};return e.patch(t,a),e.applyData(t,a)},paragraph:function(e,t){let r={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)},root:function(e,t){let r={type:"root",children:e.wrap(e.all(t))};return e.patch(t,r),e.applyData(t,r)},strong:function(e,t){let r={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)},table:function(e,t){let r=e.all(t),n=r.shift(),o=[];if(n){let r={type:"element",tagName:"thead",properties:{},children:e.wrap([n],!0)};e.patch(t.children[0],r),o.push(r)}if(r.length>0){let n={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},a=p(t.children[1]),l=h(t.children[t.children.length-1]);a.line&&l.line&&(n.position={start:a,end:l}),o.push(n)}let a={type:"element",tagName:"table",properties:{},children:e.wrap(o,!0)};return e.patch(t,a),e.applyData(t,a)},tableCell:function(e,t){let r={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)},tableRow:function(e,t,r){let n=r?r.children:void 0,o=0===(n?n.indexOf(t):1)?"th":"td",a=r&&"table"===r.type?r.align:void 0,l=a?a.length:t.children.length,s=-1,d=[];for(;++s<l;){let r=t.children[s],n={},l=a?a[s]:void 0;l&&(n.align=l);let c={type:"element",tagName:o,properties:n,children:[]};r&&(c.children=e.all(r),e.patch(r,c),c=e.applyData(t,c)),d.push(c)}let c={type:"element",tagName:"tr",properties:{},children:e.wrap(d,!0)};return e.patch(t,c),e.applyData(t,c)},text:function(e,t){let r={type:"text",value:function(e){let t=String(e),r=/\r?\n|\r/g,n=r.exec(t),o=0,a=[];for(;n;)a.push(y(t.slice(o,n.index),o>0,!0),n[0]),o=n.index+n[0].length,n=r.exec(t);return a.push(y(t.slice(o),o>0,!1)),a.join("")}(String(t.value))};return e.patch(t,r),e.applyData(t,r)},thematicBreak:function(e,t){let r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,r),e.applyData(t,r)},toml:w,yaml:w,definition:w,footnoteDefinition:w};function w(){return null}let j={}.hasOwnProperty;function k(e,t){if(e.position){var r;t.position={start:p(r=e),end:h(r)}}}function N(e,t){let r=t;if(e&&e.data){let t=e.data.hName,n=e.data.hChildren,o=e.data.hProperties;"string"==typeof t&&("element"===r.type?r.tagName=t:r={type:"element",tagName:t,properties:{},children:[]}),"element"===r.type&&o&&(r.properties={...r.properties,...o}),"children"in r&&r.children&&null!=n&&(r.children=n)}return r}function T(e,t,r){let n=t&&t.type;if(!n)throw Error("Expected node, got `"+t+"`");return j.call(e.handlers,n)?e.handlers[n](e,t,r):e.passThrough&&e.passThrough.includes(n)?"children"in t?{...t,children:E(e,t)}:t:e.unknownHandler?e.unknownHandler(e,t,r):function(e,t){let r=t.data||{},n="value"in t&&!(j.call(r,"hProperties")||j.call(r,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:E(e,t)};return e.patch(t,n),e.applyData(t,n)}(e,t)}function E(e,t){let r=[];if("children"in t){let n=t.children,o=-1;for(;++o<n.length;){let a=T(e,n[o],t);if(a){if(o&&"break"===n[o-1].type&&(!Array.isArray(a)&&"text"===a.type&&(a.value=a.value.replace(/^\s+/,"")),!Array.isArray(a)&&"element"===a.type)){let e=a.children[0];e&&"text"===e.type&&(e.value=e.value.replace(/^\s+/,""))}Array.isArray(a)?r.push(...a):r.push(a)}}}return r}function D(e,t){let r=[],n=-1;for(t&&r.push({type:"text",value:"\n"});++n<e.length;)n&&r.push({type:"text",value:"\n"}),r.push(e[n]);return t&&e.length>0&&r.push({type:"text",value:"\n"}),r}function C(e,t){let r=function(e,t){let r=t||{},n=r.allowDangerousHtml||!1,o={};return l.dangerous=n,l.clobberPrefix=void 0===r.clobberPrefix||null===r.clobberPrefix?"user-content-":r.clobberPrefix,l.footnoteLabel=r.footnoteLabel||"Footnotes",l.footnoteLabelTagName=r.footnoteLabelTagName||"h2",l.footnoteLabelProperties=r.footnoteLabelProperties||{className:["sr-only"]},l.footnoteBackLabel=r.footnoteBackLabel||"Back to content",l.unknownHandler=r.unknownHandler,l.passThrough=r.passThrough,l.handlers={..._,...r.handlers},l.definition=function(e){let t=Object.create(null);if(!e||!e.type)throw Error("mdast-util-definitions expected node");return(0,u.Vn)(e,"definition",e=>{let r=f(e.identifier);r&&!g.call(t,r)&&(t[r]=e)}),function(e){let r=f(e);return r&&g.call(t,r)?t[r]:null}}(e),l.footnoteById=o,l.footnoteOrder=[],l.footnoteCounts={},l.patch=k,l.applyData=N,l.one=function(e,t){return T(l,e,t)},l.all=function(e){return E(l,e)},l.wrap=D,l.augment=a,(0,u.Vn)(e,"footnoteDefinition",e=>{let t=String(e.identifier).toUpperCase();!j.call(o,t)&&(o[t]=e)}),l;function a(e,t){if(e&&"data"in e&&e.data){let r=e.data;r.hName&&("element"!==t.type&&(t={type:"element",tagName:"",properties:{},children:[]}),t.tagName=r.hName),"element"===t.type&&r.hProperties&&(t.properties={...t.properties,...r.hProperties}),"children"in t&&t.children&&r.hChildren&&(t.children=r.hChildren)}if(e){var r;let n="type"in e?e:{position:e};if(!(!(r=n)||!r.position||!r.position.start||!r.position.start.line||!r.position.start.column||!r.position.end||!r.position.end.line||!r.position.end.column))t.position={start:p(n),end:h(n)}}return t}function l(e,t,r,n){return Array.isArray(r)&&(n=r,r={}),a(e,{type:"element",tagName:t,properties:r||{},children:n||[]})}}(e,t),n=r.one(e,null),o=function(e){let t=[],r=-1;for(;++r<e.footnoteOrder.length;){let n=e.footnoteById[e.footnoteOrder[r]];if(!n)continue;let o=e.all(n),a=String(n.identifier).toUpperCase(),l=c(a.toLowerCase()),s=0,d=[];for(;++s<=e.footnoteCounts[a];){let t={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fnref-"+l+(s>1?"-"+s:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:e.footnoteBackLabel},children:[{type:"text",value:""}]};s>1&&t.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(s)}]}),d.length>0&&d.push({type:"text",value:" "}),d.push(t)}let u=o[o.length-1];if(u&&"element"===u.type&&"p"===u.tagName){let e=u.children[u.children.length-1];e&&"text"===e.type?e.value+=" ":u.children.push({type:"text",value:" "}),u.children.push(...d)}else o.push(...d);let p={type:"element",tagName:"li",properties:{id:e.clobberPrefix+"fn-"+l},children:e.wrap(o,!0)};e.patch(n,p),t.push(p)}if(0!==t.length)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:e.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(e.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:e.footnoteLabel}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:e.wrap(t,!0)},{type:"text",value:"\n"}]}}(r);return o&&n.children.push({type:"text",value:"\n"},o),Array.isArray(n)?{type:"root",children:n}:n}var S=function(e,t){return e&&"run"in e?function(e,t){return(r,n,o)=>{e.run(C(r,t),n,e=>{o(e)})}}(e,t):function(e){return t=>C(t,e)}(e||t)},I=r("274325");class M{constructor(e,t,r){this.property=e,this.normal=t,r&&(this.space=r)}}function O(e,t){let r={},n={},o=-1;for(;++o<e.length;)Object.assign(r,e[o].property),Object.assign(n,e[o].normal);return new M(r,n,t)}function A(e){return e.toLowerCase()}M.prototype.property={},M.prototype.normal={},M.prototype.space=null;class z{constructor(e,t){this.property=e,this.attribute=t}}z.prototype.space=null,z.prototype.boolean=!1,z.prototype.booleanish=!1,z.prototype.overloadedBoolean=!1,z.prototype.number=!1,z.prototype.commaSeparated=!1,z.prototype.spaceSeparated=!1,z.prototype.commaOrSpaceSeparated=!1,z.prototype.mustUseProperty=!1,z.prototype.defined=!1;let L=0,P=V(),R=V(),Z=V(),B=V(),U=V(),F=V(),H=V();function V(){return 2**++L}let W=Object.keys(n);class G extends z{constructor(e,t,r,o){let a=-1;if(super(e,t),function(e,t,r){r&&(e[t]=r)}(this,"space",o),"number"==typeof r)for(;++a<W.length;){let e=W[a];(function(e,t,r){r&&(e[t]=r)})(this,W[a],(r&n[e])===n[e])}}}function q(e,t,r){r&&(e[t]=r)}G.prototype.defined=!0;let K={}.hasOwnProperty;function X(e){let t;let r={},n={};for(t in e.properties)if(K.call(e.properties,t)){let o=e.properties[t],a=new G(t,e.transform(e.attributes||{},t),o,e.space);e.mustUseProperty&&e.mustUseProperty.includes(t)&&(a.mustUseProperty=!0),r[t]=a,n[A(t)]=t,n[A(a.attribute)]=t}return new M(r,n,e.space)}let Y=X({space:"xlink",transform:(e,t)=>"xlink:"+t.slice(5).toLowerCase(),properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),Q=X({space:"xml",transform:(e,t)=>"xml:"+t.slice(3).toLowerCase(),properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function J(e,t){return t in e?e[t]:t}function $(e,t){return J(e,t.toLowerCase())}let ee=X({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:$,properties:{xmlns:null,xmlnsXLink:null}}),et=X({transform:(e,t)=>"role"===t?t:"aria-"+t.slice(4).toLowerCase(),properties:{ariaActiveDescendant:null,ariaAtomic:R,ariaAutoComplete:null,ariaBusy:R,ariaChecked:R,ariaColCount:B,ariaColIndex:B,ariaColSpan:B,ariaControls:U,ariaCurrent:null,ariaDescribedBy:U,ariaDetails:null,ariaDisabled:R,ariaDropEffect:U,ariaErrorMessage:null,ariaExpanded:R,ariaFlowTo:U,ariaGrabbed:R,ariaHasPopup:null,ariaHidden:R,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:U,ariaLevel:B,ariaLive:null,ariaModal:R,ariaMultiLine:R,ariaMultiSelectable:R,ariaOrientation:null,ariaOwns:U,ariaPlaceholder:null,ariaPosInSet:B,ariaPressed:R,ariaReadOnly:R,ariaRelevant:null,ariaRequired:R,ariaRoleDescription:U,ariaRowCount:B,ariaRowIndex:B,ariaRowSpan:B,ariaSelected:R,ariaSetSize:B,ariaSort:null,ariaValueMax:B,ariaValueMin:B,ariaValueNow:B,ariaValueText:null,role:null}}),er=X({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:$,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:F,acceptCharset:U,accessKey:U,action:null,allow:null,allowFullScreen:P,allowPaymentRequest:P,allowUserMedia:P,alt:null,as:null,async:P,autoCapitalize:null,autoComplete:U,autoFocus:P,autoPlay:P,blocking:U,capture:null,charSet:null,checked:P,cite:null,className:U,cols:B,colSpan:null,content:null,contentEditable:R,controls:P,controlsList:U,coords:B|F,crossOrigin:null,data:null,dateTime:null,decoding:null,default:P,defer:P,dir:null,dirName:null,disabled:P,download:Z,draggable:R,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:P,formTarget:null,headers:U,height:B,hidden:P,high:B,href:null,hrefLang:null,htmlFor:U,httpEquiv:U,id:null,imageSizes:null,imageSrcSet:null,inert:P,inputMode:null,integrity:null,is:null,isMap:P,itemId:null,itemProp:U,itemRef:U,itemScope:P,itemType:U,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:P,low:B,manifest:null,max:null,maxLength:B,media:null,method:null,min:null,minLength:B,multiple:P,muted:P,name:null,nonce:null,noModule:P,noValidate:P,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:P,optimum:B,pattern:null,ping:U,placeholder:null,playsInline:P,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:P,referrerPolicy:null,rel:U,required:P,reversed:P,rows:B,rowSpan:B,sandbox:U,scope:null,scoped:P,seamless:P,selected:P,shadowRootClonable:P,shadowRootDelegatesFocus:P,shadowRootMode:null,shape:null,size:B,sizes:null,slot:null,span:B,spellCheck:R,src:null,srcDoc:null,srcLang:null,srcSet:null,start:B,step:null,style:null,tabIndex:B,target:null,title:null,translate:null,type:null,typeMustMatch:P,useMap:null,value:R,width:B,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:U,axis:null,background:null,bgColor:null,border:B,borderColor:null,bottomMargin:B,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:P,declare:P,event:null,face:null,frame:null,frameBorder:null,hSpace:B,leftMargin:B,link:null,longDesc:null,lowSrc:null,marginHeight:B,marginWidth:B,noResize:P,noHref:P,noShade:P,noWrap:P,object:null,profile:null,prompt:null,rev:null,rightMargin:B,rules:null,scheme:null,scrolling:R,standby:null,summary:null,text:null,topMargin:B,valueType:null,version:null,vAlign:null,vLink:null,vSpace:B,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:P,disableRemotePlayback:P,prefix:null,property:null,results:B,security:null,unselectable:null}}),en=X({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:J,properties:{about:H,accentHeight:B,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:B,amplitude:B,arabicForm:null,ascent:B,attributeName:null,attributeType:null,azimuth:B,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:B,by:null,calcMode:null,capHeight:B,className:U,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:B,diffuseConstant:B,direction:null,display:null,dur:null,divisor:B,dominantBaseline:null,download:P,dx:null,dy:null,edgeMode:null,editable:null,elevation:B,enableBackground:null,end:null,event:null,exponent:B,externalResourcesRequired:null,fill:null,fillOpacity:B,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:F,g2:F,glyphName:F,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:B,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:B,horizOriginX:B,horizOriginY:B,id:null,ideographic:B,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:B,k:B,k1:B,k2:B,k3:B,k4:B,kernelMatrix:H,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:B,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:B,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:B,overlineThickness:B,paintOrder:null,panose1:null,path:null,pathLength:B,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:U,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:B,pointsAtY:B,pointsAtZ:B,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:H,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:H,rev:H,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:H,requiredFeatures:H,requiredFonts:H,requiredFormats:H,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:B,specularExponent:B,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:B,strikethroughThickness:B,string:null,stroke:null,strokeDashArray:H,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:B,strokeOpacity:B,strokeWidth:null,style:null,surfaceScale:B,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:H,tabIndex:B,tableValues:null,target:null,targetX:B,targetY:B,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:H,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:B,underlineThickness:B,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:B,values:null,vAlphabetic:B,vMathematical:B,vectorEffect:null,vHanging:B,vIdeographic:B,version:null,vertAdvY:B,vertOriginX:B,vertOriginY:B,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:B,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),ei=O([Q,Y,ee,et,er],"html"),eo=O([Q,Y,ee,et,en],"svg");function ea(e){if(e.allowedElements&&e.disallowedElements)throw TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return t=>{(0,u.Vn)(t,"element",(t,r,n)=>{let o;if(e.allowedElements?o=!e.allowedElements.includes(t.tagName):e.disallowedElements&&(o=e.disallowedElements.includes(t.tagName)),!o&&e.allowElement&&"number"==typeof r&&(o=!e.allowElement(t,r,n)),o&&"number"==typeof r)return e.unwrapDisallowed&&t.children?n.children.splice(r,1,...t.children):n.children.splice(r,1),r})}}var el=r("339922");let es=/^data[-\w.:]+$/i,ed=/-[a-z]/g,ec=/[A-Z]/g;function eu(e){return"-"+e.toLowerCase()}function ep(e){return e.charAt(1).toUpperCase()}let eh={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"};var em=r("263055"),eg=r("889514"),ef=r("578419"),eb=r("657285");let ev={}.hasOwnProperty,ex=new Set(["table","thead","tbody","tfoot","tr"]);function ey(e,t){let r;let n=[],a=-1;for(;++a<t.children.length;)"element"===(r=t.children[a]).type?n.push(function(e,t,r,n){let a;let l=e.options,s=void 0===l.transformLinkUri?eb.A:l.transformLinkUri,d=e.schema,c=t.tagName,u={},p=d;if("html"===d.space&&"svg"===c&&(p=eo,e.schema=p),t.properties)for(a in t.properties)ev.call(t.properties,a)&&function(e,t,r,n){let o=function(e,t){let r=A(t),n=t,o=z;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&"data"===r.slice(0,4)&&es.test(t)){if("-"===t.charAt(4)){let e=t.slice(5).replace(ed,ep);n="data"+e.charAt(0).toUpperCase()+e.slice(1)}else{let e=t.slice(4);if(!ed.test(e)){let r=e.replace(ec,eu);"-"!==r.charAt(0)&&(r="-"+r),t="data"+r}}o=G}return new o(n,t)}(n.schema,t),a=r;if(null!=a&&a==a)Array.isArray(a)&&(a=o.commaSeparated?(0,eg.P)(a):(0,em.P)(a)),"style"===o.property&&"string"==typeof a&&(a=function(e){let t={};try{ef(e,function(e,r){t[("-ms-"===e.slice(0,4)?`ms-${e.slice(4)}`:e).replace(/-([a-z])/g,ew)]=r})}catch{}return t}(a)),o.space&&o.property?e[ev.call(eh,o.property)?eh[o.property]:o.property]=a:o.attribute&&(e[o.attribute]=a)}(u,a,t.properties[a],e);("ol"===c||"ul"===c)&&e.listDepth++;let h=ey(e,t);("ol"===c||"ul"===c)&&e.listDepth--,e.schema=d;let m=t.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},g=l.components&&ev.call(l.components,c)?l.components[c]:c,f="string"==typeof g||g===o.Fragment;if(!el.isValidElementType(g))throw TypeError(`Component for name \`${c}\` not defined or is not renderable`);if(u.key=r,"a"===c&&l.linkTarget&&(u.target="function"==typeof l.linkTarget?l.linkTarget(String(u.href||""),t.children,"string"==typeof u.title?u.title:null):l.linkTarget),"a"===c&&s&&(u.href=s(String(u.href||""),t.children,"string"==typeof u.title?u.title:null)),!f&&"code"===c&&"element"===n.type&&"pre"!==n.tagName&&(u.inline=!0),!f&&("h1"===c||"h2"===c||"h3"===c||"h4"===c||"h5"===c||"h6"===c)&&(u.level=Number.parseInt(c.charAt(1),10)),"img"===c&&l.transformImageUri&&(u.src=l.transformImageUri(String(u.src||""),String(u.alt||""),"string"==typeof u.title?u.title:null)),!f&&"li"===c&&"element"===n.type){let e=function(e){let t=-1;for(;++t<e.children.length;){let r=e.children[t];if("element"===r.type&&"input"===r.tagName)return r}return null}(t);u.checked=e&&e.properties?!!e.properties.checked:null,u.index=e_(n,t),u.ordered="ol"===n.tagName}return!f&&("ol"===c||"ul"===c)&&(u.ordered="ol"===c,u.depth=e.listDepth),("td"===c||"th"===c)&&(u.align&&(!u.style&&(u.style={}),u.style.textAlign=u.align,delete u.align),!f&&(u.isHeader="th"===c)),!f&&"tr"===c&&"element"===n.type&&(u.isHeader="thead"===n.tagName),l.sourcePos&&(u["data-sourcepos"]=function(e){return[e.start.line,":",e.start.column,"-",e.end.line,":",e.end.column].map(String).join("")}(m)),!f&&l.rawSourcePos&&(u.sourcePosition=t.position),!f&&l.includeElementIndex&&(u.index=e_(n,t),u.siblingCount=e_(n)),!f&&(u.node=t),h.length>0?o.createElement(g,u,h):o.createElement(g,u)}(e,r,a,t)):"text"===r.type?("element"!==t.type||!ex.has(t.tagName)||!function(e){let t=e&&"object"==typeof e&&"text"===e.type?e.value||"":e;return"string"==typeof t&&""===t.replace(/[ \t\n\f\r]/g,"")}(r))&&n.push(r.value):"raw"===r.type&&!e.options.skipHtml&&n.push(r.value);return n}function e_(e,t){let r=-1,n=0;for(;++r<e.children.length&&e.children[r]!==t;){;"element"===e.children[r].type&&n++}return n}function ew(e,t){return t.toUpperCase()}let ej={}.hasOwnProperty,ek={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function eN(e){for(let t in ek)if(ej.call(ek,t)&&ej.call(e,t)){let e=ek[t];console.warn(`[react-markdown] Warning: please ${e.to?`use \`${e.to}\` instead of`:"remove"} \`${t}\` (see <https://github.com/remarkjs/react-markdown/blob/main/changelog.md#${e.id}> for more info)`),delete ek[t]}let t=(0,l.l)().use(s.Z).use(e.remarkPlugins||[]).use(S,{...e.remarkRehypeOptions,allowDangerousHtml:!0}).use(e.rehypePlugins||[]).use(ea,e),r=new a.k;"string"==typeof e.children?r.value=e.children:void 0!==e.children&&null!==e.children&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${e.children}\`)`);let n=t.runSync(t.parse(r),r);if("root"!==n.type)throw TypeError("Expected a `root` node");let d=o.createElement(o.Fragment,{},ey({options:e,schema:ei,listDepth:0},n));return e.className&&(d=o.createElement("div",{className:e.className},d)),d}eN.propTypes={children:I.string,className:I.string,allowElement:I.func,allowedElements:I.arrayOf(I.string),disallowedElements:I.arrayOf(I.string),unwrapDisallowed:I.bool,remarkPlugins:I.arrayOf(I.oneOfType([I.object,I.func,I.arrayOf(I.oneOfType([I.bool,I.string,I.object,I.func,I.arrayOf(I.any)]))])),rehypePlugins:I.arrayOf(I.oneOfType([I.object,I.func,I.arrayOf(I.oneOfType([I.bool,I.string,I.object,I.func,I.arrayOf(I.any)]))])),sourcePos:I.bool,rawSourcePos:I.bool,skipHtml:I.bool,includeElementIndex:I.bool,transformLinkUri:I.oneOfType([I.func,I.bool]),linkTarget:I.oneOfType([I.func,I.string]),transformImageUri:I.func,components:I.object}},657285:function(e,t,r){"use strict";r.d(t,{A:function(){return o}});let n=["http","https","mailto","tel"];function o(e){let t=(e||"").trim(),r=t.charAt(0);if("#"===r||"/"===r)return t;let o=t.indexOf(":");if(-1===o)return t;let a=-1;for(;++a<n.length;){let e=n[a];if(o===e.length&&t.slice(0,e.length).toLowerCase()===e)return t}return -1!==(a=t.indexOf("?"))&&o>a||-1!==(a=t.indexOf("#"))&&o>a?t:"javascript:void(0)"}},651088:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(174434);function o(e){Object.assign(this,{Parser:t=>{let r=this.data("settings");return(0,n.V)(t,Object.assign({},r,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}},263055:function(e,t,r){"use strict";function n(e){return e.join(" ").trim()}r.d(t,{P:function(){return n}})},812579:function(e,t,r){"use strict";function n(e){if(e)throw e}r.d(t,{l:()=>d});var o=r("377996"),a=r("815651");function l(e){if("object"!=typeof e||null===e)return!1;let t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}var s=r("830644");let d=(function e(){let t;let r=function(){let e=[],t={run:function(...t){let r=-1,n=t.pop();if("function"!=typeof n)throw TypeError("Expected function as last argument, not "+n);(function o(a,...l){let s=e[++r],d=-1;if(a){n(a);return}for(;++d<t.length;)(null===l[d]||void 0===l[d])&&(l[d]=t[d]);t=l,s?(function(e,t){let r;return function(...t){let a;let l=e.length>t.length;l&&t.push(n);try{a=e.apply(this,t)}catch(e){if(l&&r)throw e;return n(e)}!l&&(a&&a.then&&"function"==typeof a.then?a.then(o,n):a instanceof Error?n(a):o(a))};function n(e,...o){!r&&(r=!0,t(e,...o))}function o(e){n(null,e)}})(s,o)(...l):n(null,...l)})(null,...t)},use:function(r){if("function"!=typeof r)throw TypeError("Expected `middelware` to be a function, not "+r);return e.push(r),t}};return t}(),s=[],d={},v=-1;return x.data=function(e,r){if("string"==typeof e)return 2==arguments.length?(m("data",t),d[e]=r,x):c.call(d,e)&&d[e]||null;return e?(m("data",t),d=e,x):d},x.Parser=void 0,x.Compiler=void 0,x.freeze=function(){if(t)return x;for(;++v<s.length;){let[e,...t]=s[v];if(!1===t[0])continue;!0===t[0]&&(t[0]=void 0);let n=e.call(x,...t);"function"==typeof n&&r.use(n)}return t=!0,v=Number.POSITIVE_INFINITY,x},x.attachers=s,x.use=function(e,...r){let n;if(m("use",t),null==e);else if("function"==typeof e)u(e,...r);else if("object"==typeof e)Array.isArray(e)?c(e):o(e);else throw TypeError("Expected usable value, not `"+e+"`");return n&&(d.settings=Object.assign(d.settings||{},n)),x;function o(e){c(e.plugins),e.settings&&(n=Object.assign(n||{},e.settings))}function c(e){let t=-1;if(null==e);else if(Array.isArray(e))for(;++t<e.length;)!function(e){if("function"==typeof e)u(e);else if("object"==typeof e){if(Array.isArray(e)){let[t,...r]=e;u(t,...r)}else o(e)}else throw TypeError("Expected usable value, not `"+e+"`")}(e[t]);else throw TypeError("Expected a list of plugins, not `"+e+"`")}function u(e,t){let r,n=-1;for(;++n<s.length;)if(s[n][0]===e){r=s[n];break}r?(l(r[1])&&l(t)&&(t=a(!0,r[1],t)),r[1]=t):s.push([...arguments])}},x.parse=function(e){x.freeze();let t=b(e),r=x.Parser;return(p("parse",r),u(r,"parse"))?new r(String(t),t).parse():r(String(t),t)},x.stringify=function(e,t){x.freeze();let r=b(t),n=x.Compiler;return(h("stringify",n),g(e),u(n,"compile"))?new n(e,r).compile():n(e,r)},x.run=function(e,t,n){if(g(e),x.freeze(),!n&&"function"==typeof t&&(n=t,t=void 0),!n)return new Promise(o);function o(o,a){r.run(e,b(t),function(t,r,l){r=r||e,t?a(t):o?o(r):n(null,r,l)})}o(null,n)},x.runSync=function(e,t){let r,o;return x.run(e,t,function(e,t){n(e),r=t,o=!0}),f("runSync","run",o),r},x.process=function(e,t){if(x.freeze(),p("process",x.Parser),h("process",x.Compiler),!t)return new Promise(r);function r(r,n){let a=b(e);function l(e,o){e||!o?n(e):r?r(o):t(null,o)}x.run(x.parse(a),a,(e,t,r)=>{if(!e&&t&&r){let n=x.stringify(t,r);null==n||(function(e){return"string"==typeof e||o(e)}(n)?r.value=n:r.result=n),l(e,r)}else l(e)})}r(null,t)},x.processSync=function(e){let t;x.freeze(),p("processSync",x.Parser),h("processSync",x.Compiler);let r=b(e);return x.process(r,function(e){t=!0,n(e)}),f("processSync","process",t),r},x;function x(){let t=e(),r=-1;for(;++r<s.length;)t.use(...s[r]);return t.data(a(!0,{},d)),t}})().freeze(),c={}.hasOwnProperty;function u(e,t){return"function"==typeof e&&e.prototype&&(function(e){let t;for(t in e)if(c.call(e,t))return!0;return!1}(e.prototype)||t in e.prototype)}function p(e,t){if("function"!=typeof t)throw TypeError("Cannot `"+e+"` without `Parser`")}function h(e,t){if("function"!=typeof t)throw TypeError("Cannot `"+e+"` without `Compiler`")}function m(e,t){if(t)throw Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function g(e){if(!l(e)||"string"!=typeof e.type)throw TypeError("Expected node, got `"+e+"`")}function f(e,t,r){if(!r)throw Error("`"+e+"` finished async. Use `"+t+"` instead")}function b(e){return function(e){return!!(e&&"object"==typeof e&&"message"in e&&"messages"in e)}(e)?e:new s.k(e)}},830644:function(e,t,r){"use strict";r.d(t,{k:()=>p});var n=r("377996"),o=r("395937");class a extends Error{constructor(e,t,r){let n=[null,null],a={start:{line:null,column:null},end:{line:null,column:null}};if(super(),"string"==typeof t&&(r=t,t=void 0),"string"==typeof r){let e=r.indexOf(":");-1===e?n[1]=r:(n[0]=r.slice(0,e),n[1]=r.slice(e+1))}t&&("type"in t||"position"in t?t.position&&(a=t.position):"start"in t||"end"in t?a=t:("line"in t||"column"in t)&&(a.start=t)),this.name=(0,o.y)(t)||"1:1",this.message="object"==typeof e?e.message:e,this.stack="","object"==typeof e&&e.stack&&(this.stack=e.stack),this.reason=this.message,this.fatal,this.line=a.start.line,this.column=a.start.column,this.position=a,this.source=n[0],this.ruleId=n[1],this.file,this.actual,this.expected,this.url,this.note}}a.prototype.file="",a.prototype.name="",a.prototype.reason="",a.prototype.message="",a.prototype.stack="",a.prototype.fatal=null,a.prototype.column=null,a.prototype.line=null,a.prototype.source=null,a.prototype.ruleId=null,a.prototype.position=null;let l={basename:function(e,t){let r;if(void 0!==t&&"string"!=typeof t)throw TypeError('"ext" argument must be a string');s(e);let n=0,o=-1,a=e.length;if(void 0===t||0===t.length||t.length>e.length){for(;a--;)if(47===e.charCodeAt(a)){if(r){n=a+1;break}}else o<0&&(r=!0,o=a+1);return o<0?"":e.slice(n,o)}if(t===e)return"";let l=-1,d=t.length-1;for(;a--;)if(47===e.charCodeAt(a)){if(r){n=a+1;break}}else l<0&&(r=!0,l=a+1),d>-1&&(e.charCodeAt(a)===t.charCodeAt(d--)?d<0&&(o=a):(d=-1,o=l));return n===o?o=l:o<0&&(o=e.length),e.slice(n,o)},dirname:function(e){let t;if(s(e),0===e.length)return".";let r=-1,n=e.length;for(;--n;)if(47===e.charCodeAt(n)){if(t){r=n;break}}else!t&&(t=!0);return r<0?47===e.charCodeAt(0)?"/":".":1===r&&47===e.charCodeAt(0)?"//":e.slice(0,r)},extname:function(e){let t;s(e);let r=e.length,n=-1,o=0,a=-1,l=0;for(;r--;){let s=e.charCodeAt(r);if(47===s){if(t){o=r+1;break}continue}n<0&&(t=!0,n=r+1),46===s?a<0?a=r:1!==l&&(l=1):a>-1&&(l=-1)}return a<0||n<0||0===l||1===l&&a===n-1&&a===o+1?"":e.slice(a,n)},join:function(...e){let t,r=-1;for(;++r<e.length;)s(e[r]),e[r]&&(t=void 0===t?e[r]:t+"/"+e[r]);return void 0===t?".":function(e){s(e);let t=47===e.charCodeAt(0),r=function(e,t){let r,n,o="",a=0,l=-1,s=0,d=-1;for(;++d<=e.length;){if(d<e.length)r=e.charCodeAt(d);else if(47===r)break;else r=47;if(47===r){if(l===d-1||1===s);else if(l!==d-1&&2===s){if(o.length<2||2!==a||46!==o.charCodeAt(o.length-1)||46!==o.charCodeAt(o.length-2)){if(o.length>2){if((n=o.lastIndexOf("/"))!==o.length-1){n<0?(o="",a=0):a=(o=o.slice(0,n)).length-1-o.lastIndexOf("/"),l=d,s=0;continue}}else if(o.length>0){o="",a=0,l=d,s=0;continue}}t&&(o=o.length>0?o+"/..":"..",a=2)}else o.length>0?o+="/"+e.slice(l+1,d):o=e.slice(l+1,d),a=d-l-1;l=d,s=0}else 46===r&&s>-1?s++:s=-1}return o}(e,!t);return 0===r.length&&!t&&(r="."),r.length>0&&47===e.charCodeAt(e.length-1)&&(r+="/"),t?"/"+r:r}(t)},sep:"/"};function s(e){if("string"!=typeof e)throw TypeError("Path must be a string. Received "+JSON.stringify(e))}let d=function(){return"/"};function c(e){return null!==e&&"object"==typeof e&&e.href&&e.origin}let u=["history","path","basename","stem","extname","dirname"];class p{constructor(e){let t,r;t=e?"string"==typeof e||function(e){return n(e)}(e)?{value:e}:c(e)?{path:e}:e:{},this.data={},this.messages=[],this.history=[],this.cwd=d(),this.value,this.stored,this.result,this.map;let o=-1;for(;++o<u.length;){let e=u[o];e in t&&void 0!==t[e]&&null!==t[e]&&(this[e]="history"===e?[...t[e]]:t[e])}for(r in t)!u.includes(r)&&(this[r]=t[r])}get path(){return this.history[this.history.length-1]}set path(e){c(e)&&(e=function(e){if("string"==typeof e)e=new URL(e);else if(!c(e)){let t=TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if("file:"!==e.protocol){let e=TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return function(e){if(""!==e.hostname){let e=TypeError('File URL host must be "localhost" or empty on darwin');throw e.code="ERR_INVALID_FILE_URL_HOST",e}let t=e.pathname,r=-1;for(;++r<t.length;)if(37===t.charCodeAt(r)&&50===t.charCodeAt(r+1)){let e=t.charCodeAt(r+2);if(70===e||102===e){let e=TypeError("File URL path must not include encoded / characters");throw e.code="ERR_INVALID_FILE_URL_PATH",e}}return decodeURIComponent(t)}(e)}(e)),m(e,"path"),this.path!==e&&this.history.push(e)}get dirname(){return"string"==typeof this.path?l.dirname(this.path):void 0}set dirname(e){g(this.basename,"dirname"),this.path=l.join(e||"",this.basename)}get basename(){return"string"==typeof this.path?l.basename(this.path):void 0}set basename(e){m(e,"basename"),h(e,"basename"),this.path=l.join(this.dirname||"",e)}get extname(){return"string"==typeof this.path?l.extname(this.path):void 0}set extname(e){if(h(e,"extname"),g(this.dirname,"extname"),e){if(46!==e.charCodeAt(0))throw Error("`extname` must start with `.`");if(e.includes(".",1))throw Error("`extname` cannot contain multiple dots")}this.path=l.join(this.dirname,this.stem+(e||""))}get stem(){return"string"==typeof this.path?l.basename(this.path,this.extname):void 0}set stem(e){m(e,"stem"),h(e,"stem"),this.path=l.join(this.dirname||"",e+(this.extname||""))}toString(e){return(this.value||"").toString(e||void 0)}message(e,t,r){let n=new a(e,t,r);return this.path&&(n.name=this.path+":"+n.name,n.file=this.path),n.fatal=!1,this.messages.push(n),n}info(e,t,r){let n=this.message(e,t,r);return n.fatal=null,n}fail(e,t,r){let n=this.message(e,t,r);throw n.fatal=!0,n}}function h(e,t){if(e&&e.includes(l.sep))throw Error("`"+t+"` cannot be a path: did not expect `"+l.sep+"`")}function m(e,t){if(!e)throw Error("`"+t+"` cannot be empty")}function g(e,t){if(!e)throw Error("Setting `"+t+"` requires `path` to be set too")}}}]);
//# sourceMappingURL=946.d4aa0bc3.js.map