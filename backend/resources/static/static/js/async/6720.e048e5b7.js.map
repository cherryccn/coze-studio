{"version":3,"file":"static/js/async/6720.e048e5b7.js","sources":["webpack://@coze-studio/app/../../packages/arch/pdfjs-shadow/src/generate-assets.ts","webpack://@coze-studio/app/../../packages/arch/pdfjs-shadow/src/init-pdfjs-dist.ts","webpack://@coze-studio/app/../../packages/arch/idl/src/auto-generated/ob_query_api/namespaces/flow_devops_ob_query_telemetry_span.ts","webpack://@coze-studio/app/../../packages/arch/idl/src/auto-generated/debugger_api/namespaces/flow_devops_ob_query_telemetry_span.ts","webpack://@coze-studio/app/../../packages/devops/common-modules/src/modules/query-trace/typings/cspan.ts","webpack://@coze-studio/app/../../packages/devops/common-modules/src/modules/query-trace/typings/graph.ts","webpack://@coze-studio/app/../../packages/devops/common-modules/src/modules/query-trace/components/topology-flow/constant/index.tsx","webpack://@coze-studio/app/../../packages/devops/debug/debug-panel/src/typings/index.ts","webpack://@coze-studio/app/../../packages/devops/debug/debug-panel/src/consts/static.tsx","webpack://@coze-studio/app/../../packages/devops/debug/debug-panel/src/main.css?cacd","webpack://@coze-studio/app/../../packages/devops/debug/debug-panel/src/consts/index.ts","webpack://@coze-studio/app/../../packages/devops/debug/debug-panel/src/store/index.ts","webpack://@coze-studio/app/../../packages/devops/debug/debug-panel/src/consts/env.ts","webpack://@coze-studio/app/../../packages/devops/debug/debug-panel/src/utils/index.ts","webpack://@coze-studio/app/../../packages/devops/debug/debug-panel/src/components/debug-panel/common/index.module.less?bbfe","webpack://@coze-studio/app/../../packages/devops/debug/debug-panel/src/components/debug-panel/common/index.tsx","webpack://@coze-studio/app/../../packages/devops/common-modules/src/modules/query-trace/components/flamethread/config.ts","webpack://@coze-studio/app/../../packages/devops/common-modules/src/modules/query-trace/components/flamethread/index.tsx","webpack://@coze-studio/app/../../packages/devops/common-modules/src/modules/query-trace/constant.ts","webpack://@coze-studio/app/../../packages/devops/common-modules/src/modules/query-trace/config/cspan.ts","webpack://@coze-studio/app/../../packages/devops/common-modules/src/modules/query-trace/utils/cspan.ts","webpack://@coze-studio/app/../../packages/devops/common-modules/src/modules/query-trace/utils/cspan-graph.ts","webpack://@coze-studio/app/../../packages/devops/common-modules/src/modules/query-trace/components/trace-flamethread/config.ts","webpack://@coze-studio/app/../../packages/devops/common-modules/src/modules/query-trace/components/trace-flamethread/util.ts","webpack://@coze-studio/app/../../packages/devops/common-modules/src/modules/query-trace/components/trace-flamethread/index.tsx","webpack://@coze-studio/app/../../packages/devops/common-modules/src/modules/query-trace/components/tree/util.ts","webpack://@coze-studio/app/../../packages/devops/common-modules/src/modules/query-trace/components/tree/config.ts","webpack://@coze-studio/app/../../packages/devops/common-modules/src/modules/query-trace/components/tree/index.module.less?6af6","webpack://@coze-studio/app/../../packages/devops/common-modules/src/modules/query-trace/components/tree/index.tsx","webpack://@coze-studio/app/../../packages/devops/common-modules/src/modules/query-trace/components/trace-tree/config.tsx","webpack://@coze-studio/app/../../packages/devops/common-modules/src/modules/query-trace/components/trace-tree/index.module.less?548e","webpack://@coze-studio/app/../../packages/devops/common-modules/src/modules/query-trace/components/trace-tree/util.tsx","webpack://@coze-studio/app/../../packages/devops/common-modules/src/modules/query-trace/components/trace-tree/index.tsx","webpack://@coze-studio/app/../../packages/devops/common-modules/src/modules/query-trace/components/topology-flow/util.tsx","webpack://@coze-studio/app/../../packages/devops/common-modules/src/modules/query-trace/components/topology-flow/hook.tsx","webpack://@coze-studio/app/../../packages/devops/common-modules/src/modules/query-trace/components/topology-flow/custom-nodes/common.module.less?699b","webpack://@coze-studio/app/../../packages/devops/common-modules/src/modules/query-trace/components/topology-flow/custom-nodes/common.tsx","webpack://@coze-studio/app/../../packages/devops/common-modules/src/modules/query-trace/components/topology-flow/custom-edges/common.module.less?431e","webpack://@coze-studio/app/../../packages/devops/common-modules/src/modules/query-trace/components/topology-flow/custom-edges/common.tsx","webpack://@coze-studio/app/../../packages/devops/common-modules/src/modules/query-trace/components/topology-flow/constant/flow.tsx","webpack://@coze-studio/app/../../packages/devops/common-modules/src/modules/query-trace/components/topology-flow/index.module.less?6137","webpack://@coze-studio/app/../../packages/devops/common-modules/src/modules/query-trace/components/topology-flow/index.tsx","webpack://@coze-studio/app/../../packages/devops/common-modules/src/modules/query-trace/utils/cspan-transform.ts","webpack://@coze-studio/app/../../packages/devops/common-modules/src/modules/query-trace/hooks/use-span-transform.ts","webpack://@coze-studio/app/../../packages/devops/common-modules/src/modules/query-trace/utils/format-time.ts","webpack://@coze-studio/app/../../packages/devops/debug/debug-panel/src/consts/span.tsx","webpack://@coze-studio/app/../../packages/devops/debug/debug-panel/src/utils/field-item.tsx","webpack://@coze-studio/app/../../packages/devops/common-modules/src/modules/query-trace/utils/field-item-handler.ts","webpack://@coze-studio/app/../../packages/devops/debug/debug-panel/src/hooks/use-trace-cols.tsx","webpack://@coze-studio/app/../../packages/devops/debug/debug-panel/src/components/debug-panel/summary/index.module.less?a82f","webpack://@coze-studio/app/../../packages/devops/debug/debug-panel/src/components/debug-panel/summary/index.tsx","webpack://@coze-studio/app/../../packages/devops/debug/debug-panel/src/components/debug-panel/query-filter/index.module.less?947e","webpack://@coze-studio/app/../../packages/devops/debug/debug-panel/src/components/debug-panel/query-filter/index.tsx","webpack://@coze-studio/app/../../packages/devops/debug/debug-panel/src/components/debug-panel/header/index.module.less?816c","webpack://@coze-studio/app/../../packages/devops/debug/debug-panel/src/components/debug-panel/header/index.tsx","webpack://@coze-studio/app/../../packages/devops/debug/debug-panel/src/utils/span.ts","webpack://@coze-studio/app/../../packages/devops/debug/debug-panel/src/hooks/use-debug-panel-layout-config.tsx","webpack://@coze-studio/app/../../packages/devops/json-link-preview/src/utils/url.ts","webpack://@coze-studio/app/../../packages/devops/json-link-preview/src/utils/parse.ts","webpack://@coze-studio/app/../../packages/devops/json-link-preview/src/plugins/base.ts","webpack://@coze-studio/app/../../packages/devops/json-link-preview/src/common/overlay.tsx","webpack://@coze-studio/app/../../packages/devops/json-link-preview/src/utils/download.ts","webpack://@coze-studio/app/../../packages/devops/json-link-preview/src/common/index.module.less?36ff","webpack://@coze-studio/app/../../packages/devops/json-link-preview/src/assets/coz_image_broken.svg","webpack://@coze-studio/app/../../packages/devops/json-link-preview/src/common/load-error/index.tsx","webpack://@coze-studio/app/../../packages/devops/json-link-preview/src/plugins/pdf/index.module.less?e60d","webpack://@coze-studio/app/../../packages/devops/json-link-preview/src/plugins/pdf/preview.tsx","webpack://@coze-studio/app/../../packages/devops/json-link-preview/src/plugins/image/hooks.tsx","webpack://@coze-studio/app/../../packages/devops/json-link-preview/src/plugins/image/index.module.less?9b7f","webpack://@coze-studio/app/../../packages/devops/json-link-preview/src/plugins/image/preview.tsx","webpack://@coze-studio/app/../../packages/devops/json-link-preview/src/plugins/image/index.tsx","webpack://@coze-studio/app/../../packages/devops/json-link-preview/src/assets/not-support.svg","webpack://@coze-studio/app/../../packages/devops/json-link-preview/src/common/not-support/index.tsx","webpack://@coze-studio/app/../../packages/devops/json-link-preview/src/index.module.less?b548","webpack://@coze-studio/app/../../packages/devops/json-link-preview/src/index.tsx","webpack://@coze-studio/app/../../packages/devops/debug/debug-panel/src/hooks/use-span-cols.tsx","webpack://@coze-studio/app/../../packages/devops/debug/debug-panel/src/hooks/use-batch-span-cols.tsx","webpack://@coze-studio/app/../../packages/devops/debug/debug-panel/src/components/debug-panel/detail/index.module.less?4fa4","webpack://@coze-studio/app/../../packages/devops/debug/debug-panel/src/components/debug-panel/detail/index.tsx","webpack://@coze-studio/app/../../packages/devops/debug/debug-panel/src/components/debug-panel/chart/index.module.less?302c","webpack://@coze-studio/app/../../packages/devops/debug/debug-panel/src/components/debug-panel/chart/index.tsx","webpack://@coze-studio/app/../../packages/devops/debug/debug-panel/src/components/debug-panel/side-panel/index.module.less?9aa5","webpack://@coze-studio/app/../../packages/devops/debug/debug-panel/src/components/debug-panel/side-panel/span-info.tsx","webpack://@coze-studio/app/../../packages/devops/debug/debug-panel/src/components/debug-panel/side-panel/index.tsx","webpack://@coze-studio/app/../../packages/devops/debug/debug-panel/src/index.ts","webpack://@coze-studio/app/../../packages/devops/debug/debug-panel/src/components/debug-panel/index.tsx","webpack://@coze-studio/app/../../packages/devops/common-modules/src/modules/query-trace/components/topology-flow/custom-edges/common.module.less","webpack://@coze-studio/app/../../packages/devops/common-modules/src/modules/query-trace/components/topology-flow/custom-nodes/common.module.less","webpack://@coze-studio/app/../../packages/devops/common-modules/src/modules/query-trace/components/topology-flow/index.module.less","webpack://@coze-studio/app/../../packages/devops/common-modules/src/modules/query-trace/components/trace-tree/index.module.less","webpack://@coze-studio/app/../../packages/devops/common-modules/src/modules/query-trace/components/tree/index.module.less","webpack://@coze-studio/app/../../packages/devops/debug/debug-panel/src/components/debug-panel/chart/index.module.less","webpack://@coze-studio/app/../../packages/devops/debug/debug-panel/src/components/debug-panel/common/index.module.less","webpack://@coze-studio/app/../../packages/devops/debug/debug-panel/src/components/debug-panel/detail/index.module.less","webpack://@coze-studio/app/../../packages/devops/debug/debug-panel/src/components/debug-panel/header/index.module.less","webpack://@coze-studio/app/../../packages/devops/debug/debug-panel/src/components/debug-panel/query-filter/index.module.less","webpack://@coze-studio/app/../../packages/devops/debug/debug-panel/src/components/debug-panel/side-panel/index.module.less","webpack://@coze-studio/app/../../packages/devops/debug/debug-panel/src/components/debug-panel/summary/index.module.less","webpack://@coze-studio/app/../../packages/devops/json-link-preview/src/common/index.module.less","webpack://@coze-studio/app/../../packages/devops/json-link-preview/src/index.module.less","webpack://@coze-studio/app/../../packages/devops/json-link-preview/src/plugins/image/index.module.less","webpack://@coze-studio/app/../../packages/devops/json-link-preview/src/plugins/pdf/index.module.less","webpack://@coze-studio/app/../../packages/devops/debug/debug-panel/src/main.css"],"sourcesContent":["/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport pkg from '../package.json';\n\ntype AssetsType = 'cmaps' | 'pdf.worker';\n\n// Here you need to write the version that bnpm has released.\n//\nconst DEFAULT_VERSION = '0.1.0-alpha.x6e892414ec';\n\n/**\n * This method is used to produce the worker & cmaps link of the unpkg environment. Note that it is not a native method of pdfjs\n */\nexport const generatePdfAssetsUrl = (assets: AssetsType) => {\n  const { name } = pkg;\n  let assetsUrl;\n  switch (assets) {\n    case 'cmaps': {\n      assetsUrl = 'lib/cmaps/';\n      break;\n    }\n    case 'pdf.worker': {\n      assetsUrl = 'lib/worker.js';\n      break;\n    }\n    default: {\n      throw new Error(\n        '目前只支持引用 cmaps 与 pdf.worker 文件，如需引用其他文件请联系 @fanwenjie.fe',\n      );\n    }\n  }\n  const onlinePkgName = name.replace(/^@/, '');\n\n  const domain =\n    REGION === 'cn'\n      ? 'lf-cdn.coze.cn/obj/unpkg'\n      : 'sf-cdn.coze.com/obj/unpkg-va';\n\n  // cp-disable-next-line\n  return `//${domain}/${onlinePkgName}/${DEFAULT_VERSION}/${assetsUrl}`;\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { GlobalWorkerOptions } from 'pdfjs-dist';\n\nimport { generatePdfAssetsUrl } from './generate-assets';\n\n/**\n * This method is used to initialize the workerSrc parameter of pdfjs-dist, which can be called repeatedly\n */\nexport const initPdfJsWorker = () => {\n  if (!GlobalWorkerOptions.workerSrc) {\n    GlobalWorkerOptions.workerSrc = generatePdfAssetsUrl('pdf.worker');\n  }\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\n/* eslint-disable */\n/* tslint:disable */\n// @ts-nocheck\n\nexport type Int64 = string | number;\n\nexport enum SpanCategory {\n  Unknown = 1,\n  Start = 2,\n  Agent = 3,\n  LLMCall = 4,\n  Workflow = 5,\n  WorkflowStart = 6,\n  WorkflowEnd = 7,\n  Plugin = 8,\n  Knowledge = 9,\n  Code = 10,\n  Condition = 11,\n  Card = 12,\n  Message = 13,\n  Variable = 14,\n  Database = 15,\n  LongTermMemory = 16,\n  Hook = 17,\n  Batch = 18,\n  Loop = 19,\n  Parallel = 20,\n  Script = 21,\n  CallFlow = 22,\n  Connector = 23,\n}\n\nexport enum SpanStatus {\n  Unknown = 1,\n  Success = 2,\n  Error = 3,\n  Broken = 4,\n}\n\nexport enum SpanType {\n  Unknown = 1,\n  UserInput = 2,\n  ThirdParty = 3,\n  ScheduledTasks = 4,\n  OpenDialog = 5,\n  InvokeAgent = 6,\n  RestartAgent = 7,\n  SwitchAgent = 8,\n  LLMCall = 9,\n  LLMBatchCall = 10,\n  Workflow = 11,\n  WorkflowStart = 12,\n  WorkflowEnd = 13,\n  PluginTool = 14,\n  PluginToolBatch = 15,\n  Knowledge = 16,\n  Code = 17,\n  CodeBatch = 18,\n  Condition = 19,\n  Chain = 20,\n  Card = 21,\n  WorkflowMessage = 22,\n  WorkflowLLMCall = 23,\n  WorkflowLLMBatchCall = 24,\n  WorkflowCode = 25,\n  WorkflowCodeBatch = 26,\n  WorkflowCondition = 27,\n  WorkflowPluginTool = 28,\n  WorkflowPluginToolBatch = 29,\n  WorkflowKnowledge = 30,\n  WorkflowVariable = 31,\n  WorkflowDatabase = 32,\n  Variable = 33,\n  Database = 34,\n  LongTermMemory = 35,\n  Hook = 36,\n  BWStart = 37,\n  BWEnd = 38,\n  BWBatch = 39,\n  BWLoop = 40,\n  BWCondition = 41,\n  BWLLM = 42,\n  BWParallel = 43,\n  BWScript = 44,\n  BWVariable = 45,\n  BWCallFlow = 46,\n  BWConnector = 47,\n  UserInputV2 = 48,\n}\n\nexport interface AttrBWBatch {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n}\n\nexport interface AttrBWCallFlow {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 若被调用流程是pkg内的流程，则会填充此字段 */\n  call_flow_pkg_name: string;\n  /** 被调用的流程名称 */\n  call_flow_name: string;\n}\n\nexport interface AttrBWCondition {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 最终选择的分支名称 */\n  branch_name: string;\n}\n\nexport interface AttrBWConnector {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 具体的连接器节点的类型 */\n  node_type: string;\n}\n\nexport interface AttrBWEnd {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n}\n\nexport interface AttrBWLLM {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 大模型类型，仅当选用OpenAIChatModel才会具备有效值 */\n  model: string;\n  /** temperature */\n  temperature: number;\n}\n\nexport interface AttrBWLoop {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n}\n\nexport interface AttrBWParallel {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n}\n\nexport interface AttrBWScript {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n}\n\nexport interface AttrBWStart {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n}\n\nexport interface AttrBWVariable {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n}\n\nexport interface AttrCard {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 卡片ID */\n  card_id: string;\n  /** 卡片类型，枚举：workflow、plugin、workflow_message */\n  card_sub_type: string;\n  /** 卡片对应节点的名称 */\n  card_node_name?: string;\n}\n\n/** Deprecated */\nexport interface AttrChain {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n}\n\nexport interface AttrCode {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 在workflow中的节点ID */\n  workflow_node_id: string;\n}\n\nexport interface AttrCodeBatch {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 在workflow中的节点ID */\n  workflow_node_id: string;\n  /** 当前任务序号 */\n  task_index: number;\n  /** 批处理任务总数 */\n  task_total: number;\n}\n\nexport interface AttrCondition {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 在workflow中的节点ID */\n  workflow_node_id: string;\n}\n\nexport interface AttrDatabase {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 调用类型 */\n  call_type: string;\n}\n\nexport interface AttrHook {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** hook服务类型，枚举值有 rpc、http、workflow、plugin、retriever */\n  hook_type: string;\n  /** 对应 hook 服务 URI */\n  hook_uri: string;\n  /** 调用该 Hook 的 agent id（若是 single agent 模式，则为空） */\n  agent_id: string;\n  /** hook 响应码 */\n  hook_resp_code: string;\n  /** 是否是流式输入输出 */\n  is_stream: boolean;\n}\n\nexport interface AttrInvokeAgent {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 调用类型 */\n  call_type: string;\n  /** LLM模型，例如GPT-4(8K) */\n  model: string;\n  /** Temperature参数 */\n  temperature: number;\n  /** 最大回复字符长度 */\n  max_length_resp: number;\n  /** 上下文模式 */\n  context_mode: string;\n  /** 记忆的会话轮数 */\n  dialog_round: number;\n  /** Agent模式类型 */\n  agent_type: string;\n  /** AgentFlow状态机中，当前Agent的ID */\n  agent_id: string;\n  /** 首字母回复时间戳，单位毫秒 */\n  start_time_first_resp: string;\n  /** 首字母回复时延，单位毫秒 */\n  latency_first_resp: string;\n}\n\nexport interface AttrKnowledge {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 调用类型 */\n  call_type: string;\n  /** 在workflow中的节点ID */\n  workflow_node_id: string;\n  /** Knowledge 唯一标识 */\n  knowledge_id: string;\n}\n\nexport interface AttrLLMBatchCall {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 首字母回复时间戳，单位毫秒 */\n  start_time_first_resp: string;\n  /** 调用类型 */\n  call_type: string;\n  /** LLM模型，例如GPT-4(8K) */\n  model: string;\n  /** Temperature参数 */\n  temperature: number;\n  /** 最大回复字符长度 */\n  max_length_resp: number;\n  /** 当前任务序号 */\n  task_index: number;\n  /** 批处理任务总数 */\n  task_total: number;\n  /** 在workflow中的节点ID */\n  workflow_node_id: string;\n  /** 首字母回复时延，单位毫秒 */\n  latency_first_resp: string;\n}\n\nexport interface AttrLLMCall {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 首字母回复时间戳，单位毫秒 */\n  start_time_first_resp: string;\n  /** 调用类型 */\n  call_type: string;\n  /** LLM模型，例如GPT-4(8K) */\n  model: string;\n  /** Temperature参数 */\n  temperature: number;\n  /** 最大回复字符长度 */\n  max_length_resp: number;\n  /** 该节点的提示词 */\n  prompt: string;\n  /** 在workflow中的节点ID */\n  workflow_node_id: string;\n  /** 首字母回复时延，单位毫秒 */\n  latency_first_resp: string;\n}\n\nexport interface AttrLongTermMemory {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 调用类型 */\n  call_type: string;\n}\n\nexport interface AttrPluginTool {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 调用类型 */\n  call_type: string;\n  /** 插件唯一标识 */\n  plugin_id: string;\n  /** 插件中Tool的唯一标识 */\n  tool_id: string;\n  /** Tool名称 */\n  tool_name: string;\n  /** 在workflow中的节点ID */\n  workflow_node_id: string;\n}\n\nexport interface AttrPluginToolBatch {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 调用类型 */\n  call_type: string;\n  /** 插件唯一标识 */\n  plugin_id: string;\n  /** 插件中Tool的唯一标识 */\n  tool_id: string;\n  /** Tool名称 */\n  tool_name: string;\n  /** 在workflow中的节点ID */\n  workflow_node_id: string;\n  /** 当前任务序号 */\n  task_index: number;\n  /** 批处理任务总数 */\n  task_total: number;\n}\n\nexport interface AttrRestartAgent {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n}\n\nexport interface AttrSwitchAgent {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n}\n\nexport interface AttrUserInput {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** query类型: text/file/voice ... */\n  query_type: string;\n  /** Query输入方式: 手动输入 ... */\n  query_input_method: string;\n  /** 是否是重新生成 */\n  is_regenerate: boolean;\n  /** 首字母回复时间戳，单位毫秒 */\n  start_time_first_resp: string;\n  /** 客户端类型 */\n  client_type: string;\n  /** 用户的操作系统，如 iOS 设备、Android 设备 */\n  os: string;\n  /** 用户操作系统版本，如iOS 版本 */\n  os_version: string;\n  /** 浏览器类型 */\n  browser_type: string;\n  /** 浏览器版本 */\n  browser_version: string;\n  /** 调试信息中的pushUuid */\n  push_uuid: string;\n  /** 建议消息 */\n  suggestions: string;\n  /** 对话场景，仅Coze平台上报，取值homebot, draftbot, bot_detailpage */\n  dialog_scene: string;\n  /** 消息唯一标识 */\n  message_id: string;\n  /** 首字母回复时延，单位毫秒 */\n  latency_first_resp: string;\n  /** 本节点的简洁输入 */\n  simple_input?: string;\n}\n\nexport interface AttrVariable {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 调用类型 */\n  call_type: string;\n  /** 调用方法 */\n  action: string;\n}\n\nexport interface AttrWorkflow {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 流程唯一标识 */\n  workflow_id: string;\n  /** 流程执行ID */\n  execute_id: string;\n  /** 流程版本号 */\n  workflow_version?: string;\n  /** 在workflow中的节点ID */\n  workflow_node_id?: string;\n  /** workflow类型：1——基础工作流，2——BlockWise工作流 */\n  workflow_schema_type?: number;\n  /** 流程执行子ID */\n  sub_execute_id?: string;\n}\n\nexport interface AttrWorkflowCode {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 在workflow中的节点ID */\n  workflow_node_id: string;\n  /** 流程唯一标识 */\n  workflow_id?: string;\n  /** 流程执行ID */\n  execute_id?: string;\n  /** 流程版本号 */\n  workflow_version?: string;\n  /** 流程执行子ID */\n  sub_execute_id?: string;\n}\n\nexport interface AttrWorkflowCodeBatch {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 在workflow中的节点ID */\n  workflow_node_id: string;\n  /** 当前任务序号 */\n  task_index: number;\n  /** 批处理任务总数 */\n  task_total: number;\n  /** 流程唯一标识 */\n  workflow_id?: string;\n  /** 流程执行ID */\n  execute_id?: string;\n  /** 流程版本号 */\n  workflow_version?: string;\n  /** 流程执行子ID */\n  sub_execute_id?: string;\n}\n\nexport interface AttrWorkflowCondition {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 在workflow中的节点ID */\n  workflow_node_id: string;\n  /** 流程唯一标识 */\n  workflow_id?: string;\n  /** 流程执行ID */\n  execute_id?: string;\n  /** 流程版本号 */\n  workflow_version?: string;\n  /** 流程执行子ID */\n  sub_execute_id?: string;\n}\n\nexport interface AttrWorkflowDatabase {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 调用类型 */\n  call_type: string;\n  /** 在workflow中的节点ID */\n  workflow_node_id: string;\n  /** 流程唯一标识 */\n  workflow_id?: string;\n  /** 流程执行ID */\n  execute_id?: string;\n  /** 流程版本号 */\n  workflow_version?: string;\n  /** 流程执行子ID */\n  sub_execute_id?: string;\n}\n\nexport interface AttrWorkflowEnd {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 输出模式 */\n  output_mode: string;\n  /** 应答内容 */\n  answer_content: string;\n  /** 在workflow中的节点ID */\n  workflow_node_id: string;\n  /** 流程唯一标识 */\n  workflow_id?: string;\n  /** 流程执行ID */\n  execute_id?: string;\n  /** 流程版本号 */\n  workflow_version?: string;\n  /** 流程执行子ID */\n  sub_execute_id?: string;\n}\n\nexport interface AttrWorkflowKnowledge {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 调用类型 */\n  call_type: string;\n  /** 在workflow中的节点ID */\n  workflow_node_id: string;\n  /** Knowledge 唯一标识 */\n  knowledge_id: string;\n  /** 流程唯一标识 */\n  workflow_id?: string;\n  /** 流程执行ID */\n  execute_id?: string;\n  /** 流程版本号 */\n  workflow_version?: string;\n  /** 流程执行子ID */\n  sub_execute_id?: string;\n}\n\nexport interface AttrWorkflowLLMBatchCall {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 首字母回复时间戳，单位毫秒 */\n  start_time_first_resp: string;\n  /** 调用类型 */\n  call_type: string;\n  /** LLM模型，例如GPT-4(8K) */\n  model: string;\n  /** Temperature参数 */\n  temperature: number;\n  /** 最大回复字符长度 */\n  max_length_resp: number;\n  /** 当前任务序号 */\n  task_index: number;\n  /** 批处理任务总数 */\n  task_total: number;\n  /** 在workflow中的节点ID */\n  workflow_node_id: string;\n  /** 首字母回复时延，单位毫秒 */\n  latency_first_resp: string;\n  /** 流程唯一标识 */\n  workflow_id?: string;\n  /** 流程执行ID */\n  execute_id?: string;\n  /** 流程版本号 */\n  workflow_version?: string;\n  /** 流程执行子ID */\n  sub_execute_id?: string;\n}\n\nexport interface AttrWorkflowLLMCall {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 首字母回复时间戳，单位毫秒 */\n  start_time_first_resp: string;\n  /** 调用类型 */\n  call_type: string;\n  /** LLM模型，例如GPT-4(8K) */\n  model: string;\n  /** Temperature参数 */\n  temperature: number;\n  /** 最大回复字符长度 */\n  max_length_resp: number;\n  /** 该节点的提示词 */\n  prompt: string;\n  /** 在workflow中的节点ID */\n  workflow_node_id: string;\n  /** 首字母回复时延，单位毫秒 */\n  latency_first_resp: string;\n  /** 流程唯一标识 */\n  workflow_id?: string;\n  /** 流程执行ID */\n  execute_id?: string;\n  /** 流程版本号 */\n  workflow_version?: string;\n  /** 流程执行子ID */\n  sub_execute_id?: string;\n}\n\nexport interface AttrWorkflowMessage {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 在workflow中的节点ID */\n  workflow_node_id: string;\n  /** 流式输出，枚举：open、close */\n  streaming_output: string;\n  /** 流程唯一标识 */\n  workflow_id?: string;\n  /** 流程执行ID */\n  execute_id?: string;\n  /** 流程版本号 */\n  workflow_version?: string;\n  /** 流程执行子ID */\n  sub_execute_id?: string;\n}\n\nexport interface AttrWorkflowPluginTool {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 调用类型 */\n  call_type: string;\n  /** 插件唯一标识 */\n  plugin_id: string;\n  /** 插件中Tool的唯一标识 */\n  tool_id: string;\n  /** Tool名称 */\n  tool_name: string;\n  /** 在workflow中的节点ID */\n  workflow_node_id: string;\n  /** 流程唯一标识 */\n  workflow_id?: string;\n  /** 流程执行ID */\n  execute_id?: string;\n  /** 流程版本号 */\n  workflow_version?: string;\n  /** 流程执行子ID */\n  sub_execute_id?: string;\n}\n\nexport interface AttrWorkflowPluginToolBatch {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 调用类型 */\n  call_type: string;\n  /** 插件唯一标识 */\n  plugin_id: string;\n  /** 插件中Tool的唯一标识 */\n  tool_id: string;\n  /** Tool名称 */\n  tool_name: string;\n  /** 在workflow中的节点ID */\n  workflow_node_id: string;\n  /** 当前任务序号 */\n  task_index: number;\n  /** 批处理任务总数 */\n  task_total: number;\n  /** 流程唯一标识 */\n  workflow_id?: string;\n  /** 流程执行ID */\n  execute_id?: string;\n  /** 流程版本号 */\n  workflow_version?: string;\n  /** 流程执行子ID */\n  sub_execute_id?: string;\n}\n\nexport interface AttrWorkflowVariable {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 调用类型 */\n  call_type: string;\n  /** 在workflow中的节点ID */\n  workflow_node_id: string;\n  /** 流程唯一标识 */\n  workflow_id?: string;\n  /** 流程执行ID */\n  execute_id?: string;\n  /** 流程版本号 */\n  workflow_version?: string;\n  /** 流程执行子ID */\n  sub_execute_id?: string;\n}\n\n/** A Span represents a single operation performed by a single component of the system. */\nexport interface Span {\n  /** A unique identifier for a trace. All spans from the same trace share the same `trace_id`.\nThis field is required. */\n  trace_id: string;\n  /** A unique identifier for a span within a trace, assigned when the span\nis created.\nThis field is required. */\n  id: string;\n  /** The `span id` of this span's parent span. If this is a root span, then the value of this\nfield must be empty.\n❌ \"parent_id\": null\n✅ \"parent_id\": \"\" */\n  parent_id: string;\n  /** A description of the span's operation.\n\nFor example, the name can be a qualified method name or a file name\nand a line number where the operation is called. A best practice is to use\nthe same display name at the same call point in an application.\nThis makes it easier to correlate spans in different traces.\n\nThis field is semantically required to be set to non-empty string.\nEmpty value is equivalent to an unknown span name.\n\nThis field is required. */\n  name: string;\n  /** Type is the type of span. */\n  type: SpanType;\n  /** StartTime(ms) is the start time of the span. On the client side, this is the time\nkept by the local machine where the span execution starts. On the server side,\nthis is the time when the server's application handler starts running.\nValue is UNIX Epoch time in nanoseconds since 00:00:00 UTC on 1 January 1970. */\n  start_time: string;\n  /** Latency(ms) */\n  latency: string;\n  /** An final status for this span. */\n  status: SpanStatus;\n  /** Attributes is a collection of key/value pairs. examples of attributes:\n\n\"log_id\": \"20240101123456\"\n\"input_tokens\": 8888\n\nAttribute keys MUST be unique (it is not allowed to have more than one\nattribute with the same key). */\n  attr_user_input?: AttrUserInput;\n  attr_invoke_agent?: AttrInvokeAgent;\n  attr_restart_agent?: AttrRestartAgent;\n  attr_switch_agent?: AttrSwitchAgent;\n  attr_llm_call?: AttrLLMCall;\n  attr_llm_batch_call?: AttrLLMBatchCall;\n  attr_workflow?: AttrWorkflow;\n  attr_workflow_end?: AttrWorkflowEnd;\n  attr_code?: AttrCode;\n  attr_code_batch?: AttrCodeBatch;\n  attr_condition?: AttrCondition;\n  attr_plugin_tool?: AttrPluginTool;\n  attr_plugin_tool_batch?: AttrPluginToolBatch;\n  attr_knowledge?: AttrKnowledge;\n  /** Deprecated */\n  attr_chain?: AttrChain;\n  attr_card?: AttrCard;\n  attr_workflow_message?: AttrWorkflowMessage;\n  attr_workflow_llm_call?: AttrWorkflowLLMCall;\n  attr_workflow_llm_batch_call?: AttrWorkflowLLMBatchCall;\n  attr_workflow_code?: AttrWorkflowCode;\n  attr_workflow_code_batch?: AttrWorkflowCodeBatch;\n  attr_workflow_condition?: AttrWorkflowCondition;\n  attr_workflow_plugin_tool?: AttrWorkflowPluginTool;\n  attr_workflow_plugin_tool_batch?: AttrWorkflowPluginToolBatch;\n  attr_workflow_knowledge?: AttrWorkflowKnowledge;\n  attr_workflow_variable?: AttrWorkflowVariable;\n  attr_workflow_database?: AttrWorkflowDatabase;\n  attr_variable?: AttrVariable;\n  attr_database?: AttrDatabase;\n  attr_long_term_memory?: AttrLongTermMemory;\n  attr_hook?: AttrHook;\n  attr_bw_start?: AttrBWStart;\n  attr_bw_end?: AttrBWEnd;\n  attr_bw_batch?: AttrBWBatch;\n  attr_bw_loop?: AttrBWLoop;\n  attr_bw_condition?: AttrBWCondition;\n  attr_bw_llm?: AttrBWLLM;\n  attr_bw_parallel?: AttrBWParallel;\n  attr_bw_variable?: AttrBWVariable;\n  attr_bw_call_flow?: AttrBWCallFlow;\n  attr_bw_connector?: AttrBWConnector;\n  attr_bw_script?: AttrBWScript;\n}\n/* eslint-enable */\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\n/* eslint-disable */\n/* tslint:disable */\n// @ts-nocheck\n\nexport type Int64 = string | number;\n\nexport enum SpanCategory {\n  Unknown = 1,\n  Start = 2,\n  Agent = 3,\n  LLMCall = 4,\n  Workflow = 5,\n  WorkflowStart = 6,\n  WorkflowEnd = 7,\n  Plugin = 8,\n  Knowledge = 9,\n  Code = 10,\n  Condition = 11,\n  Card = 12,\n  Message = 13,\n  Variable = 14,\n  Database = 15,\n  LongTermMemory = 16,\n  Hook = 17,\n  Batch = 18,\n  Loop = 19,\n  Parallel = 20,\n  Script = 21,\n  CallFlow = 22,\n  Connector = 23,\n}\n\nexport enum SpanStatus {\n  Unknown = 1,\n  Success = 2,\n  Error = 3,\n  Broken = 4,\n}\n\nexport enum SpanType {\n  Unknown = 1,\n  UserInput = 2,\n  ThirdParty = 3,\n  ScheduledTasks = 4,\n  OpenDialog = 5,\n  InvokeAgent = 6,\n  RestartAgent = 7,\n  SwitchAgent = 8,\n  LLMCall = 9,\n  LLMBatchCall = 10,\n  Workflow = 11,\n  WorkflowStart = 12,\n  WorkflowEnd = 13,\n  PluginTool = 14,\n  PluginToolBatch = 15,\n  Knowledge = 16,\n  Code = 17,\n  CodeBatch = 18,\n  Condition = 19,\n  Chain = 20,\n  Card = 21,\n  WorkflowMessage = 22,\n  WorkflowLLMCall = 23,\n  WorkflowLLMBatchCall = 24,\n  WorkflowCode = 25,\n  WorkflowCodeBatch = 26,\n  WorkflowCondition = 27,\n  WorkflowPluginTool = 28,\n  WorkflowPluginToolBatch = 29,\n  WorkflowKnowledge = 30,\n  WorkflowVariable = 31,\n  WorkflowDatabase = 32,\n  Variable = 33,\n  Database = 34,\n  LongTermMemory = 35,\n  Hook = 36,\n  BWStart = 37,\n  BWEnd = 38,\n  BWBatch = 39,\n  BWLoop = 40,\n  BWCondition = 41,\n  BWLLM = 42,\n  BWParallel = 43,\n  BWScript = 44,\n  BWVariable = 45,\n  BWCallFlow = 46,\n  BWConnector = 47,\n  UserInputV2 = 48,\n}\n\nexport interface AttrBWBatch {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n}\n\nexport interface AttrBWCallFlow {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 若被调用流程是pkg内的流程，则会填充此字段 */\n  call_flow_pkg_name: string;\n  /** 被调用的流程名称 */\n  call_flow_name: string;\n}\n\nexport interface AttrBWCondition {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 最终选择的分支名称 */\n  branch_name: string;\n}\n\nexport interface AttrBWConnector {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 具体的连接器节点的类型 */\n  node_type: string;\n}\n\nexport interface AttrBWEnd {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n}\n\nexport interface AttrBWLLM {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 大模型类型，仅当选用OpenAIChatModel才会具备有效值 */\n  model: string;\n  /** temperature */\n  temperature: number;\n}\n\nexport interface AttrBWLoop {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n}\n\nexport interface AttrBWParallel {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n}\n\nexport interface AttrBWScript {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n}\n\nexport interface AttrBWStart {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n}\n\nexport interface AttrBWVariable {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n}\n\nexport interface AttrCard {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 卡片ID */\n  card_id: string;\n  /** 卡片类型，枚举：workflow、plugin、workflow_message */\n  card_sub_type: string;\n  /** 卡片对应节点的名称 */\n  card_node_name?: string;\n}\n\n/** Deprecated */\nexport interface AttrChain {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n}\n\nexport interface AttrCode {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 在workflow中的节点ID */\n  workflow_node_id: string;\n}\n\nexport interface AttrCodeBatch {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 在workflow中的节点ID */\n  workflow_node_id: string;\n  /** 当前任务序号 */\n  task_index: number;\n  /** 批处理任务总数 */\n  task_total: number;\n}\n\nexport interface AttrCondition {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 在workflow中的节点ID */\n  workflow_node_id: string;\n}\n\nexport interface AttrDatabase {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 调用类型 */\n  call_type: string;\n}\n\nexport interface AttrHook {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** hook服务类型，枚举值有 rpc、http、workflow、plugin、retriever */\n  hook_type: string;\n  /** 对应 hook 服务 URI */\n  hook_uri: string;\n  /** 调用该 Hook 的 agent id（若是 single agent 模式，则为空） */\n  agent_id: string;\n  /** hook 响应码 */\n  hook_resp_code: string;\n  /** 是否是流式输入输出 */\n  is_stream: boolean;\n}\n\nexport interface AttrInvokeAgent {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 调用类型 */\n  call_type: string;\n  /** LLM模型，例如GPT-4(8K) */\n  model: string;\n  /** Temperature参数 */\n  temperature: number;\n  /** 最大回复字符长度 */\n  max_length_resp: number;\n  /** 上下文模式 */\n  context_mode: string;\n  /** 记忆的会话轮数 */\n  dialog_round: number;\n  /** Agent模式类型 */\n  agent_type: string;\n  /** AgentFlow状态机中，当前Agent的ID */\n  agent_id: string;\n  /** 首字母回复时间戳，单位毫秒 */\n  start_time_first_resp: string;\n  /** 首字母回复时延，单位毫秒 */\n  latency_first_resp: string;\n}\n\nexport interface AttrKnowledge {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 调用类型 */\n  call_type: string;\n  /** 在workflow中的节点ID */\n  workflow_node_id: string;\n  /** Knowledge 唯一标识 */\n  knowledge_id: string;\n}\n\nexport interface AttrLLMBatchCall {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 首字母回复时间戳，单位毫秒 */\n  start_time_first_resp: string;\n  /** 调用类型 */\n  call_type: string;\n  /** LLM模型，例如GPT-4(8K) */\n  model: string;\n  /** Temperature参数 */\n  temperature: number;\n  /** 最大回复字符长度 */\n  max_length_resp: number;\n  /** 当前任务序号 */\n  task_index: number;\n  /** 批处理任务总数 */\n  task_total: number;\n  /** 在workflow中的节点ID */\n  workflow_node_id: string;\n  /** 首字母回复时延，单位毫秒 */\n  latency_first_resp: string;\n}\n\nexport interface AttrLLMCall {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 首字母回复时间戳，单位毫秒 */\n  start_time_first_resp: string;\n  /** 调用类型 */\n  call_type: string;\n  /** LLM模型，例如GPT-4(8K) */\n  model: string;\n  /** Temperature参数 */\n  temperature: number;\n  /** 最大回复字符长度 */\n  max_length_resp: number;\n  /** 该节点的提示词 */\n  prompt: string;\n  /** 在workflow中的节点ID */\n  workflow_node_id: string;\n  /** 首字母回复时延，单位毫秒 */\n  latency_first_resp: string;\n}\n\nexport interface AttrLongTermMemory {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 调用类型 */\n  call_type: string;\n}\n\nexport interface AttrPluginTool {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 调用类型 */\n  call_type: string;\n  /** 插件唯一标识 */\n  plugin_id: string;\n  /** 插件中Tool的唯一标识 */\n  tool_id: string;\n  /** Tool名称 */\n  tool_name: string;\n  /** 在workflow中的节点ID */\n  workflow_node_id: string;\n}\n\nexport interface AttrPluginToolBatch {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 调用类型 */\n  call_type: string;\n  /** 插件唯一标识 */\n  plugin_id: string;\n  /** 插件中Tool的唯一标识 */\n  tool_id: string;\n  /** Tool名称 */\n  tool_name: string;\n  /** 在workflow中的节点ID */\n  workflow_node_id: string;\n  /** 当前任务序号 */\n  task_index: number;\n  /** 批处理任务总数 */\n  task_total: number;\n}\n\nexport interface AttrRestartAgent {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n}\n\nexport interface AttrSwitchAgent {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n}\n\nexport interface AttrUserInput {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** query类型: text/file/voice ... */\n  query_type: string;\n  /** Query输入方式: 手动输入 ... */\n  query_input_method: string;\n  /** 是否是重新生成 */\n  is_regenerate: boolean;\n  /** 首字母回复时间戳，单位毫秒 */\n  start_time_first_resp: string;\n  /** 客户端类型 */\n  client_type: string;\n  /** 用户的操作系统，如 iOS 设备、Android 设备 */\n  os: string;\n  /** 用户操作系统版本，如iOS 版本 */\n  os_version: string;\n  /** 浏览器类型 */\n  browser_type: string;\n  /** 浏览器版本 */\n  browser_version: string;\n  /** 调试信息中的pushUuid */\n  push_uuid: string;\n  /** 建议消息 */\n  suggestions: string;\n  /** 对话场景，仅Coze平台上报，取值homebot, draftbot, bot_detailpage */\n  dialog_scene: string;\n  /** 消息唯一标识 */\n  message_id: string;\n  /** 首字母回复时延，单位毫秒 */\n  latency_first_resp: string;\n  /** 本节点的简洁输入 */\n  simple_input?: string;\n}\n\nexport interface AttrVariable {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 调用类型 */\n  call_type: string;\n  /** 调用方法 */\n  action: string;\n}\n\nexport interface AttrWorkflow {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 流程唯一标识 */\n  workflow_id: string;\n  /** 流程执行ID */\n  execute_id: string;\n  /** 流程版本号 */\n  workflow_version?: string;\n  /** 在workflow中的节点ID */\n  workflow_node_id?: string;\n  /** workflow类型：1——基础工作流，2——BlockWise工作流 */\n  workflow_schema_type?: number;\n  /** 流程执行子ID */\n  sub_execute_id?: string;\n}\n\nexport interface AttrWorkflowCode {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 在workflow中的节点ID */\n  workflow_node_id: string;\n  /** 流程唯一标识 */\n  workflow_id?: string;\n  /** 流程执行ID */\n  execute_id?: string;\n  /** 流程版本号 */\n  workflow_version?: string;\n  /** 流程执行子ID */\n  sub_execute_id?: string;\n}\n\nexport interface AttrWorkflowCodeBatch {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 在workflow中的节点ID */\n  workflow_node_id: string;\n  /** 当前任务序号 */\n  task_index: number;\n  /** 批处理任务总数 */\n  task_total: number;\n  /** 流程唯一标识 */\n  workflow_id?: string;\n  /** 流程执行ID */\n  execute_id?: string;\n  /** 流程版本号 */\n  workflow_version?: string;\n  /** 流程执行子ID */\n  sub_execute_id?: string;\n}\n\nexport interface AttrWorkflowCondition {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 在workflow中的节点ID */\n  workflow_node_id: string;\n  /** 流程唯一标识 */\n  workflow_id?: string;\n  /** 流程执行ID */\n  execute_id?: string;\n  /** 流程版本号 */\n  workflow_version?: string;\n  /** 流程执行子ID */\n  sub_execute_id?: string;\n}\n\nexport interface AttrWorkflowDatabase {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 调用类型 */\n  call_type: string;\n  /** 在workflow中的节点ID */\n  workflow_node_id: string;\n  /** 流程唯一标识 */\n  workflow_id?: string;\n  /** 流程执行ID */\n  execute_id?: string;\n  /** 流程版本号 */\n  workflow_version?: string;\n  /** 流程执行子ID */\n  sub_execute_id?: string;\n}\n\nexport interface AttrWorkflowEnd {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 输出模式 */\n  output_mode: string;\n  /** 应答内容 */\n  answer_content: string;\n  /** 在workflow中的节点ID */\n  workflow_node_id: string;\n  /** 流程唯一标识 */\n  workflow_id?: string;\n  /** 流程执行ID */\n  execute_id?: string;\n  /** 流程版本号 */\n  workflow_version?: string;\n  /** 流程执行子ID */\n  sub_execute_id?: string;\n}\n\nexport interface AttrWorkflowKnowledge {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 调用类型 */\n  call_type: string;\n  /** 在workflow中的节点ID */\n  workflow_node_id: string;\n  /** Knowledge 唯一标识 */\n  knowledge_id: string;\n  /** 流程唯一标识 */\n  workflow_id?: string;\n  /** 流程执行ID */\n  execute_id?: string;\n  /** 流程版本号 */\n  workflow_version?: string;\n  /** 流程执行子ID */\n  sub_execute_id?: string;\n}\n\nexport interface AttrWorkflowLLMBatchCall {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 首字母回复时间戳，单位毫秒 */\n  start_time_first_resp: string;\n  /** 调用类型 */\n  call_type: string;\n  /** LLM模型，例如GPT-4(8K) */\n  model: string;\n  /** Temperature参数 */\n  temperature: number;\n  /** 最大回复字符长度 */\n  max_length_resp: number;\n  /** 当前任务序号 */\n  task_index: number;\n  /** 批处理任务总数 */\n  task_total: number;\n  /** 在workflow中的节点ID */\n  workflow_node_id: string;\n  /** 首字母回复时延，单位毫秒 */\n  latency_first_resp: string;\n  /** 流程唯一标识 */\n  workflow_id?: string;\n  /** 流程执行ID */\n  execute_id?: string;\n  /** 流程版本号 */\n  workflow_version?: string;\n  /** 流程执行子ID */\n  sub_execute_id?: string;\n}\n\nexport interface AttrWorkflowLLMCall {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 首字母回复时间戳，单位毫秒 */\n  start_time_first_resp: string;\n  /** 调用类型 */\n  call_type: string;\n  /** LLM模型，例如GPT-4(8K) */\n  model: string;\n  /** Temperature参数 */\n  temperature: number;\n  /** 最大回复字符长度 */\n  max_length_resp: number;\n  /** 该节点的提示词 */\n  prompt: string;\n  /** 在workflow中的节点ID */\n  workflow_node_id: string;\n  /** 首字母回复时延，单位毫秒 */\n  latency_first_resp: string;\n  /** 流程唯一标识 */\n  workflow_id?: string;\n  /** 流程执行ID */\n  execute_id?: string;\n  /** 流程版本号 */\n  workflow_version?: string;\n  /** 流程执行子ID */\n  sub_execute_id?: string;\n}\n\nexport interface AttrWorkflowMessage {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 在workflow中的节点ID */\n  workflow_node_id: string;\n  /** 流式输出，枚举：open、close */\n  streaming_output: string;\n  /** 流程唯一标识 */\n  workflow_id?: string;\n  /** 流程执行ID */\n  execute_id?: string;\n  /** 流程版本号 */\n  workflow_version?: string;\n  /** 流程执行子ID */\n  sub_execute_id?: string;\n}\n\nexport interface AttrWorkflowPluginTool {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 调用类型 */\n  call_type: string;\n  /** 插件唯一标识 */\n  plugin_id: string;\n  /** 插件中Tool的唯一标识 */\n  tool_id: string;\n  /** Tool名称 */\n  tool_name: string;\n  /** 在workflow中的节点ID */\n  workflow_node_id: string;\n  /** 流程唯一标识 */\n  workflow_id?: string;\n  /** 流程执行ID */\n  execute_id?: string;\n  /** 流程版本号 */\n  workflow_version?: string;\n  /** 流程执行子ID */\n  sub_execute_id?: string;\n}\n\nexport interface AttrWorkflowPluginToolBatch {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 调用类型 */\n  call_type: string;\n  /** 插件唯一标识 */\n  plugin_id: string;\n  /** 插件中Tool的唯一标识 */\n  tool_id: string;\n  /** Tool名称 */\n  tool_name: string;\n  /** 在workflow中的节点ID */\n  workflow_node_id: string;\n  /** 当前任务序号 */\n  task_index: number;\n  /** 批处理任务总数 */\n  task_total: number;\n  /** 流程唯一标识 */\n  workflow_id?: string;\n  /** 流程执行ID */\n  execute_id?: string;\n  /** 流程版本号 */\n  workflow_version?: string;\n  /** 流程执行子ID */\n  sub_execute_id?: string;\n}\n\nexport interface AttrWorkflowVariable {\n  /** argos日志ID */\n  log_id: string;\n  /** 触发事件的用户ID */\n  user_id: string;\n  /** 事件发生的Bot ID */\n  bot_id: string;\n  /** Bot 的名称快照 */\n  bot_name: string;\n  /** bot开发/正式环境 */\n  bot_env: string;\n  /** bot版本 */\n  bot_version: string;\n  /** bot所属空间ID */\n  bot_space_id: string;\n  /** Bot 的下发渠道，如豆包、飞书等 */\n  channel: string;\n  /** 本节点的输入 */\n  input: string;\n  /** 本节点的输出 */\n  output: string;\n  /** 当前span实际输入消耗token数 */\n  input_tokens: number;\n  /** 当前span实际输出消耗token数 */\n  output_tokens: number;\n  /** 当前span的状态码，0表示成功，非0表示失败 */\n  status_code: string;\n  /** 调用类型 */\n  call_type: string;\n  /** 在workflow中的节点ID */\n  workflow_node_id: string;\n  /** 流程唯一标识 */\n  workflow_id?: string;\n  /** 流程执行ID */\n  execute_id?: string;\n  /** 流程版本号 */\n  workflow_version?: string;\n  /** 流程执行子ID */\n  sub_execute_id?: string;\n}\n\n/** A Span represents a single operation performed by a single component of the system. */\nexport interface Span {\n  /** A unique identifier for a trace. All spans from the same trace share the same `trace_id`.\nThis field is required. */\n  trace_id: string;\n  /** A unique identifier for a span within a trace, assigned when the span\nis created.\nThis field is required. */\n  id: string;\n  /** The `span id` of this span's parent span. If this is a root span, then the value of this\nfield must be empty.\n❌ \"parent_id\": null\n✅ \"parent_id\": \"\" */\n  parent_id: string;\n  /** A description of the span's operation.\n\nFor example, the name can be a qualified method name or a file name\nand a line number where the operation is called. A best practice is to use\nthe same display name at the same call point in an application.\nThis makes it easier to correlate spans in different traces.\n\nThis field is semantically required to be set to non-empty string.\nEmpty value is equivalent to an unknown span name.\n\nThis field is required. */\n  name: string;\n  /** Type is the type of span. */\n  type: SpanType;\n  /** StartTime(ms) is the start time of the span. On the client side, this is the time\nkept by the local machine where the span execution starts. On the server side,\nthis is the time when the server's application handler starts running.\nValue is UNIX Epoch time in nanoseconds since 00:00:00 UTC on 1 January 1970. */\n  start_time: string;\n  /** Latency(ms) */\n  latency: string;\n  /** An final status for this span. */\n  status: SpanStatus;\n  /** Attributes is a collection of key/value pairs. examples of attributes:\n\n\"log_id\": \"20240101123456\"\n\"input_tokens\": 8888\n\nAttribute keys MUST be unique (it is not allowed to have more than one\nattribute with the same key). */\n  attr_user_input?: AttrUserInput;\n  attr_invoke_agent?: AttrInvokeAgent;\n  attr_restart_agent?: AttrRestartAgent;\n  attr_switch_agent?: AttrSwitchAgent;\n  attr_llm_call?: AttrLLMCall;\n  attr_llm_batch_call?: AttrLLMBatchCall;\n  attr_workflow?: AttrWorkflow;\n  attr_workflow_end?: AttrWorkflowEnd;\n  attr_code?: AttrCode;\n  attr_code_batch?: AttrCodeBatch;\n  attr_condition?: AttrCondition;\n  attr_plugin_tool?: AttrPluginTool;\n  attr_plugin_tool_batch?: AttrPluginToolBatch;\n  attr_knowledge?: AttrKnowledge;\n  /** Deprecated */\n  attr_chain?: AttrChain;\n  attr_card?: AttrCard;\n  attr_workflow_message?: AttrWorkflowMessage;\n  attr_workflow_llm_call?: AttrWorkflowLLMCall;\n  attr_workflow_llm_batch_call?: AttrWorkflowLLMBatchCall;\n  attr_workflow_code?: AttrWorkflowCode;\n  attr_workflow_code_batch?: AttrWorkflowCodeBatch;\n  attr_workflow_condition?: AttrWorkflowCondition;\n  attr_workflow_plugin_tool?: AttrWorkflowPluginTool;\n  attr_workflow_plugin_tool_batch?: AttrWorkflowPluginToolBatch;\n  attr_workflow_knowledge?: AttrWorkflowKnowledge;\n  attr_workflow_variable?: AttrWorkflowVariable;\n  attr_workflow_database?: AttrWorkflowDatabase;\n  attr_variable?: AttrVariable;\n  attr_database?: AttrDatabase;\n  attr_long_term_memory?: AttrLongTermMemory;\n  attr_hook?: AttrHook;\n  attr_bw_start?: AttrBWStart;\n  attr_bw_end?: AttrBWEnd;\n  attr_bw_batch?: AttrBWBatch;\n  attr_bw_loop?: AttrBWLoop;\n  attr_bw_condition?: AttrBWCondition;\n  attr_bw_llm?: AttrBWLLM;\n  attr_bw_parallel?: AttrBWParallel;\n  attr_bw_variable?: AttrBWVariable;\n  attr_bw_call_flow?: AttrBWCallFlow;\n  attr_bw_connector?: AttrBWConnector;\n  attr_bw_script?: AttrBWScript;\n}\n/* eslint-enable */\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  type Span,\n  type AttrUserInput,\n  type AttrInvokeAgent,\n  type AttrCode,\n  type AttrCodeBatch,\n  type AttrCondition,\n  type AttrKnowledge,\n  type AttrLLMBatchCall,\n  type AttrLLMCall,\n  type AttrPluginTool,\n  type AttrPluginToolBatch,\n  type AttrRestartAgent,\n  type AttrSwitchAgent,\n  type AttrWorkflow,\n  type AttrWorkflowEnd,\n  type SpanCategory,\n  type SpanType,\n  type SpanStatus,\n  type AttrChain,\n  type AttrWorkflowMessage,\n  type AttrCard,\n  type AttrWorkflowLLMCall,\n  type AttrWorkflowCode,\n  type AttrWorkflowCodeBatch,\n  type AttrWorkflowCondition,\n  type AttrWorkflowKnowledge,\n  type AttrWorkflowLLMBatchCall,\n  type AttrWorkflowPluginTool,\n  type AttrWorkflowPluginToolBatch,\n  type AttrBWStart,\n  type AttrBWEnd,\n  type AttrBWBatch,\n  type AttrBWLoop,\n  type AttrBWCondition,\n  type AttrBWLLM,\n  type AttrBWParallel,\n  type AttrBWScript,\n  type AttrBWVariable,\n  type AttrBWCallFlow,\n  type AttrBWConnector,\n  type AttrHook,\n} from '@coze-arch/bot-api/ob_query_api';\n\ntype CSpanCommonProp = Pick<\n  Span,\n  'trace_id' | 'id' | 'parent_id' | 'name' | 'type' | 'status'\n> & {\n  start_time: number; // The default is Int64, which is inconvenient to use\n  latency: number; // The default is Int64, which is inconvenient to use\n  category?: SpanCategory; // Empty only when Meta fails to load\n  input_tokens_sum?: number; // Extended field to store the sum of sub-node input_tokens\n  output_tokens_sum?: number; // Extended field to store the sum of sub-node output_tokens\n};\n\ntype GenCSpan<T> = CSpanCommonProp & {\n  extra?: T;\n};\n\nexport type CSpanAttrUserInput = GenCSpan<AttrUserInput>;\nexport type CSpanAttrInvokeAgent = GenCSpan<AttrInvokeAgent>;\nexport type CSpanAttrRestartAgent = GenCSpan<AttrRestartAgent>;\nexport type CSpanAttrSwitchAgent = GenCSpan<AttrSwitchAgent>;\nexport type CSpanAttrLLMCall = GenCSpan<AttrLLMCall>;\nexport type CSpanAttrWorkflowLLMCall = GenCSpan<AttrWorkflowLLMCall>;\nexport type CSpanAttrLLMBatchCall = GenCSpan<AttrLLMBatchCall>;\nexport type CSpanAttrWorkflowLLMBatchCall = GenCSpan<AttrWorkflowLLMBatchCall>;\nexport type CSpanAttrWorkflow = GenCSpan<AttrWorkflow>;\nexport type CSpanAttrWorkflowEnd = GenCSpan<AttrWorkflowEnd>;\nexport type CSpanAttrCode = GenCSpan<AttrCode>;\nexport type CSpanAttrWorkflowCode = GenCSpan<AttrWorkflowCode>;\nexport type CSpanAttrCodeBatch = GenCSpan<AttrCodeBatch>;\nexport type CSpanAttrWorkflowCodeBatch = GenCSpan<AttrWorkflowCodeBatch>;\nexport type CSpanAttrCondition = GenCSpan<AttrCondition>;\nexport type CSpanAttrWorkflowCondition = GenCSpan<AttrWorkflowCondition>;\nexport type CSpanAttrPluginTool = GenCSpan<AttrPluginTool>;\nexport type CSpanAttrWorkflowPluginTool = GenCSpan<AttrWorkflowPluginTool>;\nexport type CSpanAttrPluginToolBatch = GenCSpan<AttrPluginToolBatch>;\nexport type CSpanAttrWorkflowPluginToolBatch =\n  GenCSpan<AttrWorkflowPluginToolBatch>;\nexport type CSpanAttrKnowledge = GenCSpan<AttrKnowledge>;\nexport type CSpanAttrWorkflowKnowledge = GenCSpan<AttrWorkflowKnowledge>;\nexport type CSpanAttrChain = GenCSpan<AttrChain>;\nexport type CSpanAttrCard = GenCSpan<AttrCard>;\nexport type CSpanAttrWorkflowMessage = GenCSpan<AttrWorkflowMessage>;\nexport type CSpanAttrHook = GenCSpan<AttrHook>;\nexport type CSpanAttrBWStart = GenCSpan<AttrBWStart>;\nexport type CSpanAttrBWEnd = GenCSpan<AttrBWEnd>;\nexport type CSpanAttrBWBatch = GenCSpan<AttrBWBatch>;\nexport type CSpanAttrBWLoop = GenCSpan<AttrBWLoop>;\nexport type CSpanAttrBWCondition = GenCSpan<AttrBWCondition>;\nexport type CSpanAttrBWLLM = GenCSpan<AttrBWLLM>;\nexport type CSpanAttrBWParallel = GenCSpan<AttrBWParallel>;\nexport type CSpanAttrBWScript = GenCSpan<AttrBWScript>;\nexport type CSpanAttrBWVariable = GenCSpan<AttrBWVariable>;\nexport type CSpanAttrBWCallFlow = GenCSpan<AttrBWCallFlow>;\nexport type CSpanAttrBWConnector = GenCSpan<AttrBWConnector>;\n\nexport type CSpanSingle =\n  | CSpanAttrUserInput\n  | CSpanAttrInvokeAgent\n  | CSpanAttrRestartAgent\n  | CSpanAttrSwitchAgent\n  | CSpanAttrLLMCall\n  | CSpanAttrLLMBatchCall\n  | CSpanAttrWorkflow\n  | CSpanAttrWorkflowEnd\n  | CSpanAttrCode\n  | CSpanAttrCodeBatch\n  | CSpanAttrCondition\n  | CSpanAttrPluginTool\n  | CSpanAttrPluginToolBatch\n  | CSpanAttrKnowledge\n  | CSpanAttrChain\n  | CSpanAttrCard\n  | CSpanAttrWorkflowMessage\n  | CSpanAttrWorkflowLLMCall\n  | CSpanAttrWorkflowLLMBatchCall\n  | CSpanAttrWorkflowCode\n  | CSpanAttrWorkflowCodeBatch\n  | CSpanAttrWorkflowCondition\n  | CSpanAttrWorkflowPluginTool\n  | CSpanAttrWorkflowPluginToolBatch\n  | CSpanAttrWorkflowKnowledge\n  | CSpanAttrHook\n  | CSpanAttrBWStart\n  | CSpanAttrBWEnd\n  | CSpanAttrBWBatch\n  | CSpanAttrBWLoop\n  | CSpanAttrBWCondition\n  | CSpanAttrBWLLM\n  | CSpanAttrBWParallel\n  | CSpanAttrBWScript\n  | CSpanAttrBWVariable\n  | CSpanAttrBWCallFlow\n  | CSpanAttrBWConnector;\n\nexport type CSpanSingleForBatch =\n  | CSpanAttrLLMBatchCall\n  | CSpanAttrWorkflowLLMBatchCall\n  | CSpanAttrCodeBatch\n  | CSpanAttrWorkflowCodeBatch\n  | CSpanAttrPluginToolBatch\n  | CSpanAttrWorkflowPluginToolBatch;\n\nexport type CSPanBatch = CSpanCommonProp & {\n  spans: CSpanSingleForBatch[];\n  workflow_node_id?: string;\n};\n\nexport type CSpan = CSpanSingle | CSPanBatch;\n\ntype AttrUserInputExtra = Partial<CSpanAttrUserInput['extra']> & {\n  dialog_round?: number;\n  model?: string;\n  input_tokens?: number;\n  output_tokens?: number;\n};\n\nexport type CTrace = Omit<CSpanAttrUserInput, 'extra' | 'status'> & {\n  status?: SpanStatus;\n  extra?: AttrUserInputExtra;\n};\n\nexport type SpanCategoryMeta = Record<SpanCategory, SpanType[] | undefined>;\n\n/** key: SpanCategory */\nexport type SpanCategoryMap = Record<number, SpanCategory>;\n\nexport enum StreamingOutputStatus {\n  OPEN = 'open',\n  CLOSE = 'close',\n  UNDEFINED = 'undefined',\n}\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { type CSpan } from './cspan';\n\nexport enum DataSourceTypeEnum {\n  SpanData = 'SpanData',\n  TraceId = 'TraceId',\n}\n\nexport interface DataSource {\n  // When the value is traceId, the component queries SpanData based on traceId.\n  type: DataSourceTypeEnum;\n  spanData?: CSpan[]; // When type is spanData, unique fields\n  traceId?: string; // When type is traceId, unique field\n}\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  IconCozDatabaseFill,\n  IconCozLongTermMemory,\n} from '@coze-arch/coze-design/icons';\nimport {\n  IconSpanAgent,\n  IconSpanBMBatch,\n  IconSpanBMConnector,\n  IconSpanBMParallel,\n  IconSpanCard,\n  IconSpanCode,\n  IconSpanCondition,\n  IconSpanKnowledge,\n  IconSpanLLMCall,\n  IconSpanMessage,\n  IconSpanPluginTool,\n  IconSpanUnknown,\n  IconSpanHook,\n  IconSpanVar,\n  IconSpanWorkflow,\n  IconSpanWorkflowEnd,\n  IconSpanWorkflowStart,\n} from '@coze-arch/bot-icons';\nimport { SpanCategory, SpanType } from '@coze-arch/bot-api/ob_query_api';\nimport { ResourceType } from '@coze-arch/bot-api/dp_manage_api';\n\nimport {\n  type TopologicalStatusData,\n  type TopologicalLayoutBizData,\n  type TopologicalLayoutCommonData,\n} from '../typing';\n\nexport const TOPOLOGY_COMMON_NODE_TEXT_FONT = '14px SF Pro Display';\nexport const TOPOLOGY_COMMON_NODE_TEXT_DEFAULT_WIDTH = 100;\nexport const TOPOLOGY_COMMON_NODE_TEXT_HEIGHT = 24;\nexport const TOPOLOGY_COMMON_NODE_TEXT_MAX_WIDTH = 200;\nexport const TOPOLOGY_COMMON_NODE_TEXT_ADDITIONAL_WIDTH = 62;\nexport const TOPOLOGY_COMMON_EDGE_OFFSET_WIDTH = 12;\nexport const TOPOLOGY_DEFAULT_NODE_ICON = <IconSpanUnknown />;\n\nexport enum NodeEdgeCategory {\n  Common = 'common',\n}\n\nexport enum TopologyLayoutDirection {\n  TB = 'TB',\n  LR = 'LR',\n}\n\nexport const TOPOLOGY_LAYOUT_RECORD: Partial<\n  Record<SpanType, TopologyLayoutDirection>\n> = {\n  [SpanType.InvokeAgent]: TopologyLayoutDirection.TB,\n  [SpanType.UserInput]: TopologyLayoutDirection.TB,\n  [SpanType.UserInputV2]: TopologyLayoutDirection.TB,\n  [SpanType.Workflow]: TopologyLayoutDirection.LR,\n};\n\nexport const RESOURCE_TYPE_RECORD: Partial<Record<SpanType, ResourceType>> = {\n  [SpanType.InvokeAgent]: ResourceType.Bot,\n  [SpanType.UserInput]: ResourceType.Bot,\n  [SpanType.UserInputV2]: ResourceType.Bot,\n  [SpanType.Workflow]: ResourceType.Workflow,\n};\n\nexport enum NodeLayoutCategory {\n  Common,\n}\n\nexport const TOPOLOGY_LAYOUT_COMMON_MAP: Record<\n  NodeLayoutCategory,\n  TopologicalLayoutCommonData\n> = {\n  [NodeLayoutCategory.Common]: {\n    height: TOPOLOGY_COMMON_NODE_TEXT_HEIGHT,\n  },\n};\n\nexport const TOPOLOGY_LAYOUT_BIZ_MAP: Record<\n  SpanCategory,\n  TopologicalLayoutBizData\n> = {\n  [SpanCategory.Unknown]: {\n    icon: <IconSpanUnknown />,\n    ...TOPOLOGY_LAYOUT_COMMON_MAP[NodeLayoutCategory.Common],\n  },\n  [SpanCategory.Start]: {\n    icon: <IconSpanWorkflowStart />,\n    ...TOPOLOGY_LAYOUT_COMMON_MAP[NodeLayoutCategory.Common],\n  },\n  [SpanCategory.Agent]: {\n    icon: <IconSpanAgent />,\n    ...TOPOLOGY_LAYOUT_COMMON_MAP[NodeLayoutCategory.Common],\n  },\n  [SpanCategory.LLMCall]: {\n    icon: <IconSpanLLMCall />,\n    ...TOPOLOGY_LAYOUT_COMMON_MAP[NodeLayoutCategory.Common],\n  },\n  [SpanCategory.Workflow]: {\n    icon: <IconSpanWorkflow />,\n    ...TOPOLOGY_LAYOUT_COMMON_MAP[NodeLayoutCategory.Common],\n  },\n\n  [SpanCategory.WorkflowStart]: {\n    icon: <IconSpanWorkflowStart />,\n    ...TOPOLOGY_LAYOUT_COMMON_MAP[NodeLayoutCategory.Common],\n  },\n  [SpanCategory.WorkflowEnd]: {\n    icon: <IconSpanWorkflowEnd />,\n    ...TOPOLOGY_LAYOUT_COMMON_MAP[NodeLayoutCategory.Common],\n  },\n\n  [SpanCategory.Plugin]: {\n    icon: <IconSpanPluginTool />,\n    ...TOPOLOGY_LAYOUT_COMMON_MAP[NodeLayoutCategory.Common],\n  },\n\n  [SpanCategory.Knowledge]: {\n    icon: <IconSpanKnowledge />,\n    ...TOPOLOGY_LAYOUT_COMMON_MAP[NodeLayoutCategory.Common],\n  },\n\n  [SpanCategory.Code]: {\n    icon: <IconSpanCode />,\n    ...TOPOLOGY_LAYOUT_COMMON_MAP[NodeLayoutCategory.Common],\n  },\n  [SpanCategory.Condition]: {\n    icon: <IconSpanCondition />,\n    ...TOPOLOGY_LAYOUT_COMMON_MAP[NodeLayoutCategory.Common],\n  },\n  [SpanCategory.Card]: {\n    icon: <IconSpanCard />,\n    ...TOPOLOGY_LAYOUT_COMMON_MAP[NodeLayoutCategory.Common],\n  },\n  [SpanCategory.Message]: {\n    icon: <IconSpanMessage />,\n    ...TOPOLOGY_LAYOUT_COMMON_MAP[NodeLayoutCategory.Common],\n  },\n  [SpanCategory.Variable]: {\n    icon: <IconSpanVar />,\n    ...TOPOLOGY_LAYOUT_COMMON_MAP[NodeLayoutCategory.Common],\n  },\n  [SpanCategory.Database]: {\n    icon: <IconCozDatabaseFill />,\n    ...TOPOLOGY_LAYOUT_COMMON_MAP[NodeLayoutCategory.Common],\n  },\n  [SpanCategory.LongTermMemory]: {\n    icon: <IconCozLongTermMemory />,\n    ...TOPOLOGY_LAYOUT_COMMON_MAP[NodeLayoutCategory.Common],\n  },\n  [SpanCategory.Hook]: {\n    icon: <IconSpanHook />,\n    ...TOPOLOGY_LAYOUT_COMMON_MAP[NodeLayoutCategory.Common],\n  },\n  [SpanCategory.Batch]: {\n    icon: <IconSpanBMBatch />,\n    ...TOPOLOGY_LAYOUT_COMMON_MAP[NodeLayoutCategory.Common],\n  },\n  [SpanCategory.Loop]: {\n    icon: <IconSpanBMBatch />,\n    ...TOPOLOGY_LAYOUT_COMMON_MAP[NodeLayoutCategory.Common],\n  },\n  [SpanCategory.Parallel]: {\n    icon: <IconSpanBMParallel />,\n    ...TOPOLOGY_LAYOUT_COMMON_MAP[NodeLayoutCategory.Common],\n  },\n  [SpanCategory.Script]: {\n    icon: <IconSpanCode />,\n    ...TOPOLOGY_LAYOUT_COMMON_MAP[NodeLayoutCategory.Common],\n  },\n  [SpanCategory.CallFlow]: {\n    icon: <IconSpanWorkflow />,\n    ...TOPOLOGY_LAYOUT_COMMON_MAP[NodeLayoutCategory.Common],\n  },\n  [SpanCategory.Connector]: {\n    icon: <IconSpanBMConnector />,\n    ...TOPOLOGY_LAYOUT_COMMON_MAP[NodeLayoutCategory.Common],\n  },\n};\n\nexport enum TopologyEdgeStatus {\n  STATIC,\n  DYNAMIC,\n  ERROR,\n}\n\nexport const TOPOLOGY_EDGE_STATUS_MAP: Record<\n  TopologyEdgeStatus,\n  TopologicalStatusData\n> = {\n  [TopologyEdgeStatus.STATIC]: {\n    edgeColor: '#C8C8CA',\n    nodeClassName: 'common-node-container_static',\n  },\n  [TopologyEdgeStatus.DYNAMIC]: {\n    edgeColor: '#3EC254',\n    nodeClassName: 'common-node-container_dynamic',\n  },\n  [TopologyEdgeStatus.ERROR]: {\n    edgeColor: '#FF441E',\n    nodeClassName: 'common-node-container_error',\n  },\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  type FieldItem,\n  type CSpan,\n} from '@coze-devops/common-modules/query-trace';\nimport {\n  type SpanType,\n  type ListDebugQueriesRequest,\n} from '@coze-arch/bot-api/ob_query_api';\nimport { type SpanStatus } from '@coze-arch/bot-api/debugger_api';\n\nimport { type FieldType } from '../utils/field-item';\n\nexport type QueryFilterItemId = SpanStatus | string;\n\nexport type Placement = 'left' | 'bottom';\n\nexport interface QueryFilterItem {\n  id: QueryFilterItemId;\n  name: string;\n}\n\nexport type DailyTime = Pick<ListDebugQueriesRequest, 'startAtMS' | 'endAtMS'>;\n\nexport interface BasicInfo {\n  botId?: string;\n  spaceID?: string;\n  userID?: string;\n  placement: Placement;\n}\n\nexport interface UTCTimeInfo {\n  timeOffsetString: string;\n  dateString: string;\n}\n\nexport interface TargetOverallSpanInfo {\n  value: string;\n  input: string;\n  output: string;\n  span: CSpan;\n}\n\nexport interface SpanInfoConfig {\n  label?: string;\n}\n\nexport interface SpanStatusConfig extends SpanInfoConfig {\n  icon: React.ReactNode;\n  className: string;\n}\n\nexport interface FieldConfigOptions {\n  copyable?: boolean;\n  fullLine?: boolean;\n}\nexport interface FieldConfig {\n  name: FieldType;\n  options?: FieldConfigOptions;\n}\n\nexport interface FieldColConfig {\n  fields: FieldConfig[];\n}\n\nexport type FieldColItem = FieldItem & {\n  options?: FieldConfigOptions;\n};\n\nexport interface FieldCol {\n  fields: FieldColItem[];\n}\n\nexport type BatchSpanType =\n  | SpanType.LLMBatchCall\n  | SpanType.WorkflowLLMBatchCall\n  | SpanType.PluginToolBatch\n  | SpanType.WorkflowPluginToolBatch\n  | SpanType.CodeBatch\n  | SpanType.WorkflowCodeBatch;\n\nexport enum DebugPanelLayout {\n  Overall = 'Overall',\n  Summary = 'Summary',\n  Chat = 'Chat',\n}\n\nexport interface LayoutData {\n  min?: number | string;\n  max?: number | string;\n}\n\nexport interface LayoutConfig {\n  width: LayoutData;\n  height: LayoutData;\n}\n\nexport interface DebugPanelLayoutTemplateConfig {\n  side: Record<DebugPanelLayout, LayoutConfig>;\n  bottom: Record<DebugPanelLayout, LayoutConfig>;\n}\n\nexport interface DebugPanelLayoutConfig {\n  side: Record<DebugPanelLayout, number>;\n  bottom: Record<DebugPanelLayout, number>;\n}\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { type ReactJsonViewProps } from 'react-json-view';\n\nimport { TopoType } from '@coze-arch/bot-api/dp_manage_api';\nimport { SpanStatus } from '@coze-arch/bot-api/debugger_api';\n\nimport {\n  DebugPanelLayout,\n  type DebugPanelLayoutConfig,\n  type DebugPanelLayoutTemplateConfig,\n  type QueryFilterItem,\n} from '../typings';\nimport { FILTERING_OPTION_ALL } from '.';\n\nexport const EXECUTE_STATUS_FILTERING_OPTIONS: QueryFilterItem[] = [\n  {\n    id: FILTERING_OPTION_ALL,\n    name: 'query_status_all',\n  },\n  {\n    id: SpanStatus.Error,\n    name: 'query_status_failed',\n  },\n  {\n    id: SpanStatus.Success,\n    name: 'query_status_completed',\n  },\n];\n\nexport enum GraphTabEnum {\n  RunTree = 'RunTree',\n  Flamethread = 'Flamethread',\n}\n\nexport const DEBUG_PANEL_LAYOUT_DEFAULT_TEMPLATE_INFO: DebugPanelLayoutTemplateConfig =\n  {\n    side: {\n      [DebugPanelLayout.Overall]: {\n        width: {\n          min: 400,\n          max: 800,\n        },\n        height: {},\n      },\n      [DebugPanelLayout.Summary]: {\n        width: {},\n        height: {\n          min: 8,\n          max: 150,\n        },\n      },\n      [DebugPanelLayout.Chat]: {\n        width: {},\n        height: {\n          min: 1,\n          max: 500,\n        },\n      },\n    },\n    bottom: {\n      [DebugPanelLayout.Overall]: {\n        width: {},\n        height: {},\n      },\n      [DebugPanelLayout.Summary]: {\n        width: {},\n        height: {},\n      },\n      [DebugPanelLayout.Chat]: {\n        width: {},\n        height: {},\n      },\n    },\n  };\n\nexport const DEBUG_PANEL_LAYOUT_DEFAULT_INFO: DebugPanelLayoutConfig = {\n  side: {\n    [DebugPanelLayout.Overall]: 400,\n    [DebugPanelLayout.Summary]: 124,\n    [DebugPanelLayout.Chat]: 280,\n  },\n  bottom: {\n    [DebugPanelLayout.Overall]: 0,\n    [DebugPanelLayout.Summary]: 0,\n    [DebugPanelLayout.Chat]: 0,\n  },\n};\n\nexport const REACT_JSON_VIEW_CONFIG: Partial<ReactJsonViewProps> = {\n  name: false,\n  displayDataTypes: false,\n  indentWidth: 2,\n  iconStyle: 'triangle',\n  enableClipboard: false,\n  collapsed: 5,\n  collapseStringsAfterLength: 300,\n};\n\nexport const topologyTypeConfig: Record<TopoType, string> = {\n  [TopoType.Agent]: 'Agent',\n  [TopoType.AgentFlow]: 'AgentFlow',\n  [TopoType.Workflow]: 'Workflow',\n};\n","\n      import API from \"!../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[2].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[2].use[2]!../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[2].use[3]!./main.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[2].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[2].use[2]!../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[2].use[3]!./main.css\";\n       export default content && content.locals ? content.locals : undefined;\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Support for filtering query time ranges\n */\nexport const DATE_FILTERING_DAYS_NUMBER = 7;\nexport const FILTERING_OPTION_ALL = 'ALL';\n/**\n * Query the number of pieces loaded per time\n */\nexport const FILTERING_LIMIT = 30;\nexport const TRACES_ADVANCE_INFO_TIME_BUFFER = 1000;\nexport const TIME_MINUTE = 60;\n/**\n * Query Pull Default Offset\n */\nexport const INITIAL_OFFSET = '0';\nexport const EMPTY_TEXT = '-';\n/**\n * Query Pull anti-shake time\n */\nexport const QUERY_FILTER_DEBOUNCE_TIME = 300;\n/**\n * Debug station location information localStorage key\n */\nexport const DEBUG_PANEL_LAYOUT_KEY = 'coze_debug_panel_layout_config';\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { devtools } from 'zustand/middleware';\nimport { create } from 'zustand';\nimport { type CSpan } from '@coze-devops/common-modules/query-trace';\nimport {\n  type GetTracesMetaInfoData,\n  type Span,\n} from '@coze-arch/bot-api/ob_query_api';\n\nimport {\n  type BasicInfo,\n  type QueryFilterItemId,\n  type TargetOverallSpanInfo,\n} from '../typings';\nimport { IS_DEV_MODE } from '../consts/env';\nimport { FILTERING_OPTION_ALL } from '../consts';\n\nexport type SpanCategory = GetTracesMetaInfoData['span_category'];\n\ninterface DebugPanelStore {\n  isPanelShow: boolean;\n  basicInfo: BasicInfo;\n  /**\n   * The currently selected Query LogID\n   */\n  entranceMessageLogId?: string;\n  /**\n   * date filter results\n   */\n  targetDateId?: QueryFilterItemId;\n  /**\n   * status filter results\n   */\n  targetExecuteStatusId?: QueryFilterItemId;\n  /**\n   * Trace node information currently selected\n   */\n  targetOverallSpanInfo?: TargetOverallSpanInfo;\n  /**\n   * Current Calculated Trace List\n   */\n  enhancedOverallSpans: CSpan[];\n  /**\n   * List of Spans under a Trace\n   */\n  orgDetailSpans?: Span[];\n  /**\n   * Additional Span type information (server level provided)\n   */\n  spanCategory?: SpanCategory;\n  /**\n   * Information about the currently selected Span node\n   */\n  targetDetailSpan?: CSpan;\n  curBatchPage?: number;\n}\n\ninterface DebugPanelAction {\n  setIsPanelShow: (isPanelShow: boolean) => void;\n  setBasicInfo: (basicInfo: BasicInfo) => void;\n  setEntranceMessageLogId: (entranceMessageLogId: string) => void;\n  setTargetOverallSpanInfo: (overallSpanInfo: TargetOverallSpanInfo) => void;\n  onSelectDate: (dateId: QueryFilterItemId) => void;\n  onSelectExecuteStatus: (executeStatusId: QueryFilterItemId) => void;\n  setEnhancedOverallSpans: (enhancedOverallSpans: CSpan[]) => void;\n  setOrgDetailSpans: (orgDetailSpans: Span[]) => void;\n  setSpanCategory: (spanCategory?: SpanCategory) => void;\n  setTargetDetailSpan: (targetDetailSpan?: CSpan) => void;\n  setCurBatchPage: (curBatchPage: number) => void;\n  resetStore: () => void;\n}\n\nconst initialStore: DebugPanelStore = {\n  isPanelShow: false,\n  basicInfo: {\n    placement: 'left',\n  },\n  entranceMessageLogId: undefined,\n  targetDateId: FILTERING_OPTION_ALL,\n  targetExecuteStatusId: FILTERING_OPTION_ALL,\n  enhancedOverallSpans: [],\n  targetOverallSpanInfo: undefined,\n  orgDetailSpans: undefined,\n  targetDetailSpan: undefined,\n};\n\nexport const useDebugPanelStore = create<DebugPanelStore & DebugPanelAction>()(\n  devtools(\n    set => ({\n      ...initialStore,\n      setIsPanelShow: (isPanelShow: boolean) => {\n        set({ isPanelShow });\n      },\n      setBasicInfo: basicInfo => {\n        set({ basicInfo });\n      },\n      setTargetOverallSpanInfo: overallSpanInfo => {\n        set({ targetOverallSpanInfo: overallSpanInfo });\n      },\n      onSelectDate: dateId => {\n        set({ targetDateId: dateId });\n      },\n      onSelectExecuteStatus: executeStatusId => {\n        set({ targetExecuteStatusId: executeStatusId });\n      },\n      setEnhancedOverallSpans: enhancedOverallSpans => {\n        set({ enhancedOverallSpans });\n      },\n      setEntranceMessageLogId: entranceMessageLogId => {\n        set({ entranceMessageLogId });\n      },\n      setOrgDetailSpans: orgDetailSpans => {\n        set({ orgDetailSpans });\n      },\n      setSpanCategory: spanCategory => {\n        set({ spanCategory });\n      },\n      setTargetDetailSpan: targetDetailSpan => {\n        set({ targetDetailSpan });\n      },\n      setCurBatchPage: curBatchPage => {\n        set({ curBatchPage });\n      },\n      resetStore: () => {\n        set(initialStore);\n      },\n    }),\n    {\n      enabled: IS_DEV_MODE,\n      name: 'debug.debugPanelStore',\n    },\n  ),\n);\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport const IS_DEV_MODE =\n  (process.env.NODE_ENV as 'production' | 'development' | 'test') ===\n  'development';\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport JSONBig from 'json-bigint';\nimport utc from 'dayjs/plugin/utc';\nimport dayjs from 'dayjs';\nimport { type ob_query_trace } from '@coze-arch/bot-api/ob_query_api';\n\nimport { type QueryFilterItemId, type UTCTimeInfo } from '../typings';\nimport {\n  DATE_FILTERING_DAYS_NUMBER,\n  FILTERING_OPTION_ALL,\n  TIME_MINUTE,\n} from '../consts';\n\ndayjs.extend(utc);\n\nconst jsonBig = JSONBig({ storeAsString: true });\n\n/**\n * Convert timestamp to current format current time zone\n * @param timestamp string | number\n * @returns UTCTimeInfo\n */\nexport const getTimeInCurrentTimeZone = (\n  timestamp: string | number,\n): UTCTimeInfo => {\n  const utcDate = dayjs.utc(timestamp);\n  const localDate = utcDate.local();\n  const offset = localDate.utcOffset();\n  const offsetString = `UTC${offset >= 0 ? '+' : '-'}${Math.abs(\n    offset / TIME_MINUTE,\n  )}`;\n  const dateString = localDate.format('MM-DD HH:mm');\n  return {\n    timeOffsetString: offsetString,\n    dateString,\n  };\n};\n\nexport const getPastWeekDates = (): string[] => {\n  const today = dayjs();\n  const dateList: string[] = [];\n  for (let i = 0; i < DATE_FILTERING_DAYS_NUMBER; i++) {\n    const pastDay = today.subtract(i, 'day');\n    dateList.push(pastDay.format('YYYY-MM-DD'));\n  }\n  return dateList;\n};\n\n/**\n * Extract its current corresponding start/end timestamp from the format time\n * @param formattedDate QueryFilterItemId\n * @returns DailyTime\n */\nexport const getDailyTimestampByDate = (\n  formattedDate?: QueryFilterItemId,\n): Pick<ob_query_trace.ListDebugQueriesRequest, 'startAtMS' | 'endAtMS'> => {\n  if (formattedDate === FILTERING_OPTION_ALL) {\n    const today = dayjs();\n    return {\n      startAtMS: today\n        .subtract(DATE_FILTERING_DAYS_NUMBER - 1, 'day')\n        .startOf('day')\n        .valueOf()\n        .toString(),\n      endAtMS: today.endOf('day').valueOf().toString(),\n    };\n  } else {\n    const date = dayjs(formattedDate);\n    return {\n      startAtMS: date.startOf('day').valueOf().toString(),\n      endAtMS: date.endOf('day').valueOf().toString(),\n    };\n  }\n};\n\nexport const textWithFallback = (text?: string | number) =>\n  text && text !== '' ? text : '-';\n\nexport const formatTime = (timestamp?: number | string) =>\n  dayjs(timestamp).format('YYYY-MM-DD HH:mm:ss');\n\nexport const isJsonString = (str: string) => {\n  try {\n    const jsonData = JSON.parse(str);\n    if (Object.prototype.toString.call(jsonData) !== '[object Object]') {\n      return false;\n    }\n  } catch (error) {\n    return false;\n  }\n  return true;\n};\n\nexport const isDebugShowJsonString = (str: string) => {\n  try {\n    const jsonData = JSON.parse(str);\n    if (\n      Object.prototype.toString.call(jsonData) !== '[object Object]' &&\n      Object.prototype.toString.call(jsonData) !== '[object Array]'\n    ) {\n      return false;\n    }\n  } catch (error) {\n    return false;\n  }\n  return true;\n};\n\nexport const jsonParseWithBigNumber = (jsonString: string) =>\n  JSON.parse(JSON.stringify(jsonBig.parse(jsonString)));\n\nexport const jsonParse = (\n  jsonString: string,\n): Record<string, unknown> | string | unknown[] => {\n  if (isDebugShowJsonString(jsonString)) {\n    return jsonParseWithBigNumber(jsonString);\n  } else {\n    return jsonString;\n  }\n};\n","\n      import API from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n       export default content && content.locals ? content.locals : undefined;\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport classNames from 'classnames';\nimport { I18n } from '@coze-arch/i18n';\nimport { type TextProps } from '@coze-arch/bot-semi/Typography';\nimport { Typography } from '@coze-arch/bot-semi';\nimport { IconCopy } from '@coze-arch/bot-icons';\nimport { IconTick } from '@douyinfe/semi-icons';\n\nimport { textWithFallback } from '../../../utils';\nimport { type FieldCol } from '../../../typings';\n\nimport s from './index.module.less';\n\nconst { Text } = Typography;\n\ninterface DebugTextProps extends TextProps {\n  text?: string;\n  useCopy?: boolean;\n}\n\nexport const DebugText = (props: DebugTextProps) => {\n  const { text, useCopy, ...otherProps } = props;\n\n  return (\n    <div className={s['common-container']}>\n      <Text\n        ellipsis={{\n          showTooltip: {\n            opts: {\n              className: s['common-text-content'],\n              position: 'bottom',\n            },\n          },\n        }}\n        {...otherProps}\n      >\n        {textWithFallback(text)}\n      </Text>\n      {useCopy ? (\n        <Text\n          copyable={{\n            icon: <IconCopy className={s['copy-icon']} />,\n            successTip: <IconTick />,\n            content: text,\n            copyTip: I18n.t('query_detail_tip_copy'),\n          }}\n        />\n      ) : undefined}\n    </div>\n  );\n};\n\ninterface NodeDescriptionProps {\n  cols: FieldCol[];\n}\n\nexport const NodeDescription = (props: NodeDescriptionProps) => {\n  const { cols } = props;\n\n  return (\n    <div className={s['description-container']}>\n      {cols.map((col, colIndex) => {\n        const { fields } = col;\n        return (\n          <div className={s['description-container-box']} key={colIndex}>\n            {fields.map((field, fieldIndex) => {\n              const { key, value, options } = field;\n              return (\n                <div\n                  key={fieldIndex}\n                  className={s['description-container-item']}\n                >\n                  <div className={s['description-container-item-key']}>\n                    {key}&nbsp;:&nbsp;\n                  </div>\n                  <div className={s['description-container-item-value']}>\n                    {value === undefined || typeof value === 'string' ? (\n                      <DebugText\n                        text={value}\n                        useCopy={options?.copyable}\n                        style={{ fontSize: 12 }}\n                      />\n                    ) : (\n                      value\n                    )}\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\ninterface NodeDetailTitleProps {\n  text: string;\n  copyContent?: string;\n  description?: string;\n}\n\nexport const NodeDetailTitle = (props: NodeDetailTitleProps) => {\n  const { text, copyContent, description } = props;\n\n  return (\n    <div className={s['node-detail-title']}>\n      <Text\n        className={classNames(s['node-detail-title-left'], s['common-text'])}\n        copyable={\n          copyContent\n            ? {\n                content: copyContent,\n                icon: <IconCopy className={s['copy-icon']} />,\n                successTip: <IconTick />,\n                copyTip: I18n.t('query_detail_tip_copy'),\n              }\n            : false\n        }\n      >\n        {text}\n      </Text>\n      {description ? (\n        <div className={s['node-detail-title-right']}>{description}</div>\n      ) : null}\n    </div>\n  );\n};\n\nexport const NodeDescriptionWithFullLine = (props: NodeDescriptionProps) => {\n  const { cols } = props;\n\n  return (\n    <div\n      className={classNames(\n        'gap-x-[18px] flex flex-wrap justify-between',\n        s['description-container-with-full-line'],\n      )}\n    >\n      {cols.map(item => {\n        const { fields } = item;\n\n        return (\n          <>\n            {fields.map((field, index) => {\n              const { value, key, options } = field;\n              return (\n                <div\n                  key={index}\n                  className={classNames(\n                    s['description-container-with-full-line-item'],\n                    {\n                      '!w-full': options?.fullLine,\n                      'flex-1': !options?.fullLine,\n                    },\n                  )}\n                >\n                  <div\n                    className={\n                      s['description-container-with-full-line-item-key']\n                    }\n                  >\n                    {key}&nbsp;:&nbsp;\n                  </div>\n                  <div\n                    className={\n                      s['description-container-with-full-line-item-value']\n                    }\n                  >\n                    {value === undefined || typeof value === 'string' ? (\n                      <DebugText\n                        text={value}\n                        useCopy={options?.copyable}\n                        style={{ fontSize: 12 }}\n                      />\n                    ) : (\n                      <>{value}</>\n                    )}\n                  </div>\n                </div>\n              );\n            })}\n          </>\n        );\n      })}\n    </div>\n  );\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  type GlobalStyle,\n  type RectStyle,\n  type LabelStyle,\n  type LabelText,\n} from './typing';\n\nexport const defaultRectStyle: RectStyle = {\n  normal: {\n    fill: '#F7F7FA',\n    stroke: '#1D1C2314',\n    lineWidth: 1,\n    lineDash: [],\n  },\n  hover: {\n    lineWidth: 1,\n    lineDash: [],\n  },\n  select: {\n    lineWidth: 1,\n    lineDash: [],\n  },\n};\n\nexport const defaultGlobalStyle: GlobalStyle = {\n  height: '100%',\n  width: '100%',\n  padding: {\n    top: 0,\n    right: 24,\n    bottom: 24,\n    left: 0,\n  },\n};\n\nexport const defaultDatazoomDecimals = 1;\n\nexport const defaultVisibleRowCount = 6;\nexport const defaultRowHeight = 42;\nexport const defaultVisibleColumnCount = 6; // 13 // 8\n\nexport const defaultLabelStyle: LabelStyle = {\n  position: 'inside-left',\n  fontSize: 12,\n  fill: '#212629',\n};\n\nexport const defaultLabelText: LabelText = (datum, element, params) =>\n  `${datum.start}-${datum.end}`;\n\n// padding of xScale (solve the problem of rect border being truncated after hover)\nexport const scrollbarMargin = 10;\nexport const datazoomHeight = 20;\nexport const datazoomDecimals = 0;\nexport const datazoomPaddingBottom = 18;\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  useRef,\n  useEffect,\n  type FC,\n  useMemo,\n  useCallback,\n  useLayoutEffect,\n  useState,\n} from 'react';\n\nimport { pick, uniqWith } from 'lodash-es';\nimport {\n  View,\n  type ViewSpec,\n  ComponentEnum,\n  GrammarMarkType,\n  type GrammarScaleType,\n  type MarkSpec,\n  type IView,\n} from '@visactor/vgrammar';\n\nimport type {\n  FlamethreadProps,\n  RectNode,\n  RectStyle,\n  LabelStyle,\n  LabelText,\n  Tooltip,\n  IElement,\n  GlobalStyle,\n  InteractionEventHandler,\n} from './typing';\nimport {\n  datazoomDecimals,\n  datazoomHeight,\n  datazoomPaddingBottom,\n  defaultGlobalStyle,\n  defaultLabelStyle,\n  defaultLabelText,\n  defaultRectStyle,\n  defaultRowHeight,\n  defaultVisibleColumnCount,\n  scrollbarMargin,\n} from './config';\n\nexport type {\n  FlamethreadProps,\n  RectNode,\n  RectStyle,\n  LabelStyle,\n  LabelText,\n  Tooltip,\n  IElement,\n  GlobalStyle,\n  InteractionEventHandler,\n};\n\nexport const Flamethread: FC<FlamethreadProps> = props => {\n  const containerRef = useRef<HTMLDivElement | null>(null);\n  const viewRef = useRef<IView | null>(null);\n  const [viewSize, setViewSize] = useState({ width: 0, height: 0 });\n  const {\n    flamethreadData,\n    rowHeight = defaultRowHeight,\n    visibleColumnCount = defaultVisibleColumnCount,\n    tooltip,\n    rectStyle: globalRectStyle,\n    labelStyle: _globalLabelStyle,\n    globalStyle: _globalStyle,\n    axisLabelSuffix,\n    labelText,\n    selectedKey,\n    disableViewScroll = false,\n    enableAutoFit = false,\n    onClick,\n  } = props;\n\n  const genRectStyle = useCallback(\n    (rectStyle?: RectStyle): RectStyle => ({\n      normal: Object.assign(\n        {},\n        defaultRectStyle.normal,\n        globalRectStyle?.normal,\n        rectStyle?.normal,\n      ),\n      hover: Object.assign(\n        {},\n        defaultRectStyle.hover,\n        globalRectStyle?.hover,\n        rectStyle?.hover,\n      ),\n      select: Object.assign(\n        {},\n        defaultRectStyle.select,\n        globalRectStyle?.select,\n        rectStyle?.select,\n      ),\n    }),\n    [globalRectStyle],\n  );\n\n  const genLabelStyle = useCallback(\n    (labelStyle?: LabelStyle): LabelStyle =>\n      Object.assign({}, defaultLabelStyle, _globalLabelStyle, labelStyle),\n    [_globalLabelStyle],\n  );\n\n  const globalLabelStyle = useMemo(\n    () => Object.assign({}, defaultLabelStyle, _globalLabelStyle),\n    [_globalLabelStyle],\n  );\n\n  // eslint-disable-next-line @typescript-eslint/no-magic-numbers -- calculation required\n  const topOffset = datazoomHeight + datazoomPaddingBottom + 8;\n\n  const globalStyle: GlobalStyle = useMemo(\n    () => Object.assign({}, defaultGlobalStyle, _globalStyle),\n    [_globalStyle],\n  );\n\n  const totalRowHeight = useMemo(() => {\n    const rowCount = uniqWith(\n      flamethreadData,\n      (node0: RectNode, node1: RectNode) => node0.rowNo === node1.rowNo,\n    ).length;\n    return rowCount * rowHeight;\n  }, [flamethreadData]);\n\n  // Meaning of this parameter: Visual Window Height/Flame Map Height\n  const yScaleRangeFactor = useMemo(() => {\n    const rowCount = uniqWith(\n      flamethreadData,\n      (node0: RectNode, node1: RectNode) => node0.rowNo === node1.rowNo,\n    ).length;\n\n    return rowCount !== 0\n      ? ((viewRef.current?.getViewBox().height() || 300) - topOffset) /\n          (rowCount * rowHeight)\n      : 1;\n  }, [flamethreadData, viewSize.height]);\n\n  const spec = useMemo(() => {\n    const orgData = flamethreadData.map(node => {\n      const rectStyle = genRectStyle(node.rectStyle);\n      const labelStyle = genLabelStyle(node.labelStyle);\n      return {\n        ...node,\n        rectStyle,\n        labelStyle,\n      };\n    });\n\n    const marks = [\n      {\n        type: GrammarMarkType.component,\n        componentType: ComponentEnum.axis,\n        id: 'xAxis',\n        scale: 'xScale',\n        axisType: 'line',\n        tickCount: visibleColumnCount,\n        dependency: ['viewBox'],\n        encode: {\n          update: (scale0, elment, params) => {\n            const scale = params.xScale;\n            const range = scale.range() as number[];\n            const tickData = scale.tickData(visibleColumnCount);\n            const dx =\n              tickData.length > 1\n                ? // eslint-disable-next-line @typescript-eslint/no-magic-numbers -- calculation required\n                  (range[1] - range[0]) / (tickData.length - 1) / 2\n                : 0;\n\n            return {\n              verticalFactor: -1,\n              x: params.viewBox.x1,\n              y: params.viewBox.y1 + topOffset,\n              start: { x: 0, y: 0 },\n              end: { x: params.viewBox.width(), y: 0 },\n              tick: { visible: false },\n              label: {\n                style: { dx: -dx },\n                formatMethod: (_value: string) => {\n                  const value = Number(_value);\n                  // Specialized logic: hide 0 ticks\n                  if (dx > 0 && value === 0) {\n                    return '';\n                  }\n                  return value !== 0 && axisLabelSuffix !== undefined\n                    ? `${value}${axisLabelSuffix}`\n                    : value;\n                },\n              },\n            };\n          },\n        },\n      },\n      {\n        type: GrammarMarkType.component,\n        componentType: ComponentEnum.grid,\n        tickCount: visibleColumnCount, // The types of the vgrammer library are not strictly written, but are actually usable\n        scale: 'xScale',\n        gridType: 'line',\n        gridShape: 'line',\n        dependency: ['viewBox'],\n        // dependency: [\"viewBox\"],\n        encode: {\n          update: (scale, elment, params) => ({\n            verticalFactor: -1,\n            length: params.viewBox.height() - topOffset,\n            x: params.viewBox.x1,\n            x1: params.viewBox.x2,\n            y: params.viewBox.y1 + topOffset,\n            start: { x: 0, y: 0 },\n            end: { x: params.viewBox.width(), y: 0 },\n            style: { stroke: '#ccc', lineWidth: 1, lineDash: [] },\n          }),\n        },\n      },\n      {\n        type: GrammarMarkType.group,\n        dependency: ['viewBox'],\n        encode: {\n          update: (scale, elment: IElement, params) => ({\n            x: params.viewBox.x1,\n            y: params.viewBox.y1 + topOffset,\n            width: params.viewBox.width(),\n            height: params.viewBox.height() - topOffset,\n            clip: true,\n          }),\n        },\n\n        marks: [\n          {\n            type: GrammarMarkType.rect,\n            id: 'rect',\n            from: { data: 'orgData' },\n            groupBy: 'start',\n            key: 'rowNo',\n            encode: {\n              update: {\n                x: { scale: 'xScale', field: 'start' },\n                x1: { scale: 'xScale', field: 'end' },\n                y: { scale: 'yScale', field: 'rowNo', band: 0.07 },\n                // height: { scale: 'yScale', band: 0.86 },\n                height: rowHeight - 4,\n                // height: { scale: \"yScale\", band: 0.7, offset: 0.15 },\n                fill: (datum, element, params) =>\n                  datum?.rectStyle?.normal?.fill,\n                innerBorder: (datum, element, params) => {\n                  const { stroke, lineWidth, lineDash } =\n                    datum.rectStyle.normal;\n                  return {\n                    stroke: lineWidth !== 0 ? stroke : null,\n                    lineWidth,\n                    lineDash,\n                    visible: true,\n                    // eslint-disable-next-line @typescript-eslint/no-magic-numbers -- size calculation, no processing required\n                    distance: lineWidth / 2,\n                  };\n                },\n              },\n              hover2: {\n                fill: (datum, element, params) =>\n                  datum?.rectStyle?.hover?.fill ??\n                  datum?.rectStyle?.normal?.fill,\n                innerBorder: (datum, element, params) => {\n                  const { stroke, lineWidth, lineDash } = Object.assign(\n                    {},\n                    datum?.rectStyle?.normal,\n                    datum?.rectStyle?.hover,\n                  );\n                  return {\n                    stroke: lineWidth !== 0 ? stroke : null,\n                    lineWidth,\n                    lineDash,\n                    visible: true,\n                    // eslint-disable-next-line @typescript-eslint/no-magic-numbers -- size calculation, no need to define constants\n                    distance: lineWidth / 2,\n                  };\n                },\n                zIndex: 2,\n              },\n              select2: {\n                fill: (datum, element, params) =>\n                  datum?.rectStyle?.select?.fill ??\n                  datum?.rectStyle?.normal?.fill,\n                innerBorder: (datum, element, params) => {\n                  const { stroke, lineWidth, lineDash } = Object.assign(\n                    {},\n                    datum?.rectStyle?.normal,\n                    datum?.rectStyle?.select,\n                  );\n                  return {\n                    stroke: lineWidth !== 0 ? stroke : null,\n                    lineWidth,\n                    lineDash,\n                    visible: true,\n                    // eslint-disable-next-line @typescript-eslint/no-magic-numbers -- size calculation, no need to define constants\n                    distance: lineWidth / 2,\n                  };\n                },\n                zIndex: 1,\n              },\n            },\n          },\n          {\n            type: GrammarMarkType.component,\n            componentType: ComponentEnum.label,\n            target: 'rect',\n            labelStyle: {\n              position: globalLabelStyle.position,\n              textStyle: {\n                fontSize: globalLabelStyle.fontSize,\n              },\n              animation: false,\n              overlap: {\n                hideOnHit: false,\n                clampForce: false,\n                strategy: [{ type: 'position', position: ['top-left'] }],\n              },\n            },\n            encode: {\n              update: {\n                pickable: false, // The type of vgrammer library is not strictly written\n                text: labelText ?? defaultLabelText,\n                fill: (datum, element, params) => datum?.labelStyle.fill,\n              },\n            },\n          },\n        ],\n      },\n\n      {\n        type: GrammarMarkType.component,\n        componentType: ComponentEnum.datazoom,\n        id: 'dataZoom',\n        dependency: ['viewBox'],\n        preview: {\n          data: 'table',\n          x: { scale: 'dataZoomXScale', field: ['start', 'end'] },\n          y: { scale: 'dataZoomYScale', field: 'rowNo' },\n        },\n        encode: {\n          update: (scale, elment, params) => ({\n            showDetail: false,\n            x: params.viewBox.x1,\n            y: params.viewBox.y1,\n            size: { width: params.viewBox.width(), height: datazoomHeight },\n            // start: 0,\n            // end: 1,\n            // fill: '#ff0000',\n            minSpan: 0.01,\n            selectedBackgroundStyle: {\n              fill: '#B4BAF6',\n            },\n            brushSelect: false,\n            startHandlerStyle: {\n              symbolType:\n                'M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\\nC0.3-1.4,0.3-1.4,0.3-1.4z;',\n              fill: '#ffffff',\n              scaleX: 1.2,\n              scaleY: 1.2,\n              stroke: '#aeb5be',\n              lineWidth: 1,\n              size: 20,\n            },\n            middleHandlerStyle: {\n              visible: false,\n            },\n            endHandlerStyle: {\n              symbolType:\n                'M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\\nC0.3-1.4,0.3-1.4,0.3-1.4z;',\n              fill: '#ffffff',\n              scaleX: 1.2,\n              scaleY: 1.2,\n              stroke: '#aeb5be',\n              lineWidth: 1,\n              size: 20,\n            },\n            startTextStyle: {\n              padding: 8,\n              textStyle: {\n                fontSize: 12,\n                lineHeight: '130%',\n                fill: '#606773',\n                // fill: '#ff0000',\n              },\n              formatMethod: (value: number) => value.toFixed(datazoomDecimals),\n            },\n            endTextStyle: {\n              padding: 8,\n              textStyle: {\n                fontSize: 12,\n                lineHeight: '130%',\n                fill: '#606773',\n              },\n              formatMethod: (value: number) => value.toFixed(datazoomDecimals),\n            },\n          }),\n        },\n      },\n    ] as MarkSpec[];\n\n    const padding = {\n      top: 3,\n      right: 0,\n      bottom: 0,\n      left: 0,\n    };\n\n    if (yScaleRangeFactor < 1) {\n      marks.unshift({\n        type: GrammarMarkType.component,\n        componentType: ComponentEnum.scrollbar,\n        direction: 'vertical',\n        id: 'verticalScrollbar',\n        dependency: ['viewBox', 'yScale'],\n        encode: {\n          update: (scale, elment, params) => {\n            const { yScale } = params;\n            const curRangeFactor = yScale?.rangeFactor?.() ?? [\n              0,\n              yScaleRangeFactor,\n            ];\n\n            return {\n              x: params.viewBox.x2 + scrollbarMargin,\n              y: params.viewBox.y1 + topOffset,\n              height: params.viewBox.height() - topOffset,\n              range: [curRangeFactor[1], curRangeFactor[0]],\n            };\n          },\n        },\n      });\n      padding.right = 22;\n    }\n\n    const spec0: ViewSpec = {\n      padding,\n      background: globalStyle.background,\n\n      data: [\n        {\n          id: 'orgData',\n          values: orgData,\n        },\n        {\n          id: 'markData',\n          source: 'orgData',\n        },\n      ],\n\n      scales: [\n        {\n          id: 'xScale',\n          type: 'linear' as GrammarScaleType,\n          domain: { data: 'markData', field: ['start', 'end'] },\n          dependency: ['viewBox'],\n          range: (scale, params) => [0, params.viewBox.width()],\n          nice: true,\n        },\n        {\n          id: 'yScale',\n          type: 'band',\n          domain: { data: 'markData', field: 'rowNo' },\n          dependency: ['viewBox'],\n          range: (scale, params) => {\n            const vHeight = params.viewBox.height() - topOffset;\n            const height = yScaleRangeFactor <= 1 ? vHeight : totalRowHeight;\n\n            return [0, height];\n          },\n          padding: 0,\n          round: false,\n        },\n        {\n          id: 'dataZoomXScale',\n          type: 'linear',\n          domain: { data: 'orgData', field: ['start', 'end'] },\n          dependency: ['viewBox'],\n          range: (scale, params) => [0, params.viewBox.width()],\n        },\n        {\n          id: 'dataZoomYScale',\n          type: 'band',\n          domain: { data: 'orgData', field: 'rowNo' },\n          dependency: ['viewBox'],\n          range: (scale, params) => [params.viewBox.height(), 0],\n          padding: 0.05,\n          round: true,\n        },\n      ],\n\n      marks,\n    };\n    return spec0;\n  }, [\n    flamethreadData,\n    visibleColumnCount,\n    globalLabelStyle.position,\n    globalLabelStyle.fontSize,\n    labelText,\n    yScaleRangeFactor,\n    totalRowHeight,\n    globalStyle.padding,\n    globalStyle.background,\n    genRectStyle,\n    genLabelStyle,\n    axisLabelSuffix,\n  ]);\n\n  const updateSelectedKey = useCallback(\n    (view: IView) => {\n      const rectElm = view?.getMarkById('rect');\n      const elements = rectElm?.elements;\n      elements?.forEach(element => {\n        element?.removeState('select2');\n      });\n      elements\n        ?.filter(element => {\n          const datum = element.getDatum();\n          return datum.key === selectedKey;\n        })[0]\n        ?.addState('select2');\n    },\n    [selectedKey],\n  );\n\n  // Create/update view\n  useLayoutEffect(() => {\n    const initializeYScale = (view: IView) => {\n      const yScale = view?.getScaleById('yScale');\n      yScale?.setRangeFactor([0, yScaleRangeFactor]);\n      yScale?.commit();\n    };\n\n    const initializeScale = (view: IView) => {\n      initializeYScale(view);\n    };\n\n    const registerEvent = (view: IView) => {\n      const rectElm = view?.getMarkById('rect');\n      // Rect click event\n      rectElm?.addEventListener('click', ((event, element) => {\n        onClick?.(event, element);\n      }) as InteractionEventHandler);\n\n      // Rect hover highlight\n      view?.interaction('element-highlight', {\n        selector: 'rect',\n        highlightState: 'hover2',\n      });\n\n      view?.interaction('element-highlight', {\n        trigger: 'click',\n        // triggerOff: \"view:click\",\n        triggerOff: 'swipe',\n        selector: 'rect',\n        highlightState: 'select2',\n      });\n\n      if (!disableViewScroll) {\n        view.interaction('view-scroll', {\n          scaleY: 'yScale',\n        });\n      }\n\n      // Rect hover tooltip\n      if (tooltip) {\n        view?.interaction('tooltip', {\n          selector: 'rect',\n          ...tooltip,\n        });\n      }\n    };\n\n    if (containerRef.current && !viewRef.current) {\n      const view = new View({\n        autoFit: enableAutoFit,\n        container: containerRef.current,\n      });\n\n      view?.on('change', (...args) => {\n        const event = args[0];\n        const { start, end } = event.detail;\n        const xScale = view.getScaleById('xScale');\n        xScale?.setRangeFactor([start, end]);\n        xScale?.commit();\n        view?.run();\n      });\n\n      view?.on('scrollDrag', e => {\n        const direction = e?.target?.attribute?.direction;\n        if (direction === 'vertical') {\n          const range = e.detail.value;\n          const yScale = view.getScaleById('yScale');\n          yScale?.setRangeFactor(range);\n          yScale?.commit();\n          view.run();\n        }\n      });\n\n      view.parseSpec(spec);\n      initializeScale(view);\n      registerEvent(view);\n      view.run();\n      updateSelectedKey(view);\n\n      view.run();\n\n      viewRef.current = view;\n    } else if (viewRef.current) {\n      const view = viewRef.current;\n\n      view.updateSpec(spec);\n      initializeScale(view);\n      registerEvent(view);\n      view.run({ reuse: false });\n      updateSelectedKey(view);\n\n      view.run();\n    }\n  }, [\n    spec,\n    tooltip,\n    yScaleRangeFactor,\n    onClick,\n    visibleColumnCount,\n    flamethreadData,\n  ]);\n\n  useEffect(() => {\n    if (viewRef.current) {\n      updateSelectedKey(viewRef.current);\n    }\n  }, [selectedKey]);\n\n  useEffect(\n    () => () => {\n      if (viewRef.current) {\n        viewRef.current.release();\n      }\n      viewRef.current = null;\n    },\n    [],\n  );\n\n  useEffect(() => {\n    const resizeObserver = new ResizeObserver(params => {\n      const width = params[0].target.clientWidth;\n      const height = params[0].target.clientHeight;\n      if (width !== undefined && height !== undefined && viewRef.current) {\n        viewRef.current.resize(width, height);\n        setViewSize({\n          width,\n          height,\n        });\n      }\n    });\n\n    if (containerRef.current) {\n      resizeObserver.observe(containerRef.current);\n    }\n  }, []);\n\n  return (\n    <div\n      style={{\n        ...pick(globalStyle, ['width', 'height']),\n      }}\n      ref={containerRef}\n    />\n  );\n};\n\nexport default Flamethread;\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport const virtualStartSpanId = '-10001';\nexport const rootBreakSpanId = '-10002';\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  SpanCategory,\n  SpanStatus,\n  SpanType,\n} from '@coze-arch/bot-api/ob_query_api';\nimport {\n  SpanCategoryConfigMap,\n  SpanStatusConfigMap,\n  SpanTypeConfigMap,\n} from '../typings/config';\nimport { I18n } from '@coze-arch/i18n';\nimport { StreamingOutputStatus } from '../typings/cspan';\n\nexport const spanTypeConfigMap: SpanTypeConfigMap = {\n  [SpanType.Unknown]: {\n    label: I18n.t('analytic_query_subtype_value_unknown'),\n  },\n  [SpanType.UserInput]: {\n    label: I18n.t('analytic_query_subtype_value_userinput'),\n  },\n  [SpanType.UserInputV2]: {\n    label: I18n.t('analytic_query_subtype_value_userinput'),\n  },\n  [SpanType.ThirdParty]: {\n    label: I18n.t('analytic_query_subtype_value_thirdparty'),\n  },\n  [SpanType.ScheduledTasks]: {\n    label: I18n.t('analytic_query_subtype_value_scheduledtasks'),\n  },\n  [SpanType.OpenDialog]: {\n    label: I18n.t('analytic_query_subtype_value_opendialog'),\n  },\n  [SpanType.InvokeAgent]: {\n    label: I18n.t('analytic_query_subtype_value_invokeagent'),\n  },\n  [SpanType.RestartAgent]: {\n    label: I18n.t('analytic_query_subtype_value_restartagent'),\n  },\n  [SpanType.SwitchAgent]: {\n    label: I18n.t('analytic_query_subtype_value_switchagent'),\n  },\n  [SpanType.LLMCall]: {\n    label: I18n.t('analytic_query_subtype_value_llmcall'),\n  },\n  [SpanType.LLMBatchCall]: {\n    label: I18n.t('analytic_query_subtype_value_llmbatchcall'),\n  },\n  [SpanType.Workflow]: {\n    label: I18n.t('analytic_query_subtype_value_workflow'),\n  },\n  [SpanType.WorkflowStart]: {\n    label: I18n.t('analytic_query_subtype_value_workflowstart'),\n  },\n  [SpanType.WorkflowEnd]: {\n    label: I18n.t('analytic_query_subtype_value_workflowend'),\n  },\n  [SpanType.PluginTool]: {\n    label: I18n.t('analytic_query_subtype_value_plugintool'),\n  },\n  [SpanType.PluginToolBatch]: {\n    label: I18n.t('analytic_query_subtype_value_plugintoolbatch'),\n  },\n  [SpanType.Knowledge]: {\n    label: I18n.t('analytic_query_subtype_value_knowledge'),\n  },\n  [SpanType.Code]: {\n    label: I18n.t('analytic_query_subtype_value_code'),\n  },\n  [SpanType.CodeBatch]: {\n    label: I18n.t('analytic_query_subtype_value_codebatch'),\n  },\n  [SpanType.Condition]: {\n    label: I18n.t('analytic_query_subtype_value_condition'),\n  },\n  [SpanType.Card]: {\n    label: I18n.t('analytic_query_subtype_value_card'),\n  },\n  [SpanType.WorkflowMessage]: {\n    label: I18n.t('analytic_query_subtype_value_workflow_message'),\n  },\n\n  [SpanType.WorkflowLLMCall]: {\n    label: I18n.t('analytic_query_subtype_value_llmcall'),\n  },\n  [SpanType.WorkflowLLMBatchCall]: {\n    label: I18n.t('analytic_query_subtype_value_llmbatchcall'),\n  },\n  [SpanType.WorkflowCode]: {\n    label: I18n.t('analytic_query_subtype_value_code'),\n  },\n  [SpanType.WorkflowCodeBatch]: {\n    label: I18n.t('analytic_query_subtype_value_codebatch'),\n  },\n  [SpanType.WorkflowCondition]: {\n    label: I18n.t('analytic_query_subtype_value_condition'),\n  },\n  [SpanType.WorkflowPluginTool]: {\n    label: I18n.t('analytic_query_subtype_value_plugintool'),\n  },\n  [SpanType.WorkflowPluginToolBatch]: {\n    label: I18n.t('analytic_query_subtype_value_plugintoolbatch'),\n  },\n  [SpanType.WorkflowKnowledge]: {\n    label: I18n.t('analytic_query_subtype_value_knowledge'),\n  },\n  [SpanType.Chain]: {},\n  // specific business\n  [SpanType.Hook]: {\n    label: I18n.t('analytics_query_invoke', {\n      name: 'Hook',\n    }),\n  },\n  [SpanType.BWStart]: { label: 'BWStart' },\n  [SpanType.BWEnd]: { label: 'BWEnd' },\n  [SpanType.BWBatch]: { label: 'BWBatch' },\n  [SpanType.BWLoop]: { label: 'BWLoop' },\n  [SpanType.BWCondition]: { label: 'BWCondition' },\n  [SpanType.BWLLM]: { label: 'BWLLM' },\n  [SpanType.BWParallel]: { label: 'BWParallel' },\n  [SpanType.BWScript]: { label: 'BWScript' },\n  [SpanType.BWVariable]: { label: 'BWVariable' },\n  [SpanType.BWCallFlow]: { label: 'BWCallFlow' },\n  [SpanType.BWConnector]: { label: 'BWConnector' },\n};\n\nexport const spanCategoryConfigMap: SpanCategoryConfigMap = {\n  [SpanCategory.Unknown]: {\n    label: I18n.t('analytic_query_type_value_unknown'),\n  },\n  [SpanCategory.Start]: {\n    label: I18n.t('analytic_query_type_value_start'),\n  },\n  [SpanCategory.Agent]: {\n    label: I18n.t('analytic_query_type_value_agent'),\n  },\n  [SpanCategory.LLMCall]: {\n    label: I18n.t('analytic_query_type_value_llmcall'),\n  },\n  [SpanCategory.Workflow]: {\n    label: I18n.t('analytic_query_type_value_workflow'),\n  },\n  [SpanCategory.WorkflowStart]: {\n    label: I18n.t('analytic_query_type_value_workflowstart'),\n  },\n  [SpanCategory.WorkflowEnd]: {\n    label: I18n.t('analytic_query_type_value_workflowend'),\n  },\n  [SpanCategory.Plugin]: {\n    label: I18n.t('analytic_query_type_value_plugin'),\n  },\n  [SpanCategory.Knowledge]: {\n    label: I18n.t('analytic_query_type_value_knowledge'),\n  },\n  [SpanCategory.Code]: {\n    label: I18n.t('analytic_query_type_value_code'),\n  },\n  [SpanCategory.Condition]: {\n    label: I18n.t('analytic_query_type_value_condition'),\n  },\n  [SpanCategory.Card]: {\n    label: I18n.t('analytic_query_type_value_card'),\n  },\n  [SpanCategory.Message]: {\n    label: I18n.t('analytic_query_type_value_message'),\n  },\n  [SpanCategory.Variable]: {\n    label: I18n.t('analytics_query_type_variable'),\n  },\n  [SpanCategory.Hook]: {\n    label: 'Hook',\n  },\n  [SpanCategory.Batch]: {\n    label: 'Batch',\n  },\n  [SpanCategory.Loop]: {\n    label: 'Loop',\n  },\n  [SpanCategory.Parallel]: {\n    label: 'Parallel',\n  },\n  [SpanCategory.Script]: {\n    label: 'Script',\n  },\n  [SpanCategory.CallFlow]: {\n    label: 'CallFlow',\n  },\n  [SpanCategory.Connector]: {\n    label: 'Connector',\n  },\n};\n\nexport const spanStatusConfigMap: SpanStatusConfigMap = {\n  [SpanStatus.Unknown]: {\n    label: I18n.t('analytic_query_status_unknown'),\n  },\n  [SpanStatus.Success]: {\n    label: I18n.t('analytic_query_status_success'),\n  },\n  [SpanStatus.Error]: {\n    label: I18n.t('analytic_query_status_error'),\n  },\n  [SpanStatus.Broken]: {\n    label: I18n.t('analytic_query_status_broken'),\n  },\n};\n\nexport const streamingOutputStatusConfigMap: Record<\n  StreamingOutputStatus,\n  { label?: string } | undefined\n> = {\n  [StreamingOutputStatus.OPEN]: {\n    label: I18n.t('analytic_streaming_output_status_open'),\n  },\n  [StreamingOutputStatus.CLOSE]: {\n    label: I18n.t('analytic_streaming_output_status_close'),\n  },\n  [StreamingOutputStatus.UNDEFINED]: {},\n};\n\nexport const botEnvConfigMap: Record<string, { label?: string } | undefined> = {\n  '0': {\n    label: I18n.t('analytic_query_env_value_botmakerdebug'),\n  },\n  '1': {\n    label: I18n.t('analytic_query_env_value_realuser'),\n  },\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  SpanCategory,\n  SpanStatus,\n  SpanType,\n} from '@coze-arch/bot-api/ob_query_api';\n\nimport {\n  type CTrace,\n  type CSPanBatch,\n  type CSpan,\n  type CSpanSingle,\n} from '../typings/cspan';\nimport { virtualStartSpanId } from '../constant';\n\nexport const getSpanProp = (span: CSpan | CTrace, key: string) => {\n  if (checkIsBatchBasicCSpan(span)) {\n    const batchSpan = span as CSPanBatch;\n    return (\n      batchSpan[key as keyof CSPanBatch] ??\n      batchSpan.spans[0]?.extra?.[key as keyof CSPanBatch['spans'][0]['extra']]\n    );\n  } else {\n    const singleSpan = span as CSpanSingle;\n    return (\n      singleSpan[key as keyof CSpanSingle] ??\n      singleSpan.extra?.[key as keyof CSpanSingle['extra']]\n    );\n  }\n};\n\nexport const getTokens = (\n  span: CSpan,\n): {\n  input_tokens?: number;\n  output_tokens?: number;\n} => {\n  if ('spans' in span) {\n    const spanBatch = span as CSPanBatch;\n    let inputTokensSum = 0;\n    let outputTokensSum = 0;\n    spanBatch.spans.forEach(subSpan => {\n      const inputTokens = subSpan?.extra?.input_tokens ?? 0;\n      const outputTokens = subSpan?.extra?.output_tokens ?? 0;\n      inputTokensSum += inputTokens;\n      outputTokensSum += outputTokens;\n    });\n    return {\n      input_tokens: inputTokensSum,\n      output_tokens: outputTokensSum,\n    };\n  } else if (\n    span.type === SpanType.UserInput ||\n    span.type === SpanType.UserInputV2 ||\n    span.type === SpanType.Workflow\n  ) {\n    // SingleSpan Node - Workflow\n    const inputTokens = getSpanProp(span, 'input_tokens_sum') as number;\n    const outputTokens = getSpanProp(span, 'output_tokens_sum') as number;\n\n    return {\n      input_tokens: inputTokens,\n      output_tokens: outputTokens,\n    };\n  } else {\n    // SingleSpan Node - Non-workflow Node\n    const inputTokens = getSpanProp(span, 'input_tokens') as number;\n    const outputTokens = getSpanProp(span, 'output_tokens') as number;\n\n    return {\n      input_tokens: inputTokens,\n      output_tokens: outputTokens,\n    };\n  }\n};\n\nexport const isBatchSpanType = (type: SpanType): boolean => {\n  const whites = [\n    SpanType.LLMBatchCall,\n    SpanType.WorkflowLLMBatchCall,\n    SpanType.PluginToolBatch,\n    SpanType.WorkflowPluginToolBatch,\n    SpanType.CodeBatch,\n    SpanType.WorkflowCodeBatch,\n  ];\n  return whites.includes(type);\n};\n\nexport const checkIsBatchBasicCSpan = (span: CSpan | CTrace) => 'spans' in span;\n\nexport const isVisibleSpan = (span: CSpan) => {\n  const whites = [\n    SpanType.Unknown,\n    SpanType.UserInput,\n    SpanType.UserInputV2,\n    SpanType.ThirdParty,\n    SpanType.ScheduledTasks,\n    SpanType.OpenDialog,\n    SpanType.InvokeAgent,\n    SpanType.RestartAgent,\n    SpanType.SwitchAgent,\n    SpanType.LLMCall,\n    SpanType.WorkflowLLMCall,\n    SpanType.LLMBatchCall,\n    SpanType.WorkflowLLMBatchCall,\n    SpanType.Workflow,\n    SpanType.WorkflowStart,\n    SpanType.WorkflowEnd,\n    SpanType.PluginTool,\n    SpanType.WorkflowPluginTool,\n    SpanType.PluginToolBatch,\n    SpanType.WorkflowPluginToolBatch,\n    SpanType.Knowledge,\n    SpanType.WorkflowKnowledge,\n    SpanType.Code,\n    SpanType.WorkflowCode,\n    SpanType.CodeBatch,\n    SpanType.WorkflowCodeBatch,\n    SpanType.Condition,\n    SpanType.WorkflowCondition,\n    SpanType.Card,\n    SpanType.WorkflowMessage,\n    SpanType.Hook,\n    SpanType.BWStart,\n    SpanType.BWEnd,\n    SpanType.BWBatch,\n    SpanType.BWLoop,\n    SpanType.BWCondition,\n    SpanType.BWLLM,\n    SpanType.BWParallel,\n    SpanType.BWScript,\n    SpanType.BWVariable,\n    SpanType.BWCallFlow,\n    SpanType.BWConnector,\n  ];\n\n  return whites.includes(span.type);\n};\n\nexport const genVirtualStart = (spans: CSpan[]): CSpan => {\n  let startAt = Number.POSITIVE_INFINITY;\n  let endAt = Number.NEGATIVE_INFINITY;\n  spans.forEach(span => {\n    startAt = Math.min(startAt, span.start_time);\n    endAt = Math.max(endAt, span.start_time + span.latency);\n  });\n  if (\n    startAt === Number.POSITIVE_INFINITY ||\n    endAt === Number.NEGATIVE_INFINITY\n  ) {\n    startAt = 0;\n    endAt = 0;\n  }\n  return {\n    id: virtualStartSpanId,\n    parent_id: '',\n    trace_id: '',\n    name: '',\n    type: SpanType.UserInput,\n    category: SpanCategory.Start,\n    status: SpanStatus.Unknown,\n    start_time: startAt,\n    latency: endAt - startAt,\n  };\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { omit } from 'lodash-es';\nimport {\n  SpanCategory,\n  SpanStatus,\n  SpanType,\n} from '@coze-arch/bot-api/ob_query_api';\n\nimport { type CSpan } from '../typings/cspan';\nimport { rootBreakSpanId } from '../constant';\nimport {\n  spanStatusConfigMap as defaultSpanStatusConfigMap,\n  spanTypeConfigMap as defaultSpanTypeConfigMap,\n} from '../config/cspan';\nimport { genVirtualStart, isVisibleSpan } from './cspan';\n\nexport type SpanNode = CSpan & {\n  parent?: SpanNode;\n  children?: SpanNode[];\n};\n\nexport const getSpanDataByTraceId = (traceId: string): CSpan[] => [];\n\n// Get the heel node of the tree\nexport const buildCallTrees = (\n  spans: CSpan[],\n  splitBatchSpan = true,\n): SpanNode[] => {\n  const roots: SpanNode[] = [];\n\n  const map: {\n    [spanId: string]: SpanNode;\n  } = {};\n\n  spans.forEach(span => {\n    const curSpan = { ...span, children: [] };\n    // Batch Node\n    if ('spans' in span && splitBatchSpan) {\n      span.spans.forEach(subSpan => {\n        map[subSpan.id] = curSpan;\n      });\n    } else {\n      const { id: spanId } = span;\n      map[spanId] = curSpan;\n    }\n  });\n\n  spans.forEach(span => {\n    const { id: spanId, parent_id: parentSpanId } = span;\n    const spanNode = map[spanId];\n    const parentSpanNode = map[parentSpanId];\n\n    if (parentSpanId === '' || parentSpanNode === undefined) {\n      roots.push(spanNode);\n    } else {\n      parentSpanNode.children = parentSpanNode.children ?? [];\n      parentSpanNode.children.push(spanNode);\n      spanNode.parent = parentSpanNode;\n    }\n  });\n\n  return roots;\n};\n\nexport const getRootSpan = (spans: SpanNode[], needBuildTrees = true) => {\n  const rootSpans = needBuildTrees ? buildCallTrees(spans) : spans;\n\n  const startSpans: SpanNode[] = [];\n  rootSpans.forEach(rootSpan => {\n    const { category } = rootSpan;\n    if (category === SpanCategory.Start) {\n      startSpans.push(rootSpan);\n    }\n  });\n\n  // Scenarios without start: virtual one StartSpan (for multiple parties to use, flame map, tree map, detail map to ensure consistency); multiple StartSpans, take the first one\n  return startSpans.length > 0 ? startSpans[0] : genVirtualStart(rootSpans);\n};\n\nexport const getBreakSpans = (spans: SpanNode[], needBuildTrees = true) => {\n  const rootSpans = needBuildTrees ? buildCallTrees(spans) : spans;\n\n  const breakSpans: SpanNode[] = [];\n  rootSpans.forEach(rootSpan => {\n    const { category } = rootSpan;\n    if (category !== SpanCategory.Start) {\n      breakSpans.push(rootSpan);\n    }\n  });\n  return breakSpans;\n};\n\nexport const compareByStartAt = (spanA: SpanNode, spanB: SpanNode) => {\n  const startAtA = spanA.start_time;\n  const startAtB = spanB.start_time;\n  if (startAtA > startAtB) {\n    return 1;\n  } else if (startAtA < startAtB) {\n    return -1;\n  } else {\n    return 0;\n  }\n};\n\nexport const compareByEndAt = (spanA: SpanNode, spanB: SpanNode) => {\n  const endAtA = spanA.start_time + spanA.latency;\n  const endAtB = spanB.start_time + spanB.latency;\n  if (endAtA > endAtB) {\n    return 1;\n  } else if (endAtA < endAtB) {\n    return -1;\n  } else {\n    return 0;\n  }\n};\n\nexport const getSpanTitle = (\n  span: CSpan,\n  spanTypeConfigMap = defaultSpanTypeConfigMap,\n) => {\n  const { type, name = '' } = span;\n  const typeName = spanTypeConfigMap[type]?.label ?? '';\n  if (name && name !== typeName) {\n    return `${typeName} ${name}`;\n  } else {\n    return typeName;\n  }\n};\n\nexport const getStatusLabel = (\n  span: CSpan,\n  spanStatusConfigMap = defaultSpanStatusConfigMap,\n) => {\n  const { status } = span;\n  return spanStatusConfigMap[status]?.label ?? '';\n};\n\n// When the start node does not exist, generate a virtual start node\nconst getRootBreakSpan = (breakSpans: SpanNode[]): SpanNode => ({\n  id: rootBreakSpanId,\n  parent_id: '',\n  trace_id: '',\n  name: '',\n  type: SpanType.UserInput,\n  status: SpanStatus.Broken,\n  start_time: -1,\n  latency: -1,\n  children: breakSpans,\n});\n\n// Create a parent-child relationship according to switchAgent/reStartAgent\nconst handleAgent = (spans: SpanNode[]): SpanNode[] => {\n  const getAgent = (startAt: number, agents: SpanNode[]) => {\n    const len = agents.length;\n    for (let i = 0; i < len; i++) {\n      const curAgent = agents[i];\n      const nextAgent = agents[i + 1];\n      const curEndAt = curAgent.start_time + curAgent.latency;\n      const nextEndAt = nextAgent\n        ? nextAgent.start_time + nextAgent.latency\n        : Number.POSITIVE_INFINITY;\n\n      if (startAt >= curEndAt && startAt <= nextEndAt) {\n        return agents[i];\n      }\n    }\n    return undefined;\n  };\n\n  const agentSpans = spans\n    .filter(\n      span =>\n        span.type === SpanType.SwitchAgent ||\n        span.type === SpanType.RestartAgent,\n    )\n    .sort(compareByEndAt);\n\n  const normalSpans = spans\n    .filter(\n      span =>\n        span.type !== SpanType.SwitchAgent &&\n        span.type !== SpanType.RestartAgent,\n    )\n    .sort(compareByStartAt);\n\n  const rstSpans: SpanNode[] = [];\n  normalSpans.forEach(span => {\n    const agent = getAgent(span.start_time, agentSpans);\n    if (agent) {\n      agent.children = agent.children ?? [];\n      agent.children?.push(span);\n      span.parent = agent;\n    } else {\n      rstSpans.push(span);\n    }\n  });\n\n  return [...rstSpans, ...agentSpans];\n};\n\n// Only special node types can be used as root nodes\nconst isTreeRootSpanType = (type: SpanType) =>\n  [\n    SpanType.InvokeAgent,\n    SpanType.Workflow,\n    SpanType.LLMBatchCall,\n    SpanType.LLMCall,\n    SpanType.WorkflowLLMCall,\n    SpanType.WorkflowLLMBatchCall,\n    // All BlockWise's are put here\n    SpanType.BWStart,\n    SpanType.BWEnd,\n    SpanType.BWBatch,\n    SpanType.BWLoop,\n    SpanType.BWCondition,\n    SpanType.BWLLM,\n    SpanType.BWParallel,\n    SpanType.BWScript,\n    SpanType.BWVariable,\n    SpanType.BWCallFlow,\n    SpanType.BWConnector,\n    // New types all support hierarchies\n    SpanType.Hook,\n  ].includes(type);\n\n// Build TraceTree based on call tree\nconst callTree2TraceTree = (rootSpan: SpanNode): SpanNode => {\n  const rstSpans: SpanNode[] = [];\n  const walk = (span: SpanNode) => {\n    span.children?.forEach(subSpan => {\n      const { type } = subSpan;\n      if (isTreeRootSpanType(type)) {\n        rstSpans.push(callTree2TraceTree(subSpan));\n      } else {\n        if (isVisibleSpan(subSpan)) {\n          // The current node is added to rootSpan.children\n          rstSpans.push(omit(subSpan, 'children'));\n        }\n        // Recursive sub-node (current node). Note: The type of hidden node should also be recursive. The current node is hidden, and its sub-node may be displayed\n        walk(subSpan);\n      }\n    });\n  };\n  walk(rootSpan);\n\n  return {\n    ...rootSpan,\n    children: handleAgent(rstSpans),\n  };\n};\n\nexport const buildTraceTree = (spans: SpanNode[], splitBatchSpan?: boolean) => {\n  // 1. According to spans, assemble call trees\n  const callTrees = buildCallTrees(spans, splitBatchSpan);\n\n  // 2. Generate the gastSpan\n  const startSpan: SpanNode = getRootSpan(callTrees, false);\n\n  // 3. Get the break node (all non-start root nodes are breakSpan)\n  const breakSpans: SpanNode[] = getBreakSpans(callTrees, false);\n\n  // 4. According to the call tree, generate the Tree in PRD (ie, the Tree in PRD)\n  const treeStartSpan = callTree2TraceTree(startSpan);\n\n  if (breakSpans.length > 0) {\n    // 5. Mount all breakSpans under the rootBreakSpan node\n    const breakSpan: SpanNode = getRootBreakSpan(breakSpans);\n    // 6. Generate TraceTree according to the call tree\n    const treeBreakSpan = callTree2TraceTree(breakSpan);\n\n    // 7. Hang treeBreakSpan under treeStartSpan\n    treeStartSpan.children = treeStartSpan.children ?? [];\n    treeStartSpan.children.push(treeBreakSpan);\n    treeBreakSpan.parent = treeStartSpan;\n  }\n  return treeStartSpan;\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { SpanStatus, SpanCategory } from '@coze-arch/bot-api/ob_query_api';\n\nimport { type LabelStyle, type RectStyle } from '../flamethread';\nimport { type TraceFlamethreadProps } from './typing';\n\ntype DefaultProps = Pick<\n  TraceFlamethreadProps,\n  'rectStyle' | 'labelStyle' | 'rowHeight' | 'globalStyle' | 'datazoomDecimals'\n>;\n\nexport const defaultProps: DefaultProps = {\n  labelStyle: {\n    position: 'inside-left',\n    fontSize: 12,\n    fill: '#1D1C23CC',\n  },\n  rowHeight: 50,\n  globalStyle: {},\n  datazoomDecimals: 1,\n};\n\ninterface SpanCategoryConfig {\n  [spanCategory: number]:\n    | {\n        rectStyle?: RectStyle;\n        labelStyle?: LabelStyle;\n        name?: string;\n      }\n    | undefined;\n}\n\nexport const spanCategoryConfig: SpanCategoryConfig = {\n  [SpanCategory.Unknown]: {\n    rectStyle: {\n      normal: {\n        fill: '#F7F7FA',\n      },\n      hover: {\n        fill: '#F0F0F5',\n      },\n      select: {\n        fill: '#C6C6CD',\n      },\n    },\n  },\n  [SpanCategory.Start]: {\n    rectStyle: {\n      normal: {\n        fill: '#F1F2FD',\n      },\n      hover: {\n        fill: '#D9DCFA',\n      },\n      select: {\n        fill: '#B4BAF6',\n      },\n    },\n    labelStyle: {},\n    name: 'start',\n  },\n  [SpanCategory.Agent]: {\n    rectStyle: {\n      normal: {\n        fill: '#F6EFFC',\n      },\n      hover: {\n        fill: '#E9D6F9',\n      },\n      select: {\n        fill: '#D1AEF4',\n      },\n    },\n    name: 'invoke agent',\n  },\n  [SpanCategory.LLMCall]: {\n    rectStyle: {\n      normal: {\n        fill: '#F7F7FA',\n      },\n      hover: {\n        fill: '#F0F0F5',\n      },\n      select: {\n        fill: '#C6C6CD',\n      },\n    },\n    name: 'invoke llm',\n  },\n  [SpanCategory.Workflow]: {\n    rectStyle: {\n      normal: {\n        fill: '#EDF9EE',\n      },\n      hover: {\n        fill: '#D2F3D5',\n      },\n      select: {\n        fill: '#CFECAC',\n      },\n    },\n    name: 'invoke workflow',\n  },\n\n  [SpanCategory.WorkflowStart]: {\n    rectStyle: {\n      normal: {\n        fill: '#EDF9EE',\n      },\n      hover: {\n        fill: '#D2F3D5',\n      },\n      select: {\n        fill: '#CFECAC',\n      },\n    },\n  },\n  [SpanCategory.WorkflowEnd]: {\n    rectStyle: {\n      normal: {\n        fill: '#EDF9EE',\n      },\n      hover: {\n        fill: '#D2F3D5',\n      },\n      select: {\n        fill: '#CFECAC',\n      },\n    },\n  },\n\n  [SpanCategory.Plugin]: {\n    rectStyle: {\n      normal: {\n        fill: '#F1F2FD',\n      },\n      hover: {\n        fill: '#D9DCFA',\n      },\n      select: {\n        fill: '#B4BAF6',\n      },\n    },\n    name: 'invoke plugin',\n  },\n  [SpanCategory.Knowledge]: {\n    rectStyle: {\n      normal: {\n        fill: '#FFEEEF',\n      },\n      hover: {\n        fill: '#FFD2D7',\n      },\n      select: {\n        fill: '#FFA5B2',\n      },\n    },\n    name: 'invoke knowledage',\n  },\n\n  [SpanCategory.Code]: {\n    rectStyle: {\n      normal: {\n        fill: '#E5F8F7',\n      },\n      hover: {\n        fill: '#C1F2EF',\n      },\n      select: {\n        fill: '#89E5E0',\n      },\n    },\n    name: 'execute code',\n  },\n  [SpanCategory.Condition]: {\n    rectStyle: {\n      normal: {\n        fill: '#FFFAEB',\n      },\n      hover: {\n        fill: '#FFF1CC',\n      },\n      select: {\n        fill: '#FFDF99',\n      },\n    },\n    name: 'if condition',\n  },\n  [SpanCategory.Card]: {\n    rectStyle: {\n      normal: {\n        fill: '#FFFAEB',\n      },\n      hover: {\n        fill: '#FFF1CC',\n      },\n      select: {\n        fill: '#FFDF99',\n      },\n    },\n    name: 'card',\n  },\n  [SpanCategory.Message]: {\n    rectStyle: {\n      normal: {\n        fill: '#FFFAEB',\n      },\n      hover: {\n        fill: '#FFF1CC',\n      },\n      select: {\n        fill: '#FFDF99',\n      },\n    },\n    name: 'message',\n  },\n};\n\ninterface SpanStatusConfig {\n  [spanStatus: string]: {\n    tooltip?: {\n      fill?: string;\n    };\n    rectStyle?: RectStyle;\n  };\n}\n\nexport const spanStatusConfig: SpanStatusConfig = {\n  [SpanStatus.Success]: {\n    tooltip: {\n      fill: '#3EC254',\n    },\n    rectStyle: {\n      normal: {\n        stroke: '#1D1C2314',\n      },\n      hover: {},\n      select: {},\n    },\n  },\n  [SpanStatus.Error]: {\n    tooltip: {\n      fill: '#FF441E',\n    },\n    rectStyle: {\n      normal: {\n        stroke: '#1D1C2314',\n        fill: '#FFF3EE',\n      },\n      hover: {\n        fill: '#FFE0D2',\n      },\n      select: {\n        fill: '#FFBDA5',\n      },\n    },\n  },\n  [SpanStatus.Broken]: {\n    tooltip: {\n      fill: '#FF9600',\n    },\n  },\n  [SpanStatus.Unknown]: {\n    tooltip: {\n      fill: '#6B6B75',\n    },\n  },\n};\n\nexport const tooltipStyle = {\n  fill: '#212629',\n  shape: {\n    symbolType: 'square',\n    fill: '#212629',\n    size: 5,\n  },\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { sortBy } from 'lodash-es';\nimport { SpanCategory } from '@coze-arch/bot-api/ob_query_api';\n\nimport { type RectNode, type RectStyle } from '../flamethread';\nimport {\n  buildCallTrees,\n  getBreakSpans,\n  getRootSpan,\n  type SpanNode,\n} from '../../utils/cspan-graph';\nimport { isVisibleSpan } from '../../utils/cspan';\nimport { type CSpan } from '../../typings/cspan';\nimport { spanCategoryConfig, spanStatusConfig } from './config';\n\nconst genRectStyle = (span: CSpan): RectStyle => {\n  const { status, category = SpanCategory.Unknown } = span;\n  const categoryRectStyle = spanCategoryConfig[category]?.rectStyle;\n  const statusRectStyle = spanStatusConfig[status]?.rectStyle;\n\n  return {\n    normal: Object.assign(\n      {},\n      categoryRectStyle?.normal,\n      statusRectStyle?.normal,\n    ),\n    hover: Object.assign({}, categoryRectStyle?.hover, statusRectStyle?.hover),\n    select: Object.assign(\n      {},\n      categoryRectStyle?.select,\n      statusRectStyle?.select,\n    ),\n  };\n};\n\nconst genRectNode = (info: {\n  span: CSpan;\n  startSpan: CSpan;\n  rowNo: number;\n}): RectNode => {\n  const { span, startSpan, rowNo } = info;\n  const start = span.start_time - startSpan.start_time;\n  return {\n    key: span.id,\n    rowNo,\n    start,\n    end: start + span.latency,\n    rectStyle: genRectStyle(span),\n    extra: {\n      span,\n    },\n  };\n};\n\nexport const spanData2flamethreadData = (spanData: CSpan[]): RectNode[] => {\n  // 1. According to spans, assemble call trees\n  const callTrees = buildCallTrees(spanData);\n\n  // 2. Generate tartSpan\n  const startSpan: SpanNode = getRootSpan(callTrees, false);\n\n  // 3. Get the break node (all non-start root nodes are breakSpan)\n  const breakSpans: SpanNode[] = getBreakSpans(callTrees, false);\n\n  let rstSpans: SpanNode[] = [];\n\n  // Preorder search to ensure that the parent node is in front\n  const walk = (spans: SpanNode[]) => {\n    rstSpans = rstSpans.concat(spans);\n    spans.forEach(span => {\n      if (span.children) {\n        walk(span.children);\n      }\n    });\n  };\n  if (startSpan.children) {\n    walk(startSpan.children);\n  }\n  walk(breakSpans);\n\n  // Filter out undisplayed span nodes\n  rstSpans = rstSpans.filter(span => isVisibleSpan(span));\n\n  // Sort by start_time\n  const sortedSpans = sortBy(rstSpans, o => o.start_time);\n\n  // Add follow node\n  sortedSpans.unshift(startSpan);\n\n  const rectNodes: RectNode[] = [];\n  sortedSpans.forEach((span, index) => {\n    rectNodes.push(genRectNode({ span, startSpan, rowNo: index }));\n  });\n\n  return rectNodes;\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useEffect, type FC, useMemo, useState, useCallback } from 'react';\n\nimport { type IElement } from '@visactor/vgrammar';\nimport { I18n } from '@coze-arch/i18n';\n\nimport Flamethread, {\n  type LabelText,\n  type RectNode,\n  type RectStyle,\n  type Tooltip,\n} from '../flamethread';\nimport {\n  getSpanDataByTraceId,\n  getSpanTitle,\n  getStatusLabel,\n} from '../../utils/cspan-graph';\nimport { getTokens } from '../../utils/cspan';\nimport { DataSourceTypeEnum } from '../../typings/graph';\nimport { type CSpan } from '../../typings/cspan';\nimport { spanData2flamethreadData } from './util';\nimport { type TraceFlamethreadProps } from './typing';\nimport { defaultProps, spanStatusConfig, tooltipStyle } from './config';\n\nconst TraceFlamethread: FC<TraceFlamethreadProps> = props => {\n  const [flamethreadData, setFlamethreadData] = useState<RectNode[]>([]);\n\n  const {\n    dataSource: { type: dataType, spanData, traceId },\n    rectStyle: _rectStyle,\n    labelStyle: _labelStyle,\n    globalStyle: _globalStyle,\n    visibleColumnCount,\n    datazoomDecimals = defaultProps.datazoomDecimals,\n    axisLabelSuffix,\n    selectedSpanId,\n    spanTypeConfigMap,\n    spanStatusConfigMap,\n    disableViewScroll,\n    enableAutoFit,\n    onClick,\n  } = props;\n\n  // Initialize flamethreadData\n  useEffect(() => {\n    if (dataType === DataSourceTypeEnum.SpanData && spanData) {\n      if (spanData?.length === 0 && flamethreadData.length === 0) {\n        return;\n      }\n\n      const rectNodes = spanData2flamethreadData(spanData);\n      setFlamethreadData(rectNodes);\n    } else if (dataType === DataSourceTypeEnum.TraceId && traceId) {\n      const spans = getSpanDataByTraceId(traceId);\n      const rectNodes = spanData2flamethreadData(spans);\n      setFlamethreadData(rectNodes);\n    }\n  }, [dataType, spanData, traceId]);\n\n  const rectStyle = useMemo((): RectStyle => {\n    const defaultRectStyle = defaultProps.rectStyle;\n    return {\n      normal: Object.assign({}, defaultRectStyle?.normal, _rectStyle?.normal),\n      hover: Object.assign({}, defaultRectStyle?.hover, _rectStyle?.hover),\n      select: Object.assign({}, defaultRectStyle?.select, _rectStyle?.select),\n    };\n  }, [_rectStyle]);\n\n  const labelStyle = useMemo(\n    () => Object.assign({}, _labelStyle, defaultProps.labelStyle),\n    [_labelStyle],\n  );\n\n  const globalStyle = useMemo(\n    () => Object.assign({}, _globalStyle, defaultProps.globalStyle),\n    [_globalStyle],\n  );\n\n  const tooltip: Tooltip = useMemo(\n    () => ({\n      title: {\n        value: (datum: RectNode, element: IElement, params) => ({}),\n      },\n      content: (datum: RectNode, element: IElement, params) => {\n        const { span } = (datum.extra ?? {}) as { span: CSpan };\n        if (!span) {\n          return [];\n        }\n\n        const { status, latency } = span;\n        const statusConfig = spanStatusConfig[status];\n\n        const tips = [\n          {\n            key: I18n.t('analytic_query_status'),\n            value: getStatusLabel(span, spanStatusConfigMap),\n          },\n          {\n            key: I18n.t('analytic_query_latency'),\n            value: latency ? `${latency}ms` : '-',\n          },\n        ];\n        const { input_tokens: inputTokens, output_tokens: outputTokens } =\n          getTokens(span);\n        if (inputTokens !== undefined && outputTokens !== undefined) {\n          tips.push({\n            key: I18n.t('analytic_query_tokens'),\n            value: `${inputTokens + outputTokens}`,\n          });\n        }\n\n        return tips.map(({ key, value }) => ({\n          key: {\n            text: key,\n            fill: tooltipStyle.fill,\n          },\n          value: {\n            text: value ?? '',\n            fill:\n              key === I18n.t('analytic_query_status')\n                ? statusConfig?.tooltip?.fill\n                : tooltipStyle.fill,\n          },\n          shape: tooltipStyle.shape,\n        }));\n      },\n    }),\n    [spanStatusConfigMap],\n  );\n\n  const labelText: LabelText = useCallback(\n    (datum: RectNode, element: IElement, params) => {\n      const { span } = (datum.extra ?? {}) as { span: CSpan };\n      return getSpanTitle(span, spanTypeConfigMap);\n    },\n    [spanTypeConfigMap],\n  );\n\n  return flamethreadData ? (\n    <Flamethread\n      flamethreadData={flamethreadData}\n      tooltip={tooltip}\n      rectStyle={rectStyle}\n      labelStyle={labelStyle}\n      globalStyle={globalStyle}\n      labelText={labelText}\n      datazoomDecimals={datazoomDecimals}\n      visibleColumnCount={visibleColumnCount}\n      axisLabelSuffix={axisLabelSuffix}\n      selectedKey={selectedSpanId}\n      disableViewScroll={disableViewScroll}\n      enableAutoFit={enableAutoFit}\n      onClick={onClick}\n    />\n  ) : null;\n};\n\nexport default TraceFlamethread;\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { omit } from 'lodash-es';\n\nimport { type TreeNodeFlatten, type TreeNode, type Line } from './typing';\n\n/**\n * Generated based on TreeData:\n *\n * @param treeData tree original data source\n * @Param options.indentDisabled Whether to unindent. Valid only for the following scenarios: exception node + last node\n *\n * @returns\n * 1. nodes, node information after leveling\n * 2. lines, used to connect nodes\n */\nexport const flattenTreeData = (\n  treeData: TreeNode,\n  options: {\n    indentDisabled: boolean;\n  },\n): { nodes: TreeNodeFlatten[]; lines: Line[] } => {\n  const nodes: TreeNodeFlatten[] = [];\n  const lines: Line[] = [];\n  const walk = (\n    node: TreeNode,\n    nodeColNo: number,\n    fatherNodeFlatten?: TreeNodeFlatten,\n  ) => {\n    const nodeFlatten: TreeNodeFlatten = {\n      ...omit(node, ['children']),\n      colNo: nodeColNo,\n      rowNo: nodes.length,\n      unindented: fatherNodeFlatten?.colNo === nodeColNo, // Unindented\n    };\n    nodes.push(nodeFlatten);\n    if (fatherNodeFlatten !== undefined) {\n      lines.push({\n        startNode: fatherNodeFlatten,\n        endNode: nodeFlatten,\n      });\n    }\n\n    if (node.children) {\n      const childNodes = node.children;\n\n      childNodes.forEach((childNode, index) => {\n        // Cancel indentation. Effective scene: exception node + last node\n        const indentDisabled =\n          childNode.indentDisabled ?? options.indentDisabled;\n        if (indentDisabled && childNodes.length - 1 === index) {\n          walk(childNode, nodeColNo, nodeFlatten);\n        } else {\n          walk(childNode, nodeColNo + 1, nodeFlatten);\n        }\n      });\n    }\n  };\n  walk(treeData, 0);\n  return { nodes, lines };\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { type GlobalStyle, type LineStyle } from './typing';\n\nexport const defaultGlobalStyle: GlobalStyle = {\n  indent: 24,\n  verticalInterval: 16,\n  nodeBoxHeight: 16,\n  offsetX: 8,\n};\n\nexport const defaultLineStyle: LineStyle = {\n  normal: {\n    stroke: '#ccc',\n    strokeDasharray: '[]',\n    strokeWidth: 2,\n    lineRadius: 6,\n    lineGap: 0,\n  },\n  select: {\n    stroke: '#333',\n  },\n  hover: {\n    stroke: '#d25e5a',\n  },\n};\n","\n      import API from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n       export default content && content.locals ? content.locals : undefined;\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* eslint-disable @typescript-eslint/no-magic-numbers -- there will be many numbers calculated in this component, no need to deal with them*/\nimport { type FC, useCallback, useMemo, useState } from 'react';\n\nimport { isFunction, mergeWith } from 'lodash-es';\n\nimport { flattenTreeData } from './util';\nimport type {\n  TreeProps,\n  TreeNode,\n  TreeNodeExtra,\n  MouseEventParams,\n  Line,\n  LineStyle,\n  GlobalStyle,\n} from './typing';\nimport { defaultGlobalStyle, defaultLineStyle } from './config';\n\nimport styles from './index.module.less';\n\nexport type {\n  TreeProps,\n  TreeNode,\n  TreeNodeExtra,\n  MouseEventParams,\n  LineStyle,\n  GlobalStyle,\n};\n\nconst Tree: FC<TreeProps> = ({\n  treeData,\n  selectedKey,\n  disableDefaultHover,\n  hoverKey: customHoverKey,\n  indentDisabled = false,\n  lineStyle: gLineStyle,\n  globalStyle,\n  className,\n  onMouseMove,\n  onMouseEnter,\n  onMouseLeave,\n  onClick,\n  onSelect,\n}) => {\n  const [hoverKey, setHoverKey] = useState<string>('');\n\n  const controlledHoverKey = disableDefaultHover ? customHoverKey : hoverKey;\n\n  const { indent, verticalInterval, nodeBoxHeight, offsetX } = useMemo(\n    () =>\n      Object.assign(\n        {},\n        defaultGlobalStyle,\n        globalStyle,\n      ) as Required<GlobalStyle>,\n    [globalStyle],\n  );\n\n  /**\n   * Causes the Line of the specified selectKey to be placed at the top level.\n   * By adjusting the line order, the z-index effect is achieved: the line with the key ${selectKey} is at the top\n   */\n  const adjustLineOrder = useCallback(\n    (lines: Line[]): Line[] => {\n      let selectedLine, hoverLine;\n      let i = 0;\n      while (i < lines.length) {\n        const line = lines[i];\n        if (line.endNode.key === selectedKey) {\n          selectedLine = lines.splice(i, 1)[0];\n        } else if (line.endNode.key === controlledHoverKey) {\n          hoverLine = lines.splice(i, 1)[0];\n        } else {\n          i++;\n        }\n      }\n\n      // Support controlling height according to zIndex\n      lines.sort((lineA, lineB) => {\n        const zIndexA = lineA.endNode.zIndex ?? -1;\n        const zIndexB = lineB.endNode.zIndex ?? -1;\n\n        if (zIndexA > zIndexB) {\n          return 1;\n        } else if (zIndexA < zIndexB) {\n          return -1;\n        } else {\n          return 0;\n        }\n      });\n\n      if (selectedLine) {\n        lines.push(selectedLine);\n      }\n      if (hoverLine) {\n        lines.push(hoverLine);\n      }\n\n      return lines;\n    },\n    [selectedKey, controlledHoverKey],\n  );\n\n  const genLineStyle = useCallback(\n    (lineStyle?: LineStyle): LineStyle => ({\n      normal: Object.assign(\n        {},\n        defaultLineStyle?.normal,\n        gLineStyle?.normal,\n        lineStyle?.normal,\n      ),\n      select: Object.assign(\n        {},\n        defaultLineStyle?.select,\n        gLineStyle?.select,\n        lineStyle?.select,\n      ),\n      hover: Object.assign(\n        {},\n        defaultLineStyle?.hover,\n        gLineStyle?.hover,\n        lineStyle?.hover,\n      ),\n    }),\n    [gLineStyle],\n  );\n\n  /**\n   * Generate svg path from line information. colNo, rowNum all start from 0\n   */\n  const genSvgPath = useCallback(\n    (line: Line): string => {\n      const {\n        startNode: { colNo: startColNo, rowNo: startRowNo },\n        endNode: { colNo: endColNo, rowNo: endRowNo, lineStyle },\n      } = line;\n\n      const { normal: normalLineStyle = {} } = genLineStyle(lineStyle);\n\n      const { lineRadius = 0, lineGap = 0 } = normalLineStyle;\n      const nodeHeight = nodeBoxHeight + verticalInterval;\n\n      // starting point\n      const startX = startColNo * indent + offsetX;\n      const startY =\n        startRowNo * nodeHeight + (nodeBoxHeight + verticalInterval / 2);\n\n      if (startColNo === endColNo) {\n        // The length of the vertical line\n        const lineASize =\n          (endRowNo - startRowNo - 1) * nodeHeight + verticalInterval;\n        // Move to the starting point\n        const moveToStartPoint = `M ${startX} ${startY + lineGap}`;\n        // vertical line\n        const lineA = `L ${startX} ${startY + lineASize}`;\n        return `${moveToStartPoint} ${lineA}`;\n      } else {\n        // The length of the vertical line\n        const lineASize =\n          (endRowNo - startRowNo - 1) * nodeHeight +\n          verticalInterval / 2 +\n          nodeHeight / 2 -\n          lineRadius;\n        // The length of the horizontal line\n        const lineBSize =\n          (endColNo - startColNo) * indent - offsetX - lineRadius;\n        // Coordinates of the end point\n        const endX = startX + lineBSize + lineRadius;\n        const endY = startY + lineASize + lineRadius;\n\n        // Move to the starting point\n        const moveToStartPoint = `M ${startX} ${startY + lineGap}`;\n        // vertical line\n        const lineA = `L ${startX} ${startY + lineASize}`;\n        // Quadratic Bézier Curve\n        const qbc = `Q ${startX} ${endY} ${startX + lineRadius} ${endY}`;\n        // horizontal line\n        const lineB = `L ${endX - lineGap} ${endY}`;\n        return `${moveToStartPoint} ${lineA} ${qbc} ${lineB}`;\n      }\n    },\n    [genLineStyle, indent, nodeBoxHeight, offsetX, verticalInterval],\n  );\n\n  const genLineAttrs = useCallback(\n    (nodeKey: string, lineStyle: LineStyle) => {\n      if (controlledHoverKey !== selectedKey) {\n        if (nodeKey === controlledHoverKey) {\n          return mergeWith({}, lineStyle.normal, lineStyle.hover);\n        }\n        if (nodeKey === selectedKey) {\n          return mergeWith({}, lineStyle.normal, lineStyle.select);\n        }\n        return lineStyle.normal;\n      } else {\n        if (nodeKey === controlledHoverKey) {\n          return mergeWith(\n            {},\n            lineStyle.normal,\n            lineStyle.select,\n            lineStyle.hover,\n          );\n        } else {\n          return lineStyle.normal;\n        }\n      }\n    },\n    [controlledHoverKey, selectedKey],\n  );\n\n  const { nodes, lines: orgLines } = flattenTreeData(treeData, {\n    indentDisabled,\n  });\n  const lines = adjustLineOrder(orgLines);\n\n  return (\n    <div className={`${styles.tree} ${className ?? ''}`}>\n      <div\n        className={styles['tree-container']}\n        style={{ marginTop: -verticalInterval / 2 }}\n      >\n        <div className={styles['tree-path-list']}>\n          <svg width=\"100%\" height=\"100%\" xmlns=\"http://www.w3.org/2000/svg\">\n            {lines.map((line, index) => {\n              const path = genSvgPath(line);\n              const { lineStyle } = line.endNode;\n              const lineStyle0 = genLineStyle(lineStyle);\n              const attrs = genLineAttrs(line.endNode.key, lineStyle0);\n\n              return (\n                <path\n                  d={path}\n                  stroke={attrs?.stroke}\n                  strokeWidth={attrs?.strokeWidth}\n                  strokeDasharray={attrs?.strokeDasharray}\n                  fill=\"none\"\n                  // strokeLinecap=\"round\"\n                  key={line.endNode.key}\n                />\n              );\n            })}\n          </svg>\n        </div>\n        <div className={styles['tree-node-list']}>\n          {nodes.map(node => {\n            const { key, title, selectEnabled = true, colNo } = node;\n            const nodeExtra: TreeNodeExtra = {\n              ...node,\n              selected: selectedKey === key,\n              hover: controlledHoverKey === key,\n            };\n\n            return (\n              <div\n                className={styles['tree-node']}\n                style={{\n                  paddingTop: verticalInterval / 2,\n                  paddingBottom: verticalInterval / 2,\n                }}\n                key={node.key}\n              >\n                <div\n                  className={styles['tree-node-box']}\n                  style={{\n                    marginLeft: colNo * indent,\n                    height: nodeBoxHeight,\n                  }}\n                  onClick={event => {\n                    if (selectEnabled) {\n                      onSelect?.({ node: nodeExtra });\n                    }\n                    onClick?.({ event, node: nodeExtra });\n                  }}\n                  onMouseMove={event => {\n                    onMouseMove?.({ event, node: nodeExtra });\n                  }}\n                  onMouseEnter={event => {\n                    if (selectEnabled) {\n                      setHoverKey(key);\n                    }\n                    onMouseEnter?.({\n                      event,\n                      node: { ...nodeExtra, hover: true },\n                    });\n                  }}\n                  onMouseLeave={event => {\n                    if (selectEnabled) {\n                      setHoverKey('');\n                    }\n                    onMouseLeave?.({\n                      event,\n                      node: { ...nodeExtra, hover: false },\n                    });\n                  }}\n                >\n                  {isFunction(title) ? title(nodeExtra) : title}\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Tree;\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { type ReactNode } from 'react';\n\nimport {\n  IconSpanAgent,\n  IconSpanCard,\n  IconSpanCode,\n  IconSpanCondition,\n  IconSpanKnowledge,\n  IconSpanVar,\n  IconSpanLLMCall,\n  IconSpanHook,\n  IconSpanMessage,\n  IconSpanPluginTool,\n  IconSpanUnknown,\n  IconSpanWorkflow,\n  IconSpanWorkflowEnd,\n  IconSpanWorkflowStart,\n  IconSpanBMConnector,\n  IconSpanBMParallel,\n  IconSpanBMBatch,\n} from '@coze-arch/bot-icons';\nimport { SpanStatus, SpanCategory } from '@coze-arch/bot-api/ob_query_api';\n\nimport { type LineStyle } from '../tree';\nimport { type TraceTreeProps } from './typing';\n\ntype DefaultProps = Pick<TraceTreeProps, 'lineStyle' | 'globalStyle'>;\n\nexport const defaultProps: DefaultProps = {\n  lineStyle: {\n    normal: {\n      stroke: '#C6C6CD',\n      strokeWidth: 1,\n    },\n    hover: {\n      stroke: '#C6C6CD',\n      strokeWidth: 2,\n    },\n    select: {\n      stroke: '#C6C6CD',\n      strokeWidth: 2,\n    },\n  },\n};\n\ntype SpanCategoryConfig = Record<\n  number,\n  | {\n      icon: ReactNode;\n      title: string;\n    }\n  | undefined\n>;\n\nexport const spanCategoryConfig: SpanCategoryConfig = {\n  [SpanCategory.Unknown]: {\n    icon: <IconSpanUnknown />,\n    title: 'Unknown',\n  },\n  [SpanCategory.Start]: {\n    icon: <IconSpanWorkflowStart />,\n    title: 'Start',\n  },\n  [SpanCategory.Agent]: {\n    icon: <IconSpanAgent />,\n    title: 'Agent',\n  },\n  [SpanCategory.LLMCall]: {\n    icon: <IconSpanLLMCall />,\n    title: 'Invoke LLM',\n  },\n  [SpanCategory.Workflow]: {\n    icon: <IconSpanWorkflow />,\n    title: 'Invoke Workflow',\n  },\n\n  [SpanCategory.WorkflowStart]: {\n    icon: <IconSpanWorkflowStart />,\n    title: 'Workflow Start',\n  },\n  [SpanCategory.WorkflowEnd]: {\n    icon: <IconSpanWorkflowEnd />,\n    title: 'Workflow End',\n  },\n\n  [SpanCategory.Plugin]: {\n    icon: <IconSpanPluginTool />,\n    title: 'Invoke Plugin',\n  },\n\n  [SpanCategory.Knowledge]: {\n    icon: <IconSpanKnowledge />,\n    title: 'Recall Knowledage',\n  },\n\n  [SpanCategory.Code]: {\n    icon: <IconSpanCode />,\n    title: 'Execute Code',\n  },\n  [SpanCategory.Condition]: {\n    icon: <IconSpanCondition />,\n    title: 'If Condition',\n  },\n  [SpanCategory.Card]: {\n    icon: <IconSpanCard />,\n    title: 'Card',\n  },\n  [SpanCategory.Message]: {\n    icon: <IconSpanMessage />,\n    title: 'Message',\n  },\n  [SpanCategory.Variable]: {\n    icon: <IconSpanVar />,\n    title: 'Variable',\n  },\n  [SpanCategory.Hook]: {\n    icon: <IconSpanHook />,\n    title: 'Hook',\n  },\n  [SpanCategory.Batch]: {\n    icon: <IconSpanBMBatch />,\n    title: 'Batch',\n  },\n  [SpanCategory.Loop]: {\n    icon: <IconSpanBMBatch />,\n    title: 'Loop',\n  },\n  [SpanCategory.Parallel]: {\n    icon: <IconSpanBMParallel />,\n    title: 'Parallel',\n  },\n  [SpanCategory.Script]: {\n    icon: <IconSpanCode />,\n    title: 'Script',\n  },\n  [SpanCategory.CallFlow]: {\n    icon: <IconSpanWorkflow />,\n    title: 'CallFlow',\n  },\n  [SpanCategory.Connector]: {\n    icon: <IconSpanBMConnector />,\n    title: 'Connector',\n  },\n};\n\ninterface SpanStatusConfig {\n  [spanStatus: string]: {\n    lineStyle?: LineStyle;\n  };\n}\n\nexport const spanStatusConfig: SpanStatusConfig = {\n  [SpanStatus.Success]: {},\n  [SpanStatus.Error]: {\n    lineStyle: {\n      normal: {\n        stroke: '#FF441E',\n      },\n      hover: {\n        stroke: '#FF441E',\n      },\n      select: {\n        stroke: '#FF441E',\n      },\n    },\n  },\n  [SpanStatus.Broken]: {},\n  [SpanStatus.Unknown]: {},\n};\n","\n      import API from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n       export default content && content.locals ? content.locals : undefined;\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { type ReactNode } from 'react';\n\nimport classNames from 'classnames';\nimport { I18n } from '@coze-arch/i18n';\nimport { IconCozFocus } from '@coze-arch/coze-design/icons';\nimport { Button } from '@coze-arch/coze-design';\nimport { Tooltip } from '@coze-arch/bot-semi';\nimport { IconpanNodeDamaged } from '@coze-arch/bot-icons';\nimport {\n  SpanCategory,\n  SpanStatus,\n  SpanType,\n} from '@coze-arch/bot-api/ob_query_api';\n\nimport { type TreeNode, type TreeNodeExtra } from '../tree';\nimport {\n  buildTraceTree,\n  getSpanTitle,\n  type SpanNode,\n} from '../../utils/cspan-graph';\nimport { getTokens, getSpanProp } from '../../utils/cspan';\nimport { type CSpan } from '../../typings/cspan';\nimport { type SpanTypeConfigMap } from '../../typings/config';\nimport { rootBreakSpanId } from '../../constant';\nimport { type WorkflowJumpParams, type SpanDetail } from './typing';\nimport { spanStatusConfig, spanCategoryConfig } from './config';\n\nimport styles from './index.module.less';\n\nconst genTitleRender = ({\n  spanTypeConfigMap,\n  spanInfoMap,\n  spaceId,\n  onHoverChange,\n  onJumpToWorkflow,\n}: {\n  spanTypeConfigMap?: SpanTypeConfigMap;\n  spanInfoMap?: Record<string, SpanDetail | undefined>;\n  spaceId?: string;\n  onHoverChange?: (key: string) => void;\n  onJumpToWorkflow?: (params: WorkflowJumpParams) => void;\n}) => {\n  const titleRender = (nodeData: TreeNodeExtra): ReactNode => {\n    const { selected, unindented, hover, key } = nodeData;\n    const { span } = nodeData?.extra as { span: CSpan };\n    const { status, latency, category = SpanCategory.Unknown } = span;\n    const title = getSpanTitle(span, spanTypeConfigMap);\n\n    const isCozeWorkflow =\n      spanInfoMap?.[span.id]?.isCozeWorkflowNode &&\n      Boolean(getSpanProp(span, 'workflow_id')) &&\n      spaceId;\n    const workflowID = getSpanProp(span, 'workflow_id') as string;\n    const workflowVersion =\n      getSpanProp(span, 'workflow_version')?.toString() ||\n      spanInfoMap?.[span.id]?.workflowVersion;\n\n    const handleJumpToWorkflow = () => {\n      const executeID = getSpanProp(span, 'execute_id') as string | undefined;\n      const workflowNodeID = getSpanProp(span, 'workflow_node_id')?.toString();\n      const subExecuteID = getSpanProp(span, 'sub_execute_id')?.toString();\n\n      onJumpToWorkflow?.({\n        workflowID,\n        executeID,\n        workflowVersion,\n        workflowNodeID,\n        subExecuteID,\n      });\n    };\n\n    const { input_tokens: inputTokens, output_tokens: outputTokens } =\n      getTokens(span);\n    let content = '';\n\n    if (inputTokens !== undefined && outputTokens !== undefined) {\n      const tokensStr = inputTokens + outputTokens;\n      content = `${I18n.t('analytic_query_latency')}: ${latency}ms | ${I18n.t(\n        'analytic_query_tokens',\n      )}: ${tokensStr}`;\n    } else {\n      content = `${I18n.t('analytic_query_latency')}: ${latency}ms`;\n    }\n    const config = spanCategoryConfig[category];\n\n    // Virtual broken root node\n    if (span.id === rootBreakSpanId) {\n      return (\n        <div\n          className={classNames(styles['trace-tree-node'], {\n            selected: false,\n            unindented,\n            hover,\n            error: status === SpanStatus.Error,\n            disabled: true,\n          })}\n        >\n          <IconpanNodeDamaged />\n        </div>\n      );\n    } else {\n      return (\n        <>\n          <Tooltip position=\"right\" content={content} trigger=\"hover\">\n            <div\n              className={classNames(styles['trace-tree-node'], {\n                selected,\n                unindented,\n                hover,\n                error: status === SpanStatus.Error,\n              })}\n              onMouseEnter={() => onHoverChange?.(key)}\n              onMouseLeave={() => onHoverChange?.('')}\n            >\n              {config?.icon}\n              <span className={styles.title}>{title}</span>\n            </div>\n          </Tooltip>\n          {isCozeWorkflow &&\n          workflowID !== undefined &&\n          workflowVersion !== undefined ? (\n            <Tooltip position=\"top\" content={I18n.t('view_workflow_details')}>\n              <Button\n                icon={<IconCozFocus />}\n                style={{ width: 16, height: 16, marginLeft: 4 }}\n                color=\"secondary\"\n                size=\"mini\"\n                onClick={e => {\n                  e.stopPropagation();\n                  handleJumpToWorkflow();\n                }}\n              />\n            </Tooltip>\n          ) : null}\n        </>\n      );\n    }\n  };\n  return titleRender;\n};\n\nexport const spanData2treeData = (\n  spanData: CSpan[],\n  spanTypeConfigMap?: SpanTypeConfigMap,\n  options?: {\n    spaceId?: string;\n    onHoverChange?: (key: string) => void;\n    onJumpToWorkflow?: (params: WorkflowJumpParams) => void;\n  },\n): TreeNode | undefined => {\n  const traceTree = buildTraceTree(spanData);\n  const spanInfoMap = getSpanInfoMap(traceTree);\n\n  const walk = (span: SpanNode): TreeNode => {\n    const lineStyle = spanStatusConfig[span.status]?.lineStyle;\n\n    let treeNode: TreeNode = {\n      key: span.id,\n      title: genTitleRender({ spanTypeConfigMap, spanInfoMap, ...options }),\n      selectEnabled: true,\n      indentDisabled: false,\n      lineStyle,\n      zIndex: span.status === SpanStatus.Error ? 1 : 0,\n      extra: {\n        span,\n      },\n    };\n    // breakSpan node\n    if (span.id === rootBreakSpanId) {\n      treeNode = {\n        ...treeNode,\n        selectEnabled: false,\n        indentDisabled: true,\n      };\n    }\n\n    treeNode.children = span.children?.map(childSpan => walk(childSpan)) ?? [];\n\n    return treeNode;\n  };\n\n  return walk(traceTree);\n};\n\nexport const getSpanInfoMap = (root: SpanNode) => {\n  const spanInfoMap: Record<string, SpanDetail | undefined> = {};\n\n  const bfs = (node: SpanNode) => {\n    // Coze workflow settings isCozeWorkflowNode\n    if (\n      node.type === SpanType.Workflow &&\n      getSpanProp(node, 'workflow_schema_type') === 1\n    ) {\n      const parentLevel = spanInfoMap[node.parent_id]?.workflowLevel || 0;\n      spanInfoMap[node.id] = {\n        isCozeWorkflowNode: true,\n        workflowLevel: parentLevel + 1,\n        workflowVersion:\n          parentLevel <= 1\n            ? getSpanProp(node, 'workflow_version')?.toString() ||\n              spanInfoMap[node.parent_id]?.workflowVersion\n            : undefined,\n      };\n    } else {\n      // Coze workflow sub-node settings isCozeWorkflowNode\n      const { isCozeWorkflowNode, workflowLevel = 0 } =\n        spanInfoMap[node.parent_id] || {};\n\n      if (isCozeWorkflowNode) {\n        spanInfoMap[node.id] = {\n          isCozeWorkflowNode: true,\n          workflowLevel: workflowLevel + 1,\n          workflowVersion:\n            workflowLevel <= 1\n              ? spanInfoMap[node.parent_id]?.workflowVersion\n              : undefined,\n        };\n      }\n    }\n\n    // recursion\n    for (const childNode of node.children || []) {\n      bfs(childNode);\n    }\n  };\n\n  bfs(root);\n\n  return spanInfoMap;\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { type FC, useEffect, useMemo, useState } from 'react';\n\nimport classNames from 'classnames';\nimport { SceneType, usePageJumpService } from '@coze-arch/bot-hooks';\n\nimport Tree, { type TreeNode } from '../tree';\nimport { getSpanDataByTraceId } from '../../utils/cspan-graph';\nimport { DataSourceTypeEnum } from '../../typings/graph';\nimport { spanData2treeData } from './util';\nimport { type WorkflowJumpParams, type TraceTreeProps } from './typing';\nimport { defaultProps } from './config';\n\nimport styles from './index.module.less';\n\nconst TraceTree: FC<TraceTreeProps> = props => {\n  const [treeData, setTreeData] = useState<TreeNode>();\n  const [hoverNodeKey, setHoverNodeKey] = useState('');\n  const { jump } = usePageJumpService();\n  const {\n    dataSource: { type: dataType, spanData, traceId },\n    spaceId,\n    selectedSpanId,\n    spanTypeConfigMap,\n    indentDisabled,\n    lineStyle: _lineStyle,\n    globalStyle: _globalStyle,\n    className,\n    ...restProps\n  } = props;\n\n  const lineStyle = useMemo(\n    () => ({\n      normal: Object.assign(\n        {},\n        defaultProps.lineStyle?.normal,\n        _lineStyle?.normal,\n      ),\n      select: Object.assign(\n        {},\n        defaultProps.lineStyle?.select,\n        _lineStyle?.select,\n      ),\n      hover: Object.assign(\n        {},\n        defaultProps.lineStyle?.hover,\n        _lineStyle?.hover,\n      ),\n    }),\n    [_lineStyle],\n  );\n\n  const globalStyle = useMemo(\n    () => Object.assign({}, defaultProps.globalStyle, _globalStyle),\n    [_globalStyle],\n  );\n  const handleJumpToWorkflow = ({\n    workflowID,\n    executeID,\n    workflowNodeID,\n    workflowVersion,\n    subExecuteID,\n  }: WorkflowJumpParams) => {\n    if (!spaceId) {\n      return;\n    }\n    jump(SceneType.BOT__VIEW__WORKFLOW, {\n      workflowID,\n      spaceID: spaceId,\n      botID: '',\n      executeID,\n      workflowNodeID,\n      workflowVersion,\n      subExecuteID,\n      newWindow: true,\n    });\n  };\n  // Initialize flamethreadData\n  useEffect(() => {\n    if (dataType === DataSourceTypeEnum.SpanData && spanData) {\n      if (spanData?.length === 0 && treeData === undefined) {\n        return;\n      }\n\n      const treeNode = spanData2treeData(spanData, spanTypeConfigMap, {\n        spaceId,\n        onHoverChange: setHoverNodeKey,\n        onJumpToWorkflow: handleJumpToWorkflow,\n      });\n      setTreeData(treeNode);\n    } else if (dataType === DataSourceTypeEnum.TraceId && traceId) {\n      const spans = getSpanDataByTraceId(traceId);\n      const treeNode = spanData2treeData(spans, spanTypeConfigMap, {\n        onHoverChange: setHoverNodeKey,\n        onJumpToWorkflow: handleJumpToWorkflow,\n      });\n      setTreeData(treeNode);\n    }\n  }, [dataType, spanData, traceId, spanTypeConfigMap]);\n\n  return treeData ? (\n    <Tree\n      className={classNames(styles['trace-tree'], className)}\n      treeData={treeData}\n      disableDefaultHover={true}\n      hoverKey={hoverNodeKey}\n      selectedKey={selectedSpanId}\n      indentDisabled={indentDisabled}\n      lineStyle={lineStyle}\n      globalStyle={globalStyle}\n      {...restProps}\n    />\n  ) : null;\n};\n\nexport default TraceTree;\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { MarkerType } from 'reactflow';\n\nimport { getFlags } from '@coze-arch/bot-flags';\nimport {\n  SpanCategory,\n  SpanStatus,\n  SpanType,\n} from '@coze-arch/bot-api/ob_query_api';\nimport {\n  TopoType,\n  type TopoInfo,\n  type Node as TopoNode,\n} from '@coze-arch/bot-api/dp_manage_api';\nimport Dagre from '@dagrejs/dagre';\n\nimport {\n  getSpanTitle as getDynamicSpanTitle,\n  type SpanNode,\n} from '../../utils/cspan-graph';\nimport {\n  type CSpanAttrInvokeAgent,\n  type CSpan,\n  type CSpanAttrWorkflow,\n  type CSpanAttrPluginTool,\n  type CSpanAttrKnowledge,\n  type CSpanAttrCondition,\n  type CSPanBatch,\n  type CSpanAttrLLMCall,\n} from '../../typings/cspan';\nimport { rootBreakSpanId } from '../../constant';\nimport { spanCategoryConfigMap } from '../../config/cspan';\nimport {\n  type DynamicNodeMap,\n  type DynamicTopologyData,\n  type TopologicalData,\n  type TopologicalNode,\n  type TopologicalEdge,\n  type ProcessedGetTopoInfoReq,\n  type TopoMetaInfo,\n} from './typing';\nimport {\n  NodeEdgeCategory,\n  TOPOLOGY_COMMON_EDGE_OFFSET_WIDTH,\n  TOPOLOGY_COMMON_NODE_TEXT_ADDITIONAL_WIDTH,\n  TOPOLOGY_COMMON_NODE_TEXT_DEFAULT_WIDTH,\n  TOPOLOGY_COMMON_NODE_TEXT_FONT,\n  TOPOLOGY_COMMON_NODE_TEXT_HEIGHT,\n  TOPOLOGY_COMMON_NODE_TEXT_MAX_WIDTH,\n  TOPOLOGY_DEFAULT_NODE_ICON,\n  TOPOLOGY_EDGE_STATUS_MAP,\n  TOPOLOGY_LAYOUT_BIZ_MAP,\n  TopologyEdgeStatus,\n  type TopologyLayoutDirection,\n} from './constant';\n\nconst assignRecordIfNotExists = <T extends object>(\n  object: T,\n  key: keyof T,\n  value: T[keyof T],\n) => {\n  if (!object[key]) {\n    object[key] = value;\n  }\n};\n\nexport const filterObjectByKeys = <T extends object>(\n  object: T,\n  targetList: string[],\n) =>\n  Object.keys(object)\n    .filter(key => targetList.includes(key))\n    .reduce<T>((pre, cur) => {\n      pre[cur] = object[cur];\n      return pre;\n      // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n    }, {} as T);\n\n/**\n * Static topo data resource_id different and different data field mapping according to span type\n * @param spanNode current span\n * @param entityId\n * @Returns the id mapped to the static topo\n */\nexport const getNodeResourceId = (\n  spanNode: SpanNode,\n  entityId: string,\n): string => {\n  const { category, id } = spanNode;\n  const workflowNodeId =\n    // Compatible with merged Batch Nodes\n    (spanNode as CSPanBatch).workflow_node_id ??\n    (spanNode as CSpanAttrCondition).extra?.workflow_node_id;\n  if (workflowNodeId) {\n    return workflowNodeId;\n  }\n  switch (category) {\n    case SpanCategory.Agent:\n    case SpanCategory.Start:\n      return (spanNode as CSpanAttrInvokeAgent).extra?.agent_id || entityId;\n    case SpanCategory.Workflow:\n      return (spanNode as CSpanAttrWorkflow).extra?.workflow_id || id;\n    case SpanCategory.Plugin:\n      return (spanNode as CSpanAttrPluginTool).extra?.plugin_id || id;\n    case SpanCategory.Knowledge:\n      return (spanNode as CSpanAttrKnowledge).extra?.knowledge_id || id;\n    case SpanCategory.LLMCall:\n      return (spanNode as CSpanAttrLLMCall).extra?.model || id;\n    default:\n      return id;\n  }\n};\n\nexport const generateStaticTopologyDataMapKey = (\n  info: ProcessedGetTopoInfoReq,\n) => {\n  const { space_id, resource_id, version, env, resource_type } = info;\n  return `${space_id}-${resource_id}-${version}-${env}-${resource_type}`;\n};\n\n// The SpanType. InvokeAgent node will be removed from the trace under a single agent, and the topology root may be SpanType. UserInput.\nexport const getTopologyAgentRootType = () => {\n  const FLAGS = getFlags();\n  return FLAGS['bot.devops.use_user_input_as_agent']\n    ? [SpanType.InvokeAgent, SpanType.UserInput, SpanType.UserInputV2]\n    : [SpanType.InvokeAgent];\n};\n\nexport const isTopologyRootSpan = (span: CSpan) => {\n  // Only the base workflow shows the topology\n  if (span.type === SpanType.Workflow) {\n    return (span as CSpanAttrWorkflow).extra?.workflow_schema_type === 1;\n  }\n\n  return [...getTopologyAgentRootType()].includes(span.type);\n};\n\nexport const extractOriginDynamicNodeMap = (\n  spanNode: SpanNode,\n  entityId: string,\n): DynamicTopologyData => {\n  const dynamicNodeMap: DynamicNodeMap = {};\n  const originDynamicNodeMap: DynamicNodeMap = {};\n  const queue = [spanNode];\n\n  while (queue.length > 0) {\n    const currentNode = queue.shift() as SpanNode;\n    // Filter out broken nodes\n    if (currentNode.id === rootBreakSpanId) {\n      continue;\n    }\n\n    originDynamicNodeMap[currentNode.id] = currentNode;\n    assignRecordIfNotExists(\n      dynamicNodeMap,\n      getNodeResourceId(currentNode, entityId),\n      currentNode,\n    );\n\n    for (const childNode of currentNode.children ?? []) {\n      queue.push(childNode);\n    }\n  }\n\n  return {\n    dynamicNodeMap,\n    originDynamicNodeMap,\n  };\n};\n\nexport const findNearestTopologyRootSpanNode = (\n  spanNode?: SpanNode,\n): SpanNode | undefined => {\n  let currentSpanNode = spanNode;\n  while (currentSpanNode) {\n    if (isTopologyRootSpan(currentSpanNode)) {\n      return currentSpanNode;\n    }\n    currentSpanNode = currentSpanNode.parent;\n  }\n  return undefined;\n};\n\nfunction findUserInputRootNode(dynamicNodeMap: DynamicNodeMap) {\n  return Object.values(dynamicNodeMap).find(\n    item =>\n      item.type === SpanType.UserInput || item.type === SpanType.UserInputV2,\n  );\n}\n\n/**\n * Fill the dynamic nodes to the corresponding static nodes and connections to complete their dynamic operation information\n * @param staticTopoInfo\n * @Param dynamicNodeMap The dynamic node map that needs to be displayed at present\n * @param layoutDirection\n * @returns\n */\nexport const completeDynamicTopologyInfo = (\n  staticTopoInfo: TopoInfo,\n  dynamicNodeMap: DynamicNodeMap,\n  layoutDirection: TopologyLayoutDirection,\n): TopologicalData => {\n  const FLAGS = getFlags();\n  const {\n    nodes: staticNodes = [],\n    edges: staticEdges = [],\n    topo_type = TopoType.AgentFlow,\n  } = staticTopoInfo;\n  const nodeInfoMap: Record<\n    string,\n    {\n      node: TopoNode;\n      resourceId: string;\n    }\n  > = {};\n  const nodes: TopologicalNode[] = staticNodes.map(item => {\n    const {\n      node_id = '',\n      resource_id = '',\n      resource_kind,\n      resource_name = '',\n    } = item;\n    nodeInfoMap[node_id] = {\n      node: item,\n      resourceId: resource_id,\n    };\n\n    const typedResourceKind: SpanCategory =\n      resource_kind && resource_kind in SpanCategory\n        ? Number(resource_kind)\n        : SpanCategory.Unknown;\n\n    let dynamicSpanNode = dynamicNodeMap[resource_id] as SpanNode | undefined;\n\n    // Specialized logic: In a single agent scenario, the node information will not include the agent node, and it needs to be replaced with userInput.\n    if (\n      typedResourceKind === SpanCategory.Agent &&\n      !dynamicSpanNode &&\n      FLAGS['bot.devops.use_user_input_as_agent']\n    ) {\n      dynamicSpanNode = findUserInputRootNode(dynamicNodeMap) as\n        | SpanNode\n        | undefined;\n    }\n\n    let title = '';\n    if (dynamicSpanNode) {\n      title = getDynamicSpanTitle(dynamicSpanNode);\n    } else {\n      title = getStaticSpanTitle(typedResourceKind, resource_name);\n    }\n\n    return {\n      id: node_id,\n      type: typedResourceKind,\n      position: {\n        x: 0,\n        y: 0,\n      },\n      data: {\n        name: title,\n        icon:\n          TOPOLOGY_LAYOUT_BIZ_MAP[typedResourceKind]?.icon ??\n          TOPOLOGY_DEFAULT_NODE_ICON,\n        dynamicSpanNode,\n        layoutDirection,\n      },\n    };\n  });\n\n  const edges: TopologicalEdge[] = staticEdges.map(item => {\n    const { edge_id = '', source_node_id = '', target_node_id = '' } = item;\n\n    const sourceNodeInfo = nodeInfoMap[source_node_id];\n    // Specialized logic: there is no workflow_start node in dynamic tracing, the dynamic node downstream is filled in by default\n    const isWorkflowStartNode =\n      Number(sourceNodeInfo?.node?.resource_kind) ===\n      SpanCategory.WorkflowStart;\n\n    let sourceNode: SpanNode | undefined =\n      dynamicNodeMap[sourceNodeInfo?.resourceId];\n    const targetNode: SpanNode | undefined =\n      dynamicNodeMap[nodeInfoMap[target_node_id]?.resourceId];\n\n    // Specialized logic: In a single agent scenario, the node information will not include the agent node, and it needs to be replaced with userInput.\n    if (\n      sourceNodeInfo.node.resource_kind === SpanCategory.Agent &&\n      !sourceNode &&\n      FLAGS['bot.devops.use_user_input_as_agent']\n    ) {\n      sourceNode = findUserInputRootNode(dynamicNodeMap) as\n        | SpanNode\n        | undefined;\n    }\n\n    let tailDynamicSpanNode: SpanNode | undefined;\n    if (isWorkflowStartNode || (sourceNode && targetNode)) {\n      tailDynamicSpanNode = targetNode;\n    }\n\n    const topologyEdgeStatus = getTopologyItemStatus(tailDynamicSpanNode);\n    return {\n      id: edge_id,\n      source: source_node_id,\n      target: target_node_id,\n      type: NodeEdgeCategory.Common,\n      markerEnd: {\n        type: MarkerType.Arrow,\n        color: TOPOLOGY_EDGE_STATUS_MAP[topologyEdgeStatus].edgeColor,\n        height: 17,\n        width: 17,\n      },\n      data: {\n        tailDynamicSpanNode,\n      },\n    };\n  });\n\n  return {\n    nodes,\n    edges,\n    topoType: topo_type,\n  };\n};\n\nconst measureTextCanvas = document.createElement('canvas');\nconst measureTextContext = measureTextCanvas.getContext('2d');\n\nconst getTextWidth = (text: string) => {\n  if (!measureTextContext) {\n    return TOPOLOGY_COMMON_NODE_TEXT_DEFAULT_WIDTH;\n  }\n  measureTextContext.font = TOPOLOGY_COMMON_NODE_TEXT_FONT;\n  return (\n    Math.min(\n      Math.round(measureTextContext.measureText(text).width),\n      TOPOLOGY_COMMON_NODE_TEXT_MAX_WIDTH,\n    ) + TOPOLOGY_COMMON_NODE_TEXT_ADDITIONAL_WIDTH\n  );\n};\n\nconst getStaticSpanTitle = (category: SpanCategory, name: string) => {\n  const typeName = spanCategoryConfigMap[category]?.label ?? '';\n  if (name && name !== typeName) {\n    return `${typeName} ${name}`;\n  } else {\n    return typeName;\n  }\n};\n\n/**\n * Layout and style processing of raw topo data\n * @param originTopologicalData\n * @param layoutDirection\n * @returns\n */\nexport const getLayoutedMeta = (\n  originTopologicalData: TopologicalData,\n  layoutDirection: TopologyLayoutDirection,\n): TopologicalData => {\n  const graphInstance = new Dagre.graphlib.Graph().setDefaultEdgeLabel(\n    () => ({}),\n  );\n  graphInstance.setGraph({\n    rankdir: layoutDirection,\n    align: 'UL',\n  });\n  const { edges, nodes, topoType } = originTopologicalData;\n\n  edges.forEach(edge => graphInstance.setEdge(edge.source, edge.target));\n\n  nodes.forEach(node => {\n    const { type = SpanCategory.Unknown, data } = node;\n    const { name } = data;\n\n    graphInstance.setNode(node.id, {\n      label: name,\n      height:\n        TOPOLOGY_LAYOUT_BIZ_MAP[type]?.height ??\n        TOPOLOGY_COMMON_NODE_TEXT_HEIGHT,\n      width: getTextWidth(name),\n    });\n  });\n\n  Dagre.layout(graphInstance);\n\n  // Acquire the positioning information of the node for positioning when drawing vertical types of connections\n  const nodeXAxisMap: Record<string, number> = {};\n\n  const layoutNodes: TopologicalNode[] = nodes.map(node => {\n    const { x, y } = graphInstance.node(node.id);\n\n    nodeXAxisMap[node.id] = x;\n\n    return { ...node, position: { x, y } };\n  });\n\n  const layoutEdges: TopologicalEdge[] = edges.map(edge => {\n    const { source, target } = edge;\n    return {\n      ...edge,\n      data: {\n        ...edge.data,\n        layoutInfo: {\n          customSourceX:\n            nodeXAxisMap[source] + TOPOLOGY_COMMON_EDGE_OFFSET_WIDTH,\n          customTargetX:\n            nodeXAxisMap[target] + TOPOLOGY_COMMON_EDGE_OFFSET_WIDTH,\n        },\n      },\n    };\n  });\n\n  return {\n    topoType,\n    nodes: layoutNodes,\n    edges: layoutEdges,\n  };\n};\n\nexport const getTopologyItemStatus = (spanNode?: SpanNode) => {\n  if (!spanNode) {\n    return TopologyEdgeStatus.STATIC;\n  }\n  if (spanNode.status === SpanStatus.Error) {\n    return TopologyEdgeStatus.ERROR;\n  }\n  return TopologyEdgeStatus.DYNAMIC;\n};\n\n/**\n * Generate graphs and id maps of upstream nodes for each node using static topo data\n * @param topoInfo\n * @Returns meta information for graphs and maps\n */\nexport const generateTopologyMetaInfo = (topoInfo: TopoInfo): TopoMetaInfo => {\n  const { nodes = [], edges = [] } = topoInfo;\n  const resourceIdMap: Record<string, string> = {};\n  const nodeIdMap: Record<string, string> = {};\n  const topoGraph: Record<string, string[]> = {};\n  for (const { node_id = '', resource_id = '' } of nodes) {\n    resourceIdMap[node_id] = resource_id;\n    nodeIdMap[resource_id] = node_id;\n  }\n  for (const { source_node_id = '', target_node_id = '' } of edges) {\n    if (!topoGraph[target_node_id]) {\n      topoGraph[target_node_id] = [];\n    }\n    topoGraph[target_node_id].push(source_node_id);\n  }\n  return {\n    resourceIdMap,\n    nodeIdMap,\n    topoGraph,\n  };\n};\n\n/**\n * Query all upstream nodes of a node in a static topo graph, using DP to reduce complexity\n * @param selectedNodeId Current span id\n * @Param topoGraph holds a graph that records the upstream nodes of each node\n * @Param upstreamNodeMap holds a map that records all upstream nodes of a node\n * @Returns the id list of all nodes upstream\n */\nexport const getAllUpstreamTopologyNodeIds = (\n  selectedNodeId: string,\n  topoGraph: Record<string, string[]>,\n  upstreamNodeMap: Record<string, string[]>,\n) => {\n  if (upstreamNodeMap[selectedNodeId]) {\n    return upstreamNodeMap[selectedNodeId];\n  }\n  const upstreamNodeIds = topoGraph[selectedNodeId] ?? [];\n  const allUpstreamNodeIds: string[] = [\n    ...upstreamNodeIds,\n    ...upstreamNodeIds.flatMap(nodeId =>\n      getAllUpstreamTopologyNodeIds(nodeId, topoGraph, upstreamNodeMap),\n    ),\n  ];\n  upstreamNodeMap[selectedNodeId] = allUpstreamNodeIds;\n  return allUpstreamNodeIds;\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useReactFlow, useStoreApi } from 'reactflow';\nimport { type RefObject, useEffect, useRef, useState } from 'react';\n\nimport { useAsyncEffect, useSize, useThrottle } from 'ahooks';\nimport {\n  Env,\n  type ResourceType,\n  type GetTopoInfoReq,\n  type TopoInfo,\n  TopoType,\n} from '@coze-arch/bot-api/dp_manage_api';\nimport { dpManageApi } from '@coze-arch/bot-api';\n\nimport { buildTraceTree } from '../../utils/cspan-graph';\nimport { DataSourceTypeEnum } from '../../typings/graph';\nimport {\n  type CSpanAttrUserInput,\n  type CSpanAttrInvokeAgent,\n  type CSpanAttrWorkflow,\n} from '../../typings/cspan';\nimport {\n  completeDynamicTopologyInfo,\n  extractOriginDynamicNodeMap,\n  filterObjectByKeys,\n  findNearestTopologyRootSpanNode,\n  generateStaticTopologyDataMapKey,\n  generateTopologyMetaInfo,\n  getAllUpstreamTopologyNodeIds,\n  getLayoutedMeta,\n  getNodeResourceId,\n  getTopologyAgentRootType,\n} from './util';\nimport {\n  type DynamicNodeMap,\n  type DynamicTopologyData,\n  type StaticTopologyDataCache,\n  type UseGenerateTopologyHookData,\n  type TopologicalData,\n  type ProcessedGetTopoInfoReq,\n} from './typing';\nimport {\n  RESOURCE_TYPE_RECORD,\n  TOPOLOGY_LAYOUT_RECORD,\n  type TopologyLayoutDirection,\n} from './constant';\n\nexport const useLayoutTopology = (\n  topologicalData: TopologicalData | undefined,\n): [RefObject<HTMLDivElement>] => {\n  const topologyFlowDomRef = useRef<HTMLDivElement>(null);\n  const topologyFlowBoxSize = useSize(topologyFlowDomRef);\n  const throttledTopologyFlowBoxSize = useThrottle(topologyFlowBoxSize);\n  const { setCenter } = useReactFlow();\n  const store = useStoreApi();\n\n  useEffect(() => {\n    if (topologicalData && throttledTopologyFlowBoxSize) {\n      const { nodeInternals } = store.getState();\n      const nodes = Array.from(nodeInternals).map(([, node]) => node);\n      if (nodes.length > 0) {\n        const node = nodes[0];\n        const zoom = 0.7;\n        const { height, width } = throttledTopologyFlowBoxSize;\n        const x = node.position.x + (node.width || 0) / 2 + (width / 2) * zoom;\n        const y =\n          node.position.y + (node.height || 0) / 2 + (height / 2) * zoom;\n        setCenter(x, y, { zoom, duration: 1000 });\n      }\n    }\n  }, [topologicalData, setCenter, store, throttledTopologyFlowBoxSize]);\n\n  return [topologyFlowDomRef];\n};\n\nconst notShowTopo = (topoInfo: TopoInfo | undefined): topoInfo is undefined => {\n  if (!topoInfo) {\n    return true;\n  }\n  if (!topoInfo.nodes) {\n    return true;\n  }\n\n  if (!topoInfo.topo_type || topoInfo.topo_type === TopoType.AgentFlow) {\n    return true;\n  }\n  return false;\n};\n\nexport const useGenerateTopology = (\n  data: UseGenerateTopologyHookData,\n): [boolean, TopologicalData | undefined] => {\n  const { botId, entityId, spaceId, dataSource, selectedSpanId } = data;\n\n  const [loading, setLoading] = useState(false);\n\n  const [topologicalData, setTopologicalData] = useState<TopologicalData>();\n\n  // Static topo interface original data source and computing data cache\n  const staticTopologyDataRef = useRef<Record<string, StaticTopologyDataCache>>(\n    {},\n  );\n  // The nearest upstream of a span can be queried to the span node cache of topo\n  const nearestTopologyRootSpanMapRef = useRef<DynamicNodeMap>({});\n\n  const resetStatus = () => {\n    setTopologicalData(undefined);\n    setLoading(false);\n  };\n\n  const fetchStaticTopologyData = async (req: GetTopoInfoReq) => {\n    const resp = await dpManageApi.GetTopoInfo({\n      ...req,\n    });\n    return resp.data;\n  };\n\n  const getOriginDynamicData = (): DynamicTopologyData | undefined => {\n    const { type, spanData = [] } = dataSource;\n    if (type === DataSourceTypeEnum.SpanData) {\n      const traceTree = buildTraceTree(spanData, false);\n      return extractOriginDynamicNodeMap(traceTree, botId || entityId || '');\n    } else {\n      // The TraceId type is not yet implemented\n      return undefined;\n    }\n  };\n\n  useAsyncEffect(async () => {\n    try {\n      if (!selectedSpanId) {\n        resetStatus();\n        return;\n      }\n\n      setLoading(true);\n      /**\n       * Step 1\n       * Get dynamic tracing tree data and find the currently selected node\n       */\n      const originDynamicData = getOriginDynamicData();\n      const currentSelectedSpanNode =\n        originDynamicData?.originDynamicNodeMap?.[selectedSpanId];\n\n      if (!originDynamicData || !currentSelectedSpanNode) {\n        resetStatus();\n        return;\n      }\n\n      const getNearestTopologyRootSpanNode = () => {\n        // hit cache\n        if (nearestTopologyRootSpanMapRef.current[selectedSpanId]) {\n          return nearestTopologyRootSpanMapRef.current[selectedSpanId];\n        }\n        const node = findNearestTopologyRootSpanNode(currentSelectedSpanNode);\n        if (!node) {\n          return undefined;\n        }\n\n        nearestTopologyRootSpanMapRef.current[selectedSpanId] = node;\n        return node;\n      };\n\n      /**\n       * Step 2\n       * Find the nearest drawable topo node starting from the current node and request static raw topo data\n       */\n      const nearestTopologyRootSpanNode = getNearestTopologyRootSpanNode() as\n        | CSpanAttrInvokeAgent\n        | CSpanAttrWorkflow\n        | CSpanAttrUserInput\n        | undefined;\n\n      if (!nearestTopologyRootSpanNode) {\n        resetStatus();\n        return;\n      }\n\n      const { type } = nearestTopologyRootSpanNode;\n\n      // Currently supports InvokeAgent and Workflow types, taking the id and version of bot and workflow respectively\n      const getStaticTopologyMetaData = (): Partial<\n        Pick<GetTopoInfoReq, 'resource_id' | 'version'>\n      > => {\n        if (\n          getTopologyAgentRootType().includes(nearestTopologyRootSpanNode.type)\n        ) {\n          return {\n            resource_id: botId || entityId || '',\n            version: nearestTopologyRootSpanNode.extra?.bot_version,\n          };\n        } else {\n          const typedNearestTopologyRootSpanNode =\n            nearestTopologyRootSpanNode as CSpanAttrWorkflow;\n          return {\n            resource_id: typedNearestTopologyRootSpanNode.extra?.workflow_id,\n            version: typedNearestTopologyRootSpanNode.extra?.workflow_version,\n          };\n        }\n      };\n\n      const { resource_id, version } = getStaticTopologyMetaData();\n\n      if (!resource_id || !version) {\n        resetStatus();\n        return;\n      }\n\n      const processedGetTopoInfoReq: ProcessedGetTopoInfoReq = {\n        space_id: spaceId,\n        env: Env.Online,\n        resource_type: RESOURCE_TYPE_RECORD[type] as ResourceType,\n        resource_id: resource_id ?? '',\n        version: version ?? '',\n      };\n      const staticTopologyDataMapKey = generateStaticTopologyDataMapKey(\n        processedGetTopoInfoReq,\n      );\n\n      const staticTopologyDataCache = staticTopologyDataRef.current[\n        staticTopologyDataMapKey\n      ] as StaticTopologyDataCache | undefined;\n\n      const topoInfo =\n        // Read from cache first\n        staticTopologyDataCache?.topoInfoMap ??\n        (await fetchStaticTopologyData(processedGetTopoInfoReq));\n\n      if (notShowTopo(topoInfo)) {\n        resetStatus();\n        return;\n      }\n\n      /**\n       * Step 3\n       * Filter out the nodes in the current static topo node that need to display the dynamic call link\n       */\n      const topoMetaInfo =\n        // Read from cache first\n        staticTopologyDataCache?.topoMetaInfo ??\n        generateTopologyMetaInfo(topoInfo);\n\n      const upstreamNodeMap = staticTopologyDataCache?.upstreamNodeMap ?? {};\n\n      // Determine whether the current node itself has topo information (that is, the root node of the topo that needs to be displayed at present)\n      const isSelectedNodeTopologyRoot =\n        currentSelectedSpanNode.id === nearestTopologyRootSpanNode.id;\n\n      const currentSelectedSpanNodeTopoNodeId =\n        topoMetaInfo.nodeIdMap[\n          getNodeResourceId(currentSelectedSpanNode, botId || entityId || '')\n        ];\n\n      // If the current node is the topo root node, then all dynamic node information is displayed.\n      // Otherwise, filter out all upstream nodes of the current node in the static topo and display only those upstream nodes\n      const currentDynamicNodeMap = isSelectedNodeTopologyRoot\n        ? originDynamicData.dynamicNodeMap\n        : filterObjectByKeys(\n            originDynamicData.dynamicNodeMap,\n            [\n              currentSelectedSpanNodeTopoNodeId,\n              ...getAllUpstreamTopologyNodeIds(\n                currentSelectedSpanNodeTopoNodeId,\n                topoMetaInfo.topoGraph,\n                upstreamNodeMap,\n              ),\n            ].map(nodeId => topoMetaInfo.resourceIdMap[nodeId]),\n          );\n\n      const layoutDirection = TOPOLOGY_LAYOUT_RECORD[\n        type\n      ] as TopologyLayoutDirection;\n\n      /**\n       * Step 4\n       * Complement dynamic node information & layout information to static topo\n       */\n      const originalTopologicalData = completeDynamicTopologyInfo(\n        topoInfo,\n        currentDynamicNodeMap,\n        layoutDirection,\n      );\n\n      const layoutTopologicalData = getLayoutedMeta(\n        originalTopologicalData,\n        layoutDirection,\n      );\n\n      // cache\n      staticTopologyDataRef.current[staticTopologyDataMapKey] = {\n        topoInfoMap: topoInfo,\n        topoMetaInfo,\n        upstreamNodeMap,\n      };\n\n      setTopologicalData(layoutTopologicalData);\n      // eslint-disable-next-line @coze-arch/use-error-in-catch\n    } catch (e) {\n      resetStatus();\n    } finally {\n      setLoading(false);\n    }\n  }, [botId, entityId, spaceId, dataSource, selectedSpanId]);\n\n  useEffect(\n    // Clear cache on destruction\n    () => () => {\n      staticTopologyDataRef.current = {\n        topoInfoMap: {},\n        upstreamNodeMap: {},\n      };\n      nearestTopologyRootSpanMapRef.current = {};\n    },\n    [],\n  );\n\n  return [loading, topologicalData];\n};\n","\n      import API from \"!../../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./common.module.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./common.module.less\";\n       export default content && content.locals ? content.locals : undefined;\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  Handle,\n  type NodeProps,\n  Position,\n  useUpdateNodeInternals,\n} from 'reactflow';\n\nimport classNames from 'classnames';\nimport { useUpdateEffect } from 'ahooks';\nimport { Typography } from '@coze-arch/bot-semi';\nimport { SpanCategory } from '@coze-arch/bot-api/ob_query_api';\n\nimport { getTopologyItemStatus } from '../util';\nimport { type NodeData } from '../typing';\nimport {\n  TOPOLOGY_EDGE_STATUS_MAP,\n  TopologyEdgeStatus,\n  TopologyLayoutDirection,\n} from '../constant';\n\nimport s from './common.module.less';\n\nconst { Text } = Typography;\n\nexport const CommonNode = (props: NodeProps<NodeData>) => {\n  const {\n    id,\n    type,\n    data: { name, icon, layoutDirection, dynamicSpanNode },\n  } = props;\n\n  // Specialization logic: There are no workflow_start nodes in dynamic tracing, workflow_start nodes in topo are highlighted by default\n  const topologyNodeStatus =\n    Number(type) === SpanCategory.WorkflowStart\n      ? TopologyEdgeStatus.DYNAMIC\n      : getTopologyItemStatus(dynamicSpanNode);\n\n  const updateNodeInternals = useUpdateNodeInternals();\n\n  useUpdateEffect(() => {\n    updateNodeInternals(id);\n  }, [layoutDirection]);\n\n  return (\n    <div className={s['common-node']}>\n      <Handle\n        type=\"target\"\n        position={\n          layoutDirection === TopologyLayoutDirection.LR\n            ? Position.Left\n            : Position.Top\n        }\n      />\n      <Handle\n        type=\"source\"\n        position={\n          layoutDirection === TopologyLayoutDirection.LR\n            ? Position.Right\n            : Position.Bottom\n        }\n      />\n      <div\n        className={classNames(\n          s['common-node-container'],\n          s[TOPOLOGY_EDGE_STATUS_MAP[topologyNodeStatus].nodeClassName],\n        )}\n      >\n        {icon}\n        <Text\n          className={s['common-node-container-text']}\n          ellipsis={{ showTooltip: true }}\n        >\n          {name}\n        </Text>\n      </div>\n    </div>\n  );\n};\n","\n      import API from \"!../../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./common.module.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./common.module.less\";\n       export default content && content.locals ? content.locals : undefined;\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  type EdgeProps,\n  BaseEdge,\n  getBezierPath,\n  Position,\n  EdgeLabelRenderer,\n} from 'reactflow';\nimport { useMemo } from 'react';\n\nimport classNames from 'classnames';\nimport { I18n } from '@coze-arch/i18n';\nimport { Tooltip } from '@coze-arch/bot-semi';\nimport { SpanStatus } from '@coze-arch/bot-api/ob_query_api';\n\nimport { getTopologyItemStatus } from '../util';\nimport {\n  type TopologicalBatchNodeExecutionInfo,\n  type EdgeData,\n} from '../typing';\nimport { TOPOLOGY_EDGE_STATUS_MAP } from '../constant';\nimport { type SpanNode } from '../../../utils/cspan-graph';\nimport { checkIsBatchBasicCSpan } from '../../../utils/cspan';\nimport { type CSPanBatch } from '../../../typings/cspan';\n\nimport s from './common.module.less';\n\nconst isVerticalEdge = (position: Position) =>\n  position === Position.Top || position === Position.Bottom;\n\nconst getBatchNodeExecutionInfo = (\n  spanNode?: SpanNode,\n): TopologicalBatchNodeExecutionInfo => {\n  const batchNodeExecutionInfo: TopologicalBatchNodeExecutionInfo = {\n    isBatch: false,\n    isError: false,\n    errorNumber: 0,\n    totalNumber: 0,\n  };\n  if (!spanNode || !checkIsBatchBasicCSpan(spanNode)) {\n    return batchNodeExecutionInfo;\n  }\n  const { spans, status: batchNodeStatus } = spanNode as CSPanBatch;\n\n  batchNodeExecutionInfo.isBatch = true;\n  batchNodeExecutionInfo.isError = batchNodeStatus === SpanStatus.Error;\n\n  spans.forEach(span => {\n    const { status } = span;\n    batchNodeExecutionInfo.totalNumber++;\n    if (status === SpanStatus.Error) {\n      batchNodeExecutionInfo.errorNumber++;\n    }\n  });\n\n  return batchNodeExecutionInfo;\n};\n\ninterface BatchEdgeInfoProps {\n  batchNodeExecutionInfo: TopologicalBatchNodeExecutionInfo;\n}\n\nconst BatchEdgeInfo = (props: BatchEdgeInfoProps) => {\n  const { batchNodeExecutionInfo } = props;\n  const { isError, totalNumber, errorNumber } = batchNodeExecutionInfo;\n  return (\n    <div\n      className={classNames(\n        s['batch-edge-info-container'],\n        isError && s['batch-edge-info-container_error'],\n      )}\n    >\n      {!isError || totalNumber === errorNumber ? (\n        <>{totalNumber}</>\n      ) : (\n        <Tooltip\n          content={I18n.t('analytic_query_detail_topology_tooltip', {\n            errorCount: errorNumber,\n            callCount: totalNumber,\n          })}\n        >\n          {errorNumber}\n          <span style={{ color: '#1D1C23' }}>\n            <span style={{ margin: '0 3px' }}>/</span>\n            {totalNumber}\n          </span>\n        </Tooltip>\n      )}\n    </div>\n  );\n};\n\nexport const CommonEdge = (props: EdgeProps<EdgeData>) => {\n  const {\n    id,\n    sourceX,\n    sourceY,\n    targetX,\n    targetY,\n    sourcePosition,\n    targetPosition,\n    markerEnd,\n    data,\n  } = props;\n\n  const batchNodeExecutionInfo = useMemo(\n    () => getBatchNodeExecutionInfo(data?.tailDynamicSpanNode),\n    [data?.tailDynamicSpanNode],\n  );\n\n  const topologyEdgeStatus = getTopologyItemStatus(data?.tailDynamicSpanNode);\n\n  // When the vertical type line segment is laid out, the node position is used for positioning, so that the start and end points of the line segment are positioned at the beginning of the node\n  const adaptedSourceX = isVerticalEdge(sourcePosition)\n    ? data?.layoutInfo?.customSourceX ?? sourceX\n    : sourceX;\n  const adaptedTargetX = isVerticalEdge(targetPosition)\n    ? data?.layoutInfo?.customTargetX ?? targetX\n    : targetX;\n\n  const [edgePath, labelX, labelY] = getBezierPath({\n    sourceX: adaptedSourceX,\n    sourceY,\n    targetX: adaptedTargetX,\n    targetY,\n    sourcePosition,\n    targetPosition,\n  });\n\n  return (\n    <>\n      <BaseEdge\n        id={id}\n        path={edgePath}\n        markerEnd={markerEnd}\n        style={{\n          strokeWidth: 2,\n          stroke: TOPOLOGY_EDGE_STATUS_MAP[topologyEdgeStatus].edgeColor,\n        }}\n      />\n      {batchNodeExecutionInfo.isBatch && (\n        <EdgeLabelRenderer>\n          <div\n            style={{\n              position: 'absolute',\n              transform: `translate(-50%, -50%) translate(${labelX}px, ${labelY}px)`,\n              pointerEvents: 'all',\n            }}\n          >\n            <BatchEdgeInfo batchNodeExecutionInfo={batchNodeExecutionInfo} />\n          </div>\n        </EdgeLabelRenderer>\n      )}\n    </>\n  );\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { type EdgeProps } from 'reactflow';\n\nimport { SpanCategory } from '@coze-arch/bot-api/ob_query_api';\n\nimport { CommonNode } from '../custom-nodes';\nimport { CommonEdge } from '../custom-edges';\nimport { NodeEdgeCategory } from '.';\n\nexport const CUSTOM_NODES = {\n  [SpanCategory.Unknown]: CommonNode,\n  [SpanCategory.Start]: CommonNode,\n  [SpanCategory.Agent]: CommonNode,\n  [SpanCategory.LLMCall]: CommonNode,\n  [SpanCategory.Workflow]: CommonNode,\n  [SpanCategory.WorkflowStart]: CommonNode,\n  [SpanCategory.WorkflowEnd]: CommonNode,\n  [SpanCategory.Plugin]: CommonNode,\n  [SpanCategory.Knowledge]: CommonNode,\n  [SpanCategory.Code]: CommonNode,\n  [SpanCategory.Condition]: CommonNode,\n  [SpanCategory.Card]: CommonNode,\n  [SpanCategory.Message]: CommonNode,\n  [SpanCategory.Loop]: CommonNode,\n  [SpanCategory.LongTermMemory]: CommonNode,\n};\n\nexport const CUSTOM_EDGES: Record<NodeEdgeCategory, React.FC<EdgeProps>> = {\n  [NodeEdgeCategory.Common]: CommonEdge,\n};\n","\n      import API from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n       export default content && content.locals ? content.locals : undefined;\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport ReactFlow, { ReactFlowProvider } from 'reactflow';\nimport { useMemo } from 'react';\n\nimport classNames from 'classnames';\nimport { Spin } from '@coze-arch/bot-semi';\n\nimport { type TopologyFlowProps } from './typing';\n\nimport 'reactflow/dist/style.css';\nimport { useGenerateTopology, useLayoutTopology } from './hook';\nimport { CUSTOM_EDGES, CUSTOM_NODES } from './constant/flow';\n\nimport s from './index.module.less';\n\nconst TopologyFlowContent = (props: TopologyFlowProps) => {\n  const { style, className, renderHeader, ...restProps } = props;\n\n  // Calculate topo data\n  const [loading, topologicalData] = useGenerateTopology({\n    ...restProps,\n  });\n\n  // After each topo data change, calculate the topo layout information\n  const [topologyFlowDomRef] = useLayoutTopology(topologicalData);\n\n  // Rendering external custom header implementations (with business semantics)\n  const topologyHeader = useMemo(() => {\n    if (!renderHeader || !topologicalData) {\n      return null;\n    }\n    return renderHeader(topologicalData.topoType);\n  }, [renderHeader, topologicalData]);\n\n  return topologicalData ? (\n    <div\n      className={classNames(\n        s['topology-flow'],\n        className ?? s['topology-flow_default'],\n      )}\n      style={style}\n      ref={topologyFlowDomRef}\n    >\n      {loading ? (\n        <div className={s['topology-flow-loading']}>\n          <Spin />\n        </div>\n      ) : (\n        <div className={s['topology-flow-container']}>\n          {topologyHeader}\n          <div className={s['topology-flow-container-flow']}>\n            <ReactFlow\n              // @ts-expect-error Use the number type to enumerate SpanType as a custom type, the error can be ignored\n              nodes={topologicalData.nodes}\n              edges={topologicalData.edges}\n              nodeTypes={CUSTOM_NODES}\n              edgeTypes={CUSTOM_EDGES}\n              proOptions={{\n                hideAttribution: true,\n              }}\n              nodesDraggable={false}\n              nodesConnectable={false}\n            />\n          </div>\n        </div>\n      )}\n    </div>\n  ) : null;\n};\n\nconst TopologyFlow = (props: TopologyFlowProps) => (\n  <ReactFlowProvider>\n    <TopologyFlowContent {...props} />\n  </ReactFlowProvider>\n);\n\nexport default TopologyFlow;\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { pick, uniqBy } from 'lodash-es';\nimport {\n  type Span,\n  SpanStatus,\n  type SpanCategory,\n} from '@coze-arch/bot-api/ob_query_api';\n\nimport {\n  type CSpanSingle,\n  type CSpan,\n  type CSPanBatch,\n  type SpanCategoryMeta,\n  type SpanCategoryMap,\n  type CSpanSingleForBatch,\n} from '../typings/cspan';\nimport { isBatchSpanType } from './cspan';\n\nconst compareByStartAt = (\n  a: CSpanSingleForBatch,\n  b: CSpanSingleForBatch,\n): number => {\n  if (a.start_time > b.start_time) {\n    return 1;\n  } else if (a.start_time < b.start_time) {\n    return -1;\n  } else {\n    return 0;\n  }\n};\n\nconst compareByTaskIndex = (\n  a: CSpanSingleForBatch,\n  b: CSpanSingleForBatch,\n): number => {\n  const taskIndexA = a.extra?.task_index ?? 0;\n  const taskIndexB = a.extra?.task_index ?? 0;\n  if (taskIndexA > taskIndexB) {\n    return 1;\n  } else if (taskIndexA < taskIndexB) {\n    return -1;\n  } else {\n    return 0;\n  }\n};\n\nconst getStartAtForBatch = (spans: CSpanSingleForBatch[]): number => {\n  let startAt = Number.POSITIVE_INFINITY;\n  spans.forEach(span => {\n    startAt = Math.min(span.start_time, startAt);\n  });\n  return startAt;\n};\n\nconst getLatencyForBatch = (spans: CSpanSingleForBatch[]): number => {\n  let endAt = Number.NEGATIVE_INFINITY;\n  spans.forEach(span => {\n    endAt = Math.max(span.start_time + span.latency, endAt);\n  });\n  const startAt = getStartAtForBatch(spans);\n  return endAt - startAt;\n};\n\nconst getStatusForBatch = (spans: CSpanSingleForBatch[]): SpanStatus => {\n  let isSuccess = true;\n  spans.forEach(span => {\n    if (span.status === SpanStatus.Error) {\n      isSuccess = false;\n    }\n  });\n  return isSuccess ? SpanStatus.Success : SpanStatus.Error;\n};\n\n// Spans are directly polymerized to generate batchSpan.\nconst genBatchSpan = function (\n  spans: CSpanSingleForBatch[],\n  spanCategoryMap?: SpanCategoryMap,\n): CSPanBatch | undefined {\n  if (spans.length === 0) {\n    return undefined;\n  }\n  // legality check\n  const taskTotal = spans[0].extra?.task_total;\n  const spans0 = spans.filter(curSpan => {\n    const curTaskTotal = curSpan.extra?.task_total;\n    return curTaskTotal !== taskTotal;\n  });\n  // taskTotal is not all equal, the data is invalid\n  if (spans0.length > 0) {\n    return undefined;\n  }\n\n  return {\n    ...pick(spans[0], ['trace_id', 'id', 'parent_id', 'name', 'type']),\n    category: spanCategoryMap?.[spans[0].type],\n    status: getStatusForBatch(spans),\n    start_time: getStartAtForBatch(spans),\n    latency: getLatencyForBatch(spans),\n    spans: spans.sort(compareByTaskIndex),\n    workflow_node_id: spans[0].extra?.workflow_node_id,\n  };\n};\n\nconst aggregationBatchSpan = function (\n  spans: CSpanSingleForBatch[],\n  spanCategoryMap?: SpanCategoryMap,\n) {\n  const batchSpans: CSPanBatch[] = [];\n\n  // Sorting spans by workflowNodeId + type\n  const map: {\n    [key: string]: CSpanSingleForBatch[];\n  } = {};\n  spans.forEach(span => {\n    const { type } = span;\n    const workflowNodeId = span.extra?.workflow_node_id;\n    if (!workflowNodeId) {\n      return;\n    }\n    map[type + workflowNodeId] = map[type + workflowNodeId] ?? [];\n    map[type + workflowNodeId].push(span);\n  });\n\n  // Further classify according to time + serial number to generate CSpanBatch\n  Object.keys(map).forEach(key => {\n    const workflowSpans = map[key];\n\n    // Sort by: Time\n    workflowSpans.sort(compareByStartAt);\n\n    // Aggregate according to task_index\n    let curTaskIndexs: number[] = [];\n    let curSpans: CSpanSingleForBatch[] = [];\n    workflowSpans.forEach(span => {\n      const taskIndex = span.extra?.task_index;\n      if (taskIndex === undefined) {\n        return;\n      }\n\n      if (curTaskIndexs.includes(taskIndex)) {\n        // If the serial number exists, open a new set.\n        const batchSpan = genBatchSpan(curSpans, spanCategoryMap);\n        if (batchSpan) {\n          batchSpans.push(batchSpan);\n        }\n        curTaskIndexs = [];\n        curSpans = [];\n      }\n      curTaskIndexs.push(taskIndex);\n      curSpans.push(span);\n    });\n\n    const batchSpan = genBatchSpan(curSpans, spanCategoryMap);\n    if (batchSpan) {\n      batchSpans.push(batchSpan);\n    }\n  });\n\n  return batchSpans;\n};\n\n/**\n * Process raw Span (unify extra node fields to extra)\n * @param span Span\n * @returns CSpanSingle\n */\n// eslint-disable-next-line complexity -- too many parameters\nexport const span2CSpan = function (\n  span: Span,\n  spanCategoryMap?: SpanCategoryMap,\n): CSpanSingle {\n  const cspan: CSpanSingle = {\n    trace_id: span.trace_id,\n    id: span.id,\n    parent_id: span.parent_id,\n    name: span.name,\n    type: span.type,\n    start_time: Number(span.start_time),\n    latency: Number(span.latency),\n    status: span.status,\n    category: spanCategoryMap?.[span.type],\n  };\n  cspan.extra =\n    span.attr_user_input ??\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (span as any).attr_user_input_v2 ??\n    span.attr_invoke_agent ??\n    span.attr_restart_agent ??\n    span.attr_switch_agent ??\n    span.attr_llm_call ??\n    span.attr_workflow_llm_call ??\n    span.attr_llm_batch_call ??\n    span.attr_workflow_llm_batch_call ??\n    span.attr_workflow ??\n    span.attr_workflow_end ??\n    span.attr_code ??\n    span.attr_workflow_code ??\n    span.attr_code_batch ??\n    span.attr_workflow_code_batch ??\n    span.attr_condition ??\n    span.attr_workflow_condition ??\n    span.attr_plugin_tool ??\n    span.attr_workflow_plugin_tool ??\n    span.attr_plugin_tool_batch ??\n    span.attr_workflow_plugin_tool_batch ??\n    span.attr_knowledge ??\n    span.attr_workflow_knowledge ??\n    span.attr_card ??\n    span.attr_workflow_message ??\n    span.attr_chain ??\n    span.attr_hook ??\n    span.attr_bw_start ??\n    span.attr_bw_end ??\n    span.attr_bw_batch ??\n    span.attr_bw_loop ??\n    span.attr_bw_condition ??\n    span.attr_bw_llm ??\n    span.attr_bw_parallel ??\n    span.attr_bw_variable ??\n    span.attr_bw_call_flow ??\n    span.attr_bw_connector ??\n    span.attr_bw_script;\n  return cspan;\n};\n\nconst genSpanCategoryMap = (\n  spanCategoryMeta: SpanCategoryMeta,\n): SpanCategoryMap => {\n  const map: SpanCategoryMap = {};\n  Object.keys(spanCategoryMeta).forEach(key => {\n    const spanCategoryValue = Number(key) as SpanCategory;\n    const spanTypes = spanCategoryMeta[spanCategoryValue];\n    spanTypes?.forEach(spanTypeValue => {\n      map[spanTypeValue] = spanCategoryValue;\n    });\n  });\n  return map as SpanCategoryMap;\n};\n\nexport const spans2CSpans = function (\n  spans: Span[],\n  spanCategoryMeta?: SpanCategoryMeta,\n): CSpan[] {\n  const spanCategoryMap = spanCategoryMeta\n    ? genSpanCategoryMap(spanCategoryMeta)\n    : undefined;\n\n  // Deduplicate according to span.id\n  const uniqSpans = uniqBy(spans, 'id');\n\n  // Span -> CSpanSingle\n  const cSpans = uniqSpans.map(span => span2CSpan(span, spanCategoryMap));\n\n  const singleCSpans = cSpans.filter(({ type }) => !isBatchSpanType(type));\n  // CSpanSingle[] -> CSpanBatch[]\n  const batchCSpans = aggregationBatchSpan(\n    cSpans.filter(({ type }) => isBatchSpanType(type)) as CSpanSingleForBatch[],\n    spanCategoryMap,\n  );\n\n  return [...singleCSpans, ...batchCSpans];\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useMemo } from 'react';\n\nimport {\n  SpanType,\n  type Span,\n  type TraceAdvanceInfo,\n  SpanStatus,\n  SpanCategory,\n} from '@coze-arch/bot-api/ob_query_api';\n\nimport { spans2CSpans } from '../utils/cspan-transform';\nimport {\n  type SpanNode,\n  buildCallTrees,\n  getRootSpan,\n} from '../utils/cspan-graph';\nimport { genVirtualStart, getSpanProp } from '../utils/cspan';\nimport {\n  type SpanCategoryMeta,\n  type CSpan,\n  type CSpanAttrInvokeAgent,\n  type CSPanBatch,\n  type CTrace,\n  type CSpanAttrUserInput,\n} from '../typings/cspan';\n\n// Append traceAdvanceInfo to the root node\nconst appendTraceAdvanceInfo = (\n  spans: CSpan[],\n  traceAdvanceInfo?: Omit<TraceAdvanceInfo, 'trace_id'>,\n): CSpan[] =>\n  spans.map(span => {\n    // Modify the state of the root node. The tokens and status of the root node are subject to the server level\n    if (\n      span.type === SpanType.UserInput ||\n      span.type === SpanType.UserInputV2\n    ) {\n      const span0 = span as CSpanAttrUserInput;\n      return {\n        ...span0,\n        status: traceAdvanceInfo?.status ?? SpanStatus.Unknown,\n        input_tokens_sum: traceAdvanceInfo?.tokens.input,\n        output_tokens_sum: traceAdvanceInfo?.tokens.output,\n      };\n    } else {\n      return span;\n    }\n  });\n\ninterface TokensSum {\n  input_tokens_sum: number;\n  output_tokens_sum: number;\n}\nconst appendSpans = (spans: CSpan[], callTrees: SpanNode[]) => {\n  const tokensMap: {\n    [spanId: string]: TokensSum | undefined;\n  } = {};\n  const calculateTokensSum = (span: SpanNode): TokensSum => {\n    const { input_tokens: inputTokens, output_tokens: outputTokens } =\n      getCSpanTokens(span);\n    let inputTokensSumRst = inputTokens;\n    let outputTokensSumRst = outputTokens;\n\n    span.children?.forEach((subSpan: SpanNode) => {\n      const subTokensSum = calculateTokensSum(subSpan);\n      inputTokensSumRst += subTokensSum.input_tokens_sum;\n      outputTokensSumRst += subTokensSum.output_tokens_sum;\n      return span;\n    });\n    const tokensSum = {\n      input_tokens_sum: inputTokensSumRst,\n      output_tokens_sum: outputTokensSumRst,\n    };\n    tokensMap[span.id] = tokensSum;\n    return tokensSum;\n  };\n\n  callTrees.forEach(callTree => {\n    calculateTokensSum(callTree);\n  });\n\n  return spans.map(span => {\n    if (\n      span.type === SpanType.UserInput ||\n      span.type === SpanType.UserInputV2\n    ) {\n      // The values input_tokens_sum and output_tokens_sum of the root node are subject to server level acquisition and are not calculated\n      return span;\n    } else {\n      return {\n        ...span,\n        input_tokens_sum: tokensMap[span.id]?.input_tokens_sum,\n        output_tokens_sum: tokensMap[span.id]?.output_tokens_sum,\n      };\n    }\n  });\n};\n\n// Get the tokens information of the CSpan node\nconst getCSpanTokens = (\n  span: CSpan,\n): {\n  input_tokens: number;\n  output_tokens: number;\n} => {\n  if ('spans' in span) {\n    const spanBatch = span as CSPanBatch;\n    let inputTokensRst = 0;\n    let outputTokensRst = 0;\n    spanBatch.spans.forEach(subSpan => {\n      const inputTokens = subSpan?.extra?.input_tokens;\n      const outputTokens = subSpan?.extra?.output_tokens;\n      if (inputTokens !== undefined) {\n        inputTokensRst += inputTokens;\n      }\n      if (outputTokens !== undefined) {\n        outputTokensRst += outputTokens;\n      }\n    });\n    return {\n      input_tokens: inputTokensRst,\n      output_tokens: outputTokensRst,\n    };\n  } else {\n    // SingleSpan Node\n    return {\n      input_tokens: (getSpanProp(span, 'input_tokens') as number) ?? 0,\n      output_tokens: (getSpanProp(span, 'output_tokens') as number) ?? 0,\n    };\n  }\n};\n\n// Append invokeAgentInfo's dialog_round and model fields\nconst appendRootSpan = (info: { rootSpan: CSpan; spans: CSpan[] }): CTrace => {\n  const { rootSpan, spans } = info;\n  const rstSpan: CTrace = rootSpan;\n  let { extra } = rstSpan;\n\n  const invokeAgentSpans = spans.filter(\n    span => span.type === SpanType.InvokeAgent,\n  );\n  if (invokeAgentSpans.length > 0) {\n    const invokeAgentSpan = invokeAgentSpans[0] as CSpanAttrInvokeAgent;\n    extra = {\n      ...extra,\n      dialog_round: invokeAgentSpan.extra?.dialog_round,\n      model: invokeAgentSpan.extra?.model,\n    };\n  }\n\n  return {\n    ...rstSpan,\n    extra,\n  };\n};\n\ninterface UseSpanTransformProps {\n  orgSpans: Span[];\n  traceAdvanceInfo?: Omit<TraceAdvanceInfo, 'trace_id'>;\n  spanCategoryMeta?: SpanCategoryMeta;\n  messageId?: string;\n}\ninterface UseSpanTransformReturn {\n  rootSpan: CTrace;\n  spans: CSpan[];\n}\n\n// When the start node does not exist, generate a virtual start node\nexport const appendVirtualStart = (spans: CSpan[]): CSpan[] => {\n  const startSpans = spans.filter(rootSpan => {\n    const { category } = rootSpan;\n    return category === SpanCategory.Start;\n  });\n\n  // Generate virtual spans\n  if (startSpans.length > 0) {\n    return spans;\n  } else {\n    const virtualStartSpan = genVirtualStart(spans);\n    return spans.concat(virtualStartSpan);\n  }\n};\n\nexport const useSpanTransform = (\n  props: UseSpanTransformProps,\n): UseSpanTransformReturn => {\n  const { orgSpans, traceAdvanceInfo, spanCategoryMeta, messageId } = props;\n\n  const rst = useMemo(() => {\n    let spans = spans2CSpans(orgSpans, spanCategoryMeta);\n    // Append virtual span\n    spans = appendVirtualStart(spans);\n\n    // append traceAdvanceInfo\n    spans = appendTraceAdvanceInfo(spans, traceAdvanceInfo);\n\n    // According to spans, assembling called trees\n    let callTrees = buildCallTrees(spans);\n    // If there is more than 1 root node, it needs to be filtered by message id.\n    if (callTrees.length > 1 && messageId) {\n      callTrees = callTrees.filter(\n        root =>\n          !('extra' in root) ||\n          (root.extra && !('message_id' in root.extra)) ||\n          // In the presence of message_id, filter the nodes with matching IDs\n          root.extra?.message_id === messageId,\n      );\n    }\n    const rootSpan = getRootSpan(callTrees, false);\n\n    // Root node adjustment of rootSpan: add invokeAgent information\n    const rootSpanRst = appendRootSpan({\n      rootSpan,\n      spans,\n    });\n\n    const visit = (targetId: string, root: SpanNode): boolean => {\n      if (root.id === targetId) {\n        return true;\n      }\n      return root.children?.some(subRoot => visit(targetId, subRoot)) ?? false;\n    };\n\n    // Filter out nodes not in rootSpan\n    spans = spans.filter(span => visit(span.id, rootSpan));\n\n    // Adjust the spans node: the accumulation calculation of tokens in the workflow node in spans\n    const spansRst = appendSpans(spans, callTrees);\n    return {\n      rootSpan: rootSpanRst,\n      spans: spansRst,\n    };\n  }, [orgSpans, traceAdvanceInfo, spanCategoryMeta, messageId]);\n\n  return rst;\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport dayjs from 'dayjs';\n\nexport const formatTime = (timestamp?: number | string) =>\n  dayjs(timestamp).format('YYYY-MM-DD HH:mm:ss');\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  spanCategoryConfigMap,\n  spanTypeConfigMap,\n  botEnvConfigMap,\n} from '@coze-devops/common-modules/query-trace';\nimport { IconSuccess, IconError, IconWarningInfo } from '@coze-arch/bot-icons';\nimport { SpanStatus } from '@coze-arch/bot-api/ob_query_api';\n\nimport { type SpanStatusConfig } from '../typings';\n\nexport const SPAN_TYPE_CONFIG_MAP = spanTypeConfigMap;\n\nexport const SPAN_STATUS_CONFIG_MAP: Record<SpanStatus, SpanStatusConfig> = {\n  [SpanStatus.Success]: {\n    icon: <IconSuccess />,\n    className: 'query-execute-status_success',\n    label: 'query_status_success',\n  },\n  [SpanStatus.Broken]: {\n    icon: <IconWarningInfo />,\n    className: 'query-execute-status_broken',\n    label: 'query_status_broken',\n  },\n  [SpanStatus.Error]: {\n    icon: <IconError />,\n    className: 'query-execute-status_error',\n    label: 'query_status_error',\n  },\n  [SpanStatus.Unknown]: {\n    icon: <IconSuccess />,\n    className: 'query-execute-status_unknown',\n    label: 'query_status_unknown',\n  },\n};\nexport const SPAN_CATEGORY_CONFIG_MAP = spanCategoryConfigMap;\n\nexport const BOT_ENV_CONFIG_MAP = botEnvConfigMap;\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { type ReactNode } from 'react';\n\nimport {\n  type CSpanSingle,\n  type CSPanBatch,\n  type CSpan,\n  getTokens,\n  getSpanProp,\n  type FieldItem,\n  fieldItemHandlers,\n} from '@coze-devops/common-modules/query-trace';\nimport { checkIsBatchBasicCSpan } from '@coze-devops/common-modules/query-trace';\nimport { I18n, type I18nKeysNoOptionsType } from '@coze-arch/i18n';\nimport { Tooltip } from '@coze-arch/bot-semi';\n\nimport { SPAN_STATUS_CONFIG_MAP } from '../consts/span';\nimport { EMPTY_TEXT } from '../consts';\nimport { formatTime } from '.';\n\nconst getLatencyFirst = (_span: CSpan) => {\n  if (_span === undefined) {\n    return undefined;\n  }\n\n  if (checkIsBatchBasicCSpan(_span)) {\n    const span = _span as CSPanBatch;\n    let startTimeFirstResp = Number.POSITIVE_INFINITY;\n    span.spans.forEach(subSpan => {\n      if (\n        subSpan.extra !== undefined &&\n        'start_time_first_resp' in subSpan.extra &&\n        subSpan.extra?.start_time_first_resp !== '0'\n      ) {\n        startTimeFirstResp = Math.min(\n          startTimeFirstResp,\n          Number(subSpan.extra?.start_time_first_resp),\n        );\n      }\n    });\n\n    if (startTimeFirstResp === Number.POSITIVE_INFINITY) {\n      return undefined;\n    }\n    return startTimeFirstResp - span.start_time;\n  } else {\n    const span = _span as CSpanSingle;\n    if (\n      span.extra !== undefined &&\n      'start_time_first_resp' in span.extra &&\n      span.extra?.start_time_first_resp !== '0'\n    ) {\n      return Number(span?.extra?.start_time_first_resp) - span.start_time;\n    } else {\n      return undefined;\n    }\n  }\n};\n\nconst getFieldStatus = (span: CSpan): FieldItem => {\n  const { status } = span;\n  const { label } = SPAN_STATUS_CONFIG_MAP[status] ?? {};\n  return {\n    key: I18n.t('analytic_query_status'),\n    value: label ? I18n.t(label as I18nKeysNoOptionsType) : undefined,\n  };\n};\n\nconst getFieldLatencyFirst = (span: CSpan): FieldItem => {\n  const latencyFirst = getLatencyFirst(span);\n  return {\n    key: I18n.t('analytic_query_latencyfirst'),\n    value: latencyFirst !== undefined ? `${latencyFirst}ms` : EMPTY_TEXT,\n  };\n};\n\nconst getFieldFirstResponseTime = (span: CSpan): FieldItem => {\n  const startTimeFirstResp = getSpanProp(span, 'start_time_first_resp');\n  return {\n    key: I18n.t('analytic_query_firstrestime'),\n    value:\n      !startTimeFirstResp || startTimeFirstResp === '0'\n        ? '-'\n        : formatTime(Number(startTimeFirstResp)),\n  };\n};\n\nconst getFieldTokens = (span: CSpan): FieldItem => {\n  const genValueRender = (\n    inputTokens?: number,\n    outputTokens?: number,\n  ): ReactNode => {\n    if (inputTokens !== undefined && outputTokens !== undefined) {\n      return (\n        <Tooltip\n          content={\n            <article>\n              <div className=\"whitespace-nowrap\">\n                Input Tokens: {inputTokens}\n              </div>\n              <div className=\"whitespace-nowrap\">\n                Output Tokens: {outputTokens}\n              </div>\n            </article>\n          }\n          position=\"bottom\"\n        >\n          <div style={{ fontSize: 12 }}>{inputTokens + outputTokens}</div>\n        </Tooltip>\n      );\n    } else {\n      return EMPTY_TEXT;\n    }\n  };\n  const { input_tokens: inputTokens, output_tokens: outputTokens } =\n    getTokens(span);\n  return {\n    key: I18n.t('analytic_query_tokens'),\n    value: genValueRender(inputTokens, outputTokens),\n  };\n};\n\nconst getFieldLogId = (span: CSpan): FieldItem => ({\n  key: I18n.t('analytic_query_logid'),\n  value: getSpanProp(span, 'log_id') as string,\n});\n\nexport const fieldHandlers = {\n  ...fieldItemHandlers,\n  status: getFieldStatus,\n  latency_first: getFieldLatencyFirst,\n  first_response_time: getFieldFirstResponseTime,\n  tokens: getFieldTokens,\n  log_id: getFieldLogId,\n};\n\nexport type FieldType = keyof typeof fieldHandlers;\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { type ReactNode } from 'react';\n\nimport { I18n } from '@coze-arch/i18n';\n\nimport {\n  type CSpanAttrInvokeAgent,\n  type CSpan,\n  type StreamingOutputStatus,\n} from '../typings/cspan';\nimport {\n  botEnvConfigMap,\n  spanCategoryConfigMap,\n  spanTypeConfigMap,\n  streamingOutputStatusConfigMap,\n} from '../config/cspan';\nimport { formatTime } from './format-time';\nimport { getSpanProp } from './cspan';\n\nexport interface FieldItem {\n  key?: string | ReactNode;\n  value?: string | number | boolean | ReactNode;\n}\n\nconst getFieldCategory = (span: CSpan): FieldItem => {\n  const { category } = span;\n  const categoryConfig =\n    category !== undefined ? spanCategoryConfigMap[category] : undefined;\n  return {\n    key: I18n.t('analytic_query_type'),\n    value: categoryConfig?.label,\n  };\n};\n\nconst getFieldType = (span: CSpan): FieldItem => {\n  const { type } = span;\n  const typeConfig = spanTypeConfigMap[type];\n  return {\n    key: I18n.t('analytic_query_subtype'),\n    value: typeConfig?.label,\n  };\n};\n\nconst getFieldOS = (span: CSpan): FieldItem => {\n  const os = getSpanProp(span, 'os');\n  const osVersion = getSpanProp(span, 'os_version');\n\n  return {\n    key: I18n.t('analytic_query_os'),\n    value: os ? `${os}${osVersion ? ` ${osVersion}` : ''}` : undefined,\n  };\n};\n\nconst getFieldLatency = (span: CSpan): FieldItem => {\n  const { latency } = span;\n  return {\n    key: I18n.t('analytic_query_latency'),\n    value: latency !== undefined ? `${latency}ms` : undefined,\n  };\n};\n\nconst getFieldName = (span: CSpan): FieldItem => {\n  const { name } = span;\n  return {\n    key: I18n.t('analytic_query_name'),\n    value: name,\n  };\n};\n\nconst getFieldOffline = (span: CSpan): FieldItem => {\n  const botEnv = getSpanProp(span, 'bot_env') as string;\n  const botEnvConfig =\n    botEnv !== undefined ? botEnvConfigMap[botEnv] : undefined;\n  return {\n    key: I18n.t('analytic_query_env'),\n    value: botEnvConfig?.label,\n  };\n};\n\nconst getFieldStartTime = (span: CSpan): FieldItem => {\n  const { start_time } = span;\n  return {\n    key: I18n.t('analytic_query_starttime'),\n    value: formatTime(start_time),\n  };\n};\n\nconst getFieldEndTime = (span: CSpan): FieldItem => {\n  const startAt = span?.start_time;\n  const latency = span?.latency;\n  return {\n    key: I18n.t('analytic_query_endtime'),\n    value:\n      startAt !== undefined && latency !== undefined\n        ? formatTime(Number(startAt) + Number(latency))\n        : undefined,\n  };\n};\n\nconst getFieldCallType = (span: CSpan): FieldItem => ({\n  key: I18n.t('analytic_query_calltype'),\n  value: getSpanProp(span, 'call_type') as string,\n});\n\nconst getFieldAgentType = (_span: CSpan): FieldItem => {\n  const span = _span as CSpanAttrInvokeAgent;\n  return {\n    key: I18n.t('analytic_query_agenttype'),\n    value: span.extra?.agent_type,\n  };\n};\n\nconst getFieldModel = (span: CSpan): FieldItem => ({\n  key: I18n.t('analytic_query_model'),\n  value: getSpanProp(span, 'model') as string,\n});\n\nconst getFieldTemperature = (span: CSpan): FieldItem => ({\n  key: I18n.t('analytic_query_temperature'),\n  value: getSpanProp(span, 'temperature') as string,\n});\n\nconst getFieldDialogRound = (_span: CSpan): FieldItem => {\n  const span = _span as CSpanAttrInvokeAgent;\n  return {\n    key: I18n.t('analytic_query_diagloground'),\n    value: span.extra?.dialog_round,\n  };\n};\n\nconst getFieldMaxLengthResp = (span: CSpan): FieldItem => ({\n  key: I18n.t('analytic_query_resmaxlen'),\n  value: getSpanProp(span, 'max_length_resp') as string,\n});\n\nconst getFieldChannel = (span: CSpan): FieldItem => ({\n  key: I18n.t('analytic_query_channel'),\n  value: getSpanProp(span, 'channel') as string,\n});\n\nconst getFieldInputType = (span: CSpan): FieldItem => ({\n  key: I18n.t('analytic_query_inputtype'),\n  value: getSpanProp(span, 'query_input_method') as string,\n});\n\nconst getFieldInput = (span: CSpan): FieldItem => ({\n  key: I18n.t('analytic_query_input'),\n  value: getSpanProp(span, 'input') as string,\n});\n\nconst getStreamOutput = (span: CSpan): FieldItem => {\n  const value = getSpanProp(span, 'streaming_output') as StreamingOutputStatus;\n  // Key to starling key\n  return {\n    key: I18n.t('query_stream_output'),\n    value: streamingOutputStatusConfigMap[value]?.label,\n  };\n};\n\nconst getCardId = (span: CSpan): FieldItem => {\n  const value = getSpanProp(span, 'card_id') as string;\n  return { key: I18n.t('query_card_id'), value };\n};\n\nconst getBranchName = (span: CSpan): FieldItem => {\n  const value = getSpanProp(span, 'branch_name') as string;\n  return { key: 'branch_name', value };\n};\n\nconst getNodeType = (span: CSpan): FieldItem => {\n  const value = getSpanProp(span, 'node_type') as string;\n  return { key: 'node_type', value };\n};\n\nconst getHookType = (span: CSpan): FieldItem => {\n  const value = getSpanProp(span, 'hook_type') as string;\n  return {\n    key: I18n.t('codedev_hook_hook_type'),\n    value,\n  };\n};\n\nconst getHookUri = (span: CSpan): FieldItem => {\n  const value = getSpanProp(span, 'hook_uri') as string;\n  return {\n    key: 'Hook Uri',\n    value,\n  };\n};\n\nconst getAgentId = (span: CSpan): FieldItem => {\n  const value = getSpanProp(span, 'agent_id') as string;\n  return {\n    key: 'AgentId',\n    value,\n  };\n};\n\nconst getHookRespCode = (span: CSpan): FieldItem => {\n  const value = getSpanProp(span, 'hook_resp_code')?.toString() as string;\n  return {\n    key: I18n.t('analytic_query_hook_resp_code'),\n    value,\n  };\n};\n\nconst getIsStream = (span: CSpan): FieldItem => {\n  const value = getSpanProp(span, 'is_stream')?.toString() as string;\n  return {\n    key: I18n.t('query_stream_output'),\n    value,\n  };\n};\n\nexport const fieldItemHandlers = {\n  category: getFieldCategory,\n  type: getFieldType,\n  os: getFieldOS,\n  latency: getFieldLatency,\n  offline: getFieldOffline,\n  name: getFieldName,\n  start_time: getFieldStartTime,\n  end_time: getFieldEndTime,\n  call_type: getFieldCallType,\n  agent_type: getFieldAgentType,\n  model: getFieldModel,\n  temperature: getFieldTemperature,\n  dialog_round: getFieldDialogRound,\n  max_length_resp: getFieldMaxLengthResp,\n  channel: getFieldChannel,\n  input_type: getFieldInputType,\n  input: getFieldInput,\n  card_id: getCardId,\n  stream_output: getStreamOutput,\n  branch_name: getBranchName,\n  node_type: getNodeType,\n  hook_type: getHookType,\n  hook_uri: getHookUri,\n  agent_id: getAgentId,\n  hook_resp_code: getHookRespCode,\n  is_stream: getIsStream,\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useMemo } from 'react';\n\nimport { type CSpan } from '@coze-devops/common-modules/query-trace';\n\nimport { fieldHandlers } from '../utils/field-item';\nimport { type FieldCol, type FieldColConfig } from '../typings';\n\nconst colsConfigForTrace: FieldColConfig[] = [\n  {\n    fields: [\n      {\n        name: 'log_id',\n        options: {\n          copyable: true,\n          fullLine: true,\n        },\n      },\n      {\n        name: 'start_time',\n      },\n      {\n        name: 'latency_first',\n      },\n    ],\n  },\n];\n\nexport const useTraceCols = (input: {\n  span?: CSpan;\n}): {\n  traceCols: FieldCol[];\n} => {\n  const { span } = input;\n  const traceCols: FieldCol[] = useMemo(() => {\n    if (!span) {\n      return [];\n    }\n\n    return colsConfigForTrace.map(colConfig => {\n      const { fields } = colConfig;\n      return {\n        fields: fields?.map(fieldConfig => {\n          const { name, options } = fieldConfig;\n          return {\n            ...fieldHandlers[name](span),\n            options,\n          };\n        }),\n      };\n    });\n  }, [span]);\n\n  return {\n    traceCols,\n  };\n};\n","\n      import API from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n       export default content && content.locals ? content.locals : undefined;\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport copy from 'copy-to-clipboard';\nimport classNames from 'classnames';\nimport { logger } from '@coze-arch/logger';\nimport { I18n, type I18nKeysNoOptionsType } from '@coze-arch/i18n';\nimport { Button } from '@coze-arch/coze-design';\nimport { EVENT_NAMES, sendTeaEvent } from '@coze-arch/bot-tea';\nimport { UIToast } from '@coze-arch/bot-semi';\nimport { SpanStatus } from '@coze-arch/bot-api/debugger_api';\n\nimport { NodeDescriptionWithFullLine } from '../common';\nimport { fieldHandlers } from '../../../utils/field-item';\nimport { type TargetOverallSpanInfo } from '../../../typings';\nimport { useDebugPanelStore } from '../../../store';\nimport { useTraceCols } from '../../../hooks/use-trace-cols';\nimport { SPAN_STATUS_CONFIG_MAP } from '../../../consts/span';\n\nimport s from './index.module.less';\n\ninterface PanelSummaryProps {\n  targetOverallSpanInfo: TargetOverallSpanInfo;\n}\n\nexport const PanelSummary = (props: PanelSummaryProps) => {\n  const { targetOverallSpanInfo } = props;\n  const {\n    basicInfo: { botId, userID, spaceID },\n  } = useDebugPanelStore();\n\n  const {\n    span,\n    output,\n    span: { status, latency, input_tokens_sum = 0, output_tokens_sum = 0 },\n  } = targetOverallSpanInfo;\n\n  const { icon, label, className } = SPAN_STATUS_CONFIG_MAP[status];\n\n  const { traceCols } = useTraceCols({ span });\n\n  const handleFeedback = () => {\n    try {\n      const feedbackMsg = [\n        `Logid: ${fieldHandlers.log_id(span).value}`,\n        `UID: ${userID}`,\n        `Botid: ${botId}`,\n        `StartTime: ${fieldHandlers.start_time(span).value}`,\n        `EndTime: ${fieldHandlers.end_time(span).value}`,\n        status === SpanStatus.Error && `ErrorMsg:${output}`,\n        `\\n${I18n.t('debug_copy_suggestion')}`,\n      ]\n        .filter(Boolean)\n        .join('\\n');\n\n      copy(feedbackMsg);\n      UIToast.success({\n        content: I18n.t('debug_copy_success'),\n      });\n\n      sendTeaEvent(EVENT_NAMES.click_debug_panel_feedback_button, {\n        bot_id: botId ?? '',\n        space_id: spaceID ?? '',\n        host: window.location.host,\n      });\n    } catch (error) {\n      logger.error({\n        eventName: 'fail_to_copy_debug_info',\n        error: error as Error,\n      });\n      UIToast.error(I18n.t('copy_failed'));\n    }\n  };\n  return (\n    <>\n      <div className={s['summary-title-container']}>\n        <div className={s['summary-title-container-data']}>\n          {I18n.t('query_latency', {\n            duration: latency,\n          })}\n          ms｜\n          {I18n.t('query_tokens_number', {\n            number: input_tokens_sum + output_tokens_sum,\n          })}\n        </div>\n        <div\n          className={classNames(s['summary-title-container-tag'], s[className])}\n        >\n          {icon}\n          {I18n.t(label as I18nKeysNoOptionsType)}\n        </div>\n        <Button\n          onClick={handleFeedback}\n          className=\"ml-2\"\n          color=\"highlight\"\n          size=\"small\"\n        >\n          {I18n.t('debug_copy_report')}\n        </Button>\n      </div>\n      <NodeDescriptionWithFullLine cols={traceCols} />\n    </>\n  );\n};\n","\n      import API from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n       export default content && content.locals ? content.locals : undefined;\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useState, type PropsWithChildren, useRef } from 'react';\n\nimport { debounce } from 'lodash-es';\nimport classnames from 'classnames';\nimport {\n  type CSpanSingle,\n  type CSpan,\n} from '@coze-devops/common-modules/query-trace';\nimport { I18n, type I18nKeysNoOptionsType } from '@coze-arch/i18n';\nimport {\n  Button,\n  Dropdown,\n  InputGroup,\n  Select,\n  Tag,\n  Tooltip,\n  UIButton,\n} from '@coze-arch/bot-semi';\nimport { IconCalendar, IconFilter, IconSearch } from '@coze-arch/bot-icons';\nimport { type SpanStatus } from '@coze-arch/bot-api/debugger_api';\n\nimport { getPastWeekDates, getTimeInCurrentTimeZone } from '../../../utils';\nimport {\n  type TargetOverallSpanInfo,\n  type QueryFilterItem,\n  type QueryFilterItemId,\n} from '../../../typings';\nimport { EXECUTE_STATUS_FILTERING_OPTIONS } from '../../../consts/static';\nimport { SPAN_STATUS_CONFIG_MAP } from '../../../consts/span';\nimport {\n  FILTERING_OPTION_ALL,\n  QUERY_FILTER_DEBOUNCE_TIME,\n} from '../../../consts';\n\nimport s from './index.module.less';\nexport interface QueryFilterProps {\n  targetDateId?: QueryFilterItemId;\n  targetExecuteStatusId?: QueryFilterItemId;\n  targetOverallSpanInfo?: TargetOverallSpanInfo;\n  enhancedOverallSpans: CSpan[];\n  showLoadMore: boolean;\n  onSelectDate: (dateId: QueryFilterItemId) => void;\n  onSelectExecuteStatus: (executeStatusId: QueryFilterItemId) => void;\n  onFetchQuery: (inputSearch?: string, loadMore?: boolean) => Promise<CSpan[]>;\n  onSelectQuery: (overallSpanInfo: TargetOverallSpanInfo) => void;\n}\n\nexport interface FilterDropdownProps {\n  dropdownMenuItem: QueryFilterItem[];\n  activeId?: QueryFilterItemId;\n  onSelectActiveId?: (id: QueryFilterItemId) => void;\n}\n\nconst FilterDropdown = (props: PropsWithChildren<FilterDropdownProps>) => {\n  const { children, activeId, dropdownMenuItem, onSelectActiveId } = props;\n  return (\n    <Dropdown\n      clickToHide\n      position=\"bottomLeft\"\n      showTick\n      contentClassName={s['dropdown-content']}\n      render={\n        <Dropdown.Menu>\n          {dropdownMenuItem.map(item => {\n            const { id, name } = item;\n            return (\n              <Dropdown.Item\n                key={id}\n                onClick={() => onSelectActiveId?.(id)}\n                active={activeId === id}\n              >\n                {name}\n              </Dropdown.Item>\n            );\n          })}\n        </Dropdown.Menu>\n      }\n    >\n      {children}\n    </Dropdown>\n  );\n};\n\n// eslint-disable-next-line @coze-arch/max-line-per-function\nexport const QueryFilter = (props: QueryFilterProps) => {\n  const {\n    targetDateId,\n    targetExecuteStatusId,\n    targetOverallSpanInfo,\n    enhancedOverallSpans,\n    showLoadMore,\n    onSelectDate,\n    onSelectExecuteStatus,\n    onFetchQuery,\n    onSelectQuery,\n  } = props;\n\n  const [loading, setLoading] = useState(false);\n  const [loadMoreLoading, setLoadMoreLoading] = useState(false);\n\n  const currentInputSearchRef = useRef<string | undefined>(undefined);\n\n  const checkSelectAll = (targetId?: QueryFilterItemId) =>\n    targetId === FILTERING_OPTION_ALL;\n\n  const onFetchQueryWithLoading: (\n    inputSearch?: string,\n    loadMore?: boolean,\n  ) => Promise<void> = async (inputSearch, loadMore) => {\n    const setLoadingFn = loadMore ? setLoadMoreLoading : setLoading;\n    try {\n      setLoadingFn(true);\n      await onFetchQuery(inputSearch, loadMore);\n    } finally {\n      setLoadingFn(false);\n    }\n  };\n\n  const renderSelectedItem: (\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    node: Record<string, any>,\n  ) => React.ReactNode = node => {\n    const { value, input, span } = node;\n    return value ? (\n      <Tooltip content={input} className={s['custom-tooltip']}>\n        <Tag\n          className={classnames(\n            s['query-filter-select-tag'],\n            s[SPAN_STATUS_CONFIG_MAP[span.status as SpanStatus].className],\n          )}\n        >\n          {input}\n        </Tag>\n      </Tooltip>\n    ) : null;\n  };\n\n  const renderInnerBottomSlot = () => (\n    <Button\n      theme=\"borderless\"\n      type=\"primary\"\n      loading={loadMoreLoading}\n      className=\"w-full\"\n      onClick={() =>\n        onFetchQueryWithLoading(currentInputSearchRef.current, true)\n      }\n    >\n      {I18n.t('query_list_loadmore')}\n    </Button>\n  );\n\n  return (\n    <InputGroup className={s['query-filter']}>\n      <div className={s['query-filter-options']}>\n        <FilterDropdown\n          activeId={targetDateId}\n          onSelectActiveId={onSelectDate}\n          dropdownMenuItem={[FILTERING_OPTION_ALL, ...getPastWeekDates()].map(\n            item => {\n              const queryFilterItem: QueryFilterItem = {\n                id: item,\n                name:\n                  item === FILTERING_OPTION_ALL\n                    ? I18n.t('query_status_all')\n                    : item,\n              };\n              return queryFilterItem;\n            },\n          )}\n        >\n          <UIButton\n            theme=\"borderless\"\n            icon={<IconCalendar />}\n            size=\"small\"\n            className={classnames(\n              !checkSelectAll(targetDateId) &&\n                s['query-filter-options-button_active'],\n            )}\n          />\n        </FilterDropdown>\n        <FilterDropdown\n          activeId={targetExecuteStatusId}\n          onSelectActiveId={onSelectExecuteStatus}\n          dropdownMenuItem={EXECUTE_STATUS_FILTERING_OPTIONS.map(item => ({\n            id: item.id,\n            name: I18n.t(item.name as I18nKeysNoOptionsType),\n          }))}\n        >\n          <UIButton\n            theme=\"borderless\"\n            icon={<IconFilter />}\n            size=\"small\"\n            className={classnames(\n              !checkSelectAll(targetExecuteStatusId) &&\n                s['query-filter-options-button_active'],\n            )}\n          />\n        </FilterDropdown>\n      </div>\n\n      <Select\n        value={targetOverallSpanInfo}\n        prefix={<IconSearch className={s['query-filter-select-search-icon']} />}\n        filter\n        remote\n        loading={loading}\n        className={s['query-filter-select']}\n        dropdownClassName={s['query-filter-select-dropdown']}\n        onChangeWithObject\n        onSearch={debounce((value: string) => {\n          const input = value === '' ? undefined : value;\n          currentInputSearchRef.current = input;\n          onFetchQueryWithLoading(input);\n        }, QUERY_FILTER_DEBOUNCE_TIME)}\n        onDropdownVisibleChange={visible => {\n          if (visible) {\n            onFetchQueryWithLoading();\n          }\n        }}\n        onChange={value => {\n          onSelectQuery(value as TargetOverallSpanInfo);\n        }}\n        renderSelectedItem={renderSelectedItem}\n        innerBottomSlot={showLoadMore ? renderInnerBottomSlot() : null}\n      >\n        {enhancedOverallSpans.map(item => {\n          const { status, extra } = item as CSpanSingle;\n          const { dateString } = getTimeInCurrentTimeZone(item.start_time);\n          return (\n            <Select.Option\n              value={extra?.log_id}\n              key={extra?.log_id}\n              input={extra?.input}\n              span={item}\n            >\n              <div className={s['query-filter-select-dropdown-option']}>\n                <div className={s['query-filter-select-dropdown-option-icon']}>\n                  {SPAN_STATUS_CONFIG_MAP[status].icon}\n                </div>\n                <Tooltip\n                  content={extra?.input}\n                  className={s['custom-tooltip']}\n                  position=\"left\"\n                >\n                  <div\n                    className={s['query-filter-select-dropdown-option-text']}\n                  >\n                    {extra?.input}\n                  </div>\n                </Tooltip>\n                <div className=\"ml-2 font-normal\">\n                  {/* <span\n                    className={s['query-filter-select-dropdown-option-time']}\n                  >\n                    {timeOffsetString}\n                  </span>{' '} */}\n                  {dateString}\n                </div>\n              </div>\n            </Select.Option>\n          );\n        })}\n      </Select>\n    </InputGroup>\n  );\n};\n","\n      import API from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n       export default content && content.locals ? content.locals : undefined;\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { I18n } from '@coze-arch/i18n';\nimport { UIButton } from '@coze-arch/bot-semi';\nimport { IconClose } from '@douyinfe/semi-icons';\n\nimport s from './index.module.less';\n\nexport interface PanelHeaderProps {\n  onClose: () => void;\n}\n\nexport const PanelHeader = (props: PanelHeaderProps) => {\n  const { onClose } = props;\n  return (\n    <div className={s['panel-header']}>\n      <div className={s['panel-header-title']}>\n        {I18n.t('debug_detail_tab')}\n      </div>\n      <div className={s['panel-header-option']}>\n        <UIButton\n          className={s['panel-header-option-icon']}\n          theme=\"borderless\"\n          icon={<IconClose />}\n          size=\"small\"\n          onClick={onClose}\n        />\n      </div>\n    </div>\n  );\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { span2CSpan } from '@coze-devops/common-modules/query-trace';\nimport {\n  checkIsBatchBasicCSpan,\n  type CSPanBatch,\n  type CSpan,\n  type CSpanSingle,\n} from '@coze-devops/common-modules/query-trace';\nimport {\n  type Span,\n  type TraceAdvanceInfo,\n} from '@coze-arch/bot-api/ob_query_api';\n\nexport const getSpanProp = (span: CSpan, key: string) => {\n  if (checkIsBatchBasicCSpan(span)) {\n    const batchSpan = span as CSPanBatch;\n    return (\n      batchSpan[key as keyof CSPanBatch] ??\n      batchSpan.spans[0]?.extra?.[key as keyof CSPanBatch['spans'][0]['extra']]\n    );\n  } else {\n    const singleSpan = span as CSpanSingle;\n    return (\n      singleSpan[key as keyof CSpanSingle] ??\n      singleSpan.extra?.[key as keyof CSpanSingle['extra']]\n    );\n  }\n};\n\n/**\n * Enhance the original Span information (inject token, status, etc. collected at the server level)\n * @param originSpans Span[]\n * @param traceAdvanceInfo TraceAdvanceInfo[]\n * @returns CSpan[]\n */\nexport const enhanceOriginalSpan = (\n  originSpans: Span[],\n  traceAdvanceInfo: TraceAdvanceInfo[],\n): CSpan[] => {\n  const traceAdvanceInfoMap: Record<string, TraceAdvanceInfo> =\n    traceAdvanceInfo.reduce<Record<string, TraceAdvanceInfo>>((pre, cur) => {\n      pre[cur.trace_id] = cur;\n      return pre;\n    }, {});\n  const traceCSpans = originSpans.map(item => span2CSpan(item));\n  const enhancedOverallSpans: CSpan[] = traceCSpans.map(item => {\n    const {\n      tokens: { input, output },\n      status,\n    } = traceAdvanceInfoMap[item.trace_id];\n    return {\n      ...item,\n      status,\n      input_tokens_sum: input,\n      output_tokens_sum: output,\n    };\n  });\n  return enhancedOverallSpans;\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useRef } from 'react';\n\nimport { produce } from 'immer';\n\nimport { isJsonString } from '../utils';\nimport { type DebugPanelLayoutConfig } from '../typings';\nimport { DEBUG_PANEL_LAYOUT_DEFAULT_INFO } from '../consts/static';\nimport { DEBUG_PANEL_LAYOUT_KEY } from '../consts';\n\nexport type SetLayoutConfigAction = (value: DebugPanelLayoutConfig) => void;\n\nexport type UseDebugPanelLayoutConfig = () => [\n  DebugPanelLayoutConfig,\n  (input: DebugPanelLayoutConfig | SetLayoutConfigAction) => void,\n];\n\n/**\n * Get and modify debug bench layout data stored in localStorage\n * @returns UseDebugPanelLayoutConfig\n */\nexport const useDebugPanelLayoutConfig: UseDebugPanelLayoutConfig = () => {\n  const initLayoutConfig = () => {\n    const layoutConfigString = localStorage.getItem(DEBUG_PANEL_LAYOUT_KEY);\n    if (layoutConfigString && isJsonString(layoutConfigString)) {\n      return JSON.parse(layoutConfigString) as DebugPanelLayoutConfig;\n    } else {\n      return DEBUG_PANEL_LAYOUT_DEFAULT_INFO;\n    }\n  };\n\n  const layoutConfigRef = useRef<DebugPanelLayoutConfig>(initLayoutConfig());\n\n  const setLayoutConfig = (\n    input: DebugPanelLayoutConfig | SetLayoutConfigAction,\n  ) => {\n    const layoutConfig =\n      typeof input === 'function'\n        ? produce(layoutConfigRef.current, draft => {\n            input(draft);\n          })\n        : input;\n    layoutConfigRef.current = layoutConfig;\n    window.localStorage.setItem(\n      DEBUG_PANEL_LAYOUT_KEY,\n      JSON.stringify(layoutConfig),\n    );\n  };\n\n  return [layoutConfigRef.current, setLayoutConfig];\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nconst httpUrlRegex =\n  /^https?:\\/\\/(?:www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b(?:[-a-zA-Z0-9()@:%_\\+.~#?&\\/=]*)$/;\n\nexport function isValidHttpUrl(url: string): boolean {\n  return httpUrlRegex.test(url);\n}\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport interface JsonValue {\n  content_type: string;\n  content: {\n    text: string | null;\n    image_url: null | {\n      url: string;\n      name: string;\n    };\n    file_url: null | {\n      url: string;\n      file_name: string;\n      suffix_type: string;\n    };\n  };\n}\n\nconst supportedType = new Set(['image', 'file']);\n\nexport interface Result {\n  link: string;\n  contentType: string;\n  extraInfo?: Record<string, string>;\n}\n\nexport const parse = (inputValue: JsonValue[]) => {\n  const result: Record<string, Result> = {};\n\n  inputValue.forEach(item => {\n    if (!supportedType.has(item.content_type)) {\n      return;\n    }\n\n    if (item.content_type === 'image') {\n      const link = item.content.image_url?.url ?? '';\n      result[link] = {\n        link,\n        contentType: 'image',\n      };\n    }\n\n    if (item.content_type === 'file') {\n      const suffixType = item.content.file_url?.suffix_type ?? '';\n      const link = item.content.file_url?.url ?? '';\n      result[link] = {\n        link,\n        contentType: suffixType,\n        extraInfo: {\n          fileName: item.content.file_url?.file_name ?? '',\n        },\n      };\n    }\n  });\n\n  return result;\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nconst DEFAULT_PRIORITY = 0;\n\nexport abstract class JsonPreviewBasePlugin {\n  abstract match: (contentType: string) => boolean;\n  abstract name: string;\n  priority = DEFAULT_PRIORITY;\n  abstract render: (\n    link: string,\n    extraInfo?: Record<string, string>,\n  ) => React.ReactNode;\n}\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport ReactDOM from 'react-dom';\nimport React from 'react';\n\nimport { IconCozCrossFill } from '@coze-arch/coze-design/icons';\n\nlet overlayContainer: HTMLDivElement | null = null;\n\ninterface OverlayProps {\n  onClose?: VoidFunction;\n  children?: React.ReactNode;\n  withMask?: boolean;\n}\n\nconst Overlay = ({ onClose, children, withMask }: OverlayProps) => (\n  <div\n    className=\"p-5\"\n    style={\n      withMask\n        ? {\n            position: 'fixed',\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            backgroundColor: 'rgba(0, 0, 0, 0.70)',\n            zIndex: 1000,\n          }\n        : {}\n    }\n  >\n    <div\n      className=\"absolute top-5 right-5 rounded-[50%] w-[40px] h-[40px] p-[11px] flex items-center justify-center bg-[rgba(255,255,255,0.12)] backdrop-blur-md cursor-pointer\"\n      style={{\n        zIndex: 10010,\n      }}\n      onClick={onClose}\n    >\n      <IconCozCrossFill className=\"w-[18px] h-[18px] text-white\" />\n    </div>\n    {children}\n  </div>\n);\n\nconst createOverlayContainer = () => {\n  overlayContainer = document.createElement('div');\n  document.body.appendChild(overlayContainer);\n};\n\nconst show = (params: {\n  content: (onClose: VoidFunction) => React.ReactNode;\n  withMask?: boolean;\n}) => {\n  const { content, withMask = true } = params;\n  if (!overlayContainer) {\n    createOverlayContainer();\n  }\n\n  const close = () => {\n    overlayContainer && ReactDOM.unmountComponentAtNode(overlayContainer);\n  };\n\n  ReactDOM.render(\n    <Overlay onClose={close} children={content?.(close)} withMask={withMask} />,\n    overlayContainer,\n  );\n\n  return close;\n};\n\nconst OverlayAPI = {\n  show,\n};\n\nexport default OverlayAPI;\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport const fetchResource = async (url: string) => {\n  const response = await fetch(url);\n  const blob = await response.blob();\n  return blob;\n};\n\nexport const downloadFile = (blob: Blob, filename?: string) => {\n  const downloadUrl = URL.createObjectURL(blob);\n  const link = document.createElement('a');\n  link.style.display = 'none';\n  link.href = downloadUrl;\n  link.setAttribute('download', filename || 'document');\n  document.body.appendChild(link);\n  link.click();\n  link.remove();\n};\n","\n      import API from \"!../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n       export default content && content.locals ? content.locals : undefined;\n","import * as React from \"react\";\nconst SvgCozImageBroken = props => <svg xmlns=\"http://www.w3.org/2000/svg\" width={64} height={64} fill=\"none\" viewBox=\"0 0 64 64\" {...props}><g fill=\"#060709\" fillOpacity={0.3}><path d=\"M42.777 5.333H7.999c-2.933 0-5.333 2.4-5.333 5.333v42.667c0 2.933 2.4 5.333 5.333 5.333h3.985l3.08-5.333H7.999V10.666h31.698z\" /><path d=\"m25.167 35.834-.602-.602a.8.8 0 0 0-1.132 0L12.032 46.634A.8.8 0 0 0 12.596 48h5.546zM27.38 48 32 39.999l17.3-17.3a.8.8 0 0 1 1.366.565V47.2a.8.8 0 0 1-.8.8H27.38\" /><path d=\"M24.301 53.333H56V10.666h-7.064l3.08-5.333h3.984c2.934 0 5.334 2.4 5.334 5.333v42.667c0 2.933-2.4 5.333-5.334 5.333H21.222zM24 21.333a5.333 5.333 0 1 1-10.667 0 5.333 5.333 0 0 1 10.666 0\" /></g></svg>;\nexport { SvgCozImageBroken as ReactComponent };\nexport default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBpZD0iY296X2ltYWdlX2Jyb2tlbiI+CiAgICA8ZyBpZD0iVW5pb24iPgogICAgICA8cGF0aAogICAgICAgIGQ9Ik00Mi43NzY1IDUuMzMzMDFINy45OTkzNUM1LjA2NjAyIDUuMzMzMDEgMi42NjYwMiA3LjczMzAxIDIuNjY2MDIgMTAuNjY2M1Y1My4zMzNDMi42NjYwMiA1Ni4yNjYzIDUuMDY2MDIgNTguNjY2MyA3Ljk5OTM1IDU4LjY2NjNIMTEuOTg0NEwxNS4wNjM2IDUzLjMzM0g3Ljk5OTM1VjEwLjY2NjNIMzkuNjk3M0w0Mi43NzY1IDUuMzMzMDFaIgogICAgICAgIGZpbGw9IiMwNjA3MDkiIGZpbGwtb3BhY2l0eT0iMC4zIiAvPgogICAgICA8cGF0aAogICAgICAgIGQ9Ik0yNS4xNjY3IDM1LjgzMzlMMjQuNTY0OCAzNS4yMzJDMjQuMjUyNCAzNC45MTk2IDIzLjc0NTkgMzQuOTE5NiAyMy40MzM1IDM1LjIzMkwxMi4wMzE1IDQ2LjYzNEMxMS41Mjc1IDQ3LjEzOCAxMS44ODQ1IDQ3Ljk5OTcgMTIuNTk3MiA0Ny45OTk3SDE4LjE0MjhMMjUuMTY2NyAzNS44MzM5WiIKICAgICAgICBmaWxsPSIjMDYwNzA5IiBmaWxsLW9wYWNpdHk9IjAuMyIgLz4KICAgICAgPHBhdGgKICAgICAgICBkPSJNMjcuMzgwNCA0Ny45OTk3TDMxLjk5OTcgMzkuOTk4OUw0OS4yOTk5IDIyLjY5ODdDNDkuODAzOSAyMi4xOTQ3IDUwLjY2NTYgMjIuNTUxNyA1MC42NjU2IDIzLjI2NDRWNDcuMTk5N0M1MC42NjU2IDQ3LjY0MTUgNTAuMzA3NCA0Ny45OTk3IDQ5Ljg2NTYgNDcuOTk5N0gzNS40MDQxTDM1LjQwMTEgNDcuOTk5N0gyNy4zODA0WiIKICAgICAgICBmaWxsPSIjMDYwNzA5IiBmaWxsLW9wYWNpdHk9IjAuMyIgLz4KICAgICAgPHBhdGgKICAgICAgICBkPSJNMjQuMzAxMiA1My4zMzNINTUuOTk5NFYxMC42NjYzSDQ4LjkzNDlMNTIuMDE0MSA1LjMzMzAxSDU1Ljk5OTRDNTguOTMyNyA1LjMzMzAxIDYxLjMzMjcgNy43MzMwMSA2MS4zMzI3IDEwLjY2NjNWNTMuMzMzQzYxLjMzMjcgNTYuMjY2MyA1OC45MzI3IDU4LjY2NjMgNTUuOTk5NCA1OC42NjYzSDIxLjIyMkwyNC4zMDEyIDUzLjMzM1oiCiAgICAgICAgZmlsbD0iIzA2MDcwOSIgZmlsbC1vcGFjaXR5PSIwLjMiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgZD0iTTIzLjk5OTMgMjEuMzMzQzIzLjk5OTMgMjQuMjc4NSAyMS42MTE1IDI2LjY2NjMgMTguNjY2IDI2LjY2NjNDMTUuNzIwNSAyNi42NjYzIDEzLjMzMjcgMjQuMjc4NSAxMy4zMzI3IDIxLjMzM0MxMy4zMzI3IDE4LjM4NzUgMTUuNzIwNSAxNS45OTk3IDE4LjY2NiAxNS45OTk3QzIxLjYxMTUgMTUuOTk5NyAyMy45OTkzIDE4LjM4NzUgMjMuOTk5MyAyMS4zMzNaIgogICAgICAgIGZpbGw9IiMwNjA3MDkiIGZpbGwtb3BhY2l0eT0iMC4zIiAvPgogICAgPC9nPgogIDwvZz4KPC9zdmc+Cg==\";","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { I18n } from '@coze-arch/i18n';\nimport { IconCozCross } from '@coze-arch/coze-design/icons';\nimport { Button } from '@coze-arch/coze-design';\n\nimport styles from '../index.module.less';\nimport { ReactComponent as IconImageBroken } from '../../assets/coz_image_broken.svg';\n\ninterface LoadErrorProps {\n  onClose?: VoidFunction;\n}\n\nexport const LoadError = ({ onClose }: LoadErrorProps) => (\n  <div className={styles.wrapper}>\n    <div className={styles.header}>\n      <div className={styles.title}>\n        {I18n.t('analytics_query_aigc_infopanel_title')}\n      </div>\n      <Button\n        icon={<IconCozCross className=\"w-4 h-4\" />}\n        color=\"secondary\"\n        className=\"w-4 h-4\"\n        onClick={onClose}\n      ></Button>\n    </div>\n    <div className={styles.body}>\n      <IconImageBroken className=\"w-[64px] h-[64px]\" />\n      <span className={styles['error-txt']}>\n        {I18n.t('analytics_query_aigc_errorpanel_context')}\n      </span>\n    </div>\n    <div className={styles.footer}>\n      <Button type=\"primary\" size=\"default\" onClick={onClose}>\n        {I18n.t('analytics_query_aigc_errorpanel_ok')}\n      </Button>\n    </div>\n  </div>\n);\n","\n      import API from \"!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n       export default content && content.locals ? content.locals : undefined;\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* eslint-disable @coze-arch/max-line-per-function */\nimport { useCallback, useEffect, useRef, useState } from 'react';\n\nimport { throttle } from 'lodash-es';\nimport {\n  initPdfJsWorker,\n  getDocument,\n  generatePdfAssetsUrl,\n  type PDFDocumentProxy,\n} from '@coze-arch/pdfjs-shadow';\nimport { logger } from '@coze-arch/logger';\nimport {\n  IconCozDownload,\n  IconCozArrowLeft,\n  IconCozArrowRight,\n} from '@coze-arch/coze-design/icons';\nimport { Spin, Button, Typography } from '@coze-arch/coze-design';\n\nimport { downloadFile, fetchResource } from '../../utils/download';\nimport { LoadError } from '../../common/load-error';\nimport { ReactComponent as IconPDF } from '../../assets/icon.svg';\n\nimport styles from './index.module.less';\n\ninitPdfJsWorker();\n\ninterface PdfPreviewContentProps {\n  src: string;\n  extraInfo?: Record<string, string>;\n  onClose: VoidFunction;\n}\n\nexport default function PdfPreviewContent({\n  src,\n  extraInfo,\n  onClose,\n}: PdfPreviewContentProps) {\n  const canvasRef = useRef<HTMLCanvasElement | null>(null);\n\n  const [pdfDoc, setPdfDoc] = useState<PDFDocumentProxy | null>(null);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [pageCount, setPageCount] = useState(0);\n  const [isLoading, setIsLoading] = useState(true);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const [containerStyle, setContainerStyle] = useState({});\n  const [downloadLoading, setDownloadLoading] = useState(false);\n  const [hasError, setHasError] = useState(false);\n\n  useEffect(() => {\n    setIsLoading(true);\n    getDocument({\n      url: src,\n      cMapUrl: generatePdfAssetsUrl('cmaps'),\n    })\n      .promise.then(pdf => {\n        setPdfDoc(pdf);\n        setPageCount(pdf.numPages);\n      })\n      .catch(error => {\n        setHasError(true);\n        console.error('PdfPreviewContent error', error);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }, [src]);\n\n  const renderPdfPage = useCallback(() => {\n    if (!pdfDoc) {\n      return;\n    }\n    pdfDoc.getPage(pageNumber).then(page => {\n      const canvas = canvasRef.current;\n      if (!canvas) {\n        return;\n      }\n      const context = canvas.getContext('2d');\n      if (!context) {\n        return;\n      }\n      const deviceRatio = window.devicePixelRatio || 1;\n\n      const pdfOriginViewport = page.getViewport({ scale: 1 });\n      const windowHeight = window.innerHeight - (90 + 32);\n\n      const realViewport = page.getViewport({\n        scale: (windowHeight / pdfOriginViewport.height) * deviceRatio,\n      });\n\n      canvas.width = Math.floor(realViewport.width * deviceRatio);\n      canvas.height = Math.floor(realViewport.height * deviceRatio);\n      canvas.style.width = `${realViewport.width}px`;\n      canvas.style.height = `${realViewport.height}px`;\n      canvas.style.transform = `scale(${1 / deviceRatio})`;\n      canvas.style.transformOrigin = '0 0';\n      setContainerStyle({\n        width: realViewport.width * (1 / deviceRatio),\n      });\n\n      const renderContext = {\n        canvasContext: context,\n        viewport: realViewport,\n        transform: [deviceRatio, 0, 0, deviceRatio, 0, 0],\n        enhanceTextSelection: true,\n      };\n      page.render(renderContext);\n    });\n  }, [pageNumber, pdfDoc]);\n\n  const throttleRenderPdfPage = throttle(renderPdfPage);\n\n  useEffect(() => {\n    renderPdfPage();\n  }, [renderPdfPage]);\n\n  useEffect(() => {\n    window.addEventListener('resize', throttleRenderPdfPage);\n\n    return () => {\n      window.removeEventListener('resize', throttleRenderPdfPage);\n    };\n  }, [throttleRenderPdfPage]);\n\n  const changePage = (offset: number) => {\n    setPageNumber(prevPageNum => prevPageNum + offset);\n  };\n\n  const handleDownload = async () => {\n    try {\n      setDownloadLoading(true);\n      const blob = await fetchResource(src);\n      downloadFile(blob, extraInfo?.fileName);\n      setDownloadLoading(false);\n    } catch (error) {\n      logger.error({\n        eventName: 'pdf-download',\n        error: error as Error,\n      });\n      setDownloadLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"flex justify-center items-start relative w-full h-full\">\n      <div\n        ref={containerRef}\n        style={{\n          display: isLoading || hasError ? 'none' : 'block',\n          ...containerStyle,\n        }}\n        className=\"rounded-lg overflow-hidden relative\"\n      >\n        <div\n          className=\"header flex items-center justify-between w-full px-6 bg-white py-4\"\n          style={{\n            borderBottom:\n              '1px solid var(--Stroke-COZ-stroke-primary, rgba(6, 7, 9, 0.10))',\n          }}\n        >\n          <div className=\"flex items-center\">\n            <IconPDF />\n            <Typography.Text\n              className={styles['pdf-title']}\n              ellipsis={{\n                showTooltip: {\n                  opts: {\n                    content: extraInfo?.fileName || '--',\n                  },\n                },\n              }}\n            >\n              {extraInfo?.fileName ?? '-'}\n            </Typography.Text>\n          </div>\n          <div>\n            <Button\n              icon={<IconCozDownload />}\n              color=\"secondary\"\n              className=\"w-4 h-4\"\n              loading={downloadLoading}\n              onClick={() => {\n                handleDownload();\n              }}\n            ></Button>\n          </div>\n        </div>\n        <canvas\n          ref={canvasRef}\n          className=\"max-h-full overflow-hidden rounded-b-lg bg-white\"\n        />\n      </div>\n      {!isLoading && !hasError && (\n        <div className={styles['control-bar']}>\n          <Button\n            icon={<IconCozArrowLeft />}\n            onClick={() => changePage(-1)}\n            disabled={pageNumber <= 1}\n            color=\"secondary\"\n            className=\"w-4 h-4\"\n          ></Button>\n          <span className={styles['page-number']}>\n            {pageNumber}/{pageCount}\n          </span>\n          <Button\n            icon={<IconCozArrowRight />}\n            onClick={() => changePage(1)}\n            disabled={pageNumber >= pageCount}\n            color=\"secondary\"\n            className=\"w-4 h-4\"\n          ></Button>\n        </div>\n      )}\n      {isLoading ? (\n        <div className=\"absolute flex justify-center items-center top-0 right-0 bottom-0 left-0 h-full w-full pointer-events-none\">\n          <Spin />\n        </div>\n      ) : null}\n      {hasError ? (\n        <div className=\"w-full h-full flex justify-center items-center\">\n          <LoadError onClose={onClose} />\n        </div>\n      ) : null}\n    </div>\n  );\n}\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useState, useEffect } from 'react';\n\nconst useImage = (src: string) => {\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [hasError, setHasError] = useState(false);\n  const [image, setImage] = useState<HTMLImageElement | null>(null);\n\n  useEffect(() => {\n    const img = new Image();\n    img.src = src;\n    img.onload = () => {\n      setIsLoaded(true);\n      setImage(img);\n    };\n    img.onerror = () => {\n      setHasError(true);\n    };\n  }, [src]);\n\n  return { isLoaded, hasError, image };\n};\n\nexport default useImage;\n","\n      import API from \"!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n       export default content && content.locals ? content.locals : undefined;\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Spin, ImagePreview } from '@coze-arch/coze-design';\n\nimport { LoadError } from '../../common/load-error';\nimport useImage from './hooks';\n\nimport styles from './index.module.less';\n\ninterface ImagePreviewContentProps {\n  src: string;\n  onClose?: VoidFunction;\n}\n\nexport const ImagePreviewContent = ({\n  src,\n  onClose,\n}: ImagePreviewContentProps) => {\n  const { hasError, image, isLoaded } = useImage(src);\n\n  if (hasError) {\n    return (\n      <div className=\"w-full h-full items-center justify-center flex\">\n        <LoadError onClose={onClose} />\n      </div>\n    );\n  }\n\n  if (!isLoaded) {\n    return (\n      <div className=\"w-full h-full items-center justify-center flex\">\n        <Spin />\n      </div>\n    );\n  }\n  return (\n    <div className={styles['image-preview-container']}>\n      <ImagePreview\n        src={image?.src}\n        visible\n        previewCls={styles['image-preview-wrapper']}\n        closable={false}\n      />\n    </div>\n  );\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { JsonPreviewBasePlugin } from '../base';\nimport OverlayAPI from '../../common/overlay';\nimport { ImagePreviewContent } from './preview';\n\nexport class ImagePreview extends JsonPreviewBasePlugin {\n  render = (link: string, extraInfo?: Record<string, string>) => {\n    OverlayAPI.show({\n      content: onclose => <ImagePreviewContent src={link} onClose={onclose} />,\n      withMask: false,\n    });\n    return <></>;\n  };\n  name = 'Image';\n  match = (contentType: string) => contentType === 'image';\n  override priority = 0;\n}\n","import * as React from \"react\";\nconst SvgNotSupport = props => <svg xmlns=\"http://www.w3.org/2000/svg\" width={200} height={200} fill=\"none\" viewBox=\"0 0 200 200\" {...props}><g clipPath=\"url(#not-support_svg__a)\"><path fill=\"#000\" stroke=\"#000\" d=\"M100.749 191.987c6.215-.558 8.701-9.199 10.359-15.052l4.972 15.052z\" /><path fill=\"#fff\" d=\"M103.973 62.974c-3.941-5.03-1.949-13.818 7.345-23.034 12.98-11.882 25.529-9.255 26.117-8.98.588.274 13.004 9.06 24.825 21.305s24.193 22.732 24.345 39.535c.153 16.803-17.259 22.885-30.032 22.961s-41.277-.282-46.752-1.194c-3.435 4.507-8.898 9.378-10.913 10.434 4.227 3.632 19.318 18.976 21.133 22.216s9.722 14.519 6.092 32.279c-1.663 8.138-8.169 12.305-14.891 13.612 0 0-9.206-.052-12.334 0-7.776.13-88.02 0-90.353 0s-3.006-2.093 0-8.198 14.09-25.368 19.898-28.806c2.312-1.304 7.533 2.07 8.63 2.852 1.027.731 2.022 1.594 3.445 1.476 1.422-.119 8.838-.152 11.208-.075-4.285-3-20.033-17.685-21.958-24.83-1.53-5.678.3-8.958 1.114-9.715-8.529-4.988-17.207-14.892-13.811-29.607.952-4.128 3.53-8.428 5.453-9.667 3.616-2.33 15.882-3.507 23.32-4.186 32.698-2.986 107.186-1.904 109.448-1.883-3.118-2.375-15.199-15.931-15.48-16.388-.773 2.213-3.828 5.022-6.111 4.706-2.026-.28-3.153-3.453-.809-8.48a30 30 0 0 1-2.491 2.294c-1.244 1.011-2.804 1.219-3.37 0-.499-1.072-.333-3.117.819-5.84-1.232 1.161-2.459 2.126-3.561 2.684-3.689 1.867-4.601-5.233.341-11.275-7.103 3.473-9.117 6.309-10.881 10.469-1.087 2.564-1.471 4.914-4.462 6.243-2.294 1.02-4.215.509-5.324-.908\" /><path stroke=\"#515151\" d=\"M124.64 47.17c-7.103 3.473-9.117 6.309-10.881 10.469-1.087 2.564-1.471 4.914-4.462 6.243-2.294 1.02-4.215.509-5.324-.908-3.941-5.03-1.949-13.818 7.345-23.034 12.98-11.882 25.529-9.255 26.117-8.98.588.274 13.004 9.06 24.825 21.305s24.193 22.732 24.345 39.535c.153 16.803-17.259 22.885-30.032 22.961s-41.277-.282-46.752-1.194M124.64 47.17c6.999-2.597 6.638-4.972 6.226-5.442s-4.638 2.737-6.226 5.442Zm0 0c-4.942 6.042-4.03 13.142-.341 11.275 4.848-2.453 12.087-12.772 11.642-13.118-.316-.246-2.074.747-5.321 5.497-3.541 5.181-4.345 9.128-3.579 10.777.566 1.219 2.126 1.011 3.37 0 4.793-3.898 9.41-10.885 9.164-11.06s-1.843.447-5.609 6.767c-3.679 6.175-2.538 10.163-.255 10.48 2.283.316 5.338-2.494 6.111-4.707.281.457 12.362 14.013 15.48 16.388m-45.481 34.098c-3.435 4.507-8.898 9.378-10.913 10.434m10.913-10.434c3.584-4.914 6.761-9.938 8.313-15.295m37.168-18.803c-2.262-.021-76.75-1.103-109.447 1.883-7.439.68-19.705 1.857-23.32 4.186-1.923 1.239-4.502 5.539-5.454 9.667-3.396 14.715 5.282 24.619 13.81 29.607M155.303 79.47c2.261.021 6.136.694 5.804 3.1-.216 1.562-4.717-2.12-5.804-3.1ZM98.908 124c4.227 3.632 19.318 18.976 21.133 22.216s9.722 14.519 6.092 32.279c-1.663 8.138-8.169 12.305-14.891 13.612 0 0-9.206-.052-12.334 0-7.776.13-88.02 0-90.353 0s-3.006-2.093 0-8.198 14.09-25.368 19.898-28.806c2.312-1.304 7.533 2.07 8.63 2.852 1.027.731 2.022 1.594 3.445 1.476 1.422-.119 8.838-.152 11.208-.075m47.172-35.356H88.096m-36.36 35.356c3.059.099 9.595-.491 11.847 1.543 2.045 1.847.559 4.592-2.533 3.842-3.638-.883-8.129-4.556-9.314-5.385Zm0 0c-4.285-3-20.033-17.685-21.958-24.83-1.53-5.678.3-8.958 1.114-9.715m57.204-.811c-8.087-8.499-17.704-16.179-22.811-19.89m22.811 19.89q1.262 1.323 2.46 2.668c1.944 2.178 8.476 9.597 9.126 14.147.369 2.587.06 6.793-.907 10.96m-67.883-26.964c3.334 1.788 11.878 6.075 19.372 8.912m0 0c9.367 3.547 19.193 6.258 22.376 9.896s-.761 8.672-1.913 12.751c-.29 1.029-.622 2.59-.265 3.493.451 1.14 1.775 1.363 3.743-.17 3.525-2.745 6.653-9.565 7.304-11.572.65-2.006-4.435 8.264-4.977 12.799s3.488 3.792 6.197 0c3.172-4.442 4.8-9.545 5.017-10.521s-2.733 5.445-3.6 9.294c-.234 1.038-.843 3.472 0 4.442.959 1.103 2.871.814 5.076-2.726 2.517-4.042 4.38-9.708 4.598-11.01s-3.054 7.306-3.548 11.498c-.346 2.942.663 4.377 4.178 0 1.987-2.475 3.435-6.282 4.325-10.122m-48.511-18.052c-1.974 2.717-4.251 5.291-10.807 6.321m59.318 11.731c3.184 2.921 7.344 8.248 8.242 14.176s0 13.463-9.4 21.346m-32.332-83.187c-5.705-4.146-8.966-4.563-11.457-4.563-3.64 0-4.477 1.956-1.16 3.2 3.319 1.245 9.35 1.363 12.617 1.363Zm0 0h6.914\" /><path fill=\"#515151\" fillRule=\"evenodd\" d=\"m115.942 192.126-5.175-15.667-.124.437c-.829 2.93-1.861 6.538-3.458 9.484-1.599 2.948-3.742 5.196-6.779 5.468l.012.278z\" clipRule=\"evenodd\" /><path fill=\"#C6CACD\" fillRule=\"evenodd\" d=\"m122.415 137.352 5.094 9.477h-7.45l-5.094-9.477z\" clipRule=\"evenodd\" /><path fill=\"#fff\" stroke=\"#515151\" d=\"M104.096 141.476h33.95l14.826 27.432h-33.95z\" /><path fill=\"#E6E8EA\" stroke=\"#515151\" d=\"M183.117 155.135h-43.596v38.861h43.596zM139.868 154.692l9.286-16.84h43.454l-9.286 16.84zM139.407 155.135h-28.184v38.861h28.184z\" /><path fill=\"#515151\" fillRule=\"evenodd\" d=\"m166.556 154.913 3.902-6.969h-6.132l-3.591 6.412h-.312v13.379h6.133z\" clipRule=\"evenodd\" /><path fill=\"#EAF5FF\" d=\"M45.578 71.846c18.32 0 33.171-14.851 33.171-33.171S63.9 5.504 45.58 5.504 12.406 20.355 12.406 38.675s14.851 33.171 33.171 33.171\" /><path fill=\"#0064FA\" fillRule=\"evenodd\" d=\"M48.846 47.665c1.772-.45 2.874-2.098 2.465-3.88-.279-1.213.272-2.409 1.139-3.302 3.027-3.12 5.085-7.778 3.663-12.778-.748-2.717-2.77-5.095-5.43-6.596-2.904-1.6-6.473-1.906-9.876-.866l-.17.072c-5.777 1.968-8.302 7.055-8.257 11.964.02 2.047 2.12 3.205 4.09 2.645 2.003-.57 2.972-2.806 3.633-4.782.392-1.168 1.257-2.231 2.93-2.751 1.958-.63 3.35-.209 4.155.259.878.639 1.585 1.35 1.777 2.28.847 2.473-.825 5.205-2.737 6.421-2.683 1.683-3.026 5.479-2.457 8.79.361 2.101 2.545 3.166 4.611 2.642zm.026 3.154a4.097 4.097 0 1 1 2.525 7.795 4.097 4.097 0 0 1-2.525-7.795\" clipRule=\"evenodd\" /><path fill=\"#515151\" fillRule=\"evenodd\" d=\"m98.633 82.579-.111-.01-.034.105c-.786 2.422-1.657 5.232-1.519 8.035.139 2.815 1.293 5.614 4.533 8.01 3.165 2.338 6.578 1.775 9.185-.16 2.601-1.93 4.418-5.235 4.418-8.422 0-1.25-.814-2.32-2.047-3.22-1.235-.901-2.917-1.653-4.715-2.265-3.597-1.223-7.694-1.896-9.71-2.073m17.18 21.687c-1.33 3.103-4.628 7.681-6.115 9.585l.115-.146 5.241.372.037-.08c.232-.492.409-1.194.547-1.999.138-.807.237-1.729.306-2.664a58 58 0 0 0 .136-5.016zm-84.955 20.007-.161-.102-1.334 5.038.11.048c4.395 1.897 14.112 4.052 21.09 4.61l.062-.268c-7.776-3.042-16.194-7.067-19.767-9.326\" clipRule=\"evenodd\" /><path stroke=\"#515151\" d=\"M71.03 48.989c5.25 1.236 16.12 6.398 17.613 17.155\" /><path fill=\"#fff\" stroke=\"#515151\" strokeMiterlimit={10} d=\"M108.084 96.577c-5.726 0-10.367-4.641-10.367-10.366 0-5.726 4.641-10.367 10.367-10.367 5.725 0 10.367 4.641 10.367 10.367 0 5.725-4.642 10.366-10.367 10.366Z\" /><path fill=\"#515151\" fillRule=\"evenodd\" d=\"M110.797 85.862a.42.42 0 0 0-.561-.187c-1.415.707-2.956.884-3.526.884a.418.418 0 1 0 0 .836c.669 0 2.345-.194 3.9-.972a.42.42 0 0 0 .187-.56m-2.662 3.516a.882.882 0 1 1 1.76-.128.882.882 0 0 1-1.76.128m7.103-.945a.883.883 0 1 0 .129 1.76.883.883 0 0 0-.129-1.76\" clipRule=\"evenodd\" /><path fill=\"#515151\" d=\"M100.584 87.313s-5.735-6.617-.662-11.028c6.618-5.956 21.175-.441 21.175-.441s-.22 7.058-4.852 7.94c-4.412.662-12.573-2.426-12.573-2.426z\" /><path fill=\"#fff\" stroke=\"#515151\" strokeMiterlimit={10} d=\"M98.378 88.637a2.647 2.647 0 1 1 0-5.294 2.647 2.647 0 0 1 0 5.294Z\" /></g><defs><clipPath id=\"not-support_svg__a\"><path fill=\"#fff\" d=\"M0 0h200v200H0z\" /></clipPath></defs></svg>;\nexport { SvgNotSupport as ReactComponent };\nexport default __webpack_public_path__ + \"static/svg/not-support.34328827.svg\";","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useState } from 'react';\n\nimport { logger } from '@coze-arch/logger';\nimport { I18n } from '@coze-arch/i18n';\nimport { IconCozCross } from '@coze-arch/coze-design/icons';\nimport { Button } from '@coze-arch/coze-design';\n\nimport styles from '../index.module.less';\nimport { fetchResource, downloadFile } from '../../utils/download';\nimport { ReactComponent as IconImageBroken } from '../../assets/not-support.svg';\n\ninterface LoadErrorProps {\n  onClose?: VoidFunction;\n  url: string;\n  filename?: string;\n}\n\nexport const NotSupport = ({ onClose, url, filename }: LoadErrorProps) => {\n  const [loading, setLoading] = useState(false);\n\n  const handleDownload = async () => {\n    try {\n      setLoading(true);\n      const blob = await fetchResource(url);\n      downloadFile(blob, filename);\n      setLoading(false);\n    } catch (error) {\n      logger.error({\n        eventName: 'LoadError-page',\n        error: error as Error,\n      });\n      setLoading(false);\n    }\n  };\n  return (\n    <div className={styles.wrapper}>\n      <div className={styles.header}>\n        <div className={styles.title}>\n          {I18n.t('analytics_query_aigc_inforpanel_title_file')}\n        </div>\n        <Button\n          icon={<IconCozCross className=\"w-4 h-4\" />}\n          color=\"secondary\"\n          className=\"w-4 h-4\"\n          onClick={onClose}\n        ></Button>\n      </div>\n      <div className={styles.body}>\n        <IconImageBroken className=\"w-[200px] h-[200px]\" />\n        <span className={styles['error-txt']}>\n          {I18n.t('analytics_query_aigc_infopanel_context')}\n        </span>\n      </div>\n      <div className={styles.footer}>\n        <Button\n          type=\"primary\"\n          size=\"default\"\n          onClick={onClose}\n          color=\"primary\"\n          className=\"mr-2\"\n        >\n          {I18n.t('analytics_query_aigc_infopanel_cancel')}\n        </Button>\n        <Button\n          type=\"primary\"\n          size=\"default\"\n          onClick={handleDownload}\n          loading={loading}\n        >\n          {I18n.t('analytics_query_aigc_infopanel_download')}\n        </Button>\n      </div>\n    </div>\n  );\n};\n","\n      import API from \"!../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n       export default content && content.locals ? content.locals : undefined;\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, type ReactNode } from 'react';\n\nimport { isEmpty, last } from 'lodash-es';\nimport JsonView, { ValueQuote } from '@uiw/react-json-view';\nimport { I18n } from '@coze-arch/i18n';\nimport { Tooltip, Typography } from '@coze-arch/coze-design';\nimport { EVENT_NAMES, sendTeaEvent } from '@coze-arch/bot-tea';\n\nimport { isValidHttpUrl } from './utils/url';\nimport { type Result, parse, type JsonValue } from './utils/parse';\nimport { ImagePreview, type JsonPreviewBasePlugin } from './plugins';\nimport OverlayAPI from './common/overlay';\nimport { NotSupport } from './common/not-support';\n\nimport styles from './index.module.less';\n\ninterface JsonLinkPreviewProps {\n  src: unknown[];\n  bot_id?: string;\n  space_id: string;\n  entityId?: string;\n}\n\nexport class JsonLinkPreview extends Component<JsonLinkPreviewProps> {\n  parse: (inputValue: JsonValue[]) => Record<string, Result>;\n  linkMap: Record<string, Result>;\n  plugins: JsonPreviewBasePlugin[];\n  constructor(props: JsonLinkPreviewProps) {\n    super(props);\n    this.parse = parse;\n    this.linkMap = this.parse(props.src as JsonValue[]);\n    this.plugins = [new ImagePreview()];\n  }\n\n  componentDidUpdate(prevProps: Readonly<JsonLinkPreviewProps>): void {\n    this.linkMap = this.parse(this.props.src as JsonValue[]);\n  }\n\n  handleClick = (\n    link: string,\n    contentType: string,\n    extraInfo?: Record<string, string>,\n  ) => {\n    sendTeaEvent(EVENT_NAMES.preview_link_click, {\n      host: window.location.href,\n      content_type: contentType,\n      bot_id: this.props.bot_id || this.props.entityId || '',\n      space_id: this.props.space_id,\n    });\n    const renderPlugins = this.plugins.filter(plugin =>\n      plugin.match(contentType),\n    );\n    if (isEmpty(renderPlugins)) {\n      OverlayAPI.show({\n        content(onClose) {\n          return (\n            <div className=\"w-full h-full flex items-center justify-center\">\n              <NotSupport\n                onClose={onClose}\n                url={link}\n                filename={extraInfo?.fileName}\n              />\n            </div>\n          );\n        },\n      });\n      return;\n    }\n\n    renderPlugins.sort((a, b) => a.priority - b.priority);\n\n    const renderPlugin = last(renderPlugins);\n    renderPlugin?.render(link, extraInfo);\n  };\n\n  render(): ReactNode {\n    return (\n      <JsonView\n        className={styles['json-link-preview']}\n        style={{\n          fontSize: '12px !important',\n        }}\n        value={this.props.src}\n        enableClipboard={false}\n        displayDataTypes={false}\n        indentWidth={2}\n        collapsed={5}\n        shortenTextAfterLength={300}\n        highlightUpdates={false}\n      >\n        <JsonView.String\n          render={(_, { type, value }) => {\n            if (\n              type === 'value' &&\n              typeof value === 'string' &&\n              isValidHttpUrl(value)\n            ) {\n              return (\n                <Tooltip\n                  content={\n                    <Typography.Text\n                      link\n                      onClick={() => {\n                        this.handleClick(\n                          value,\n                          this.linkMap[value]?.contentType || '',\n                          this.linkMap[value]?.extraInfo,\n                        );\n                      }}\n                    >\n                      {I18n.t('analytics_query_aigc_detail')}\n                    </Typography.Text>\n                  }\n                >\n                  <a\n                    href={value}\n                    className={styles.link}\n                    onClick={event => {\n                      event.preventDefault();\n                    }}\n                  >\n                    <ValueQuote />\n                    {value}\n                    <ValueQuote />\n                  </a>\n                </Tooltip>\n              );\n            }\n          }}\n        />\n      </JsonView>\n    );\n  }\n}\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* eslint-disable max-lines */\nimport { useMemo } from 'react';\n\nimport { type CSpan } from '@coze-devops/common-modules/query-trace';\nimport { SpanType } from '@coze-arch/bot-api/ob_query_api';\n\nimport { fieldHandlers } from '../utils/field-item';\nimport { type FieldCol, type FieldColConfig } from '../typings';\n\nconst colsConfigForStart: FieldColConfig[] = [\n  {\n    fields: [\n      {\n        name: 'category',\n      },\n      {\n        name: 'name',\n      },\n      {\n        name: 'start_time',\n      },\n      {\n        name: 'end_time',\n      },\n      {\n        name: 'first_response_time',\n      },\n    ],\n  },\n  {\n    fields: [\n      {\n        name: 'status',\n      },\n      {\n        name: 'latency',\n      },\n      {\n        name: 'latency_first',\n      },\n      {\n        name: 'tokens',\n      },\n    ],\n  },\n];\n\nconst colsConfigForInvokeAgent: FieldColConfig[] = [\n  {\n    fields: [\n      {\n        name: 'category',\n      },\n      {\n        name: 'call_type',\n      },\n      {\n        name: 'agent_type',\n      },\n      {\n        name: 'temperature',\n      },\n      {\n        name: 'start_time',\n      },\n      {\n        name: 'end_time',\n      },\n      {\n        name: 'name',\n      },\n    ],\n  },\n  {\n    fields: [\n      {\n        name: 'status',\n      },\n      {\n        name: 'latency',\n      },\n      {\n        name: 'model',\n      },\n      {\n        name: 'tokens',\n      },\n      {\n        name: 'max_length_resp',\n      },\n      {\n        name: 'dialog_round',\n      },\n    ],\n  },\n];\n\nconst colsConfigForSwitchAgent: FieldColConfig[] = [\n  {\n    fields: [\n      {\n        name: 'category',\n      },\n      {\n        name: 'start_time',\n      },\n      {\n        name: 'end_time',\n      },\n    ],\n  },\n  {\n    fields: [\n      {\n        name: 'status',\n      },\n      {\n        name: 'latency',\n      },\n      {\n        name: 'name',\n      },\n    ],\n  },\n];\n\nconst colsConfigForLLMCall: FieldColConfig[] = [\n  {\n    fields: [\n      {\n        name: 'category',\n      },\n      {\n        name: 'name',\n      },\n      {\n        name: 'call_type',\n      },\n      {\n        name: 'max_length_resp',\n      },\n      {\n        name: 'start_time',\n      },\n      {\n        name: 'end_time',\n      },\n      {\n        name: 'first_response_time',\n      },\n    ],\n  },\n  {\n    fields: [\n      {\n        name: 'status',\n      },\n      {\n        name: 'latency',\n      },\n      {\n        name: 'latency_first',\n      },\n      {\n        name: 'model',\n      },\n      {\n        name: 'tokens',\n      },\n      {\n        name: 'temperature',\n      },\n    ],\n  },\n];\n\nconst colsConfigForWorkflow: FieldColConfig[] = [\n  {\n    fields: [\n      {\n        name: 'category',\n      },\n      {\n        name: 'tokens',\n      },\n      {\n        name: 'start_time',\n      },\n      {\n        name: 'end_time',\n      },\n    ],\n  },\n  {\n    fields: [\n      {\n        name: 'status',\n      },\n      {\n        name: 'latency',\n      },\n      {\n        name: 'name',\n      },\n    ],\n  },\n];\n\nconst colsConfigForWorkflowEnd: FieldColConfig[] = [\n  {\n    fields: [\n      {\n        name: 'category',\n      },\n      {\n        name: 'tokens',\n      },\n      {\n        name: 'start_time',\n      },\n      {\n        name: 'end_time',\n      },\n    ],\n  },\n  {\n    fields: [\n      {\n        name: 'status',\n      },\n      {\n        name: 'latency',\n      },\n      {\n        name: 'name',\n      },\n    ],\n  },\n];\n\nconst colsConfigForCode: FieldColConfig[] = [\n  {\n    fields: [\n      {\n        name: 'category',\n      },\n      {\n        name: 'start_time',\n      },\n      {\n        name: 'end_time',\n      },\n    ],\n  },\n  {\n    fields: [\n      {\n        name: 'status',\n      },\n      {\n        name: 'latency',\n      },\n      {\n        name: 'name',\n      },\n    ],\n  },\n];\n\nconst colsConfigForCondition: FieldColConfig[] = [\n  {\n    fields: [\n      {\n        name: 'category',\n      },\n      {\n        name: 'start_time',\n      },\n      {\n        name: 'end_time',\n      },\n    ],\n  },\n  {\n    fields: [\n      {\n        name: 'status',\n      },\n      {\n        name: 'latency',\n      },\n      {\n        name: 'name',\n      },\n    ],\n  },\n];\n\nconst colsConfigForPluginTool: FieldColConfig[] = [\n  {\n    fields: [\n      {\n        name: 'category',\n      },\n      {\n        name: 'call_type',\n      },\n      {\n        name: 'start_time',\n      },\n      {\n        name: 'end_time',\n      },\n    ],\n  },\n  {\n    fields: [\n      {\n        name: 'status',\n      },\n      {\n        name: 'latency',\n      },\n      {\n        name: 'name',\n      },\n    ],\n  },\n];\n\nconst colsConfigForKnowledge: FieldColConfig[] = [\n  {\n    fields: [\n      {\n        name: 'category',\n      },\n      {\n        name: 'call_type',\n      },\n      {\n        name: 'start_time',\n      },\n      {\n        name: 'end_time',\n      },\n    ],\n  },\n  {\n    fields: [\n      {\n        name: 'status',\n      },\n      {\n        name: 'latency',\n      },\n      {\n        name: 'name',\n      },\n    ],\n  },\n];\n\nconst colsConfigGeneral: FieldColConfig[] = [\n  {\n    fields: [\n      {\n        name: 'category',\n      },\n      {\n        name: 'start_time',\n      },\n      {\n        name: 'end_time',\n      },\n    ],\n  },\n  {\n    fields: [\n      {\n        name: 'status',\n      },\n      {\n        name: 'latency',\n      },\n      {\n        name: 'name',\n      },\n    ],\n  },\n];\n\nconst colsConfigForCard: FieldColConfig[] = [\n  {\n    fields: [\n      {\n        name: 'category',\n      },\n      {\n        name: 'call_type',\n      },\n      {\n        name: 'status',\n      },\n      {\n        name: 'card_id',\n      },\n    ],\n  },\n  {\n    fields: [\n      {\n        name: 'start_time',\n      },\n      {\n        name: 'end_time',\n      },\n      {\n        name: 'latency',\n      },\n    ],\n  },\n];\n\nconst colsConfigForMessage: FieldColConfig[] = [\n  {\n    fields: [\n      {\n        name: 'category',\n      },\n      {\n        name: 'call_type',\n      },\n      {\n        name: 'status',\n      },\n      {\n        name: 'name',\n      },\n    ],\n  },\n  {\n    fields: [\n      {\n        name: 'start_time',\n      },\n      {\n        name: 'end_time',\n      },\n      {\n        name: 'latency',\n      },\n      {\n        name: 'stream_output',\n      },\n    ],\n  },\n];\n\nconst colsConfigForBWCondition: FieldColConfig[] = [\n  {\n    fields: [\n      {\n        name: 'category',\n      },\n      {\n        name: 'start_time',\n      },\n      {\n        name: 'end_time',\n      },\n      {\n        name: 'branch_name',\n      },\n    ],\n  },\n  {\n    fields: [\n      {\n        name: 'status',\n      },\n      {\n        name: 'latency',\n      },\n      {\n        name: 'name',\n      },\n    ],\n  },\n];\nconst colsConfigForBWConnector: FieldColConfig[] = [\n  {\n    fields: [\n      {\n        name: 'category',\n      },\n      {\n        name: 'start_time',\n      },\n      {\n        name: 'end_time',\n      },\n      {\n        name: 'node_type',\n      },\n    ],\n  },\n  {\n    fields: [\n      {\n        name: 'status',\n      },\n      {\n        name: 'latency',\n      },\n      {\n        name: 'name',\n      },\n    ],\n  },\n];\n\nconst colsConfigForHook: FieldColConfig[] = [\n  {\n    fields: [\n      {\n        name: 'category',\n      },\n      {\n        name: 'start_time',\n      },\n      {\n        name: 'end_time',\n      },\n      {\n        name: 'hook_type',\n      },\n      {\n        name: 'agent_id',\n      },\n      {\n        name: 'is_stream',\n      },\n    ],\n  },\n  {\n    fields: [\n      {\n        name: 'status',\n      },\n      {\n        name: 'latency',\n      },\n      {\n        name: 'name',\n      },\n      {\n        name: 'hook_resp_code',\n      },\n      {\n        name: 'hook_uri',\n      },\n    ],\n  },\n];\nconst colsConfigMap = {\n  [SpanType.UserInput]: colsConfigForStart,\n  [SpanType.ThirdParty]: colsConfigForStart,\n  [SpanType.ScheduledTasks]: colsConfigForStart,\n  [SpanType.OpenDialog]: colsConfigForStart,\n  [SpanType.InvokeAgent]: colsConfigForInvokeAgent,\n  [SpanType.RestartAgent]: colsConfigForSwitchAgent,\n  [SpanType.SwitchAgent]: colsConfigForSwitchAgent,\n  [SpanType.LLMCall]: colsConfigForLLMCall,\n  [SpanType.WorkflowLLMCall]: colsConfigForLLMCall,\n  [SpanType.LLMBatchCall]: colsConfigForLLMCall,\n  [SpanType.WorkflowLLMBatchCall]: colsConfigForLLMCall,\n  [SpanType.Workflow]: colsConfigForWorkflow,\n  [SpanType.WorkflowStart]: colsConfigForWorkflowEnd,\n  [SpanType.WorkflowEnd]: colsConfigForWorkflowEnd,\n  [SpanType.PluginTool]: colsConfigForPluginTool,\n  [SpanType.WorkflowPluginTool]: colsConfigForPluginTool,\n  [SpanType.PluginToolBatch]: colsConfigForPluginTool,\n  [SpanType.WorkflowPluginToolBatch]: colsConfigForPluginTool,\n  [SpanType.Knowledge]: colsConfigForKnowledge,\n  [SpanType.WorkflowKnowledge]: colsConfigForKnowledge,\n  [SpanType.Code]: colsConfigForCode,\n  [SpanType.WorkflowCode]: colsConfigForCode,\n  [SpanType.CodeBatch]: colsConfigForCode,\n  [SpanType.WorkflowCodeBatch]: colsConfigForCode,\n  [SpanType.Condition]: colsConfigForCondition,\n  [SpanType.WorkflowCondition]: colsConfigForCondition,\n  [SpanType.Unknown]: colsConfigGeneral,\n  [SpanType.Chain]: [],\n  [SpanType.Card]: colsConfigForCard,\n  [SpanType.WorkflowMessage]: colsConfigForMessage,\n  [SpanType.Hook]: colsConfigForHook,\n  [SpanType.BWStart]: colsConfigGeneral,\n  [SpanType.BWEnd]: colsConfigGeneral,\n  [SpanType.BWBatch]: colsConfigGeneral,\n  [SpanType.BWLoop]: colsConfigGeneral,\n  [SpanType.BWCondition]: colsConfigForBWCondition,\n  [SpanType.BWLLM]: colsConfigForLLMCall,\n  [SpanType.BWParallel]: colsConfigGeneral,\n  [SpanType.BWScript]: colsConfigGeneral,\n  [SpanType.BWVariable]: colsConfigGeneral,\n  [SpanType.BWCallFlow]: colsConfigGeneral,\n  [SpanType.BWConnector]: colsConfigForBWConnector,\n};\n\nexport const useSpanCols = (input: {\n  span?: CSpan;\n}): {\n  spanCols: FieldCol[];\n} => {\n  const { span } = input;\n  const spanCols: FieldCol[] = useMemo(() => {\n    if (!span) {\n      return [];\n    }\n    const colsConfig = colsConfigMap[span.type];\n    return (\n      colsConfig?.map(colConfig => {\n        const { fields } = colConfig;\n        return {\n          fields: fields?.map(fieldConfig => {\n            const { name, options } = fieldConfig;\n            return {\n              ...fieldHandlers[name](span),\n              options,\n            };\n          }),\n        };\n      }) || []\n    );\n  }, [span]);\n\n  return {\n    spanCols,\n  };\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useMemo } from 'react';\n\nimport {\n  isBatchSpanType,\n  type CSPanBatch,\n  type CSpan,\n} from '@coze-devops/common-modules/query-trace';\nimport { SpanType } from '@coze-arch/bot-api/ob_query_api';\n\nimport { fieldHandlers } from '../utils/field-item';\nimport {\n  type FieldCol,\n  type BatchSpanType,\n  type FieldColConfig,\n} from '../typings';\n\nconst colsConfigForLLMBatchCall: FieldColConfig[] = [\n  {\n    fields: [\n      {\n        name: 'status',\n      },\n    ],\n  },\n  {\n    fields: [\n      {\n        name: 'latency',\n      },\n    ],\n  },\n  {\n    fields: [\n      {\n        name: 'tokens',\n      },\n    ],\n  },\n];\n\nconst colsConfigForPluginToolBatch: FieldColConfig[] = [\n  {\n    fields: [\n      {\n        name: 'status',\n      },\n    ],\n  },\n  {\n    fields: [\n      {\n        name: 'latency',\n      },\n    ],\n  },\n];\n\nconst colsConfigForCodeBatch: FieldColConfig[] = [\n  {\n    fields: [\n      {\n        name: 'status',\n      },\n    ],\n  },\n  {\n    fields: [\n      {\n        name: 'latency',\n      },\n    ],\n  },\n];\n\nconst colsConfigMap = {\n  [SpanType.LLMBatchCall]: colsConfigForLLMBatchCall,\n  [SpanType.WorkflowLLMBatchCall]: colsConfigForLLMBatchCall,\n  [SpanType.PluginToolBatch]: colsConfigForPluginToolBatch,\n  [SpanType.WorkflowPluginToolBatch]: colsConfigForPluginToolBatch,\n  [SpanType.CodeBatch]: colsConfigForCodeBatch,\n  [SpanType.WorkflowCodeBatch]: colsConfigForCodeBatch,\n};\n\nexport const useBatchSpanCols = (input: {\n  span?: CSpan;\n  curBatchIndex?: number;\n}): {\n  batchSpanCols: FieldCol[];\n} => {\n  const { span, curBatchIndex } = input;\n  const batchSpanCols: FieldCol[] = useMemo(() => {\n    if (!span || curBatchIndex === undefined || !isBatchSpanType(span.type)) {\n      return [];\n    }\n    const subSpan = (span as CSPanBatch).spans[curBatchIndex];\n    if (!subSpan) {\n      return [];\n    }\n    const colsConfig = colsConfigMap[subSpan.type as BatchSpanType];\n    return colsConfig.map(colConfig => {\n      const { fields } = colConfig;\n      return {\n        fields: fields?.map(fieldConfig => {\n          const { name, options } = fieldConfig;\n          return {\n            ...fieldHandlers[name](subSpan),\n            options,\n          };\n        }),\n      };\n    });\n  }, [span, curBatchIndex]);\n\n  return {\n    batchSpanCols,\n  };\n};\n","\n      import API from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n       export default content && content.locals ? content.locals : undefined;\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* eslint-disable @coze-arch/max-line-per-function */\nimport ReactJson from 'react-json-view';\nimport { useMemo } from 'react';\n\nimport classNames from 'classnames';\nimport { JsonLinkPreview } from '@coze-devops/json-link-preview';\nimport {\n  type CSpanSingle,\n  type CSPanBatch,\n  type CSpan,\n  TopologyFlow,\n  DataSourceTypeEnum,\n  isBatchSpanType,\n} from '@coze-devops/common-modules/query-trace';\nimport { I18n } from '@coze-arch/i18n';\nimport { Divider, Pagination, Tag } from '@coze-arch/bot-semi';\nimport { SpanStatus } from '@coze-arch/bot-api/ob_query_api';\n\nimport { NodeDescription, NodeDetailTitle } from '../common';\nimport { jsonParse, textWithFallback } from '../../../utils';\nimport { useSpanCols } from '../../../hooks/use-span-cols';\nimport { useBatchSpanCols } from '../../../hooks/use-batch-span-cols';\nimport {\n  REACT_JSON_VIEW_CONFIG,\n  topologyTypeConfig,\n} from '../../../consts/static';\n\nimport s from './index.module.less';\n\nexport interface PanelDetailProps {\n  botId: string;\n  spaceId: string;\n  spans: CSpan[];\n  targetDetailSpan: CSpan;\n  curBatchPage: number;\n  setCurBatchPage: (curBatchPage: number) => void;\n}\n\nexport const PanelDetail = (props: PanelDetailProps) => {\n  const {\n    botId,\n    spaceId,\n    spans,\n    targetDetailSpan,\n    curBatchPage,\n    setCurBatchPage,\n  } = props;\n\n  const isBatchNode = useMemo(\n    () => isBatchSpanType(targetDetailSpan.type),\n    [targetDetailSpan],\n  );\n\n  const { spanCols } = useSpanCols({ span: targetDetailSpan });\n\n  const { batchSpanCols } = useBatchSpanCols({\n    span: targetDetailSpan,\n    curBatchIndex: curBatchPage - 1,\n  });\n\n  const batchArea = useMemo(() => {\n    if (!isBatchNode) {\n      return null;\n    }\n    const batchSpan = targetDetailSpan as CSPanBatch;\n\n    return (\n      <>\n        <NodeDetailTitle text={I18n.t('query_select_batch')} />\n        <Pagination\n          className={s['detail-pagination']}\n          total={batchSpan.spans.length}\n          pageSize={1}\n          currentPage={curBatchPage}\n          onPageChange={setCurBatchPage}\n        />\n        <NodeDescription cols={batchSpanCols} />\n      </>\n    );\n  }, [isBatchNode, targetDetailSpan, curBatchPage, batchSpanCols]);\n\n  const inputArea = useMemo(() => {\n    const span = isBatchNode\n      ? (targetDetailSpan as CSPanBatch)?.spans[curBatchPage - 1]\n      : (targetDetailSpan as CSpanSingle);\n\n    const inputValue = jsonParse(\n      textWithFallback(span?.extra?.input) as string,\n    );\n\n    return (\n      <>\n        <NodeDetailTitle\n          text={I18n.t('query_detail_title_input')}\n          copyContent={\n            typeof inputValue === 'string'\n              ? inputValue\n              : JSON.stringify(inputValue)\n          }\n        />\n        <div className={s['detail-border-box']}>\n          {typeof inputValue === 'string' ? (\n            <div className={s['detail-text']}>{inputValue}</div>\n          ) : (\n            <div className={s['react-json-container']}>\n              {Array.isArray(inputValue) ? (\n                <JsonLinkPreview\n                  src={inputValue}\n                  bot_id={botId}\n                  space_id={spaceId}\n                />\n              ) : (\n                <ReactJson\n                  src={inputValue}\n                  {...REACT_JSON_VIEW_CONFIG}\n                  style={{\n                    fontSize: 12,\n                  }}\n                />\n              )}\n            </div>\n          )}\n        </div>\n      </>\n    );\n  }, [isBatchNode, targetDetailSpan, curBatchPage]);\n\n  const outputArea = useMemo(() => {\n    const span = isBatchNode\n      ? (targetDetailSpan as CSPanBatch)?.spans[curBatchPage - 1]\n      : (targetDetailSpan as CSpanSingle);\n\n    const { status } = span;\n    const outputValue = jsonParse(\n      textWithFallback(span?.extra?.output) as string,\n    );\n\n    const isError = status === SpanStatus.Error;\n\n    return (\n      <>\n        <NodeDetailTitle\n          text={I18n.t('query_detail_title_output')}\n          copyContent={\n            typeof outputValue === 'string'\n              ? outputValue\n              : JSON.stringify(outputValue)\n          }\n        />\n        <div\n          className={classNames(\n            s['detail-border-box'],\n            isError && s['detail-border-box_error'],\n          )}\n        >\n          {typeof outputValue === 'string' ? (\n            <div className={s['detail-text']}>{outputValue}</div>\n          ) : (\n            <div className={s['react-json-container']}>\n              {Array.isArray(outputValue) ? (\n                <JsonLinkPreview\n                  src={outputValue}\n                  bot_id={botId}\n                  space_id={spaceId}\n                />\n              ) : (\n                <ReactJson\n                  src={outputValue}\n                  {...REACT_JSON_VIEW_CONFIG}\n                  style={{\n                    fontSize: 12,\n                  }}\n                />\n              )}\n            </div>\n          )}\n        </div>\n      </>\n    );\n  }, [isBatchNode, targetDetailSpan, curBatchPage]);\n\n  const topologyArea = useMemo(\n    () => (\n      <TopologyFlow\n        botId={botId}\n        spaceId={spaceId}\n        dataSource={{\n          type: DataSourceTypeEnum.SpanData,\n          spanData: spans,\n        }}\n        selectedSpanId={targetDetailSpan.id}\n        className={s['topology-flow']}\n        renderHeader={type => (\n          <div className={s['topology-flow-header']}>\n            <div className={s['topology-flow-header-title']}>\n              {I18n.t('analytic_query_detail_topology')}\n            </div>\n            <Tag size=\"small\" style={{ top: 1 }}>\n              {topologyTypeConfig[type]}\n            </Tag>\n          </div>\n        )}\n      />\n    ),\n    [botId, spaceId, spans, targetDetailSpan.id],\n  );\n\n  return (\n    <div className={s['detail-container']}>\n      <div className={s['detail-title-container']}>\n        {I18n.t('query_node_details')}\n      </div>\n      <NodeDescription cols={spanCols} />\n      <Divider margin={24} />\n      {batchArea}\n      {inputArea}\n      {outputArea}\n      {topologyArea}\n    </div>\n  );\n};\n","\n      import API from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n       export default content && content.locals ? content.locals : undefined;\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  type PropsWithChildren,\n  useCallback,\n  useEffect,\n  useState,\n} from 'react';\n\nimport { useShallow } from 'zustand/react/shallow';\nimport { Resizable } from 're-resizable';\nimport classNames from 'classnames';\nimport {\n  type CSpan,\n  DataSourceTypeEnum,\n  TraceFlamethread,\n  TraceTree,\n  type InteractionEventHandler,\n  type CTrace,\n} from '@coze-devops/common-modules/query-trace';\nimport { I18n } from '@coze-arch/i18n';\nimport { type TabsProps } from '@coze-arch/bot-semi/Tabs';\nimport { TabPane, Tabs } from '@coze-arch/bot-semi';\n\nimport { DebugPanelLayout } from '../../../typings';\nimport { useDebugPanelStore } from '../../../store';\nimport { useDebugPanelLayoutConfig } from '../../../hooks/use-debug-panel-layout-config';\nimport {\n  DEBUG_PANEL_LAYOUT_DEFAULT_TEMPLATE_INFO,\n  GraphTabEnum,\n} from '../../../consts/static';\n\nimport s from './index.module.less';\n\ninterface PanelChartProps {\n  rootSpan: CTrace;\n  spans: CSpan[];\n  targetDetailSpan?: CSpan;\n  onTargetDetailSpanChange: (detailSpan: CSpan) => void;\n}\n\nconst ChartResizableArea = (props: PropsWithChildren) => {\n  const { children } = props;\n  const [layoutConfig, setLayoutConfig] = useDebugPanelLayoutConfig();\n  return (\n    <Resizable\n      minHeight={\n        DEBUG_PANEL_LAYOUT_DEFAULT_TEMPLATE_INFO.side[DebugPanelLayout.Chat]\n          .height.min\n      }\n      maxHeight={\n        DEBUG_PANEL_LAYOUT_DEFAULT_TEMPLATE_INFO.side[DebugPanelLayout.Chat]\n          .height.max\n      }\n      minWidth=\"100%\"\n      enable={{\n        bottom: true,\n      }}\n      defaultSize={{\n        height: layoutConfig.side[DebugPanelLayout.Chat],\n        width: '100%',\n      }}\n      // eslint-disable-next-line max-params\n      onResizeStop={(e, d, el, delta) => {\n        setLayoutConfig(config => {\n          config.side[DebugPanelLayout.Chat] += delta.height;\n        });\n      }}\n    >\n      <div className={classNames(s['resize-container-chat'])}>{children}</div>\n    </Resizable>\n  );\n};\n\nexport const PanelChart = (props: PanelChartProps) => {\n  const { rootSpan, spans, targetDetailSpan, onTargetDetailSpanChange } = props;\n  const {\n    basicInfo: { spaceID },\n  } = useDebugPanelStore(\n    useShallow(state => ({\n      basicInfo: state.basicInfo,\n    })),\n  );\n  const [activeTab, setActiveTab] = useState<GraphTabEnum>(\n    GraphTabEnum.RunTree,\n  );\n\n  useEffect(() => {\n    onTargetDetailSpanChange(rootSpan as CSpan);\n  }, [rootSpan.id]);\n\n  const renderTabBar = useCallback<\n    Exclude<TabsProps['renderTabBar'], undefined>\n  >(tabBarProps => {\n    const { activeKey, list } = tabBarProps;\n\n    return (\n      <div className={s['chat-trace-tabs-bar']}>\n        {list?.map(({ tab, itemKey }) => (\n          <div\n            className={classNames(s['chat-trace-tabs-bar-tab-bar'], {\n              [s.active]: activeKey === itemKey,\n            })}\n            key={itemKey}\n            onClick={() => setActiveTab(itemKey as GraphTabEnum)}\n          >\n            {tab}\n          </div>\n        ))}\n      </div>\n    );\n  }, []);\n\n  const onFlamethreadClick: InteractionEventHandler = useCallback(\n    (_, element) => {\n      const { span } = element?.data?.[0]?.extra as { span: CSpan };\n      if (span?.id !== undefined) {\n        onTargetDetailSpanChange(span);\n      }\n    },\n    [],\n  );\n\n  return (\n    <ChartResizableArea>\n      <Tabs\n        className={s['chat-trace-tabs']}\n        activeKey={activeTab}\n        renderTabBar={renderTabBar}\n      >\n        <TabPane\n          tab={I18n.t('query_run_tree')}\n          itemKey={GraphTabEnum.RunTree}\n          className={s['chat-trace-tab-pane_scroll']}\n        >\n          <TraceTree\n            className={s['chat-trace-tree']}\n            dataSource={{\n              type: DataSourceTypeEnum.SpanData,\n              spanData: spans,\n            }}\n            spaceId={spaceID}\n            selectedSpanId={targetDetailSpan?.id}\n            onSelect={({ node }) => {\n              const { span } = node.extra as { span: CSpan };\n              if (span?.id !== undefined) {\n                onTargetDetailSpanChange(span);\n              }\n            }}\n          />\n        </TabPane>\n        <TabPane\n          tab={I18n.t('query_flamethread')}\n          className=\"h-full overflow-hidden\"\n          itemKey={GraphTabEnum.Flamethread}\n        >\n          <div className={s['chat-flamethread']}>\n            <TraceFlamethread\n              dataSource={{\n                type: DataSourceTypeEnum.SpanData,\n                spanData: spans,\n              }}\n              disableViewScroll\n              selectedSpanId={targetDetailSpan?.id}\n              axisLabelSuffix=\"ms\"\n              globalStyle={{\n                height: '100%',\n              }}\n              onClick={onFlamethreadClick}\n            />\n          </div>\n        </TabPane>\n      </Tabs>\n    </ChartResizableArea>\n  );\n};\n","\n      import API from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/style-loader/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/index.js??ruleSet[1].rules[10].use[1]!builtin:lightningcss-loader??ruleSet[1].rules[10].use[2]!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/postcss-loader/index.js??ruleSet[1].rules[10].use[3]!../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+plugin-less@1.1.1_@rsbuild+core@1.1.13/node_modules/@rsbuild/plugin-less/compiled/less-loader/index.js??ruleSet[1].rules[10].use[4]!./index.module.less\";\n       export default content && content.locals ? content.locals : undefined;\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useMemo } from 'react';\n\nimport {\n  useSpanTransform,\n  type CSpan,\n} from '@coze-devops/common-modules/query-trace';\nimport { Divider } from '@coze-arch/bot-semi';\nimport {\n  type TraceAdvanceInfo,\n  type Span,\n  SpanStatus,\n} from '@coze-arch/bot-api/ob_query_api';\n\nimport { PanelDetail } from '../detail';\nimport { PanelChart } from '../chart';\nimport { type TargetOverallSpanInfo } from '../../../typings';\nimport { type SpanCategory } from '../../../store';\n\nimport s from './index.module.less';\n\ninterface SpanInfoAreaProps {\n  botId: string;\n  spaceId: string;\n  targetDetailSpan?: CSpan;\n  orgDetailSpans?: Span[];\n  spanCategory?: SpanCategory;\n  targetOverallSpanInfo?: TargetOverallSpanInfo;\n  curBatchPage?: number;\n  setTargetDetailSpan: (targetDetailSpan: CSpan) => void;\n  setCurBatchPage: (curBatchPage: number) => void;\n}\n\nexport const SpanInfoArea = (props: SpanInfoAreaProps) => {\n  const {\n    botId,\n    spaceId,\n    targetDetailSpan,\n    orgDetailSpans,\n    spanCategory,\n    targetOverallSpanInfo,\n    curBatchPage,\n    setTargetDetailSpan,\n    setCurBatchPage,\n  } = props;\n\n  const {\n    status = SpanStatus.Unknown,\n    input_tokens_sum = 0,\n    output_tokens_sum = 0,\n  } = targetOverallSpanInfo?.span ?? {};\n\n  const traceAdvanceInfo: Omit<TraceAdvanceInfo, 'trace_id'> = useMemo(\n    () => ({\n      tokens: {\n        input: input_tokens_sum,\n        output: output_tokens_sum,\n      },\n      status,\n    }),\n    [input_tokens_sum, output_tokens_sum, status],\n  );\n\n  const { rootSpan, spans } = useSpanTransform({\n    orgSpans: orgDetailSpans ?? [],\n    traceAdvanceInfo,\n    // @ts-expect-error fix me late\n    spanCategoryMeta: spanCategory,\n  });\n\n  return (\n    <>\n      <div className={s['side-debug-panel-container-scroll-box-chat']}>\n        {orgDetailSpans && spanCategory && targetOverallSpanInfo ? (\n          <PanelChart\n            rootSpan={rootSpan}\n            spans={spans}\n            targetDetailSpan={targetDetailSpan}\n            onTargetDetailSpanChange={detailSpan => {\n              setCurBatchPage(1);\n              setTargetDetailSpan(detailSpan);\n            }}\n          />\n        ) : null}\n      </div>\n\n      <Divider className={s['side-debug-panel-divider']} />\n      <div className={s['side-debug-panel-container-scroll-box-detail']}>\n        {targetDetailSpan && curBatchPage ? (\n          <PanelDetail\n            botId={botId}\n            spaceId={spaceId}\n            spans={spans}\n            targetDetailSpan={targetDetailSpan}\n            curBatchPage={curBatchPage}\n            setCurBatchPage={setCurBatchPage}\n          />\n        ) : null}\n      </div>\n    </>\n  );\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* eslint-disable max-lines-per-function */\n/* eslint-disable max-params */\n/* eslint-disable @coze-arch/max-line-per-function */\nimport { useRef, useState } from 'react';\n\nimport { Resizable } from 're-resizable';\nimport qs from 'qs';\nimport { useAsyncEffect } from 'ahooks';\nimport { IllustrationNoResult } from '@douyinfe/semi-illustrations';\nimport { type CSpan } from '@coze-devops/common-modules/query-trace';\nimport { I18n } from '@coze-arch/i18n';\nimport { Divider, Empty, Spin } from '@coze-arch/bot-semi';\nimport { type SpanStatus, SpanType } from '@coze-arch/bot-api/ob_query_api';\nimport { obQueryApi } from '@coze-arch/bot-api';\n\nimport { PanelSummary } from '../summary';\nimport { QueryFilter } from '../query-filter';\nimport { PanelHeader } from '../header';\nimport { enhanceOriginalSpan, getSpanProp } from '../../../utils/span';\nimport { getDailyTimestampByDate } from '../../../utils';\nimport { DebugPanelLayout } from '../../../typings';\nimport { useDebugPanelStore } from '../../../store';\nimport { useDebugPanelLayoutConfig } from '../../../hooks/use-debug-panel-layout-config';\nimport { DEBUG_PANEL_LAYOUT_DEFAULT_TEMPLATE_INFO } from '../../../consts/static';\nimport {\n  FILTERING_LIMIT,\n  FILTERING_OPTION_ALL,\n  INITIAL_OFFSET,\n  TRACES_ADVANCE_INFO_TIME_BUFFER,\n} from '../../../consts';\nimport { SpanInfoArea } from './span-info';\n\nimport s from './index.module.less';\n\nexport interface SideDebugPanelProps {\n  onClose: () => void;\n}\n\nexport const SideDebugPanel = (props: SideDebugPanelProps) => {\n  const { onClose } = props;\n  const [subAreaLoading, setSubAreaLoading] = useState(false);\n  const [showLoadMore, setShowLoadMore] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const {\n    basicInfo: { spaceID = '', botId = '' },\n    isPanelShow,\n    targetDateId,\n    targetExecuteStatusId,\n    targetOverallSpanInfo,\n    enhancedOverallSpans,\n    spanCategory,\n    orgDetailSpans,\n    targetDetailSpan,\n    curBatchPage,\n    entranceMessageLogId,\n    setTargetOverallSpanInfo,\n    onSelectDate,\n    onSelectExecuteStatus,\n    setEnhancedOverallSpans,\n    setOrgDetailSpans,\n    setSpanCategory,\n    setTargetDetailSpan,\n    setCurBatchPage,\n  } = useDebugPanelStore();\n\n  const queryOffsetRef = useRef(INITIAL_OFFSET);\n\n  const [layoutConfig, setLayoutConfig] = useDebugPanelLayoutConfig();\n\n  const handleFetchQuery = async (inputSearch?: string, loadMore?: boolean) => {\n    if (!loadMore) {\n      setShowLoadMore(false);\n      queryOffsetRef.current = INITIAL_OFFSET;\n    }\n    const { data } = await obQueryApi.ListDebugQueries(\n      {\n        spaceID,\n        botID: botId,\n        status:\n          targetExecuteStatusId === FILTERING_OPTION_ALL\n            ? undefined\n            : [targetExecuteStatusId as SpanStatus],\n        inputSearch,\n        limit: FILTERING_LIMIT,\n        pageToken:\n          queryOffsetRef.current === INITIAL_OFFSET\n            ? undefined\n            : queryOffsetRef.current,\n        ...getDailyTimestampByDate(targetDateId),\n      },\n      {\n        paramsSerializer: p => qs.stringify(p, { arrayFormat: 'comma' }),\n      },\n    );\n    queryOffsetRef.current =\n      data?.next_page_token && data.next_page_token !== ''\n        ? data.next_page_token\n        : INITIAL_OFFSET;\n    const originSpans = data?.spans ?? [];\n    setShowLoadMore(data?.has_more ?? false);\n\n    if (originSpans.length === 0) {\n      setEnhancedOverallSpans([]);\n      return [];\n    }\n    const {\n      data: { traces_advance_info: traceAdvanceInfo },\n    } = await obQueryApi.BatchGetTracesAdvanceInfo({\n      space_id: spaceID ?? '',\n      bot_id: botId ?? '',\n      traces: originSpans.map(item => {\n        const { trace_id, start_time, latency } = item;\n        return {\n          trace_id,\n          start_time,\n          end_time: String(\n            Number(start_time) +\n              Number(latency) +\n              TRACES_ADVANCE_INFO_TIME_BUFFER,\n          ),\n        };\n      }),\n    });\n    const enhancedSpans = enhanceOriginalSpan(originSpans, traceAdvanceInfo);\n    const spans = loadMore\n      ? [...enhancedOverallSpans, ...enhancedSpans]\n      : enhancedSpans;\n    setEnhancedOverallSpans(spans);\n    return spans;\n  };\n\n  const handleFetchQueryDetail = async (logId: string) => {\n    const {\n      data: { spans },\n    } = await obQueryApi.GetTraceByLogID({\n      space_id: spaceID,\n      bot_id: botId,\n      log_id: logId,\n    });\n    setOrgDetailSpans(spans);\n    return spans;\n  };\n\n  const handleFetchTracesMetaInfo = async () => {\n    const { data } = await obQueryApi.GetTracesMetaInfo();\n    setSpanCategory(data?.span_category);\n  };\n\n  const selectQueryAuto = (span: CSpan) => {\n    const logId = getSpanProp(span, 'log_id') as string;\n    const input = getSpanProp(span, 'simple_input') as string;\n    const output = getSpanProp(span, 'output') as string;\n    setTargetOverallSpanInfo({\n      value: logId,\n      input,\n      output,\n      span,\n    });\n  };\n\n  useAsyncEffect(async () => {\n    if (targetOverallSpanInfo) {\n      const { span } = targetOverallSpanInfo;\n      const logId = getSpanProp(span, 'log_id') as string;\n      setSubAreaLoading(true);\n      try {\n        await handleFetchQueryDetail(logId);\n      } finally {\n        setSubAreaLoading(false);\n      }\n    }\n  }, [targetOverallSpanInfo]);\n\n  useAsyncEffect(async () => {\n    if (isPanelShow) {\n      setLoading(true);\n      onSelectDate(FILTERING_OPTION_ALL);\n      onSelectExecuteStatus(FILTERING_OPTION_ALL);\n      if (!spanCategory) {\n        await handleFetchTracesMetaInfo();\n      }\n      // Enter from a message\n      if (entranceMessageLogId) {\n        try {\n          const spans = await handleFetchQueryDetail(entranceMessageLogId);\n          const userInputSpan = spans.find(\n            item => item.type === SpanType.UserInput,\n          );\n          if (userInputSpan) {\n            const { trace_id, start_time, latency } = userInputSpan;\n            const {\n              data: { traces_advance_info: traceAdvanceInfo },\n            } = await obQueryApi.BatchGetTracesAdvanceInfo({\n              space_id: spaceID,\n              bot_id: botId,\n              traces: [\n                {\n                  trace_id,\n                  start_time,\n                  end_time: String(\n                    Number(start_time) +\n                      Number(latency) +\n                      TRACES_ADVANCE_INFO_TIME_BUFFER,\n                  ),\n                },\n              ],\n            });\n\n            const userInputCSpan = enhanceOriginalSpan(\n              [userInputSpan],\n              traceAdvanceInfo,\n            )?.[0];\n            selectQueryAuto(userInputCSpan);\n          }\n        } finally {\n          setLoading(false);\n        }\n      }\n      //Direct entry\n      else {\n        try {\n          const spans = await handleFetchQuery();\n          const latestTrace = spans?.[0] as CSpan | undefined;\n          if (latestTrace) {\n            selectQueryAuto(latestTrace);\n          }\n        } finally {\n          setLoading(false);\n        }\n      }\n    }\n  }, [isPanelShow, entranceMessageLogId]);\n\n  return (\n    <Resizable\n      minWidth={\n        DEBUG_PANEL_LAYOUT_DEFAULT_TEMPLATE_INFO.side[DebugPanelLayout.Overall]\n          .width.min\n      }\n      maxWidth={\n        DEBUG_PANEL_LAYOUT_DEFAULT_TEMPLATE_INFO.side[DebugPanelLayout.Overall]\n          .width.max\n      }\n      enable={{\n        left: true,\n      }}\n      defaultSize={{\n        height: '100%',\n        width: layoutConfig.side[DebugPanelLayout.Overall],\n      }}\n      onResizeStop={(e, d, el, delta) => {\n        setLayoutConfig(config => {\n          config.side[DebugPanelLayout.Overall] += delta.width;\n        });\n      }}\n    >\n      <div className={s['side-debug-panel']}>\n        <PanelHeader onClose={onClose} />\n        {loading ? (\n          <div className={s['side-debug-panel-no-data']}>\n            <Spin />\n          </div>\n        ) : (\n          <>\n            <div className={s['side-debug-panel-container']}>\n              <div className={s['side-debug-panel-container-sheet']}>\n                <QueryFilter\n                  targetDateId={targetDateId}\n                  targetExecuteStatusId={targetExecuteStatusId}\n                  targetOverallSpanInfo={targetOverallSpanInfo}\n                  enhancedOverallSpans={enhancedOverallSpans}\n                  showLoadMore={showLoadMore}\n                  onSelectDate={onSelectDate}\n                  onSelectExecuteStatus={onSelectExecuteStatus}\n                  onSelectQuery={setTargetOverallSpanInfo}\n                  onFetchQuery={handleFetchQuery}\n                />\n              </div>\n              {!targetOverallSpanInfo ? (\n                <div className={s['side-debug-panel-no-data']}>\n                  <Empty\n                    image={<IllustrationNoResult />}\n                    description={I18n.t('query_data_empty')}\n                  />\n                </div>\n              ) : (\n                <div className={s['side-debug-panel-container-scroll-box']}>\n                  <Resizable\n                    minHeight={\n                      DEBUG_PANEL_LAYOUT_DEFAULT_TEMPLATE_INFO.side[\n                        DebugPanelLayout.Summary\n                      ].height.min\n                    }\n                    maxHeight={\n                      DEBUG_PANEL_LAYOUT_DEFAULT_TEMPLATE_INFO.side[\n                        DebugPanelLayout.Summary\n                      ].height.max\n                    }\n                    minWidth=\"100%\"\n                    enable={{\n                      bottom: true,\n                    }}\n                    defaultSize={{\n                      height: layoutConfig.side[DebugPanelLayout.Summary],\n                      width: '100%',\n                    }}\n                    onResizeStop={(e, d, el, delta) => {\n                      setLayoutConfig(config => {\n                        config.side[DebugPanelLayout.Summary] += delta.height;\n                      });\n                    }}\n                  >\n                    <div\n                      className={\n                        s['side-debug-panel-container-scroll-box-summary']\n                      }\n                    >\n                      {targetOverallSpanInfo ? (\n                        <PanelSummary\n                          targetOverallSpanInfo={targetOverallSpanInfo}\n                        />\n                      ) : null}\n                    </div>\n                  </Resizable>\n                  <Divider className={s['side-debug-panel-divider']} />\n                  {subAreaLoading ? (\n                    <div\n                      className={\n                        s['side-debug-panel-container-scroll-box-sub-loading']\n                      }\n                    >\n                      <Spin />\n                    </div>\n                  ) : (\n                    <SpanInfoArea\n                      botId={botId}\n                      spaceId={spaceID}\n                      targetDetailSpan={targetDetailSpan}\n                      orgDetailSpans={orgDetailSpans}\n                      spanCategory={spanCategory}\n                      targetOverallSpanInfo={targetOverallSpanInfo}\n                      curBatchPage={curBatchPage}\n                      setTargetDetailSpan={setTargetDetailSpan}\n                      setCurBatchPage={setCurBatchPage}\n                    />\n                  )}\n                </div>\n              )}\n            </div>\n          </>\n        )}\n      </div>\n    </Resizable>\n  );\n};\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport './main.css';\n\nimport { DebugPanel } from './components/debug-panel';\nexport type { DebugPanelProps } from './components/debug-panel';\n\nexport default DebugPanel;\n","/*\n * Copyright 2025 coze-dev Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useEffect } from 'react';\n\nimport { EVENT_NAMES, sendTeaEvent } from '@coze-arch/bot-tea';\n\nimport { useDebugPanelStore } from '../../store';\nimport { SideDebugPanel } from './side-panel';\n\nexport interface DebugPanelProps {\n  botId: string;\n  spaceID?: string;\n  userID?: string;\n  placement: 'left';\n  currentQueryLogId: string;\n  isShow: boolean;\n  onClose: () => void;\n}\n\nexport const DebugPanel = (props: DebugPanelProps) => {\n  const {\n    botId,\n    spaceID,\n    userID,\n    placement,\n    currentQueryLogId,\n    isShow,\n    onClose,\n  } = props;\n  const { setBasicInfo, setEntranceMessageLogId, setIsPanelShow, resetStore } =\n    useDebugPanelStore();\n\n  useEffect(() => {\n    setBasicInfo({\n      botId,\n      spaceID,\n      userID,\n      placement,\n    });\n    setEntranceMessageLogId(currentQueryLogId);\n    setIsPanelShow(isShow);\n  }, [botId, spaceID, userID, placement, isShow, currentQueryLogId]);\n\n  useEffect(() => {\n    sendTeaEvent(EVENT_NAMES.debug_page_show, {\n      bot_id: botId,\n      workspace_id: spaceID,\n    });\n  }, []);\n\n  const onDebugPanelClose = () => {\n    onClose();\n  };\n\n  useEffect(\n    () => () => {\n      resetStore();\n    },\n    [],\n  );\n\n  return <SideDebugPanel onClose={onDebugPanelClose} />;\n};\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.batch-edge-info-container-kSwVsF{color:rgba(29,28,35,.8);background:#f7f7fa;border-radius:4px;justify-content:center;align-items:center;padding:2px 4px;font-size:14px;display:flex}.batch-edge-info-container_error-gxQ3vT{color:#ff441e;background:#fff3ee;font-weight:600}`, \"\"]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"batch-edge-info-container\": `batch-edge-info-container-kSwVsF`,\n\t\"batchEdgeInfoContainer\": `batch-edge-info-container-kSwVsF`,\n\t\"batch-edge-info-container_error\": `batch-edge-info-container_error-gxQ3vT`,\n\t\"batchEdgeInfoContainerError\": `batch-edge-info-container_error-gxQ3vT`\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.common-node-JvJ2AT{width:auto;height:24px}.common-node-JvJ2AT .common-node-container-w3Kpdm{color:rgba(29,28,35,.8);border-radius:4px;align-items:center;gap:8px;width:100%;height:24px;padding:2px 4px;font-size:14px;display:flex}.common-node-JvJ2AT .common-node-container-w3Kpdm .common-node-container-text-_13tv6{max-width:200px;font-size:inherit;font-weight:inherit;color:inherit}.common-node-JvJ2AT .common-node-container_static-trScJy{background:0 0}.common-node-JvJ2AT .common-node-container_dynamic-BZYvoL{background:#edf9ee}.common-node-JvJ2AT .common-node-container_error-X9ymdf{color:#ff441e;background:#fff3ee;font-weight:600}.common-node-JvJ2AT .react-flow__handle{visibility:hidden}`, \"\"]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"common-node\": `common-node-JvJ2AT`,\n\t\"commonNode\": `common-node-JvJ2AT`,\n\t\"common-node-container\": `common-node-container-w3Kpdm`,\n\t\"commonNodeContainer\": `common-node-container-w3Kpdm`,\n\t\"common-node-container-text\": `common-node-container-text-_13tv6`,\n\t\"commonNodeContainerText\": `common-node-container-text-_13tv6`,\n\t\"common-node-container_static\": `common-node-container_static-trScJy`,\n\t\"commonNodeContainerStatic\": `common-node-container_static-trScJy`,\n\t\"common-node-container_dynamic\": `common-node-container_dynamic-BZYvoL`,\n\t\"commonNodeContainerDynamic\": `common-node-container_dynamic-BZYvoL`,\n\t\"common-node-container_error\": `common-node-container_error-X9ymdf`,\n\t\"commonNodeContainerError\": `common-node-container_error-X9ymdf`\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.topology-flow-OfzKmc .topology-flow-loading-MVvJEQ{justify-content:center;align-items:center;width:100%;height:100%;display:flex}.topology-flow-OfzKmc .topology-flow-loading-MVvJEQ .semi-spin-children{background:0 0!important}.topology-flow-OfzKmc .topology-flow-container-vPFmvR{flex-direction:column;width:100%;height:100%;display:flex}.topology-flow-OfzKmc .topology-flow-container-vPFmvR .topology-flow-container-flow-fDMbdq{flex:1}.topology-flow_default-Kv2v6O{width:100%;height:300px;padding:24px}`, \"\"]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"topology-flow\": `topology-flow-OfzKmc`,\n\t\"topologyFlow\": `topology-flow-OfzKmc`,\n\t\"topology-flow-loading\": `topology-flow-loading-MVvJEQ`,\n\t\"topologyFlowLoading\": `topology-flow-loading-MVvJEQ`,\n\t\"topology-flow-container\": `topology-flow-container-vPFmvR`,\n\t\"topologyFlowContainer\": `topology-flow-container-vPFmvR`,\n\t\"topology-flow-container-flow\": `topology-flow-container-flow-fDMbdq`,\n\t\"topologyFlowContainerFlow\": `topology-flow-container-flow-fDMbdq`,\n\t\"topology-flow_default\": `topology-flow_default-Kv2v6O`,\n\t\"topologyFlowDefault\": `topology-flow_default-Kv2v6O`\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.trace-tree-daHv3i .trace-tree-node-NwtnZm{cursor:pointer;align-items:stretch;display:flex}.trace-tree-daHv3i .trace-tree-node-NwtnZm .title-cR4Se1{color:#1d1c23;white-space:nowrap;border-radius:2px;align-items:center;margin-left:4px;padding:0 4px;font-size:12px;display:flex}.trace-tree-daHv3i .trace-tree-node-NwtnZm.selected .title-cR4Se1{background:rgba(46,46,56,.12)}.trace-tree-daHv3i .trace-tree-node-NwtnZm.hover .title-cR4Se1{background:rgba(46,46,56,.08)}.trace-tree-daHv3i .trace-tree-node-NwtnZm.error .title-cR4Se1{color:#ff441e}.trace-tree-daHv3i .trace-tree-node-NwtnZm.error.selected .title-cR4Se1{background:#ffe0d2}.trace-tree-daHv3i .trace-tree-node-NwtnZm.error.hover .title-cR4Se1{background:#fff3ee}.trace-tree-daHv3i .trace-tree-node-NwtnZm.disabled{cursor:default}`, \"\"]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"trace-tree\": `trace-tree-daHv3i`,\n\t\"traceTree\": `trace-tree-daHv3i`,\n\t\"trace-tree-node\": `trace-tree-node-NwtnZm`,\n\t\"traceTreeNode\": `trace-tree-node-NwtnZm`,\n\t\"title\": `title-cR4Se1`\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.tree-AQppr5{box-sizing:border-box;display:flex;overflow:auto}.tree-AQppr5 .tree-container-bZJndT{width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;position:relative}.tree-AQppr5 .tree-container-bZJndT .tree-path-list-tozB7e{width:100%;height:100%;position:absolute}.tree-AQppr5 .tree-container-bZJndT .tree-node-list-FcrMgS{position:relative}.tree-AQppr5 .tree-container-bZJndT .tree-node-list-FcrMgS .tree-node-_SulNE{align-items:flex-start;display:flex}.tree-AQppr5 .tree-container-bZJndT .tree-node-list-FcrMgS .tree-node-_SulNE .tree-node-box-TWuJBK{align-items:stretch;display:flex}`, \"\"]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"tree\": `tree-AQppr5`,\n\t\"tree-container\": `tree-container-bZJndT`,\n\t\"treeContainer\": `tree-container-bZJndT`,\n\t\"tree-path-list\": `tree-path-list-tozB7e`,\n\t\"treePathList\": `tree-path-list-tozB7e`,\n\t\"tree-node-list\": `tree-node-list-FcrMgS`,\n\t\"treeNodeList\": `tree-node-list-FcrMgS`,\n\t\"tree-node\": `tree-node-_SulNE`,\n\t\"treeNode\": `tree-node-_SulNE`,\n\t\"tree-node-box\": `tree-node-box-TWuJBK`,\n\t\"treeNodeBox\": `tree-node-box-TWuJBK`\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.chat-trace-tabs-swZs04{flex-direction:column;height:100%;display:flex;overflow:hidden}.chat-trace-tabs-swZs04 .semi-tabs-content{flex:1;padding:0;overflow:hidden}.chat-trace-tabs-swZs04 .semi-tabs-pane-motion-overlay{height:100%}.chat-trace-tabs-bar-lBPXWt{align-items:center;gap:12px;padding:24px 24px 10px;display:flex}.chat-trace-tabs-bar-lBPXWt .chat-trace-tabs-bar-tab-bar-tTm7aE{cursor:pointer;color:var(--Light-usage-text---color-text-1,rgba(29,28,35,.8));padding:0 4px;font-size:16px;font-weight:600;line-height:22px}.chat-trace-tabs-bar-lBPXWt .chat-trace-tabs-bar-tab-bar-tTm7aE.active-phOvy2{color:var(--Light-color-brand---brand-5,#4d53e8)}.chat-trace-tab-pane_scroll-suHQVz{height:100%;overflow:auto}.chat-trace-tab-pane_scroll-suHQVz::-webkit-scrollbar-thumb{background-color:rgba(125,125,125,.3);background-clip:padding-box;border:2px solid transparent;border-radius:9999px;transition:background .2s cubic-bezier(.34,.69,.1,1)}.chat-trace-tab-pane_scroll-suHQVz::-webkit-scrollbar{background-color:transparent;width:11px;height:11px}.chat-trace-tab-pane_scroll-suHQVz::-webkit-scrollbar-thumb:hover{background-color:rgba(125,125,125,.6)!important}.chat-trace-tab-pane_scroll-suHQVz::-webkit-scrollbar:hover{width:11px;height:11px}.chat-trace-tab-pane_scroll-suHQVz::-webkit-scrollbar-button{display:none}.chat-trace-tab-pane_scroll-suHQVz::-webkit-scrollbar-track{background-color:transparent}.chat-trace-tab-pane_scroll-suHQVz::-webkit-scrollbar-corner{background-color:transparent}.chat-trace-tree-czqlxr{height:100%;padding:8px 24px 20px;overflow:visible}.chat-flamethread-jNBJKZ{height:100%;padding:0 10px 20px 24px;overflow:hidden}.resize-container-chat-KBeopq{width:100%;height:100%}`, \"\"]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"chat-trace-tabs\": `chat-trace-tabs-swZs04`,\n\t\"chatTraceTabs\": `chat-trace-tabs-swZs04`,\n\t\"chat-trace-tabs-bar\": `chat-trace-tabs-bar-lBPXWt`,\n\t\"chatTraceTabsBar\": `chat-trace-tabs-bar-lBPXWt`,\n\t\"chat-trace-tabs-bar-tab-bar\": `chat-trace-tabs-bar-tab-bar-tTm7aE`,\n\t\"chatTraceTabsBarTabBar\": `chat-trace-tabs-bar-tab-bar-tTm7aE`,\n\t\"active\": `active-phOvy2`,\n\t\"chat-trace-tab-pane_scroll\": `chat-trace-tab-pane_scroll-suHQVz`,\n\t\"chatTraceTabPaneScroll\": `chat-trace-tab-pane_scroll-suHQVz`,\n\t\"chat-trace-tree\": `chat-trace-tree-czqlxr`,\n\t\"chatTraceTree\": `chat-trace-tree-czqlxr`,\n\t\"chat-flamethread\": `chat-flamethread-jNBJKZ`,\n\t\"chatFlamethread\": `chat-flamethread-jNBJKZ`,\n\t\"resize-container-chat\": `resize-container-chat-KBeopq`,\n\t\"resizeContainerChat\": `resize-container-chat-KBeopq`\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.description-container-L7aSjR{justify-content:space-between;gap:24px;display:flex}.description-container-L7aSjR .description-container-box-eJOF2f{flex-direction:column;flex:1;width:0;display:flex}.description-container-L7aSjR .description-container-box-eJOF2f .description-container-item-mgjIFy{text-align:left;align-items:center;width:100%;font-size:12px;line-height:22px;display:flex}.description-container-L7aSjR .description-container-box-eJOF2f .description-container-item-mgjIFy .description-container-item-key-lDwk1N{color:var(--Light-usage-text---color-text-3,rgba(29,28,35,.35));flex-shrink:0}.description-container-L7aSjR .description-container-box-eJOF2f .description-container-item-mgjIFy .description-container-item-value-wTU00z{width:0;color:var(--Light-usage-text---color-text-1,rgba(29,28,35,.8));flex:1;display:flex}.node-detail-title-LGz7Uq{justify-content:space-between;align-items:center;height:20px;margin:20px 0 17px;display:flex}.node-detail-title-LGz7Uq .node-detail-title-left-ZuAIlN{color:var(--Light-color-black---black,#000);font-size:14px;font-weight:600}.node-detail-title-LGz7Uq .node-detail-title-right-NveqdG{color:var(--Light-usage-text---color-text-2,rgba(29,28,35,.6));font-size:12px}.common-container-HPOyN2{align-items:center;width:100%;display:flex}.common-container-HPOyN2 .semi-typography-action-copied{vertical-align:middle}.common-container-HPOyN2 svg{transform:translateY(-1px)}.common-text-content-LvuNov{max-width:400px}.copy-icon-PgLk1T{color:#6b6b75}.description-container-with-full-line-R8jFWz .description-container-with-full-line-item-UTOhoN{text-align:left;align-items:center;font-size:12px;line-height:22px;display:flex}.description-container-with-full-line-R8jFWz .description-container-with-full-line-item-UTOhoN:nth-child(2){min-width:182px}.description-container-with-full-line-R8jFWz .description-container-with-full-line-item-UTOhoN .description-container-with-full-line-item-key-xIPtXp{color:var(--Light-usage-text---color-text-3,rgba(29,28,35,.35));flex-shrink:0}.description-container-with-full-line-R8jFWz .description-container-with-full-line-item-UTOhoN .description-container-with-full-line-item-value-GAmA_j{width:0;color:var(--Light-usage-text---color-text-1,rgba(29,28,35,.8));flex:1;display:flex}`, \"\"]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"description-container\": `description-container-L7aSjR`,\n\t\"descriptionContainer\": `description-container-L7aSjR`,\n\t\"description-container-box\": `description-container-box-eJOF2f`,\n\t\"descriptionContainerBox\": `description-container-box-eJOF2f`,\n\t\"description-container-item\": `description-container-item-mgjIFy`,\n\t\"descriptionContainerItem\": `description-container-item-mgjIFy`,\n\t\"description-container-item-key\": `description-container-item-key-lDwk1N`,\n\t\"descriptionContainerItemKey\": `description-container-item-key-lDwk1N`,\n\t\"description-container-item-value\": `description-container-item-value-wTU00z`,\n\t\"descriptionContainerItemValue\": `description-container-item-value-wTU00z`,\n\t\"node-detail-title\": `node-detail-title-LGz7Uq`,\n\t\"nodeDetailTitle\": `node-detail-title-LGz7Uq`,\n\t\"node-detail-title-left\": `node-detail-title-left-ZuAIlN`,\n\t\"nodeDetailTitleLeft\": `node-detail-title-left-ZuAIlN`,\n\t\"node-detail-title-right\": `node-detail-title-right-NveqdG`,\n\t\"nodeDetailTitleRight\": `node-detail-title-right-NveqdG`,\n\t\"common-container\": `common-container-HPOyN2`,\n\t\"commonContainer\": `common-container-HPOyN2`,\n\t\"common-text-content\": `common-text-content-LvuNov`,\n\t\"commonTextContent\": `common-text-content-LvuNov`,\n\t\"copy-icon\": `copy-icon-PgLk1T`,\n\t\"copyIcon\": `copy-icon-PgLk1T`,\n\t\"description-container-with-full-line\": `description-container-with-full-line-R8jFWz`,\n\t\"descriptionContainerWithFullLine\": `description-container-with-full-line-R8jFWz`,\n\t\"description-container-with-full-line-item\": `description-container-with-full-line-item-UTOhoN`,\n\t\"descriptionContainerWithFullLineItem\": `description-container-with-full-line-item-UTOhoN`,\n\t\"description-container-with-full-line-item-key\": `description-container-with-full-line-item-key-xIPtXp`,\n\t\"descriptionContainerWithFullLineItemKey\": `description-container-with-full-line-item-key-xIPtXp`,\n\t\"description-container-with-full-line-item-value\": `description-container-with-full-line-item-value-GAmA_j`,\n\t\"descriptionContainerWithFullLineItemValue\": `description-container-with-full-line-item-value-GAmA_j`\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.detail-container-_Nq0E5 .detail-title-container-tYmzwm{color:#000;padding:24px 0 10px;font-size:14px;font-weight:600}.detail-container-_Nq0E5 .detail-border-box-jasOP8{border:1px solid rgba(29,28,35,.08);border-radius:8px;max-height:340px;padding:8px 4px;font-family:Menlo;overflow:auto}.detail-container-_Nq0E5 .detail-border-box-jasOP8::-webkit-scrollbar-thumb{background-color:rgba(125,125,125,.3);background-clip:padding-box;border:2px solid transparent;border-radius:9999px;transition:background .2s cubic-bezier(.34,.69,.1,1)}.detail-container-_Nq0E5 .detail-border-box-jasOP8::-webkit-scrollbar{background-color:transparent;width:11px;height:11px}.detail-container-_Nq0E5 .detail-border-box-jasOP8::-webkit-scrollbar-thumb:hover{background-color:rgba(125,125,125,.6)!important}.detail-container-_Nq0E5 .detail-border-box-jasOP8::-webkit-scrollbar:hover{width:11px;height:11px}.detail-container-_Nq0E5 .detail-border-box-jasOP8::-webkit-scrollbar-button{display:none}.detail-container-_Nq0E5 .detail-border-box-jasOP8::-webkit-scrollbar-track{background-color:transparent}.detail-container-_Nq0E5 .detail-border-box-jasOP8::-webkit-scrollbar-corner{background-color:transparent}.detail-container-_Nq0E5 .detail-border-box_error-L3lAzN{border:1px solid #ff441e}.detail-container-_Nq0E5 .detail-text-SKWTy5{color:#1d1c23;word-break:break-word;white-space:pre-wrap;font-size:12px}.detail-container-_Nq0E5 .detail-pagination-G1VFqv{margin-bottom:10px}.detail-container-_Nq0E5 .detail-pagination-G1VFqv .semi-page-prev{display:none}.detail-container-_Nq0E5 .detail-pagination-G1VFqv .semi-page-next{display:none}.detail-container-_Nq0E5 .detail-pagination-G1VFqv .semi-page-item{background:0 0;border:1px solid rgba(29,28,35,.08);border-radius:8px}.detail-container-_Nq0E5 .detail-pagination-G1VFqv .semi-page-item.semi-page-item-active{color:#4d53e8;background:#f1f2fd;border:none;border-radius:8px;font-weight:600}.detail-container-_Nq0E5 .detail-pagination-G1VFqv .semi-page-item:hover{color:#4d53e8;background:#f1f2fd;border:none;border-radius:8px;font-weight:600}.detail-container-_Nq0E5 .react-json-container-khs7Rn .string-value{word-break:break-word}.detail-container-_Nq0E5 .topology-flow-xf0iG8{width:100%;height:300px;padding:24px 0}.detail-container-_Nq0E5 .topology-flow-xf0iG8 .topology-flow-header-Qe9UqK{align-items:center;width:100%;height:20px;margin-bottom:16px;display:flex}.detail-container-_Nq0E5 .topology-flow-xf0iG8 .topology-flow-header-Qe9UqK .topology-flow-header-title-Ra4yqE{color:#1d1c23;margin-right:4px;font-size:14px;font-weight:600}`, \"\"]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"detail-container\": `detail-container-_Nq0E5`,\n\t\"detailContainer\": `detail-container-_Nq0E5`,\n\t\"detail-title-container\": `detail-title-container-tYmzwm`,\n\t\"detailTitleContainer\": `detail-title-container-tYmzwm`,\n\t\"detail-border-box\": `detail-border-box-jasOP8`,\n\t\"detailBorderBox\": `detail-border-box-jasOP8`,\n\t\"detail-border-box_error\": `detail-border-box_error-L3lAzN`,\n\t\"detailBorderBoxError\": `detail-border-box_error-L3lAzN`,\n\t\"detail-text\": `detail-text-SKWTy5`,\n\t\"detailText\": `detail-text-SKWTy5`,\n\t\"detail-pagination\": `detail-pagination-G1VFqv`,\n\t\"detailPagination\": `detail-pagination-G1VFqv`,\n\t\"react-json-container\": `react-json-container-khs7Rn`,\n\t\"reactJsonContainer\": `react-json-container-khs7Rn`,\n\t\"topology-flow\": `topology-flow-xf0iG8`,\n\t\"topologyFlow\": `topology-flow-xf0iG8`,\n\t\"topology-flow-header\": `topology-flow-header-Qe9UqK`,\n\t\"topologyFlowHeader\": `topology-flow-header-Qe9UqK`,\n\t\"topology-flow-header-title\": `topology-flow-header-title-Ra4yqE`,\n\t\"topologyFlowHeaderTitle\": `topology-flow-header-title-Ra4yqE`\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.panel-header-BwStWY{background-color:var(--light-color-grey-grey-0,#f7f7fa);border-bottom:1px solid var(--light-usage-border-color-border,rgba(29,28,35,.08));align-items:center;height:56px;padding:16px 24px;display:flex}.panel-header-BwStWY .panel-header-title-RfAGRy{color:var(--light-usage-text-color-text-0,#1c1d23);flex-shrink:0;margin-right:24px;font-size:18px;font-weight:600;line-height:24px}.panel-header-BwStWY .panel-header-option-yJgLbK{flex-wrap:nowrap;flex:1;justify-content:flex-end;align-items:center;width:0;display:flex}.panel-header-BwStWY .panel-header-option-yJgLbK .panel-header-option-icon-VoLV9y{color:var(--light-usage-text-color-text-2,rgba(29,28,35,.6))}`, \"\"]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"panel-header\": `panel-header-BwStWY`,\n\t\"panelHeader\": `panel-header-BwStWY`,\n\t\"panel-header-title\": `panel-header-title-RfAGRy`,\n\t\"panelHeaderTitle\": `panel-header-title-RfAGRy`,\n\t\"panel-header-option\": `panel-header-option-yJgLbK`,\n\t\"panelHeaderOption\": `panel-header-option-yJgLbK`,\n\t\"panel-header-option-icon\": `panel-header-option-icon-VoLV9y`,\n\t\"panelHeaderOptionIcon\": `panel-header-option-icon-VoLV9y`\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.query-filter-dnlgHp{width:100%}.query-filter-dnlgHp .query-filter-options-IZbi70{border:1px solid rgba(29,28,35,.08);border-right:none;border-radius:8px 0 0 8px;align-items:center;gap:4px;height:32px;padding-left:8px;padding-right:6px;display:flex}.query-filter-dnlgHp .query-filter-options-IZbi70 .query-filter-options-button_active-LTD5at{background:rgba(46,46,56,.12)}.query-filter-dnlgHp .query-filter-select-W8tV9B{flex:1;width:0}.query-filter-dnlgHp .query-filter-select-W8tV9B .query-filter-select-search-icon-Pm5WNg{padding:0 8px}.query-filter-dnlgHp .query-filter-select-W8tV9B .query-filter-select-search-icon-Pm5WNg svg{width:16px;height:16px}.query-filter-dnlgHp .query-filter-select-W8tV9B .query-filter-select-tag-eKWzqt{text-overflow:ellipsis;white-space:nowrap;border-radius:6px;max-width:100%;overflow:hidden}.query-filter-select-dropdown-nILS2m .semi-select-loading-wrapper{justify-content:center;align-items:center;height:50px;display:flex}.query-filter-select-dropdown-nILS2m .semi-select-option-selected .semi-select-option-icon{color:#4d53e8}.query-filter-select-dropdown-nILS2m .query-filter-select-dropdown-option-hab2ok .query-filter-select-dropdown-option-icon-nukM4R{align-items:center;margin-right:8px;display:flex}.query-filter-select-dropdown-nILS2m .query-filter-select-dropdown-option-hab2ok .query-filter-select-dropdown-option-icon-nukM4R svg{width:16px;height:16px}.query-filter-select-dropdown-nILS2m .query-filter-select-dropdown-option-hab2ok .query-filter-select-dropdown-option-text-aavkPq{text-overflow:ellipsis;white-space:nowrap;flex:1;overflow:hidden}.dropdown-content-gk_5DB .semi-dropdown-item > .semi-icon{color:#4d53e8}.custom-tooltip-JSiM4g{padding-right:0}.custom-tooltip-JSiM4g .semi-tooltip-content{max-height:500px;padding-right:12px;overflow-y:auto}.custom-tooltip-JSiM4g .semi-tooltip-content::-webkit-scrollbar-thumb{background-color:rgba(125,125,125,.3);background-clip:padding-box;border:2px solid transparent;border-radius:9999px;transition:background .2s cubic-bezier(.34,.69,.1,1)}.custom-tooltip-JSiM4g .semi-tooltip-content::-webkit-scrollbar{background-color:transparent;width:11px;height:11px}.custom-tooltip-JSiM4g .semi-tooltip-content::-webkit-scrollbar-thumb:hover{background-color:rgba(125,125,125,.6)!important}.custom-tooltip-JSiM4g .semi-tooltip-content::-webkit-scrollbar:hover{width:11px;height:11px}.custom-tooltip-JSiM4g .semi-tooltip-content::-webkit-scrollbar-button{display:none}.custom-tooltip-JSiM4g .semi-tooltip-content::-webkit-scrollbar-track{background-color:transparent}.custom-tooltip-JSiM4g .semi-tooltip-content::-webkit-scrollbar-corner{background-color:transparent}`, \"\"]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"query-filter\": `query-filter-dnlgHp`,\n\t\"queryFilter\": `query-filter-dnlgHp`,\n\t\"query-filter-options\": `query-filter-options-IZbi70`,\n\t\"queryFilterOptions\": `query-filter-options-IZbi70`,\n\t\"query-filter-options-button_active\": `query-filter-options-button_active-LTD5at`,\n\t\"queryFilterOptionsButtonActive\": `query-filter-options-button_active-LTD5at`,\n\t\"query-filter-select\": `query-filter-select-W8tV9B`,\n\t\"queryFilterSelect\": `query-filter-select-W8tV9B`,\n\t\"query-filter-select-search-icon\": `query-filter-select-search-icon-Pm5WNg`,\n\t\"queryFilterSelectSearchIcon\": `query-filter-select-search-icon-Pm5WNg`,\n\t\"query-filter-select-tag\": `query-filter-select-tag-eKWzqt`,\n\t\"queryFilterSelectTag\": `query-filter-select-tag-eKWzqt`,\n\t\"query-filter-select-dropdown\": `query-filter-select-dropdown-nILS2m`,\n\t\"queryFilterSelectDropdown\": `query-filter-select-dropdown-nILS2m`,\n\t\"query-filter-select-dropdown-option\": `query-filter-select-dropdown-option-hab2ok`,\n\t\"queryFilterSelectDropdownOption\": `query-filter-select-dropdown-option-hab2ok`,\n\t\"query-filter-select-dropdown-option-icon\": `query-filter-select-dropdown-option-icon-nukM4R`,\n\t\"queryFilterSelectDropdownOptionIcon\": `query-filter-select-dropdown-option-icon-nukM4R`,\n\t\"query-filter-select-dropdown-option-text\": `query-filter-select-dropdown-option-text-aavkPq`,\n\t\"queryFilterSelectDropdownOptionText\": `query-filter-select-dropdown-option-text-aavkPq`,\n\t\"dropdown-content\": `dropdown-content-gk_5DB`,\n\t\"dropdownContent\": `dropdown-content-gk_5DB`,\n\t\"custom-tooltip\": `custom-tooltip-JSiM4g`,\n\t\"customTooltip\": `custom-tooltip-JSiM4g`\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.side-debug-panel-TR452R{background-color:#fff;flex-direction:column;width:100%;height:100%;display:flex;position:relative;box-shadow:0 6px 8px rgba(29,28,35,.06),0 0 2px rgba(29,28,35,.18)}.side-debug-panel-TR452R .side-debug-panel-divider-iVuJ4r{border-bottom:1px solid #efeff0;margin:0;position:relative}.side-debug-panel-TR452R .side-debug-panel-no-data-hZjF0U{flex:1;justify-content:center;align-items:center;height:0;display:flex}.side-debug-panel-TR452R .side-debug-panel-no-data-hZjF0U .semi-empty-description{color:var(--Light-usage-text---color-text-0,#1d1c23);font-size:16px;font-weight:600}.side-debug-panel-TR452R .side-debug-panel-container-J84KIf{flex-direction:column;flex:1;width:100%;height:0;display:flex}.side-debug-panel-TR452R .side-debug-panel-container-J84KIf .side-debug-panel-container-sheet-XXdybm{width:100%;padding:24px 24px 4px}.side-debug-panel-TR452R .side-debug-panel-container-J84KIf .side-debug-panel-container-scroll-box-t3inaC{flex-direction:column;flex:1;height:0;display:flex;overflow-y:auto}.side-debug-panel-TR452R .side-debug-panel-container-J84KIf .side-debug-panel-container-scroll-box-t3inaC::-webkit-scrollbar-thumb{background-color:rgba(125,125,125,.3);background-clip:padding-box;border:2px solid transparent;border-radius:9999px;transition:background .2s cubic-bezier(.34,.69,.1,1)}.side-debug-panel-TR452R .side-debug-panel-container-J84KIf .side-debug-panel-container-scroll-box-t3inaC::-webkit-scrollbar{background-color:transparent;width:11px;height:11px}.side-debug-panel-TR452R .side-debug-panel-container-J84KIf .side-debug-panel-container-scroll-box-t3inaC::-webkit-scrollbar-thumb:hover{background-color:rgba(125,125,125,.6)!important}.side-debug-panel-TR452R .side-debug-panel-container-J84KIf .side-debug-panel-container-scroll-box-t3inaC::-webkit-scrollbar:hover{width:11px;height:11px}.side-debug-panel-TR452R .side-debug-panel-container-J84KIf .side-debug-panel-container-scroll-box-t3inaC::-webkit-scrollbar-button{display:none}.side-debug-panel-TR452R .side-debug-panel-container-J84KIf .side-debug-panel-container-scroll-box-t3inaC::-webkit-scrollbar-track{background-color:transparent}.side-debug-panel-TR452R .side-debug-panel-container-J84KIf .side-debug-panel-container-scroll-box-t3inaC::-webkit-scrollbar-corner{background-color:transparent}.side-debug-panel-TR452R .side-debug-panel-container-J84KIf .side-debug-panel-container-scroll-box-t3inaC .side-debug-panel-container-scroll-box-summary-W9A575{background-color:#fff;width:100%;min-height:145px;padding:16px 24px 24px;position:relative}.side-debug-panel-TR452R .side-debug-panel-container-J84KIf .side-debug-panel-container-scroll-box-t3inaC .side-debug-panel-container-scroll-box-sub-loading-pSGgj0{flex:1;justify-content:center;align-items:center;height:0;display:flex}.side-debug-panel-TR452R .side-debug-panel-container-J84KIf .side-debug-panel-container-scroll-box-t3inaC .side-debug-panel-container-scroll-box-chat-YnYtyv{background-color:#fff;width:100%;position:relative}.side-debug-panel-TR452R .side-debug-panel-container-J84KIf .side-debug-panel-container-scroll-box-t3inaC .side-debug-panel-container-scroll-box-detail-M2i2hL{background-color:#fff;width:100%;padding:0 24px 20px;position:relative}`, \"\"]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"side-debug-panel\": `side-debug-panel-TR452R`,\n\t\"sideDebugPanel\": `side-debug-panel-TR452R`,\n\t\"side-debug-panel-divider\": `side-debug-panel-divider-iVuJ4r`,\n\t\"sideDebugPanelDivider\": `side-debug-panel-divider-iVuJ4r`,\n\t\"side-debug-panel-no-data\": `side-debug-panel-no-data-hZjF0U`,\n\t\"sideDebugPanelNoData\": `side-debug-panel-no-data-hZjF0U`,\n\t\"side-debug-panel-container\": `side-debug-panel-container-J84KIf`,\n\t\"sideDebugPanelContainer\": `side-debug-panel-container-J84KIf`,\n\t\"side-debug-panel-container-sheet\": `side-debug-panel-container-sheet-XXdybm`,\n\t\"sideDebugPanelContainerSheet\": `side-debug-panel-container-sheet-XXdybm`,\n\t\"side-debug-panel-container-scroll-box\": `side-debug-panel-container-scroll-box-t3inaC`,\n\t\"sideDebugPanelContainerScrollBox\": `side-debug-panel-container-scroll-box-t3inaC`,\n\t\"side-debug-panel-container-scroll-box-summary\": `side-debug-panel-container-scroll-box-summary-W9A575`,\n\t\"sideDebugPanelContainerScrollBoxSummary\": `side-debug-panel-container-scroll-box-summary-W9A575`,\n\t\"side-debug-panel-container-scroll-box-sub-loading\": `side-debug-panel-container-scroll-box-sub-loading-pSGgj0`,\n\t\"sideDebugPanelContainerScrollBoxSubLoading\": `side-debug-panel-container-scroll-box-sub-loading-pSGgj0`,\n\t\"side-debug-panel-container-scroll-box-chat\": `side-debug-panel-container-scroll-box-chat-YnYtyv`,\n\t\"sideDebugPanelContainerScrollBoxChat\": `side-debug-panel-container-scroll-box-chat-YnYtyv`,\n\t\"side-debug-panel-container-scroll-box-detail\": `side-debug-panel-container-scroll-box-detail-M2i2hL`,\n\t\"sideDebugPanelContainerScrollBoxDetail\": `side-debug-panel-container-scroll-box-detail-M2i2hL`\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.summary-title-container-dg31rL{align-items:center;margin-bottom:16px;display:flex}.summary-title-container-dg31rL .summary-title-container-data-TGiCJX{color:var(--Light-usage-text---color-text-0,#1d1c23);margin-right:8px;font-size:14px;font-weight:600}.summary-title-container-dg31rL .summary-title-container-tag-ni1fY8{white-space:nowrap;border-radius:4px;align-items:center;gap:2px;height:16px;padding:0 6px;font-size:12px;display:inline-flex}.summary-title-container-dg31rL .summary-title-container-tag-ni1fY8 svg{width:12px;height:12px}.summary-title-container-dg31rL .query-execute-status_success-KUjRSt{color:var(--Light-usage-success---color-success,#3ec254);background:var(--Light-color-green---green-1,#d2f3d5)}.summary-title-container-dg31rL .query-execute-status_broken-WcE96h{color:var(--Light-color-orange---orange-5,#ff9600);background:var(--Light-color-orange---orange-1,#fff1cc)}.summary-title-container-dg31rL .query-execute-status_error-LKJ4xR{color:#ff441e;background:var(--Light-color-red---red-1,#ffe0d2)}.summary-title-container-dg31rL .feedback-button-LiYfbZ{cursor:pointer}`, \"\"]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"summary-title-container\": `summary-title-container-dg31rL`,\n\t\"summaryTitleContainer\": `summary-title-container-dg31rL`,\n\t\"summary-title-container-data\": `summary-title-container-data-TGiCJX`,\n\t\"summaryTitleContainerData\": `summary-title-container-data-TGiCJX`,\n\t\"summary-title-container-tag\": `summary-title-container-tag-ni1fY8`,\n\t\"summaryTitleContainerTag\": `summary-title-container-tag-ni1fY8`,\n\t\"query-execute-status_success\": `query-execute-status_success-KUjRSt`,\n\t\"queryExecuteStatusSuccess\": `query-execute-status_success-KUjRSt`,\n\t\"query-execute-status_broken\": `query-execute-status_broken-WcE96h`,\n\t\"queryExecuteStatusBroken\": `query-execute-status_broken-WcE96h`,\n\t\"query-execute-status_error\": `query-execute-status_error-LKJ4xR`,\n\t\"queryExecuteStatusError\": `query-execute-status_error-LKJ4xR`,\n\t\"feedback-button\": `feedback-button-LiYfbZ`,\n\t\"feedbackButton\": `feedback-button-LiYfbZ`\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.wrapper-hvaNhY{background:var(--coz-bg-plus,#f9f9f9);border-radius:var(--default,8px);flex-direction:column;align-items:center;gap:16px;width:640px;min-width:640px;max-width:640px;min-height:480px;padding:16px 24px 24px;display:flex}.header-T8aaE5{justify-content:space-between;align-items:center;width:100%;height:32px;min-height:32px;display:flex}.body-KtRcan{flex-direction:column;flex:1 0 0;justify-content:center;align-items:center;display:flex}.footer-xuNt6T{justify-content:flex-end;align-items:center;width:100%;display:flex}.title-hpzD1J{color:var(--coz-fg-plus,rgba(6,7,9,.96));font-size:20px;font-style:normal;font-weight:500;line-height:28px}.error-txt-f1_TUO{color:var(--Light-usage-text---color-text-1,rgba(28,31,35,.8));margin-top:16px;font-size:14px;font-style:normal;font-weight:400;line-height:normal}`, \"\"]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"wrapper\": `wrapper-hvaNhY`,\n\t\"header\": `header-T8aaE5`,\n\t\"body\": `body-KtRcan`,\n\t\"footer\": `footer-xuNt6T`,\n\t\"title\": `title-hpzD1J`,\n\t\"error-txt\": `error-txt-f1_TUO`,\n\t\"errorTxt\": `error-txt-f1_TUO`\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.json-link-preview-JCncb_{font-size:12px!important}.json-link-preview-JCncb_ .link-_3vVi4{cursor:pointer;color:var(--coz-fg-hglt,#4e40e5);text-overflow:ellipsis;font-size:14px;font-style:normal;font-weight:400;line-height:20px;-webkit-text-decoration-line:underline;text-decoration-line:underline;overflow:hidden}`, \"\"]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"json-link-preview\": `json-link-preview-JCncb_`,\n\t\"jsonLinkPreview\": `json-link-preview-JCncb_`,\n\t\"link\": `link-_3vVi4`\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.image-preview-container-CbSHRC{justify-content:center;align-items:center;width:100%;max-width:100%;height:100%;max-height:100%;display:flex;position:relative}.image-preview-container-CbSHRC .semi-image-preview{opacity:1!important}.image-preview-container-CbSHRC .semi-icon-chevron_left{display:none}.image-preview-container-CbSHRC .semi-image-preview-footer-page{display:none}.image-preview-wrapper-VzfWNE .semi-image-preview-footer-content{border-radius:12px;height:48px;min-height:48px;max-height:48px;padding:8px;opacity:1!important}.image-preview-wrapper-VzfWNE .semi-image-preview-footer-content>div:nth-child(4){display:none}.image-preview-wrapper-VzfWNE .semi-image-preview-footer-content .semi-slider-rail{background-color:var(--semi-color-white)!important}.image-preview-wrapper-VzfWNE .semi-icon-chevron_left{display:none}.image-preview-wrapper-VzfWNE .semi-image-preview-footer-page{display:none}.image-preview-wrapper-VzfWNE .semi-icon-chevron_right{display:none}.image-preview-wrapper-VzfWNE .semi-divider-vertical:first-child{display:none}.image-preview-wrapper-VzfWNE .semi-icon-rotate{display:none}.image-preview-wrapper-VzfWNE .semi-icon-download{margin-left:0}`, \"\"]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"image-preview-container\": `image-preview-container-CbSHRC`,\n\t\"imagePreviewContainer\": `image-preview-container-CbSHRC`,\n\t\"image-preview-wrapper\": `image-preview-wrapper-VzfWNE`,\n\t\"imagePreviewWrapper\": `image-preview-wrapper-VzfWNE`\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.control-bar-tSeQt2{background:var(--coz-bg-max,#fff);border:1px solid var(--coz-stroke-primary,rgba(6,7,9,.1));border-radius:12px;align-items:center;gap:8px;height:48px;min-height:48px;max-height:48px;padding:8px;display:inline-flex;position:absolute;bottom:16px;left:50%;transform:translate(-50%);box-shadow:0 4px 12px rgba(0,0,0,.08),0 8px 24px rgba(0,0,0,.04)}.control-bar-tSeQt2 .page-number-Inntxl{color:var(--coz-fg-plus,rgba(6,7,9,.96));margin:0 4px;font-size:16px;font-style:normal;font-weight:400;line-height:22px}.pdf-title-vOojIv{color:var(--coz-fg-plus,rgba(6,7,9,.96));margin-left:8px;font-size:16px;font-style:normal;font-weight:500;line-height:22px}`, \"\"]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"control-bar\": `control-bar-tSeQt2`,\n\t\"controlBar\": `control-bar-tSeQt2`,\n\t\"page-number\": `page-number-Inntxl`,\n\t\"pageNumber\": `page-number-Inntxl`,\n\t\"pdf-title\": `pdf-title-vOojIv`,\n\t\"pdfTitle\": `pdf-title-vOojIv`\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../common/temp/default/node_modules/.pnpm/@rsbuild+core@1.1.13/node_modules/@rsbuild/core/compiled/css-loader/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, ``, \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n"],"names":["generatePdfAssetsUrl","assets","assetsUrl","name","pkg","Error","onlinePkgName","DEFAULT_VERSION","initPdfJsWorker","GlobalWorkerOptions","SpanCategory","SpanStatus","SpanType","StreamingOutputStatus","DataSourceTypeEnum","NodeEdgeCategory","TopologyLayoutDirection","TopologyEdgeStatus","DebugPanelLayout","GraphTabEnum","DEBUG_PANEL_LAYOUT_KEY","initialStore","undefined","useDebugPanelStore","create","devtools","set","isPanelShow","basicInfo","overallSpanInfo","dateId","executeStatusId","enhancedOverallSpans","entranceMessageLogId","orgDetailSpans","spanCategory","targetDetailSpan","curBatchPage","process","dayjs","utc","jsonBig","JSONBig","getTimeInCurrentTimeZone","timestamp","localDate","utcDate","offset","Math","dateString","getPastWeekDates","today","dateList","i","pastDay","getDailyTimestampByDate","formattedDate","DATE_FILTERING_DAYS_NUMBER","date","textWithFallback","text","formatTime","isJsonString","str","jsonData","JSON","Object","error","isDebugShowJsonString","jsonParseWithBigNumber","jsonString","jsonParse","Text","Typography","DebugText","props","useCopy","otherProps","s","IconCopy","IconTick","I18n","NodeDescription","cols","col","colIndex","fields","field","fieldIndex","key","value","options","NodeDetailTitle","copyContent","description","classNames","NodeDescriptionWithFullLine","item","index","defaultGlobalStyle","defaultLabelStyle","defaultLabelText","datum","element","params","containerRef","useRef","viewRef","viewSize","setViewSize","useState","flamethreadData","rowHeight","visibleColumnCount","tooltip","globalRectStyle","_globalLabelStyle","_globalStyle","axisLabelSuffix","labelText","selectedKey","disableViewScroll","enableAutoFit","onClick","genRectStyle","useCallback","rectStyle","genLabelStyle","labelStyle","globalLabelStyle","useMemo","topOffset","datazoomHeight","globalStyle","totalRowHeight","rowCount","uniqWith","node0","node1","yScaleRangeFactor","_viewRef_current","spec","orgData","node","marks","GrammarMarkType","ComponentEnum","scale0","elment","scale","range","tickData","dx","_value","Number","_datum_rectStyle_normal","stroke","lineWidth","lineDash","_datum_rectStyle_hover_fill","_datum_rectStyle","_datum_rectStyle1","_datum_rectStyle_select_fill","padding","_yScale_rangeFactor1","yScale","curRangeFactor","vHeight","updateSelectedKey","view","_elements_filter_","rectElm","elements","useLayoutEffect","initializeYScale","initializeScale","registerEvent","event","View","args","start","end","xScale","e","_e_target_attribute","direction","view1","useEffect","resizeObserver","ResizeObserver","width","height","pick","rootBreakSpanId","spanTypeConfigMap","spanCategoryConfigMap","spanStatusConfigMap","streamingOutputStatusConfigMap","botEnvConfigMap","getSpanProp","span","_batchSpan_spans__extra","_batchSpan_key","_singleSpan_extra","_singleSpan_key","checkIsBatchBasicCSpan","getTokens","inputTokensSum","outputTokensSum","spanBatch","subSpan","_subSpan_extra_input_tokens","_subSpan_extra_output_tokens","inputTokens","outputTokens","isBatchSpanType","type","whites","isVisibleSpan","genVirtualStart","spans","startAt","endAt","getSpanDataByTraceId","traceId","buildCallTrees","splitBatchSpan","roots","map","curSpan","spanId","_parentSpanNode_children","parentSpanId","spanNode","parentSpanNode","getRootSpan","needBuildTrees","rootSpans","startSpans","rootSpan","category","getBreakSpans","breakSpans","compareByStartAt","spanA","spanB","startAtA","startAtB","compareByEndAt","endAtA","endAtB","getSpanTitle","_spanTypeConfigMap_type_label","defaultSpanTypeConfigMap","typeName","getStatusLabel","_spanStatusConfigMap_status_label","defaultSpanStatusConfigMap","status","getRootBreakSpan","handleAgent","getAgent","agents","len","curAgent","nextAgent","curEndAt","nextEndAt","agentSpans","normalSpans","rstSpans","_agent_children","_agent_children1","agent","isTreeRootSpanType","callTree2TraceTree","walk","_span_children","omit","buildTraceTree","callTrees","startSpan","treeStartSpan","_treeStartSpan_children","treeBreakSpan","defaultProps","spanCategoryConfig","spanStatusConfig","tooltipStyle","_spanCategoryConfig_category","_spanStatusConfig_status","categoryRectStyle","statusRectStyle","genRectNode","info","rowNo","spanData2flamethreadData","spanData","sortedSpans","sortBy","o","rectNodes","setFlamethreadData","dataType","_rectStyle","_labelStyle","datazoomDecimals","selectedSpanId","defaultRectStyle","_datum_extra","latency","statusConfig","tips","_statusConfig_tooltip","Flamethread","flattenTreeData","treeData","nodes","lines","nodeColNo","fatherNodeFlatten","nodeFlatten","childNodes","childNode","_childNode_indentDisabled","indentDisabled","defaultLineStyle","disableDefaultHover","customHoverKey","gLineStyle","className","onMouseMove","onMouseEnter","onMouseLeave","onSelect","hoverKey","setHoverKey","controlledHoverKey","indent","verticalInterval","nodeBoxHeight","offsetX","adjustLineOrder","selectedLine","hoverLine","line","lineA","lineB","_lineA_endNode_zIndex","_lineB_endNode_zIndex","zIndexA","zIndexB","genLineStyle","lineStyle","genSvgPath","startColNo","startRowNo","endColNo","endRowNo","normalLineStyle","lineRadius","lineGap","nodeHeight","startX","startY","lineASize","moveToStartPoint","lineASize1","lineBSize","endY","moveToStartPoint1","lineA1","qbc","endX","genLineAttrs","nodeKey","mergeWith","orgLines","styles","path","lineStyle0","attrs","title","selectEnabled","colNo","nodeExtra","isFunction","IconSpanUnknown","IconSpanWorkflowStart","IconSpanAgent","IconSpanLLMCall","IconSpanWorkflow","IconSpanWorkflowEnd","IconSpanPluginTool","IconSpanKnowledge","IconSpanCode","IconSpanCondition","IconSpanCard","IconSpanMessage","IconSpanVar","IconSpanHook","IconSpanBMBatch","IconSpanBMParallel","IconSpanBMConnector","genTitleRender","spanInfoMap","spaceId","onHoverChange","onJumpToWorkflow","nodeData","_spanInfoMap_span_id","_getSpanProp","_spanInfoMap_span_id1","selected","unindented","hover","isCozeWorkflow","Boolean","workflowID","workflowVersion","handleJumpToWorkflow","_getSpanProp1","executeID","workflowNodeID","subExecuteID","content","tokensStr","config","IconpanNodeDamaged","Tooltip","Button","IconCozFocus","spanData2treeData","traceTree","getSpanInfoMap","_spanStatusConfig_span_status","_span_children_map","treeNode","childSpan","root","bfs","_spanInfoMap_node_parent_id","_spanInfoMap_node_parent_id1","parentLevel","_spanInfoMap_node_parent_id2","isCozeWorkflowNode","workflowLevel","setTreeData","hoverNodeKey","setHoverNodeKey","jump","usePageJumpService","_lineStyle","restProps","_defaultProps_lineStyle","_defaultProps_lineStyle1","_defaultProps_lineStyle2","SceneType","Tree","TOPOLOGY_DEFAULT_NODE_ICON","TOPOLOGY_LAYOUT_RECORD","RESOURCE_TYPE_RECORD","ResourceType","TOPOLOGY_LAYOUT_COMMON_MAP","TOPOLOGY_LAYOUT_BIZ_MAP","IconCozDatabaseFill","IconCozLongTermMemory","TOPOLOGY_EDGE_STATUS_MAP","assignRecordIfNotExists","object","filterObjectByKeys","targetList","pre","cur","getNodeResourceId","entityId","_spanNode_extra","_spanNode_workflow_node_id","_spanNode_extra1","_spanNode_extra2","_spanNode_extra3","_spanNode_extra4","_spanNode_extra5","id","workflowNodeId","generateStaticTopologyDataMapKey","space_id","resource_id","version","env","resource_type","getTopologyAgentRootType","FLAGS","getFlags","isTopologyRootSpan","_span_extra","extractOriginDynamicNodeMap","dynamicNodeMap","originDynamicNodeMap","queue","_currentNode_children","currentNode","findNearestTopologyRootSpanNode","currentSpanNode","findUserInputRootNode","completeDynamicTopologyInfo","staticTopoInfo","layoutDirection","staticNodes","staticEdges","topo_type","TopoType","nodeInfoMap","_TOPOLOGY_LAYOUT_BIZ_MAP_typedResourceKind_icon","node_id","resource_kind","resource_name","typedResourceKind","dynamicSpanNode","getDynamicSpanTitle","getStaticSpanTitle","edges","_sourceNodeInfo_node","_nodeInfoMap_target_node_id","tailDynamicSpanNode","edge_id","source_node_id","target_node_id","sourceNodeInfo","isWorkflowStartNode","sourceNode","targetNode","topologyEdgeStatus","getTopologyItemStatus","MarkerType","measureTextContext","measureTextCanvas","document","getTextWidth","_spanCategoryConfigMap_category_label","getLayoutedMeta","originTopologicalData","graphInstance","Dagre","topoType","edge","_TOPOLOGY_LAYOUT_BIZ_MAP_type_height","data","nodeXAxisMap","x","y","source","target","generateTopologyMetaInfo","topoInfo","resourceIdMap","nodeIdMap","topoGraph","getAllUpstreamTopologyNodeIds","selectedNodeId","upstreamNodeMap","_topoGraph_selectedNodeId","upstreamNodeIds","allUpstreamNodeIds","nodeId","useLayoutTopology","topologicalData","topologyFlowDomRef","topologyFlowBoxSize","useSize","throttledTopologyFlowBoxSize","useThrottle","setCenter","useReactFlow","store","useStoreApi","nodeInternals","Array","zoom","notShowTopo","useGenerateTopology","botId","dataSource","loading","setLoading","setTopologicalData","staticTopologyDataRef","nearestTopologyRootSpanMapRef","resetStatus","fetchStaticTopologyData","req","resp","dpManageApi","getOriginDynamicData","useAsyncEffect","_originDynamicData_originDynamicNodeMap","_staticTopologyDataCache_topoInfoMap","_staticTopologyDataCache_topoMetaInfo","_staticTopologyDataCache_upstreamNodeMap","originDynamicData","currentSelectedSpanNode","nearestTopologyRootSpanNode","getNearestTopologyRootSpanNode","getStaticTopologyMetaData","_nearestTopologyRootSpanNode_extra","_typedNearestTopologyRootSpanNode_extra","_typedNearestTopologyRootSpanNode_extra1","processedGetTopoInfoReq","Env","staticTopologyDataMapKey","staticTopologyDataCache","topoMetaInfo","isSelectedNodeTopologyRoot","currentSelectedSpanNodeTopoNodeId","currentDynamicNodeMap","originalTopologicalData","layoutTopologicalData","CommonNode","icon","topologyNodeStatus","updateNodeInternals","useUpdateNodeInternals","useUpdateEffect","Handle","Position","isVerticalEdge","position","getBatchNodeExecutionInfo","batchNodeExecutionInfo","batchNodeStatus","BatchEdgeInfo","isError","totalNumber","errorNumber","CUSTOM_NODES","CUSTOM_EDGES","_data_layoutInfo_customSourceX","_data_layoutInfo_customTargetX","sourceX","sourceY","targetX","targetY","sourcePosition","targetPosition","markerEnd","adaptedSourceX","adaptedTargetX","edgePath","labelX","labelY","getBezierPath","BaseEdge","EdgeLabelRenderer","TopologyFlowContent","style","renderHeader","topologyHeader","Spin","ReactFlow","ReactFlowProvider","a","b","compareByTaskIndex","_a_extra_task_index","_a_extra_task_index1","taskIndexA","taskIndexB","getStartAtForBatch","getLatencyForBatch","getStatusForBatch","isSuccess","genBatchSpan","spanCategoryMap","_spans__extra","_spans__extra1","taskTotal","spans0","_curSpan_extra","curTaskTotal","aggregationBatchSpan","batchSpans","_map_","workflowSpans","curTaskIndexs","curSpans","taskIndex","batchSpan","span2CSpan","_ref35","cspan","genSpanCategoryMap","spanCategoryMeta","spanCategoryValue","spanTypes","spanTypeValue","spans2CSpans","cSpans","uniqSpans","uniqBy","appendTraceAdvanceInfo","traceAdvanceInfo","_traceAdvanceInfo_status","span0","appendSpans","tokensMap","calculateTokensSum","getCSpanTokens","inputTokensSumRst","outputTokensSumRst","subTokensSum","tokensSum","callTree","_tokensMap_span_id","_tokensMap_span_id1","inputTokensRst","outputTokensRst","_subSpan_extra","_subSpan_extra1","appendRootSpan","extra","invokeAgentSpans","_invokeAgentSpan_extra","_invokeAgentSpan_extra1","invokeAgentSpan","rstSpan","appendVirtualStart","virtualStartSpan","useSpanTransform","orgSpans","messageId","_root_extra","rootSpanRst","visit","targetId","_root_children_some","subRoot","SPAN_STATUS_CONFIG_MAP","IconSuccess","IconWarningInfo","IconError","getLatencyFirst","_span","_span_extra1","startTimeFirstResp","span1","fieldHandlers","categoryConfig","typeConfig","os","osVersion","botEnv","botEnvConfig","start_time","_streamingOutputStatusConfigMap_value","fieldItemHandlers","_SPAN_STATUS_CONFIG_MAP_status","label","latencyFirst","colsConfigForTrace","useTraceCols","input","traceCols","colConfig","fieldConfig","PanelSummary","targetOverallSpanInfo","userID","spaceID","output","input_tokens_sum","output_tokens_sum","feedbackMsg","copy","UIToast","sendTeaEvent","EVENT_NAMES","window","logger","EXECUTE_STATUS_FILTERING_OPTIONS","DEBUG_PANEL_LAYOUT_DEFAULT_TEMPLATE_INFO","DEBUG_PANEL_LAYOUT_DEFAULT_INFO","REACT_JSON_VIEW_CONFIG","topologyTypeConfig","FilterDropdown","children","activeId","dropdownMenuItem","onSelectActiveId","Dropdown","QueryFilter","targetDateId","targetExecuteStatusId","showLoadMore","onSelectDate","onSelectExecuteStatus","onFetchQuery","onSelectQuery","loadMoreLoading","setLoadMoreLoading","currentInputSearchRef","onFetchQueryWithLoading","inputSearch","loadMore","setLoadingFn","InputGroup","UIButton","IconCalendar","classnames","IconFilter","Select","IconSearch","debounce","visible","Tag","PanelHeader","onClose","IconClose","enhanceOriginalSpan","originSpans","traceAdvanceInfoMap","traceCSpans","useDebugPanelLayoutConfig","layoutConfigString","layoutConfigRef","localStorage","layoutConfig","produce","draft","httpUrlRegex","supportedType","Set","parse","inputValue","result","_item_content_image_url_url","link","_item_content_file_url_suffix_type","_item_content_file_url_url","_item_content_file_url_file_name","suffixType","link1","JsonPreviewBasePlugin","overlayContainer","Overlay","withMask","IconCozCrossFill","createOverlayContainer","show","close","ReactDOM","fetchResource","url","response","fetch","downloadFile","blob","filename","downloadUrl","URL","SvgCozImageBroken","LoadError","IconCozCross","IconImageBroken","src","isLoaded","setIsLoaded","hasError","setHasError","image","setImage","img","Image","ImagePreviewContent","useImage","ImagePreview","extraInfo","OverlayAPI","onclose","contentType","SvgNotSupport","NotSupport","handleDownload","JsonLinkPreview","Component","prevProps","JsonView","_","_this_linkMap_value","_this_linkMap_value1","ValueQuote","renderPlugins","plugin","isEmpty","renderPlugin","last","colsConfigForStart","colsConfigForSwitchAgent","colsConfigForLLMCall","colsConfigForWorkflowEnd","colsConfigForCode","colsConfigForCondition","colsConfigForPluginTool","colsConfigForKnowledge","colsConfigGeneral","colsConfigMap","useSpanCols","spanCols","colsConfig","colsConfigForLLMBatchCall","colsConfigForPluginToolBatch","colsConfigForCodeBatch","useBatchSpanCols","curBatchIndex","batchSpanCols","PanelDetail","setCurBatchPage","isBatchNode","batchArea","Pagination","inputArea","ReactJson","outputArea","outputValue","topologyArea","TopologyFlow","Divider","ChartResizableArea","setLayoutConfig","Resizable","d","el","delta","PanelChart","onTargetDetailSpanChange","useShallow","state","activeTab","setActiveTab","renderTabBar","tabBarProps","activeKey","list","tab","itemKey","onFlamethreadClick","_element_data_","Tabs","TabPane","TraceTree","TraceFlamethread","SpanInfoArea","_targetOverallSpanInfo_span","setTargetDetailSpan","detailSpan","SideDebugPanel","subAreaLoading","setSubAreaLoading","setShowLoadMore","setTargetOverallSpanInfo","setEnhancedOverallSpans","setOrgDetailSpans","setSpanCategory","queryOffsetRef","handleFetchQuery","_data_spans","_data_has_more","obQueryApi","p","qs","trace_id","String","enhancedSpans","handleFetchQueryDetail","logId","handleFetchTracesMetaInfo","selectQueryAuto","userInputSpan","_enhanceOriginalSpan","userInputCSpan","spans1","latestTrace","Empty","IllustrationNoResult","placement","currentQueryLogId","isShow","setBasicInfo","setEntranceMessageLogId","setIsPanelShow","resetStore","___CSS_LOADER_EXPORT___","module"],"mappings":"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H,EACA,CACE,OAAQ,CACN,CACE,KAAM,QACR,EACA,CACE,KAAM,SACR,EACA,CACE,KAAM,eACR,EACA,CACE,KAAM,QACR,EACD,AACH,EACD,CAoDKC,GAA6C,CACjD,CACE,OAAQ,CACN,CACE,KAAM,UACR,EACA,CACE,KAAM,YACR,EACA,CACE,KAAM,UACR,EACD,AACH,EACA,CACE,OAAQ,CACN,CACE,KAAM,QACR,EACA,CACE,KAAM,SACR,EACA,CACE,KAAM,MACR,EACD,AACH,EACD,CAEKC,GAAyC,CAC7C,CACE,OAAQ,CACN,CACE,KAAM,UACR,EACA,CACE,KAAM,MACR,EACA,CACE,KAAM,WACR,EACA,CACE,KAAM,iBACR,EACA,CACE,KAAM,YACR,EACA,CACE,KAAM,UACR,EACA,CACE,KAAM,qBACR,EACD,AACH,EACA,CACE,OAAQ,CACN,CACE,KAAM,QACR,EACA,CACE,KAAM,SACR,EACA,CACE,KAAM,eACR,EACA,CACE,KAAM,OACR,EACA,CACE,KAAM,QACR,EACA,CACE,KAAM,aACR,EACD,AACH,EACD,CAkCKC,GAA6C,CACjD,CACE,OAAQ,CACN,CACE,KAAM,UACR,EACA,CACE,KAAM,QACR,EACA,CACE,KAAM,YACR,EACA,CACE,KAAM,UACR,EACD,AACH,EACA,CACE,OAAQ,CACN,CACE,KAAM,QACR,EACA,CACE,KAAM,SACR,EACA,CACE,KAAM,MACR,EACD,AACH,EACD,CAEKC,GAAsC,CAC1C,CACE,OAAQ,CACN,CACE,KAAM,UACR,EACA,CACE,KAAM,YACR,EACA,CACE,KAAM,UACR,EACD,AACH,EACA,CACE,OAAQ,CACN,CACE,KAAM,QACR,EACA,CACE,KAAM,SACR,EACA,CACE,KAAM,MACR,EACD,AACH,EACD,CAEKC,GAA2C,CAC/C,CACE,OAAQ,CACN,CACE,KAAM,UACR,EACA,CACE,KAAM,YACR,EACA,CACE,KAAM,UACR,EACD,AACH,EACA,CACE,OAAQ,CACN,CACE,KAAM,QACR,EACA,CACE,KAAM,SACR,EACA,CACE,KAAM,MACR,EACD,AACH,EACD,CAEKC,GAA4C,CAChD,CACE,OAAQ,CACN,CACE,KAAM,UACR,EACA,CACE,KAAM,WACR,EACA,CACE,KAAM,YACR,EACA,CACE,KAAM,UACR,EACD,AACH,EACA,CACE,OAAQ,CACN,CACE,KAAM,QACR,EACA,CACE,KAAM,SACR,EACA,CACE,KAAM,MACR,EACD,AACH,EACD,CAEKC,GAA2C,CAC/C,CACE,OAAQ,CACN,CACE,KAAM,UACR,EACA,CACE,KAAM,WACR,EACA,CACE,KAAM,YACR,EACA,CACE,KAAM,UACR,EACD,AACH,EACA,CACE,OAAQ,CACN,CACE,KAAM,QACR,EACA,CACE,KAAM,SACR,EACA,CACE,KAAM,MACR,EACD,AACH,EACD,CAEKC,GAAsC,CAC1C,CACE,OAAQ,CACN,CACE,KAAM,UACR,EACA,CACE,KAAM,YACR,EACA,CACE,KAAM,UACR,EACD,AACH,EACA,CACE,OAAQ,CACN,CACE,KAAM,QACR,EACA,CACE,KAAM,SACR,EACA,CACE,KAAM,MACR,EACD,AACH,EACD,CA+KKC,GAAgB,CACpB,CAAC53B,EAAAA,SAAkB,CAAC,CAAEm3B,GACtB,CAACn3B,EAAAA,UAAmB,CAAC,CAAEm3B,GACvB,CAACn3B,EAAAA,cAAuB,CAAC,CAAEm3B,GAC3B,CAACn3B,EAAAA,UAAmB,CAAC,CAAEm3B,GACvB,CAACn3B,EAAAA,WAAoB,CAAC,CA1gB2B,CACjD,CACE,OAAQ,CACN,CACE,KAAM,UACR,EACA,CACE,KAAM,WACR,EACA,CACE,KAAM,YACR,EACA,CACE,KAAM,aACR,EACA,CACE,KAAM,YACR,EACA,CACE,KAAM,UACR,EACA,CACE,KAAM,MACR,EACD,AACH,EACA,CACE,OAAQ,CACN,CACE,KAAM,QACR,EACA,CACE,KAAM,SACR,EACA,CACE,KAAM,OACR,EACA,CACE,KAAM,QACR,EACA,CACE,KAAM,iBACR,EACA,CACE,KAAM,cACR,EACD,AACH,EACD,CA2dC,CAACA,EAAAA,YAAqB,CAAC,CAAEo3B,GACzB,CAACp3B,EAAAA,WAAoB,CAAC,CAAEo3B,GACxB,CAACp3B,EAAAA,OAAgB,CAAC,CAAEq3B,GACpB,CAACr3B,EAAAA,eAAwB,CAAC,CAAEq3B,GAC5B,CAACr3B,EAAAA,YAAqB,CAAC,CAAEq3B,GACzB,CAACr3B,EAAAA,oBAA6B,CAAC,CAAEq3B,GACjC,CAACr3B,EAAAA,QAAiB,CAAC,CAhZ2B,CAC9C,CACE,OAAQ,CACN,CACE,KAAM,UACR,EACA,CACE,KAAM,QACR,EACA,CACE,KAAM,YACR,EACA,CACE,KAAM,UACR,EACD,AACH,EACA,CACE,OAAQ,CACN,CACE,KAAM,QACR,EACA,CACE,KAAM,SACR,EACA,CACE,KAAM,MACR,EACD,AACH,EACD,CAmXC,CAACA,EAAAA,aAAsB,CAAC,CAAEs3B,GAC1B,CAACt3B,EAAAA,WAAoB,CAAC,CAAEs3B,GACxB,CAACt3B,EAAAA,UAAmB,CAAC,CAAEy3B,GACvB,CAACz3B,EAAAA,kBAA2B,CAAC,CAAEy3B,GAC/B,CAACz3B,EAAAA,eAAwB,CAAC,CAAEy3B,GAC5B,CAACz3B,EAAAA,uBAAgC,CAAC,CAAEy3B,GACpC,CAACz3B,EAAAA,SAAkB,CAAC,CAAE03B,GACtB,CAAC13B,EAAAA,iBAA0B,CAAC,CAAE03B,GAC9B,CAAC13B,EAAAA,IAAa,CAAC,CAAEu3B,GACjB,CAACv3B,EAAAA,YAAqB,CAAC,CAAEu3B,GACzB,CAACv3B,EAAAA,SAAkB,CAAC,CAAEu3B,GACtB,CAACv3B,EAAAA,iBAA0B,CAAC,CAAEu3B,GAC9B,CAACv3B,EAAAA,SAAkB,CAAC,CAAEw3B,GACtB,CAACx3B,EAAAA,iBAA0B,CAAC,CAAEw3B,GAC9B,CAACx3B,EAAAA,OAAgB,CAAC,CAAE23B,GACpB,CAAC33B,EAAAA,KAAc,CAAC,CAAE,EAAE,CACpB,CAACA,EAAAA,IAAa,CAAC,CA1M2B,CAC1C,CACE,OAAQ,CACN,CACE,KAAM,UACR,EACA,CACE,KAAM,WACR,EACA,CACE,KAAM,QACR,EACA,CACE,KAAM,SACR,EACD,AACH,EACA,CACE,OAAQ,CACN,CACE,KAAM,YACR,EACA,CACE,KAAM,UACR,EACA,CACE,KAAM,SACR,EACD,AACH,EACD,CA6KC,CAACA,EAAAA,eAAwB,CAAC,CA3KmB,CAC7C,CACE,OAAQ,CACN,CACE,KAAM,UACR,EACA,CACE,KAAM,WACR,EACA,CACE,KAAM,QACR,EACA,CACE,KAAM,MACR,EACD,AACH,EACA,CACE,OAAQ,CACN,CACE,KAAM,YACR,EACA,CACE,KAAM,UACR,EACA,CACE,KAAM,SACR,EACA,CACE,KAAM,eACR,EACD,AACH,EACD,CA2IC,CAACA,EAAAA,IAAa,CAAC,CA1E2B,CAC1C,CACE,OAAQ,CACN,CACE,KAAM,UACR,EACA,CACE,KAAM,YACR,EACA,CACE,KAAM,UACR,EACA,CACE,KAAM,WACR,EACA,CACE,KAAM,UACR,EACA,CACE,KAAM,WACR,EACD,AACH,EACA,CACE,OAAQ,CACN,CACE,KAAM,QACR,EACA,CACE,KAAM,SACR,EACA,CACE,KAAM,MACR,EACA,CACE,KAAM,gBACR,EACA,CACE,KAAM,UACR,EACD,AACH,EACD,CAiCC,CAACA,EAAAA,OAAgB,CAAC,CAAE23B,GACpB,CAAC33B,EAAAA,KAAc,CAAC,CAAE23B,GAClB,CAAC33B,EAAAA,OAAgB,CAAC,CAAE23B,GACpB,CAAC33B,EAAAA,MAAe,CAAC,CAAE23B,GACnB,CAAC33B,EAAAA,WAAoB,CAAC,CA9I2B,CACjD,CACE,OAAQ,CACN,CACE,KAAM,UACR,EACA,CACE,KAAM,YACR,EACA,CACE,KAAM,UACR,EACA,CACE,KAAM,aACR,EACD,AACH,EACA,CACE,OAAQ,CACN,CACE,KAAM,QACR,EACA,CACE,KAAM,SACR,EACA,CACE,KAAM,MACR,EACD,AACH,EACD,CAiHC,CAACA,EAAAA,KAAc,CAAC,CAAEq3B,GAClB,CAACr3B,EAAAA,UAAmB,CAAC,CAAE23B,GACvB,CAAC33B,EAAAA,QAAiB,CAAC,CAAE23B,GACrB,CAAC33B,EAAAA,UAAmB,CAAC,CAAE23B,GACvB,CAAC33B,EAAAA,UAAmB,CAAC,CAAE23B,GACvB,CAAC33B,EAAAA,WAAoB,CAAC,CArH2B,CACjD,CACE,OAAQ,CACN,CACE,KAAM,UACR,EACA,CACE,KAAM,YACR,EACA,CACE,KAAM,UACR,EACA,CACE,KAAM,WACR,EACD,AACH,EACA,CACE,OAAQ,CACN,CACE,KAAM,QACR,EACA,CACE,KAAM,SACR,EACA,CACE,KAAM,MACR,EACD,AACH,EACD,AAwFD,EAEa63B,GAAc,AAACjJ,IAK1B,GAAM,CAAEhjB,KAAAA,CAAI,CAAE,CAAGgjB,EAsBjB,MAAO,CACLkJ,SAtB2BxwB,AAAAA,GAAAA,EAAAA,OAAAA,AAAAA,EAAQ,KACnC,GAAI,CAACsE,EACH,MAAO,EAAE,CAEX,IAAMmsB,EAAaH,EAAa,CAAChsB,EAAK,IAAI,CAAC,CAC3C,MACEmsB,AAAAA,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAY,GAAG,CAACjJ,AAAAA,IACd,GAAM,CAAEpqB,OAAAA,CAAM,CAAE,CAAGoqB,EACnB,MAAO,CACL,OAAQpqB,MAAAA,EAAAA,KAAAA,EAAAA,EAAQ,GAAG,CAACqqB,AAAAA,IAClB,GAAM,CAAExvB,KAAAA,CAAI,CAAEwF,QAAAA,CAAO,CAAE,CAAGgqB,EAC1B,MAAO,mBACFlB,EAAa,CAACtuB,EAAK,CAACqM,IAAAA,CACvB7G,QAAAA,C,EAEJ,EACF,CACF,EAAC,GAAK,EAAE,AAEZ,EAAG,CAAC6G,EAAK,CAIT,CACF,EC/mBMosB,GAA8C,CAClD,CACE,OAAQ,CACN,CACE,KAAM,QACR,EACD,AACH,EACA,CACE,OAAQ,CACN,CACE,KAAM,SACR,EACD,AACH,EACA,CACE,OAAQ,CACN,CACE,KAAM,QACR,EACD,AACH,EACD,CAEKC,GAAiD,CACrD,CACE,OAAQ,CACN,CACE,KAAM,QACR,EACD,AACH,EACA,CACE,OAAQ,CACN,CACE,KAAM,SACR,EACD,AACH,EACD,CAEKC,GAA2C,CAC/C,CACE,OAAQ,CACN,CACE,KAAM,QACR,EACD,AACH,EACA,CACE,OAAQ,CACN,CACE,KAAM,SACR,EACD,AACH,EACD,CAEKN,GAAgB,CACpB,CAAC53B,EAAAA,YAAqB,CAAC,CAAEg4B,GACzB,CAACh4B,EAAAA,oBAA6B,CAAC,CAAEg4B,GACjC,CAACh4B,EAAAA,eAAwB,CAAC,CAAEi4B,GAC5B,CAACj4B,EAAAA,uBAAgC,CAAC,CAAEi4B,GACpC,CAACj4B,EAAAA,SAAkB,CAAC,CAAEk4B,GACtB,CAACl4B,EAAAA,iBAA0B,CAAC,CAAEk4B,EAChC,EAEaC,GAAmB,AAACvJ,IAM/B,GAAM,CAAEhjB,KAAAA,CAAI,CAAEwsB,cAAAA,CAAa,CAAE,CAAGxJ,EAwBhC,MAAO,CACLyJ,cAxBgC/wB,AAAAA,GAAAA,EAAAA,OAAAA,AAAAA,EAAQ,KACxC,GAAI,CAACsE,GAAQwsB,AAAkB13B,KAAAA,IAAlB03B,GAA+B,CAACzrB,GAAgBf,EAAK,IAAI,EACpE,MAAO,EAAE,CAEX,IAAMU,EAAWV,EAAoB,KAAK,CAACwsB,EAAc,QACzD,AAAK9rB,EAIEyrB,AADYH,EAAa,CAACtrB,EAAQ,IAAI,CAAkB,CAC7C,GAAG,CAACwiB,AAAAA,IACpB,GAAM,CAAEpqB,OAAAA,CAAM,CAAE,CAAGoqB,EACnB,MAAO,CACL,OAAQpqB,MAAAA,EAAAA,KAAAA,EAAAA,EAAQ,GAAG,CAACqqB,AAAAA,IAClB,GAAM,CAAExvB,KAAAA,CAAI,CAAEwF,QAAAA,CAAO,CAAE,CAAGgqB,EAC1B,MAAO,mBACFlB,EAAa,CAACtuB,EAAK,CAAC+M,IAAAA,CACvBvH,QAAAA,C,EAEJ,EACF,CACF,GAdS,EAAE,AAeb,EAAG,CAAC6G,EAAMwsB,EAAc,CAIxB,CACF,E,eCzHI,GAAU,CAAC,CAEf,IAAQ,iBAAiB,CAAG,IAC5B,GAAQ,aAAa,CAAG,IAElB,GAAQ,MAAM,CAAG,QAAa,CAAC,KAAM,QAE3C,GAAQ,MAAM,CAAG,IACjB,GAAQ,kBAAkB,CAAG,IAEhB,IAAI,IAAO,CAAE,IAKnB,OAAe,IAAO,EAAI,WAAc,CAAG,WAAc,CAAG13B,KAAAA,EC4BtD43B,GAAc,AAACv0B,IAC1B,GAAM,CACJ0f,MAAAA,CAAK,CACL/K,QAAAA,CAAO,CACP1L,MAAAA,CAAK,CACLxL,iBAAAA,CAAgB,CAChBC,aAAAA,CAAY,CACZ82B,gBAAAA,CAAe,CAChB,CAAGx0B,EAEEy0B,EAAclxB,AAAAA,GAAAA,EAAAA,OAAAA,AAAAA,EAClB,IAAMqF,GAAgBnL,EAAiB,IAAI,EAC3C,CAACA,EAAiB,EAGd,CAAEs2B,SAAAA,CAAQ,CAAE,CAAGD,GAAY,CAAE,KAAMr2B,CAAiB,GAEpD,CAAE62B,cAAAA,CAAa,CAAE,CAAGF,GAAiB,CACzC,KAAM32B,EACN,cAAeC,EAAe,CAChC,GAEMg3B,EAAYnxB,AAAAA,GAAAA,EAAAA,OAAAA,AAAAA,EAAQ,IACxB,AAAKkxB,EAMH,uB,UACE,UAACxzB,GAAeA,CAAC,KAAMX,EAAAA,CAAAA,CAAAA,CAAM,CAAC,qB,GAC9B,UAACq0B,EAAAA,EAAUA,CAAAA,CACT,UAAWx0B,EAAAA,CAAAA,oBAAsB,CACjC,MAAOgmB,AAPK1oB,EAOK,KAAK,CAAC,MAAM,CAC7B,SAAU,EACV,YAAaC,EACb,aAAc82B,C,GAEhB,UAACj0B,GAAeA,CAAC,KAAM+zB,C,MAdlB,KAiBR,CAACG,EAAah3B,EAAkBC,EAAc42B,EAAc,EAEzDM,EAAYrxB,AAAAA,GAAAA,EAAAA,OAAAA,AAAAA,EAAQ,KACxB,IAKmB6W,EALbvS,EAAO4sB,EACRh3B,MAAAA,EAAAA,KAAAA,EAAAA,EAAiC,KAAK,CAACC,EAAe,EAAE,CACxDD,EAEC4xB,EAAazvB,GACjBZ,GAAiBob,MAAAA,EAAAA,KAAAA,EAAAA,AAAW,OAAXA,CAAAA,EAAAA,EAAM,KAAK,AAAD,GAAVA,AAAAA,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAa,KAAK,GAGrC,MACE,uB,UACE,UAACnZ,GAAeA,CACd,KAAMX,EAAAA,CAAAA,CAAAA,CAAM,CAAC,4BACb,YACE,AAAsB,UAAtB,OAAO+uB,EACHA,EACA/vB,KAAK,SAAS,CAAC+vB,E,GAGvB,UAAC,OAAI,UAAWlvB,EAAAA,CAAAA,oBAAsB,C,SACnC,AAAsB,UAAtB,OAAOkvB,EACN,UAAC,OAAI,UAAWlvB,EAAAA,CAAAA,cAAgB,C,SAAGkvB,C,GAEnC,UAAC,OAAI,UAAWlvB,EAAAA,CAAAA,uBAAyB,C,SACtCmf,MAAM,OAAO,CAAC+P,GACb,UAACkD,GAAeA,CACd,IAAKlD,EACL,OAAQ3P,EACR,SAAU/K,C,GAGZ,UAACkgB,KAASA,AAAAA,GAAAA,EAAAA,CAAAA,AAAAA,EAAAA,AAAAA,GAAAA,EAAAA,CAAAA,AAAAA,EAAAA,CACR,IAAKxF,C,EACDnD,IAAsBA,CAC1B,MAAO,CACL,SAAU,EACZ,C,UAQhB,EAAG,CAACuI,EAAah3B,EAAkBC,EAAa,EAE1Co3B,EAAavxB,AAAAA,GAAAA,EAAAA,OAAAA,AAAAA,EAAQ,KACzB,IAMmB6W,EANbvS,EAAO4sB,EACRh3B,MAAAA,EAAAA,KAAAA,EAAAA,EAAiC,KAAK,CAACC,EAAe,EAAE,CACxDD,EAEC,CAAE8N,OAAAA,CAAM,CAAE,CAAG1D,EACbktB,EAAcn1B,GAClBZ,GAAiBob,MAAAA,EAAAA,KAAAA,EAAAA,AAAW,OAAXA,CAAAA,EAAAA,EAAM,KAAK,AAAD,GAAVA,AAAAA,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAa,MAAM,GAGhCwI,EAAUrX,IAAWvP,EAAAA,KAAgB,CAE3C,MACE,uB,UACE,UAACiF,GAAeA,CACd,KAAMX,EAAAA,CAAAA,CAAAA,CAAM,CAAC,6BACb,YACE,AAAuB,UAAvB,OAAOy0B,EACHA,EACAz1B,KAAK,SAAS,CAACy1B,E,GAGvB,UAAC,OACC,UAAW3zB,KACTjB,EAAAA,CAAAA,oBAAsB,CACtByiB,GAAWziB,EAAAA,CAAAA,0BAA4B,E,SAGxC,AAAuB,UAAvB,OAAO40B,EACN,UAAC,OAAI,UAAW50B,EAAAA,CAAAA,cAAgB,C,SAAG40B,C,GAEnC,UAAC,OAAI,UAAW50B,EAAAA,CAAAA,uBAAyB,C,SACtCmf,MAAM,OAAO,CAACyV,GACb,UAACxC,GAAeA,CACd,IAAKwC,EACL,OAAQrV,EACR,SAAU/K,C,GAGZ,UAACkgB,KAASA,AAAAA,GAAAA,EAAAA,CAAAA,AAAAA,EAAAA,AAAAA,GAAAA,EAAAA,CAAAA,AAAAA,EAAAA,CACR,IAAKE,C,EACD7I,IAAsBA,CAC1B,MAAO,CACL,SAAU,EACZ,C,UAQhB,EAAG,CAACuI,EAAah3B,EAAkBC,EAAa,EAE1Cs3B,EAAezxB,AAAAA,GAAAA,EAAAA,OAAAA,AAAAA,EACnB,IACE,UAAC0xB,GAAYA,CACX,MAAOvV,EACP,QAAS/K,EACT,WAAY,CACV,KAAMxY,GAAAA,QAA2B,CACjC,SAAU8M,CACZ,EACA,eAAgBxL,EAAiB,EAAE,CACnC,UAAW0C,EAAAA,CAAAA,gBAAkB,CAC7B,aAAc0I,AAAAA,GACZ,WAAC,OAAI,UAAW1I,EAAAA,CAAAA,uBAAyB,C,UACvC,UAAC,OAAI,UAAWA,EAAAA,CAAAA,6BAA+B,C,SAC5CG,EAAAA,CAAAA,CAAAA,CAAM,CAAC,iC,GAEV,UAAC4tB,EAAAA,EAAGA,CAAAA,CAAC,KAAK,QAAQ,MAAO,CAAE,IAAK,CAAE,E,SAC/B/B,EAAkB,CAACtjB,EAAK,A,QAMnC,CAAC6W,EAAO/K,EAAS1L,EAAOxL,EAAiB,EAAE,CAAC,EAG9C,MACE,WAAC,OAAI,UAAW0C,EAAAA,CAAAA,mBAAqB,C,UACnC,UAAC,OAAI,UAAWA,EAAAA,CAAAA,yBAA2B,C,SACxCG,EAAAA,CAAAA,CAAAA,CAAM,CAAC,qB,GAEV,UAACC,GAAeA,CAAC,KAAMwzB,C,GACvB,UAACmB,EAAAA,EAAOA,CAAAA,CAAC,OAAQ,E,GAChBR,EACAE,EACAE,EACAE,E,EAGP,E,8BCjOI,GAAU,CAAC,CAEf,IAAQ,iBAAiB,CAAG,IAC5B,GAAQ,aAAa,CAAG,IAElB,GAAQ,MAAM,CAAG,QAAa,CAAC,KAAM,QAE3C,GAAQ,MAAM,CAAG,IACjB,GAAQ,kBAAkB,CAAG,IAEhB,IAAI,IAAO,CAAE,IAKnB,OAAe,IAAO,EAAI,WAAc,CAAG,WAAc,CAAGr4B,KAAAA,EC6B7Dw4B,GAAqB,AAACn1B,IAC1B,GAAM,CAAEqsB,SAAAA,CAAQ,CAAE,CAAGrsB,EACf,CAAC8uB,EAAcsG,EAAgB,CAAG1G,KACxC,MACE,UAAC2G,EAAAA,CAASA,CAAAA,CACR,UACErJ,GAAyC,IAAI,CAACzvB,GAAAA,IAAqB,CAAC,CACjE,MAAM,CAAC,GAAG,CAEf,UACEyvB,GAAyC,IAAI,CAACzvB,GAAAA,IAAqB,CAAC,CACjE,MAAM,CAAC,GAAG,CAEf,SAAS,OACT,OAAQ,CACN,OAAQ,EACV,EACA,YAAa,CACX,OAAQuyB,EAAa,IAAI,CAACvyB,GAAAA,IAAqB,CAAC,CAChD,MAAO,MACT,EAEA,aAAc,CAACqK,EAAG0uB,EAAGC,EAAIC,KACvBJ,EAAgBpf,AAAAA,IACdA,EAAO,IAAI,CAACzZ,GAAAA,IAAqB,CAAC,EAAIi5B,EAAM,MAAM,AACpD,EACF,E,SAEA,UAAC,OAAI,UAAWp0B,KAAWjB,EAAAA,CAAAA,wBAA0B,E,SAAIksB,C,IAG/D,EAEaoJ,GAAa,AAACz1B,IACzB,GAAM,CAAEoK,SAAAA,CAAQ,CAAEnB,MAAAA,CAAK,CAAExL,iBAAAA,CAAgB,CAAEi4B,yBAAAA,CAAwB,CAAE,CAAG11B,EAClE,CACJ,UAAW,CAAEorB,QAAAA,CAAO,CAAE,CACvB,CAAGxuB,EACF+4B,AAAAA,GAAAA,GAAAA,CAAAA,AAAAA,EAAWC,AAAAA,GAAU,EACnB,UAAWA,EAAM,SAAS,AAC5B,KAEI,CAACC,EAAWC,EAAa,CAAG3zB,AAAAA,GAAAA,EAAAA,QAAAA,AAAAA,EAChC3F,GAAAA,OAAoB,EAGtBwK,AAAAA,GAAAA,EAAAA,SAAAA,AAAAA,EAAU,KACR0uB,EAAyBtrB,EAC3B,EAAG,CAACA,EAAS,EAAE,CAAC,EAEhB,IAAM2rB,EAAe7yB,AAAAA,GAAAA,EAAAA,WAAAA,AAAAA,EAEnB8yB,AAAAA,IACA,GAAM,CAAEC,UAAAA,CAAS,CAAEC,KAAAA,CAAI,CAAE,CAAGF,EAE5B,MACE,UAAC,OAAI,UAAW71B,EAAAA,CAAAA,sBAAwB,C,SACrC+1B,MAAAA,EAAAA,KAAAA,EAAAA,EAAM,GAAG,CAAC,AAAC,I,GAAA,CAAEC,IAAAA,CAAG,CAAEC,QAAAA,CAAO,CAAE,G,MAC1B,UAAC,OACC,UAAWh1B,KAAWjB,EAAAA,CAAAA,8BAAgC,CAAE,CACtD,CAACA,GAAAA,MAAQ,CAAC,CAAE81B,IAAcG,CAC5B,GAEA,QAAS,IAAMN,EAAaM,G,SAE3BD,C,EAHIC,E,IAQf,EAAG,EAAE,EAECC,EAA8CnzB,AAAAA,GAAAA,EAAAA,WAAAA,AAAAA,EAClD,CAACyvB,EAAG/wB,KACF,IAAiB00B,EAAAA,EAAX,CAAEzuB,KAAAA,CAAI,CAAE,CAAGyuB,MAAAA,EAAAA,KAAAA,EAAAA,AAAa,OAAbA,CAAAA,EAAAA,EAAS,IAAI,AAAD,GAAZA,AAAAA,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,AAAkB,OAAlBA,CAAAA,EAAAA,CAAe,CAAC,EAAE,AAAD,GAAjBA,AAAAA,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAoB,KAAK,CACtCzuB,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAM,EAAE,AAAD,IAAMlL,KAAAA,GACf+4B,EAAyB7tB,EAE7B,EACA,EAAE,EAGJ,MACE,UAACstB,GAAAA,C,SACC,WAACoB,EAAAA,EAAIA,CAAAA,CACH,UAAWp2B,EAAAA,CAAAA,kBAAoB,CAC/B,UAAW01B,EACX,aAAcE,E,UAEd,UAACS,EAAAA,EAAOA,CAAAA,CACN,IAAKl2B,EAAAA,CAAAA,CAAAA,CAAM,CAAC,kBACZ,QAAS9D,GAAAA,OAAoB,CAC7B,UAAW2D,EAAAA,CAAAA,6BAA+B,C,SAE1C,UAACs2B,GAASA,CACR,UAAWt2B,EAAAA,CAAAA,kBAAoB,CAC/B,WAAY,CACV,KAAMhE,GAAAA,QAA2B,CACjC,SAAU8M,CACZ,EACA,QAASmiB,EACT,eAAgB3tB,MAAAA,EAAAA,KAAAA,EAAAA,EAAkB,EAAE,CACpC,SAAU,AAAC,I,GAAA,CAAE2G,KAAAA,CAAI,CAAE,GACX,CAAEyD,KAAAA,CAAI,CAAE,CAAGzD,EAAK,KAAK,CACvByD,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAM,EAAE,AAAD,IAAMlL,KAAAA,GACf+4B,EAAyB7tB,EAE7B,C,KAGJ,UAAC2uB,EAAAA,EAAOA,CAAAA,CACN,IAAKl2B,EAAAA,CAAAA,CAAAA,CAAM,CAAC,qBACZ,UAAU,yBACV,QAAS9D,GAAAA,WAAwB,C,SAEjC,UAAC,OAAI,UAAW2D,EAAAA,CAAAA,mBAAqB,C,SACnC,UAACu2B,GAAgBA,CACf,WAAY,CACV,KAAMv6B,GAAAA,QAA2B,CACjC,SAAU8M,CACZ,EACA,kBAAiB,GACjB,eAAgBxL,MAAAA,EAAAA,KAAAA,EAAAA,EAAkB,EAAE,CACpC,gBAAgB,KAChB,YAAa,CACX,OAAQ,MACV,EACA,QAAS44B,C,WAOvB,E,eClLI,GAAU,CAAC,CAEf,IAAQ,iBAAiB,CAAG,IAC5B,GAAQ,aAAa,CAAG,IAElB,GAAQ,MAAM,CAAG,QAAa,CAAC,KAAM,QAE3C,GAAQ,MAAM,CAAG,IACjB,GAAQ,kBAAkB,CAAG,IAEhB,IAAI,IAAO,CAAE,IAKnB,OAAe,IAAO,EAAI,WAAc,CAAG,WAAc,CAAG15B,KAAAA,ECsBtDg6B,GAAe,AAAC32B,IAC3B,IAgBI42B,EAhBE,CACJlX,MAAAA,CAAK,CACL/K,QAAAA,CAAO,CACPlX,iBAAAA,CAAgB,CAChBF,eAAAA,CAAc,CACdC,aAAAA,CAAY,CACZ0tB,sBAAAA,CAAqB,CACrBxtB,aAAAA,CAAY,CACZm5B,oBAAAA,CAAmB,CACnBrC,gBAAAA,CAAe,CAChB,CAAGx0B,EAEE,CACJuL,OAAAA,EAASvP,EAAAA,OAAkB,CAC3BsvB,iBAAAA,EAAmB,CAAC,CACpBC,kBAAAA,EAAoB,CAAC,CACtB,CAAGqL,AAA2B,OAA3BA,CAAAA,EAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAuB,IAAI,AAAD,GAA1BA,AAAAA,KAAAA,IAAAA,EAAAA,EAA+B,CAAC,EAa9B,CAAExsB,SAAAA,CAAQ,CAAEnB,MAAAA,CAAK,CAAE,CAAG2f,GAAiB,CAC3C,SAAUrrB,MAAAA,EAAAA,EAAkB,EAAE,CAC9B0pB,iBAb2D1jB,AAAAA,GAAAA,EAAAA,OAAAA,AAAAA,EAC3D,IAAO,EACL,OAAQ,CACN,MAAO+nB,EACP,OAAQC,CACV,EACAhgB,OAAAA,CACF,GACA,CAAC+f,EAAkBC,EAAmBhgB,EAAO,EAO7C,iBAAkB/N,CACpB,GAEA,MACE,uB,UACE,UAAC,OAAI,UAAW2C,EAAAA,CAAAA,6CAA+C,C,SAC5D5C,GAAkBC,GAAgB0tB,EACjC,UAACuK,GAAUA,CACT,SAAUrrB,EACV,MAAOnB,EACP,iBAAkBxL,EAClB,yBAA0Bq5B,AAAAA,IACxBtC,EAAgB,GAChBqC,EAAoBC,EACtB,C,GAEA,I,GAGN,UAAC5B,EAAAA,EAAOA,CAAAA,CAAC,UAAW/0B,EAAAA,CAAAA,2BAA6B,A,GACjD,UAAC,OAAI,UAAWA,EAAAA,CAAAA,+CAAiD,C,SAC9D1C,GAAoBC,EACnB,UAAC62B,GAAWA,CACV,MAAO7U,EACP,QAAS/K,EACT,MAAO1L,EACP,iBAAkBxL,EAClB,aAAcC,EACd,gBAAiB82B,C,GAEjB,I,KAIZ,EC9DauC,GAAiB,AAAC/2B,IAC7B,I,MAAM,CAAEouB,QAAAA,CAAO,CAAE,CAAGpuB,EACd,CAACg3B,EAAgBC,EAAkB,CAAG90B,AAAAA,GAAAA,EAAAA,QAAAA,AAAAA,EAAS,IAC/C,CAAC0qB,EAAcqK,EAAgB,CAAG/0B,AAAAA,GAAAA,EAAAA,QAAAA,AAAAA,EAAS,IAC3C,CAACyd,EAASC,EAAW,CAAG1d,AAAAA,GAAAA,EAAAA,QAAAA,AAAAA,EAAS,IACjC,CACJ,UAAW,CAAEipB,QAAAA,EAAU,EAAE,CAAE1L,MAAAA,EAAQ,EAAE,CAAE,CACvC1iB,YAAAA,CAAW,CACX2vB,aAAAA,CAAY,CACZC,sBAAAA,CAAqB,CACrB1B,sBAAAA,CAAqB,CACrB7tB,qBAAAA,CAAoB,CACpBG,aAAAA,CAAY,CACZD,eAAAA,CAAc,CACdE,iBAAAA,CAAgB,CAChBC,aAAAA,CAAY,CACZJ,qBAAAA,CAAoB,CACpB65B,yBAAAA,CAAwB,CACxBrK,aAAAA,CAAY,CACZC,sBAAAA,CAAqB,CACrBqK,wBAAAA,CAAuB,CACvBC,kBAAAA,CAAiB,CACjBC,gBAAAA,CAAe,CACfT,oBAAAA,CAAmB,CACnBrC,gBAAAA,CAAe,CAChB,CAAG53B,IAEE26B,EAAiBx1B,AAAAA,GAAAA,EAAAA,MAAAA,AAAAA,EzEnDK,KyEqDtB,CAAC+sB,EAAcsG,EAAgB,CAAG1G,KAExC,IAAM8I,G,EAAmB,kBAAOlK,CAAW,CAAWC,CAAQ,EACxD,CAACA,IACH2J,EAAgB,IAChBK,EAAe,OAAO,CzE1DE,KyE4D1B,IAwBoBE,EACJC,EAzBV,CAAEla,KAAAA,CAAI,CAAE,CAAG,MAAMma,EAAAA,EAAAA,CAAAA,gBAA2B,CAChD,SACEvM,QAAAA,EACA,MAAO1L,EACP,OACEkN,AzE3E0B,QyE2E1BA,EACIjwB,KAAAA,EACA,CAACiwB,EAAoC,CAC3CU,YAAAA,EACA,MzE3EuB,GyE4EvB,UACEiK,AzEvEoB,MyEuEpBA,EAAe,OAAO,CAClB56B,KAAAA,EACA46B,EAAe,OAAO,A,EACzB34B,GAAwB+tB,IAE7B,CACE,iBAAkBiL,AAAAA,GAAKC,IAAAA,SAAY,CAACD,EAAG,CAAE,YAAa,OAAQ,EAChE,EAEFL,CAAAA,EAAe,OAAO,CACpB/Z,AAAAA,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAM,eAAe,AAAD,GAAKA,AAAyB,KAAzBA,EAAK,eAAe,CACzCA,EAAK,eAAe,CzElFA,IyEoF1B,IAAM+Q,EAAckJ,AAAW,OAAXA,CAAAA,EAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAM,KAAK,AAAD,GAAVA,AAAAA,KAAAA,IAAAA,EAAAA,EAAe,EAAE,CAGrC,GAFAP,EAAgBQ,AAAc,OAAdA,CAAAA,EAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAM,QAAQ,AAAD,GAAbA,AAAAA,KAAAA,IAAAA,GAAAA,GAEZnJ,AAAuB,IAAvBA,EAAY,MAAM,CAEpB,OADA6I,EAAwB,EAAE,EACnB,EAAE,CAEX,GAAM,CACJ,KAAM,CAAE,oBAAqBnQ,CAAgB,CAAE,CAChD,CAAG,MAAM0Q,EAAAA,EAAAA,CAAAA,yBAAoC,CAAC,CAC7C,SAAUvM,MAAAA,EAAAA,EAAW,GACrB,OAAQ1L,MAAAA,EAAAA,EAAS,GACjB,OAAQ6O,EAAY,GAAG,CAACjtB,AAAAA,IACtB,GAAM,CAAEw2B,SAAAA,CAAQ,CAAEzN,WAAAA,CAAU,CAAE1b,QAAAA,CAAO,CAAE,CAAGrN,EAC1C,MAAO,CACLw2B,SAAAA,EACAzN,WAAAA,EACA,SAAU0N,OACRhzB,OAAOslB,GACLtlB,OAAO4J,GzE5G0B,IyE+GvC,CACF,EACF,GACMqpB,EAAgB1J,GAAoBC,EAAatH,GACjDhe,EAAQskB,EACV,IAAIlwB,KAAyB26B,EAAc,CAC3CA,EAEJ,OADAZ,EAAwBnuB,GACjBA,CACT,G,SA5DgCqkB,CAAW,CAAWC,CAAQ,E,iCA8D9D,IAAM0K,G,EAAyB,kBAAOC,CAAK,EACzC,GAAM,CACJ,KAAM,CAAEjvB,MAAAA,CAAK,CAAE,CAChB,CAAG,MAAM0uB,EAAAA,EAAAA,CAAAA,eAA0B,CAAC,CACnC,SAAUvM,EACV,OAAQ1L,EACR,OAAQwY,CACV,GAEA,OADAb,EAAkBpuB,GACXA,CACT,G,SAVsCivB,CAAK,E,iCAY3C,IAAMC,G,EAA4B,oBAChC,GAAM,CAAE3a,KAAAA,CAAI,CAAE,CAAG,MAAMma,EAAAA,EAAAA,CAAAA,iBAA4B,GACnDL,EAAgB9Z,MAAAA,EAAAA,KAAAA,EAAAA,EAAM,aAAa,CACrC,G,4CAEM4a,EAAkB,AAACvwB,IACvB,IAAMqwB,EAAQtwB,GAAYC,EAAM,UAC1BgjB,EAAQjjB,GAAYC,EAAM,gBAEhCsvB,EAAyB,CACvB,MAAOe,EACPrN,MAAAA,EACAQ,OAJazjB,GAAYC,EAAM,UAK/BA,KAAAA,CACF,EACF,EA2EA,MAzEA0Y,AAAAA,GAAAA,EAAAA,CAAAA,AAAAA,EAAcA,AAAC,GAADA,EAAAA,CAAAA,AAAAA,EAAC,YACb,GAAI2K,EAAuB,CACzB,GAAM,CAAErjB,KAAAA,CAAI,CAAE,CAAGqjB,EACXgN,EAAQtwB,GAAYC,EAAM,UAChCovB,EAAkB,IAClB,GAAI,CACF,MAAMgB,EAAuBC,EAC/B,QAAU,CACRjB,EAAkB,GACpB,CACF,CACF,GAAG,CAAC/L,EAAsB,EAE1B3K,AAAAA,GAAAA,EAAAA,CAAAA,AAAAA,EAAcA,AAAC,GAADA,EAAAA,CAAAA,AAAAA,EAAC,YACb,GAAIvjB,GAQF,GAPA6iB,EAAW,IACXiN,EzE5K8B,OyE6K9BC,EzE7K8B,OyE8K1B,CAACvvB,GACH,OAAM26B,GAA0B,EAG9B76B,EACF,GAAI,CAEF,IAAM+6B,EAAgBpvB,AADR,OAAMgvB,EAAuB36B,EAAoB,EACnC,IAAI,CAC9BgE,AAAAA,GAAQA,EAAK,IAAI,GAAKrF,EAAAA,SAAkB,EAE1C,GAAIo8B,EAAe,CACjB,IAmBuBC,EAnBjB,CAAER,SAAAA,CAAQ,CAAEzN,WAAAA,CAAU,CAAE1b,QAAAA,CAAO,CAAE,CAAG0pB,EACpC,CACJ,KAAM,CAAE,oBAAqBpR,CAAgB,CAAE,CAChD,CAAG,MAAM0Q,EAAAA,EAAAA,CAAAA,yBAAoC,CAAC,CAC7C,SAAUvM,EACV,OAAQ1L,EACR,OAAQ,CACN,CACEoY,SAAAA,EACAzN,WAAAA,EACA,SAAU0N,OACRhzB,OAAOslB,GACLtlB,OAAO4J,GzEhMkB,IyEmM/B,EACD,AACH,GAEM4pB,EAAiB,AAErBtR,OAFqBqR,CAAAA,EAAAA,GACrB,CAACD,EAAc,CACfpR,EAAgB,GAFKqR,AAAAA,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,CAGpB,CAAC,EAAE,CACNF,EAAgBG,EAClB,CACF,QAAU,CACR1Y,EAAW,GACb,MAIA,GAAI,CACF,IAAM2Y,EAAQ,MAAMhB,IACdiB,EAAcD,MAAAA,EAAAA,KAAAA,EAAAA,CAAO,CAAC,EAAE,CAC1BC,GACFL,EAAgBK,EAEpB,QAAU,CACR5Y,EAAW,GACb,EAGN,GAAG,CAAC7iB,EAAaM,EAAqB,EAGpC,UAAC+3B,EAAAA,CAASA,CAAAA,CACR,SACErJ,GAAyC,IAAI,CAACzvB,GAAAA,OAAwB,CAAC,CACpE,KAAK,CAAC,GAAG,CAEd,SACEyvB,GAAyC,IAAI,CAACzvB,GAAAA,OAAwB,CAAC,CACpE,KAAK,CAAC,GAAG,CAEd,OAAQ,CACN,KAAM,EACR,EACA,YAAa,CACX,OAAQ,OACR,MAAOuyB,EAAa,IAAI,CAACvyB,GAAAA,OAAwB,CAAC,AACpD,EACA,aAAc,CAACqK,EAAG0uB,EAAGC,EAAIC,KACvBJ,EAAgBpf,AAAAA,IACdA,EAAO,IAAI,CAACzZ,GAAAA,OAAwB,CAAC,EAAIi5B,EAAM,KAAK,AACtD,EACF,E,SAEA,WAAC,OAAI,UAAWr1B,EAAAA,CAAAA,mBAAqB,C,UACnC,UAACguB,GAAWA,CAAC,QAASC,C,GACrBxO,EACC,UAAC,OAAI,UAAWzf,EAAAA,CAAAA,2BAA6B,C,SAC3C,UAACmkB,EAAAA,EAAIA,CAAAA,CAAAA,E,GAGP,sB,SACE,WAAC,OAAI,UAAWnkB,EAAAA,CAAAA,6BAA+B,C,UAC7C,UAAC,OAAI,UAAWA,EAAAA,CAAAA,mCAAqC,C,SACnD,UAACusB,GAAWA,CACV,aAAcC,EACd,sBAAuBC,EACvB,sBAAuB1B,EACvB,qBAAsB7tB,EACtB,aAAcwvB,EACd,aAAcC,EACd,sBAAuBC,EACvB,cAAeoK,EACf,aAAcK,C,KAGjB,AAACtM,EAQA,WAAC,OAAI,UAAW/qB,EAAAA,CAAAA,wCAA0C,C,UACxD,UAACk1B,EAAAA,CAASA,CAAAA,CACR,UACErJ,GAAyC,IAAI,CAC3CzvB,GAAAA,OAAwB,CACzB,CAAC,MAAM,CAAC,GAAG,CAEd,UACEyvB,GAAyC,IAAI,CAC3CzvB,GAAAA,OAAwB,CACzB,CAAC,MAAM,CAAC,GAAG,CAEd,SAAS,OACT,OAAQ,CACN,OAAQ,EACV,EACA,YAAa,CACX,OAAQuyB,EAAa,IAAI,CAACvyB,GAAAA,OAAwB,CAAC,CACnD,MAAO,MACT,EACA,aAAc,CAACqK,EAAG0uB,EAAGC,EAAIC,KACvBJ,EAAgBpf,AAAAA,IACdA,EAAO,IAAI,CAACzZ,GAAAA,OAAwB,CAAC,EAAIi5B,EAAM,MAAM,AACvD,EACF,E,SAEA,UAAC,OACC,UACEr1B,EAAAA,CAAAA,gDAAkD,C,SAGnD+qB,EACC,UAACD,GAAYA,CACX,sBAAuBC,C,GAEvB,I,KAGR,UAACgK,EAAAA,EAAOA,CAAAA,CAAC,UAAW/0B,EAAAA,CAAAA,2BAA6B,A,GAChD62B,EACC,UAAC,OACC,UACE72B,EAAAA,CAAAA,oDAAsD,C,SAGxD,UAACmkB,EAAAA,EAAIA,CAAAA,CAAAA,E,GAGP,UAACqS,GAAYA,CACX,MAAOjX,EACP,QAAS0L,EACT,iBAAkB3tB,EAClB,eAAgBF,EAChB,aAAcC,EACd,sBAAuB0tB,EACvB,aAAcxtB,EACd,oBAAqBm5B,EACrB,gBAAiBrC,C,MAhEvB,UAAC,OAAI,UAAWr0B,EAAAA,CAAAA,2BAA6B,C,SAC3C,UAACu4B,EAAAA,EAAKA,CAAAA,CACJ,MAAO,UAACC,EAAAA,EAAoBA,CAAAA,CAAAA,GAC5B,YAAar4B,EAAAA,CAAAA,CAAAA,CAAM,CAAC,mB,cAwExC,EC7VA,GCY0B,AAACN,IACzB,GAAM,CACJ0f,MAAAA,CAAK,CACL0L,QAAAA,CAAO,CACPD,OAAAA,CAAM,CACNyN,UAAAA,CAAS,CACTC,kBAAAA,CAAiB,CACjBC,OAAAA,CAAM,CACN1K,QAAAA,CAAO,CACR,CAAGpuB,EACE,CAAE+4B,aAAAA,CAAY,CAAEC,wBAAAA,CAAuB,CAAEC,eAAAA,CAAc,CAAEC,WAAAA,CAAU,CAAE,CACzEt8B,UAEFoK,AAAAA,GAAAA,EAAAA,SAAAA,AAAAA,EAAU,KACR+xB,EAAa,CACXrZ,MAAAA,EACA0L,QAAAA,EACAD,OAAAA,EACAyN,UAAAA,CACF,GACAI,EAAwBH,GACxBI,EAAeH,EACjB,EAAG,CAACpZ,EAAO0L,EAASD,EAAQyN,EAAWE,EAAQD,EAAkB,EAEjE7xB,AAAAA,GAAAA,EAAAA,SAAAA,AAAAA,EAAU,KACR2kB,AAAAA,GAAAA,EAAAA,EAAAA,AAAAA,EAAaC,EAAAA,EAAAA,CAAAA,eAA2B,CAAE,CACxC,OAAQlM,EACR,aAAc0L,CAChB,EACF,EAAG,EAAE,EAMLpkB,AAAAA,GAAAA,EAAAA,SAAAA,AAAAA,EACE,IAAM,KACJkyB,GACF,EACA,EAAE,EAGG,UAACnC,GAAcA,CAAC,QAXG,KACxB3I,GACF,C,EAUF,C,8DCzEI+K,EAA0B,A,SAA4B,KAE1DA,EAAwB,IAAI,CAAC,CAACC,EAAO,EAAE,CAAE,iRAAkR,GAAG,EAE9TD,EAAwB,MAAM,CAAG,CAChC,4BAA6B,mCAC7B,uBAA0B,mCAC1B,kCAAmC,yCACnC,4BAA+B,wCAChC,EACA,IAAeA,C,8DCVXA,EAA0B,A,SAA4B,KAE1DA,EAAwB,IAAI,CAAC,CAACC,EAAO,EAAE,CAAE,yrBAA0rB,GAAG,EAEtuBD,EAAwB,MAAM,CAAG,CAChC,cAAe,qBACf,WAAc,qBACd,wBAAyB,+BACzB,oBAAuB,+BACvB,6BAA8B,oCAC9B,wBAA2B,oCAC3B,+BAAgC,sCAChC,0BAA6B,sCAC7B,gCAAiC,uCACjC,2BAA8B,uCAC9B,8BAA+B,qCAC/B,yBAA4B,oCAC7B,EACA,IAAeA,C,8DClBXA,EAA0B,A,SAA4B,KAE1DA,EAAwB,IAAI,CAAC,CAACC,EAAO,EAAE,CAAE,2fAA4f,GAAG,EAExiBD,EAAwB,MAAM,CAAG,CAChC,gBAAiB,uBACjB,aAAgB,uBAChB,wBAAyB,+BACzB,oBAAuB,+BACvB,0BAA2B,iCAC3B,sBAAyB,iCACzB,+BAAgC,sCAChC,0BAA6B,sCAC7B,wBAAyB,+BACzB,oBAAuB,8BACxB,EACA,IAAeA,C,8DChBXA,EAA0B,A,SAA4B,KAE1DA,EAAwB,IAAI,CAAC,CAACC,EAAO,EAAE,CAAE,uxBAAwxB,GAAG,EAEp0BD,EAAwB,MAAM,CAAG,CAChC,aAAc,oBACd,UAAa,oBACb,kBAAmB,yBACnB,cAAiB,yBACjB,MAAS,cACV,EACA,IAAeA,C,8DCXXA,EAA0B,A,SAA4B,KAE1DA,EAAwB,IAAI,CAAC,CAACC,EAAO,EAAE,CAAE,inBAAknB,GAAG,EAE9pBD,EAAwB,MAAM,CAAG,CAChC,KAAQ,cACR,iBAAkB,wBAClB,cAAiB,wBACjB,iBAAkB,wBAClB,aAAgB,wBAChB,iBAAkB,wBAClB,aAAgB,wBAChB,YAAa,mBACb,SAAY,mBACZ,gBAAiB,uBACjB,YAAe,sBAChB,EACA,IAAeA,C,8DCjBXA,EAA0B,A,SAA4B,KAE1DA,EAAwB,IAAI,CAAC,CAACC,EAAO,EAAE,CAAE,4qDAA6qD,GAAG,EAEztDD,EAAwB,MAAM,CAAG,CAChC,kBAAmB,yBACnB,cAAiB,yBACjB,sBAAuB,6BACvB,iBAAoB,6BACpB,8BAA+B,qCAC/B,uBAA0B,qCAC1B,OAAU,gBACV,6BAA8B,oCAC9B,uBAA0B,oCAC1B,kBAAmB,yBACnB,cAAiB,yBACjB,mBAAoB,0BACpB,gBAAmB,0BACnB,wBAAyB,+BACzB,oBAAuB,8BACxB,EACA,IAAeA,C,8DCrBXA,EAA0B,A,SAA4B,KAE1DA,EAAwB,IAAI,CAAC,CAACC,EAAO,EAAE,CAAE,6tEAA8tE,GAAG,EAE1wED,EAAwB,MAAM,CAAG,CAChC,wBAAyB,+BACzB,qBAAwB,+BACxB,4BAA6B,mCAC7B,wBAA2B,mCAC3B,6BAA8B,oCAC9B,yBAA4B,oCAC5B,iCAAkC,wCAClC,4BAA+B,wCAC/B,mCAAoC,0CACpC,8BAAiC,0CACjC,oBAAqB,2BACrB,gBAAmB,2BACnB,yBAA0B,gCAC1B,oBAAuB,gCACvB,0BAA2B,iCAC3B,qBAAwB,iCACxB,mBAAoB,0BACpB,gBAAmB,0BACnB,sBAAuB,6BACvB,kBAAqB,6BACrB,YAAa,mBACb,SAAY,mBACZ,uCAAwC,8CACxC,iCAAoC,8CACpC,4CAA6C,mDAC7C,qCAAwC,mDACxC,gDAAiD,uDACjD,wCAA2C,uDAC3C,kDAAmD,yDACnD,0CAA6C,wDAC9C,EACA,IAAeA,C,8DCpCXA,EAA0B,A,SAA4B,KAE1DA,EAAwB,IAAI,CAAC,CAACC,EAAO,EAAE,CAAE,4gFAA6gF,GAAG,EAEzjFD,EAAwB,MAAM,CAAG,CAChC,mBAAoB,0BACpB,gBAAmB,0BACnB,yBAA0B,gCAC1B,qBAAwB,gCACxB,oBAAqB,2BACrB,gBAAmB,2BACnB,0BAA2B,iCAC3B,qBAAwB,iCACxB,cAAe,qBACf,WAAc,qBACd,oBAAqB,2BACrB,iBAAoB,2BACpB,uBAAwB,8BACxB,mBAAsB,8BACtB,gBAAiB,uBACjB,aAAgB,uBAChB,uBAAwB,8BACxB,mBAAsB,8BACtB,6BAA8B,oCAC9B,wBAA2B,mCAC5B,EACA,IAAeA,C,8DC1BXA,EAA0B,A,SAA4B,KAE1DA,EAAwB,IAAI,CAAC,CAACC,EAAO,EAAE,CAAE,4qBAA6qB,GAAG,EAEztBD,EAAwB,MAAM,CAAG,CAChC,eAAgB,sBAChB,YAAe,sBACf,qBAAsB,4BACtB,iBAAoB,4BACpB,sBAAuB,6BACvB,kBAAqB,6BACrB,2BAA4B,kCAC5B,sBAAyB,iCAC1B,EACA,IAAeA,C,8DCdXA,EAA0B,A,SAA4B,KAE1DA,EAAwB,IAAI,CAAC,CAACC,EAAO,EAAE,CAAE,smFAAumF,GAAG,EAEnpFD,EAAwB,MAAM,CAAG,CAChC,eAAgB,sBAChB,YAAe,sBACf,uBAAwB,8BACxB,mBAAsB,8BACtB,qCAAsC,4CACtC,+BAAkC,4CAClC,sBAAuB,6BACvB,kBAAqB,6BACrB,kCAAmC,yCACnC,4BAA+B,yCAC/B,0BAA2B,iCAC3B,qBAAwB,iCACxB,+BAAgC,sCAChC,0BAA6B,sCAC7B,sCAAuC,6CACvC,gCAAmC,6CACnC,2CAA4C,kDAC5C,oCAAuC,kDACvC,2CAA4C,kDAC5C,oCAAuC,kDACvC,mBAAoB,0BACpB,gBAAmB,0BACnB,iBAAkB,wBAClB,cAAiB,uBAClB,EACA,IAAeA,C,8DC9BXA,EAA0B,A,SAA4B,KAE1DA,EAAwB,IAAI,CAAC,CAACC,EAAO,EAAE,CAAE,wqGAAyqG,GAAG,EAErtGD,EAAwB,MAAM,CAAG,CAChC,mBAAoB,0BACpB,eAAkB,0BAClB,2BAA4B,kCAC5B,sBAAyB,kCACzB,2BAA4B,kCAC5B,qBAAwB,kCACxB,6BAA8B,oCAC9B,wBAA2B,oCAC3B,mCAAoC,0CACpC,6BAAgC,0CAChC,wCAAyC,+CACzC,iCAAoC,+CACpC,gDAAiD,uDACjD,wCAA2C,uDAC3C,oDAAqD,2DACrD,2CAA8C,2DAC9C,6CAA8C,oDAC9C,qCAAwC,oDACxC,+CAAgD,sDAChD,uCAA0C,qDAC3C,EACA,IAAeA,C,8DC1BXA,EAA0B,A,SAA4B,KAE1DA,EAAwB,IAAI,CAAC,CAACC,EAAO,EAAE,CAAE,6kCAA8kC,GAAG,EAE1nCD,EAAwB,MAAM,CAAG,CAChC,0BAA2B,iCAC3B,sBAAyB,iCACzB,+BAAgC,sCAChC,0BAA6B,sCAC7B,8BAA+B,qCAC/B,yBAA4B,qCAC5B,+BAAgC,sCAChC,0BAA6B,sCAC7B,8BAA+B,qCAC/B,yBAA4B,qCAC5B,6BAA8B,oCAC9B,wBAA2B,oCAC3B,kBAAmB,yBACnB,eAAkB,wBACnB,EACA,IAAeA,C,8DCpBXA,EAA0B,A,SAA4B,KAE1DA,EAAwB,IAAI,CAAC,CAACC,EAAO,EAAE,CAAE,uzBAAwzB,GAAG,EAEp2BD,EAAwB,MAAM,CAAG,CAChC,QAAW,iBACX,OAAU,gBACV,KAAQ,cACR,OAAU,gBACV,MAAS,eACT,YAAa,mBACb,SAAY,kBACb,EACA,IAAeA,C,8DCbXA,EAA0B,A,SAA4B,KAE1DA,EAAwB,IAAI,CAAC,CAACC,EAAO,EAAE,CAAE,4TAA6T,GAAG,EAEzWD,EAAwB,MAAM,CAAG,CAChC,oBAAqB,2BACrB,gBAAmB,2BACnB,KAAQ,aACT,EACA,IAAeA,C,8DCTXA,EAA0B,A,SAA4B,KAE1DA,EAAwB,IAAI,CAAC,CAACC,EAAO,EAAE,CAAE,8pCAA+pC,GAAG,EAE3sCD,EAAwB,MAAM,CAAG,CAChC,0BAA2B,iCAC3B,sBAAyB,iCACzB,wBAAyB,+BACzB,oBAAuB,8BACxB,EACA,IAAeA,C,8DCVXA,EAA0B,A,SAA4B,KAE1DA,EAAwB,IAAI,CAAC,CAACC,EAAO,EAAE,CAAE,4pBAA6pB,GAAG,EAEzsBD,EAAwB,MAAM,CAAG,CAChC,cAAe,qBACf,WAAc,qBACd,cAAe,qBACf,WAAc,qBACd,YAAa,mBACb,SAAY,kBACb,EACA,IAAeA,C,8DCZXA,EAA0B,A,SAA4B,KAE1DA,EAAwB,IAAI,CAAC,CAACC,EAAO,EAAE,CAAE,GAAI,GAAG,EAEhD,IAAeD,C"}