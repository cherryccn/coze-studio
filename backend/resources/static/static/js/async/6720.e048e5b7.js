/*
 * Copyright 2025 coze-dev Authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

"use strict";(self.webpackChunk_coze_studio_app=self.webpackChunk_coze_studio_app||[]).push([["6720"],{187394:function(e,t,o){o.r(t),o.d(t,{getDocument:()=>n.Me,initPdfJsWorker:()=>l,generatePdfAssetsUrl:()=>r});var n=o("936010"),a=JSON.parse('{"name":"@coze-arch/pdfjs-shadow","version":"0.0.1","description":"shadow copy of pdfjs-dist","license":"Apache-2.0","author":"fanwenjie.fe@bytedance.com","maintainers":[],"main":"src/index.ts","unpkg":"./lib","types":"./src/index.ts","files":["lib","README.md"],"scripts":{"build":"tsc -b tsconfig.build.json && node -r sucrase/register scripts/build.ts","lint":"eslint ./ --cache","test":"vitest --run --passWithNoTests","test:cov":"npm run test -- --coverage"},"devDependencies":{"@coze-arch/eslint-config":"workspace:*","@coze-arch/stylelint-config":"workspace:*","@coze-arch/ts-config":"workspace:*","@coze-arch/vitest-config":"workspace:*","@types/node":"^18","@vitest/coverage-v8":"~3.0.5","core-js":"^3.37.1","esbuild":"^0.15.18","pdfjs-dist":"4.3.136","sucrase":"^3.32.0","vitest":"~3.0.5"},"// deps":"@types/react-dom@^18.2.7 为脚本自动补齐，请勿改动","botPublishConfig":{"main":"lib/worker.js"}}'),r=e=>{var t,{name:o}=a;switch(e){case"cmaps":t="lib/cmaps/";break;case"pdf.worker":t="lib/worker.js";break;default:throw Error("目前只支持引用 cmaps 与 pdf.worker 文件，如需引用其他文件请联系 @fanwenjie.fe")}var n=o.replace(/^@/,"");return"//".concat("lf-cdn.coze.cn/obj/unpkg","/").concat(n,"/").concat("0.1.0-alpha.x6e892414ec","/").concat(t)},l=()=>{!n.Tu.workerSrc&&(n.Tu.workerSrc=r("pdf.worker"))}},77067:function(e,t,o){o.r(t),o.d(t,{default:()=>av});var n,a,r,l,i,s,d,c,u,p,m,v,h=o("407821"),f=o.n(h),g=o("472772"),y=o.n(g),_=o("395245"),b=o.n(_),x=o("297998"),w=o.n(x),k=o("646576"),S=o.n(k),j=o("606121"),C=o.n(j),N=o("535637"),B={};B.styleTagTransform=C(),B.setAttributes=w(),B.insert=b().bind(null,"head"),B.domAPI=y(),B.insertStyleElement=S(),f()(N.Z,B),N.Z&&N.Z.locals&&N.Z.locals;var T=o("151064"),L=o("455069"),W=o("707107"),q=o("808549"),I=o("120454"),E=o("479910"),F=o("598208"),M="coze_debug_panel_layout_config",z={isPanelShow:!1,basicInfo:{placement:"left"},entranceMessageLogId:void 0,targetDateId:"ALL",targetExecuteStatusId:"ALL",enhancedOverallSpans:[],targetOverallSpanInfo:void 0,orgDetailSpans:void 0,targetDetailSpan:void 0},A=(0,F.Ue)()((0,E.mW)(e=>(0,I._)((0,q._)({},z),{setIsPanelShow:t=>{e({isPanelShow:t})},setBasicInfo:t=>{e({basicInfo:t})},setTargetOverallSpanInfo:t=>{e({targetOverallSpanInfo:t})},onSelectDate:t=>{e({targetDateId:t})},onSelectExecuteStatus:t=>{e({targetExecuteStatusId:t})},setEnhancedOverallSpans:t=>{e({enhancedOverallSpans:t})},setEntranceMessageLogId:t=>{e({entranceMessageLogId:t})},setOrgDetailSpans:t=>{e({orgDetailSpans:t})},setSpanCategory:t=>{e({spanCategory:t})},setTargetDetailSpan:t=>{e({targetDetailSpan:t})},setCurBatchPage:t=>{e({curBatchPage:t})},resetStore:()=>{e(z)}}),{enabled:!1,name:"debug.debugPanelStore"})),D=o("825955"),Z=o("58205"),O=o("517465"),R=o.n(O),P=o("989957"),V=o("763055"),J=o("336205"),H=o("775699");var U=((n={})[n.Unknown=1]="Unknown",n[n.Start=2]="Start",n[n.Agent=3]="Agent",n[n.LLMCall=4]="LLMCall",n[n.Workflow=5]="Workflow",n[n.WorkflowStart=6]="WorkflowStart",n[n.WorkflowEnd=7]="WorkflowEnd",n[n.Plugin=8]="Plugin",n[n.Knowledge=9]="Knowledge",n[n.Code=10]="Code",n[n.Condition=11]="Condition",n[n.Card=12]="Card",n[n.Message=13]="Message",n[n.Variable=14]="Variable",n[n.Database=15]="Database",n[n.LongTermMemory=16]="LongTermMemory",n[n.Hook=17]="Hook",n[n.Batch=18]="Batch",n[n.Loop=19]="Loop",n[n.Parallel=20]="Parallel",n[n.Script=21]="Script",n[n.CallFlow=22]="CallFlow",n[n.Connector=23]="Connector",n);var K=((a={})[a.Unknown=1]="Unknown",a[a.Success=2]="Success",a[a.Error=3]="Error",a[a.Broken=4]="Broken",a);var Y=((r={})[r.Unknown=1]="Unknown",r[r.UserInput=2]="UserInput",r[r.ThirdParty=3]="ThirdParty",r[r.ScheduledTasks=4]="ScheduledTasks",r[r.OpenDialog=5]="OpenDialog",r[r.InvokeAgent=6]="InvokeAgent",r[r.RestartAgent=7]="RestartAgent",r[r.SwitchAgent=8]="SwitchAgent",r[r.LLMCall=9]="LLMCall",r[r.LLMBatchCall=10]="LLMBatchCall",r[r.Workflow=11]="Workflow",r[r.WorkflowStart=12]="WorkflowStart",r[r.WorkflowEnd=13]="WorkflowEnd",r[r.PluginTool=14]="PluginTool",r[r.PluginToolBatch=15]="PluginToolBatch",r[r.Knowledge=16]="Knowledge",r[r.Code=17]="Code",r[r.CodeBatch=18]="CodeBatch",r[r.Condition=19]="Condition",r[r.Chain=20]="Chain",r[r.Card=21]="Card",r[r.WorkflowMessage=22]="WorkflowMessage",r[r.WorkflowLLMCall=23]="WorkflowLLMCall",r[r.WorkflowLLMBatchCall=24]="WorkflowLLMBatchCall",r[r.WorkflowCode=25]="WorkflowCode",r[r.WorkflowCodeBatch=26]="WorkflowCodeBatch",r[r.WorkflowCondition=27]="WorkflowCondition",r[r.WorkflowPluginTool=28]="WorkflowPluginTool",r[r.WorkflowPluginToolBatch=29]="WorkflowPluginToolBatch",r[r.WorkflowKnowledge=30]="WorkflowKnowledge",r[r.WorkflowVariable=31]="WorkflowVariable",r[r.WorkflowDatabase=32]="WorkflowDatabase",r[r.Variable=33]="Variable",r[r.Database=34]="Database",r[r.LongTermMemory=35]="LongTermMemory",r[r.Hook=36]="Hook",r[r.BWStart=37]="BWStart",r[r.BWEnd=38]="BWEnd",r[r.BWBatch=39]="BWBatch",r[r.BWLoop=40]="BWLoop",r[r.BWCondition=41]="BWCondition",r[r.BWLLM=42]="BWLLM",r[r.BWParallel=43]="BWParallel",r[r.BWScript=44]="BWScript",r[r.BWVariable=45]="BWVariable",r[r.BWCallFlow=46]="BWCallFlow",r[r.BWConnector=47]="BWConnector",r[r.UserInputV2=48]="UserInputV2",r),G=o("382534"),Q=o("626389"),X=o.n(Q),$=o("252237"),ee=o.n($),et=o("297158"),eo=o("674343");var en=((l={})[l.Unknown=1]="Unknown",l[l.Success=2]="Success",l[l.Error=3]="Error",l[l.Broken=4]="Broken",l),ea=o("473980"),er=o("44172"),el=o("660545"),ei=o("331870"),es=o.n(ei),ed=o("44408"),ec=o.n(ed),eu=o("479886"),ep=o.n(eu);ep().extend(ec());var em=es()({storeAsString:!0}),ev=e=>{var t=ep().utc(e).local(),o=t.utcOffset();return{timeOffsetString:"UTC".concat(o>=0?"+":"-").concat(Math.abs(o/60)),dateString:t.format("MM-DD HH:mm")}},eh=()=>{for(var e=ep()(),t=[],o=0;o<7;o++){var n=e.subtract(o,"day");t.push(n.format("YYYY-MM-DD"))}return t},ef=e=>{if("ALL"===e){var t=ep()();return{startAtMS:t.subtract(6,"day").startOf("day").valueOf().toString(),endAtMS:t.endOf("day").valueOf().toString()}}var o=ep()(e);return{startAtMS:o.startOf("day").valueOf().toString(),endAtMS:o.endOf("day").valueOf().toString()}},eg=e=>e&&""!==e?e:"-",ey=e=>ep()(e).format("YYYY-MM-DD HH:mm:ss"),e_=e=>{try{var t=JSON.parse(e);if("[object Object]"!==Object.prototype.toString.call(t))return!1}catch(e){return!1}return!0},eb=e=>{try{var t=JSON.parse(e);if("[object Object]"!==Object.prototype.toString.call(t)&&"[object Array]"!==Object.prototype.toString.call(t))return!1}catch(e){return!1}return!0},ex=e=>JSON.parse(JSON.stringify(em.parse(e))),ew=e=>eb(e)?ex(e):e,ek=o("113418"),eS={};eS.styleTagTransform=C(),eS.setAttributes=w(),eS.insert=b().bind(null,"head"),eS.domAPI=y(),eS.insertStyleElement=S(),f()(ek.Z,eS);var ej=ek.Z&&ek.Z.locals?ek.Z.locals:void 0,{Text:eC}=H.ZT,eN=e=>{var{text:t,useCopy:o}=e,n=(0,ea._)(e,["text","useCopy"]);return(0,T.jsxs)("div",{className:ej["common-container"],children:[(0,T.jsx)(eC,(0,I._)((0,q._)({ellipsis:{showTooltip:{opts:{className:ej["common-text-content"],position:"bottom"}}}},n),{children:eg(t)})),o?(0,T.jsx)(eC,{copyable:{icon:(0,T.jsx)(er.vUr,{className:ej["copy-icon"]}),successTip:(0,T.jsx)(el.Z,{}),content:t,copyTip:J.o.t("query_detail_tip_copy")}}):void 0]})},eB=e=>{var{cols:t}=e;return(0,T.jsx)("div",{className:ej["description-container"],children:t.map((e,t)=>{var{fields:o}=e;return(0,T.jsx)("div",{className:ej["description-container-box"],children:o.map((e,t)=>{var{key:o,value:n,options:a}=e;return(0,T.jsxs)("div",{className:ej["description-container-item"],children:[(0,T.jsxs)("div",{className:ej["description-container-item-key"],children:[o,"\xa0:\xa0"]}),(0,T.jsx)("div",{className:ej["description-container-item-value"],children:void 0===n||"string"==typeof n?(0,T.jsx)(eN,{text:n,useCopy:null==a?void 0:a.copyable,style:{fontSize:12}}):n})]},t)})},t)})})},eT=e=>{var{text:t,copyContent:o,description:n}=e;return(0,T.jsxs)("div",{className:ej["node-detail-title"],children:[(0,T.jsx)(eC,{className:ee()(ej["node-detail-title-left"],ej["common-text"]),copyable:!!o&&{content:o,icon:(0,T.jsx)(er.vUr,{className:ej["copy-icon"]}),successTip:(0,T.jsx)(el.Z,{}),copyTip:J.o.t("query_detail_tip_copy")},children:t}),n?(0,T.jsx)("div",{className:ej["node-detail-title-right"],children:n}):null]})},eL=e=>{var{cols:t}=e;return(0,T.jsx)("div",{className:ee()("gap-x-[18px] flex flex-wrap justify-between",ej["description-container-with-full-line"]),children:t.map(e=>{var{fields:t}=e;return(0,T.jsx)(T.Fragment,{children:t.map((e,t)=>{var{value:o,key:n,options:a}=e;return(0,T.jsxs)("div",{className:ee()(ej["description-container-with-full-line-item"],{"!w-full":null==a?void 0:a.fullLine,"flex-1":!(null==a?void 0:a.fullLine)}),children:[(0,T.jsxs)("div",{className:ej["description-container-with-full-line-item-key"],children:[n,"\xa0:\xa0"]}),(0,T.jsx)("div",{className:ej["description-container-with-full-line-item-value"],children:void 0===o||"string"==typeof o?(0,T.jsx)(eN,{text:o,useCopy:null==a?void 0:a.copyable,style:{fontSize:12}}):(0,T.jsx)(T.Fragment,{children:o})})]},t)})})})})},eW=o("765429"),eq=o("997516"),eI=o("261164"),eE={fill:"#F7F7FA",stroke:"#1D1C2314",lineWidth:1,lineDash:[]},eF={lineWidth:1,lineDash:[]},eM={lineWidth:1,lineDash:[]},ez={height:"100%",width:"100%",padding:{top:0,right:24,bottom:24,left:0}},eA={position:"inside-left",fontSize:12,fill:"#212629"},eD=(e,t,o)=>"".concat(e.start,"-").concat(e.end),eZ=e=>{var t=(0,L.useRef)(null),o=(0,L.useRef)(null),[n,a]=(0,L.useState)({width:0,height:0}),{flamethreadData:r,rowHeight:l=42,visibleColumnCount:i=6,tooltip:s,rectStyle:d,labelStyle:c,globalStyle:u,axisLabelSuffix:p,labelText:m,selectedKey:v,disableViewScroll:h=!1,enableAutoFit:f=!1,onClick:g}=e,y=(0,L.useCallback)(e=>({normal:Object.assign({},eE,null==d?void 0:d.normal,null==e?void 0:e.normal),hover:Object.assign({},eF,null==d?void 0:d.hover,null==e?void 0:e.hover),select:Object.assign({},eM,null==d?void 0:d.select,null==e?void 0:e.select)}),[d]),_=(0,L.useCallback)(e=>Object.assign({},eA,c,e),[c]),b=(0,L.useMemo)(()=>Object.assign({},eA,c),[c]),x=46,w=(0,L.useMemo)(()=>Object.assign({},ez,u),[u]),k=(0,L.useMemo)(()=>(0,eW.Z)(r,(e,t)=>e.rowNo===t.rowNo).length*l,[r]),S=(0,L.useMemo)(()=>{var e,t=(0,eW.Z)(r,(e,t)=>e.rowNo===t.rowNo).length;return 0!==t?(((null===(e=o.current)||void 0===e?void 0:e.getViewBox().height())||300)-x)/(t*l):1},[r,n.height]),j=(0,L.useMemo)(()=>{var e=r.map(e=>{var t=y(e.rectStyle),o=_(e.labelStyle);return(0,I._)((0,q._)({},e),{rectStyle:t,labelStyle:o})}),t=[{type:eI.Cmj.component,componentType:eI.zHd.axis,id:"xAxis",scale:"xScale",axisType:"line",tickCount:i,dependency:["viewBox"],encode:{update:(e,t,o)=>{var n=o.xScale,a=n.range(),r=n.tickData(i),l=r.length>1?(a[1]-a[0])/(r.length-1)/2:0;return{verticalFactor:-1,x:o.viewBox.x1,y:o.viewBox.y1+x,start:{x:0,y:0},end:{x:o.viewBox.width(),y:0},tick:{visible:!1},label:{style:{dx:-l},formatMethod:e=>{var t=Number(e);return l>0&&0===t?"":0!==t&&void 0!==p?"".concat(t).concat(p):t}}}}}},{type:eI.Cmj.component,componentType:eI.zHd.grid,tickCount:i,scale:"xScale",gridType:"line",gridShape:"line",dependency:["viewBox"],encode:{update:(e,t,o)=>({verticalFactor:-1,length:o.viewBox.height()-x,x:o.viewBox.x1,x1:o.viewBox.x2,y:o.viewBox.y1+x,start:{x:0,y:0},end:{x:o.viewBox.width(),y:0},style:{stroke:"#ccc",lineWidth:1,lineDash:[]}})}},{type:eI.Cmj.group,dependency:["viewBox"],encode:{update:(e,t,o)=>({x:o.viewBox.x1,y:o.viewBox.y1+x,width:o.viewBox.width(),height:o.viewBox.height()-x,clip:!0})},marks:[{type:eI.Cmj.rect,id:"rect",from:{data:"orgData"},groupBy:"start",key:"rowNo",encode:{update:{x:{scale:"xScale",field:"start"},x1:{scale:"xScale",field:"end"},y:{scale:"yScale",field:"rowNo",band:.07},height:l-4,fill:(e,t,o)=>{var n,a;return null==e?void 0:null===(a=e.rectStyle)||void 0===a?void 0:null===(n=a.normal)||void 0===n?void 0:n.fill},innerBorder:(e,t,o)=>{var{stroke:n,lineWidth:a,lineDash:r}=e.rectStyle.normal;return{stroke:0!==a?n:null,lineWidth:a,lineDash:r,visible:!0,distance:a/2}}},hover2:{fill:(e,t,o)=>{var n,a,r,l,i;return null!==(i=null==e?void 0:null===(a=e.rectStyle)||void 0===a?void 0:null===(n=a.hover)||void 0===n?void 0:n.fill)&&void 0!==i?i:null==e?void 0:null===(l=e.rectStyle)||void 0===l?void 0:null===(r=l.normal)||void 0===r?void 0:r.fill},innerBorder:(e,t,o)=>{var n,a,{stroke:r,lineWidth:l,lineDash:i}=Object.assign({},null==e?void 0:null===(n=e.rectStyle)||void 0===n?void 0:n.normal,null==e?void 0:null===(a=e.rectStyle)||void 0===a?void 0:a.hover);return{stroke:0!==l?r:null,lineWidth:l,lineDash:i,visible:!0,distance:l/2}},zIndex:2},select2:{fill:(e,t,o)=>{var n,a,r,l,i;return null!==(i=null==e?void 0:null===(a=e.rectStyle)||void 0===a?void 0:null===(n=a.select)||void 0===n?void 0:n.fill)&&void 0!==i?i:null==e?void 0:null===(l=e.rectStyle)||void 0===l?void 0:null===(r=l.normal)||void 0===r?void 0:r.fill},innerBorder:(e,t,o)=>{var n,a,{stroke:r,lineWidth:l,lineDash:i}=Object.assign({},null==e?void 0:null===(n=e.rectStyle)||void 0===n?void 0:n.normal,null==e?void 0:null===(a=e.rectStyle)||void 0===a?void 0:a.select);return{stroke:0!==l?r:null,lineWidth:l,lineDash:i,visible:!0,distance:l/2}},zIndex:1}}},{type:eI.Cmj.component,componentType:eI.zHd.label,target:"rect",labelStyle:{position:b.position,textStyle:{fontSize:b.fontSize},animation:!1,overlap:{hideOnHit:!1,clampForce:!1,strategy:[{type:"position",position:["top-left"]}]}},encode:{update:{pickable:!1,text:null!=m?m:eD,fill:(e,t,o)=>null==e?void 0:e.labelStyle.fill}}}]},{type:eI.Cmj.component,componentType:eI.zHd.datazoom,id:"dataZoom",dependency:["viewBox"],preview:{data:"table",x:{scale:"dataZoomXScale",field:["start","end"]},y:{scale:"dataZoomYScale",field:"rowNo"}},encode:{update:(e,t,o)=>({showDetail:!1,x:o.viewBox.x1,y:o.viewBox.y1,size:{width:o.viewBox.width(),height:20},minSpan:.01,selectedBackgroundStyle:{fill:"#B4BAF6"},brushSelect:!1,startHandlerStyle:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:"#ffffff",scaleX:1.2,scaleY:1.2,stroke:"#aeb5be",lineWidth:1,size:20},middleHandlerStyle:{visible:!1},endHandlerStyle:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:"#ffffff",scaleX:1.2,scaleY:1.2,stroke:"#aeb5be",lineWidth:1,size:20},startTextStyle:{padding:8,textStyle:{fontSize:12,lineHeight:"130%",fill:"#606773"},formatMethod:e=>e.toFixed(0)},endTextStyle:{padding:8,textStyle:{fontSize:12,lineHeight:"130%",fill:"#606773"},formatMethod:e=>e.toFixed(0)}})}}],o={top:3,right:0,bottom:0,left:0};return S<1&&(t.unshift({type:eI.Cmj.component,componentType:eI.zHd.scrollbar,direction:"vertical",id:"verticalScrollbar",dependency:["viewBox","yScale"],encode:{update:(e,t,o)=>{var n,a,{yScale:r}=o,l=null!==(a=null==r?void 0:null===(n=r.rangeFactor)||void 0===n?void 0:n.call(r))&&void 0!==a?a:[0,S];return{x:o.viewBox.x2+10,y:o.viewBox.y1+x,height:o.viewBox.height()-x,range:[l[1],l[0]]}}}}),o.right=22),{padding:o,background:w.background,data:[{id:"orgData",values:e},{id:"markData",source:"orgData"}],scales:[{id:"xScale",type:"linear",domain:{data:"markData",field:["start","end"]},dependency:["viewBox"],range:(e,t)=>[0,t.viewBox.width()],nice:!0},{id:"yScale",type:"band",domain:{data:"markData",field:"rowNo"},dependency:["viewBox"],range:(e,t)=>{var o=t.viewBox.height()-x;return[0,S<=1?o:k]},padding:0,round:!1},{id:"dataZoomXScale",type:"linear",domain:{data:"orgData",field:["start","end"]},dependency:["viewBox"],range:(e,t)=>[0,t.viewBox.width()]},{id:"dataZoomYScale",type:"band",domain:{data:"orgData",field:"rowNo"},dependency:["viewBox"],range:(e,t)=>[t.viewBox.height(),0],padding:.05,round:!0}],marks:t}},[r,i,b.position,b.fontSize,m,S,k,w.padding,w.background,y,_,p]),C=(0,L.useCallback)(e=>{var t,o=null==e?void 0:e.getMarkById("rect"),n=null==o?void 0:o.elements;null==n||n.forEach(e=>{null==e||e.removeState("select2")}),null==n||null===(t=n.filter(e=>e.getDatum().key===v)[0])||void 0===t||t.addState("select2")},[v]);return(0,L.useLayoutEffect)(()=>{var e=e=>{var t=null==e?void 0:e.getScaleById("yScale");null==t||t.setRangeFactor([0,S]),null==t||t.commit()},n=t=>{e(t)},a=e=>{var t=null==e?void 0:e.getMarkById("rect");null==t||t.addEventListener("click",(e,t)=>{null==g||g(e,t)}),null==e||e.interaction("element-highlight",{selector:"rect",highlightState:"hover2"}),null==e||e.interaction("element-highlight",{trigger:"click",triggerOff:"swipe",selector:"rect",highlightState:"select2"}),!h&&e.interaction("view-scroll",{scaleY:"yScale"}),s&&(null==e||e.interaction("tooltip",(0,q._)({selector:"rect"},s)))};if(t.current&&!o.current){var r=new eI.G7x({autoFit:f,container:t.current});null==r||r.on("change",function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];var{start:n,end:a}=t[0].detail,l=r.getScaleById("xScale");null==l||l.setRangeFactor([n,a]),null==l||l.commit(),null==r||r.run()}),null==r||r.on("scrollDrag",e=>{var t,o;if("vertical"===(null==e?void 0:null===(o=e.target)||void 0===o?void 0:null===(t=o.attribute)||void 0===t?void 0:t.direction)){var n=e.detail.value,a=r.getScaleById("yScale");null==a||a.setRangeFactor(n),null==a||a.commit(),r.run()}}),r.parseSpec(j),n(r),a(r),r.run(),C(r),r.run(),o.current=r}else if(o.current){var l=o.current;l.updateSpec(j),n(l),a(l),l.run({reuse:!1}),C(l),l.run()}},[j,s,S,g,i,r]),(0,L.useEffect)(()=>{o.current&&C(o.current)},[v]),(0,L.useEffect)(()=>()=>{o.current&&o.current.release(),o.current=null},[]),(0,L.useEffect)(()=>{var e=new ResizeObserver(e=>{var t=e[0].target.clientWidth,n=e[0].target.clientHeight;void 0!==t&&void 0!==n&&o.current&&(o.current.resize(t,n),a({width:t,height:n}))});t.current&&e.observe(t.current)},[]),(0,T.jsx)("div",{style:(0,q._)({},(0,eq.Z)(w,["width","height"])),ref:t})},eO=o("529801"),eR="-10002";var eP=((i={}).OPEN="open",i.CLOSE="close",i.UNDEFINED="undefined",i),eV={[Y.Unknown]:{label:J.o.t("analytic_query_subtype_value_unknown")},[Y.UserInput]:{label:J.o.t("analytic_query_subtype_value_userinput")},[Y.UserInputV2]:{label:J.o.t("analytic_query_subtype_value_userinput")},[Y.ThirdParty]:{label:J.o.t("analytic_query_subtype_value_thirdparty")},[Y.ScheduledTasks]:{label:J.o.t("analytic_query_subtype_value_scheduledtasks")},[Y.OpenDialog]:{label:J.o.t("analytic_query_subtype_value_opendialog")},[Y.InvokeAgent]:{label:J.o.t("analytic_query_subtype_value_invokeagent")},[Y.RestartAgent]:{label:J.o.t("analytic_query_subtype_value_restartagent")},[Y.SwitchAgent]:{label:J.o.t("analytic_query_subtype_value_switchagent")},[Y.LLMCall]:{label:J.o.t("analytic_query_subtype_value_llmcall")},[Y.LLMBatchCall]:{label:J.o.t("analytic_query_subtype_value_llmbatchcall")},[Y.Workflow]:{label:J.o.t("analytic_query_subtype_value_workflow")},[Y.WorkflowStart]:{label:J.o.t("analytic_query_subtype_value_workflowstart")},[Y.WorkflowEnd]:{label:J.o.t("analytic_query_subtype_value_workflowend")},[Y.PluginTool]:{label:J.o.t("analytic_query_subtype_value_plugintool")},[Y.PluginToolBatch]:{label:J.o.t("analytic_query_subtype_value_plugintoolbatch")},[Y.Knowledge]:{label:J.o.t("analytic_query_subtype_value_knowledge")},[Y.Code]:{label:J.o.t("analytic_query_subtype_value_code")},[Y.CodeBatch]:{label:J.o.t("analytic_query_subtype_value_codebatch")},[Y.Condition]:{label:J.o.t("analytic_query_subtype_value_condition")},[Y.Card]:{label:J.o.t("analytic_query_subtype_value_card")},[Y.WorkflowMessage]:{label:J.o.t("analytic_query_subtype_value_workflow_message")},[Y.WorkflowLLMCall]:{label:J.o.t("analytic_query_subtype_value_llmcall")},[Y.WorkflowLLMBatchCall]:{label:J.o.t("analytic_query_subtype_value_llmbatchcall")},[Y.WorkflowCode]:{label:J.o.t("analytic_query_subtype_value_code")},[Y.WorkflowCodeBatch]:{label:J.o.t("analytic_query_subtype_value_codebatch")},[Y.WorkflowCondition]:{label:J.o.t("analytic_query_subtype_value_condition")},[Y.WorkflowPluginTool]:{label:J.o.t("analytic_query_subtype_value_plugintool")},[Y.WorkflowPluginToolBatch]:{label:J.o.t("analytic_query_subtype_value_plugintoolbatch")},[Y.WorkflowKnowledge]:{label:J.o.t("analytic_query_subtype_value_knowledge")},[Y.Chain]:{},[Y.Hook]:{label:J.o.t("analytics_query_invoke",{name:"Hook"})},[Y.BWStart]:{label:"BWStart"},[Y.BWEnd]:{label:"BWEnd"},[Y.BWBatch]:{label:"BWBatch"},[Y.BWLoop]:{label:"BWLoop"},[Y.BWCondition]:{label:"BWCondition"},[Y.BWLLM]:{label:"BWLLM"},[Y.BWParallel]:{label:"BWParallel"},[Y.BWScript]:{label:"BWScript"},[Y.BWVariable]:{label:"BWVariable"},[Y.BWCallFlow]:{label:"BWCallFlow"},[Y.BWConnector]:{label:"BWConnector"}},eJ={[U.Unknown]:{label:J.o.t("analytic_query_type_value_unknown")},[U.Start]:{label:J.o.t("analytic_query_type_value_start")},[U.Agent]:{label:J.o.t("analytic_query_type_value_agent")},[U.LLMCall]:{label:J.o.t("analytic_query_type_value_llmcall")},[U.Workflow]:{label:J.o.t("analytic_query_type_value_workflow")},[U.WorkflowStart]:{label:J.o.t("analytic_query_type_value_workflowstart")},[U.WorkflowEnd]:{label:J.o.t("analytic_query_type_value_workflowend")},[U.Plugin]:{label:J.o.t("analytic_query_type_value_plugin")},[U.Knowledge]:{label:J.o.t("analytic_query_type_value_knowledge")},[U.Code]:{label:J.o.t("analytic_query_type_value_code")},[U.Condition]:{label:J.o.t("analytic_query_type_value_condition")},[U.Card]:{label:J.o.t("analytic_query_type_value_card")},[U.Message]:{label:J.o.t("analytic_query_type_value_message")},[U.Variable]:{label:J.o.t("analytics_query_type_variable")},[U.Hook]:{label:"Hook"},[U.Batch]:{label:"Batch"},[U.Loop]:{label:"Loop"},[U.Parallel]:{label:"Parallel"},[U.Script]:{label:"Script"},[U.CallFlow]:{label:"CallFlow"},[U.Connector]:{label:"Connector"}},eH={[K.Unknown]:{label:J.o.t("analytic_query_status_unknown")},[K.Success]:{label:J.o.t("analytic_query_status_success")},[K.Error]:{label:J.o.t("analytic_query_status_error")},[K.Broken]:{label:J.o.t("analytic_query_status_broken")}},eU={[eP.OPEN]:{label:J.o.t("analytic_streaming_output_status_open")},[eP.CLOSE]:{label:J.o.t("analytic_streaming_output_status_close")},[eP.UNDEFINED]:{}},eK={0:{label:J.o.t("analytic_query_env_value_botmakerdebug")},1:{label:J.o.t("analytic_query_env_value_realuser")}},eY=(e,t)=>{var o,n,a,r,l;if(eX(e)){;return null!==(a=e[t])&&void 0!==a?a:null===(n=e.spans[0])||void 0===n?void 0:null===(o=n.extra)||void 0===o?void 0:o[t]}return null!==(l=e[t])&&void 0!==l?l:null===(r=e.extra)||void 0===r?void 0:r[t]},eG=e=>{if("spans"in e){var t=0,o=0;return e.spans.forEach(e=>{var n,a,r,l,i=null!==(r=null==e?void 0:null===(n=e.extra)||void 0===n?void 0:n.input_tokens)&&void 0!==r?r:0,s=null!==(l=null==e?void 0:null===(a=e.extra)||void 0===a?void 0:a.output_tokens)&&void 0!==l?l:0;t+=i,o+=s}),{input_tokens:t,output_tokens:o}}if(e.type===Y.UserInput||e.type===Y.UserInputV2||e.type===Y.Workflow)return{input_tokens:eY(e,"input_tokens_sum"),output_tokens:eY(e,"output_tokens_sum")};return{input_tokens:eY(e,"input_tokens"),output_tokens:eY(e,"output_tokens")}},eQ=e=>[Y.LLMBatchCall,Y.WorkflowLLMBatchCall,Y.PluginToolBatch,Y.WorkflowPluginToolBatch,Y.CodeBatch,Y.WorkflowCodeBatch].includes(e),eX=e=>"spans"in e,e$=e=>[Y.Unknown,Y.UserInput,Y.UserInputV2,Y.ThirdParty,Y.ScheduledTasks,Y.OpenDialog,Y.InvokeAgent,Y.RestartAgent,Y.SwitchAgent,Y.LLMCall,Y.WorkflowLLMCall,Y.LLMBatchCall,Y.WorkflowLLMBatchCall,Y.Workflow,Y.WorkflowStart,Y.WorkflowEnd,Y.PluginTool,Y.WorkflowPluginTool,Y.PluginToolBatch,Y.WorkflowPluginToolBatch,Y.Knowledge,Y.WorkflowKnowledge,Y.Code,Y.WorkflowCode,Y.CodeBatch,Y.WorkflowCodeBatch,Y.Condition,Y.WorkflowCondition,Y.Card,Y.WorkflowMessage,Y.Hook,Y.BWStart,Y.BWEnd,Y.BWBatch,Y.BWLoop,Y.BWCondition,Y.BWLLM,Y.BWParallel,Y.BWScript,Y.BWVariable,Y.BWCallFlow,Y.BWConnector].includes(e.type),e0=e=>{var t=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;return e.forEach(e=>{t=Math.min(t,e.start_time),o=Math.max(o,e.start_time+e.latency)}),(t===Number.POSITIVE_INFINITY||o===Number.NEGATIVE_INFINITY)&&(t=0,o=0),{id:"-10001",parent_id:"",trace_id:"",name:"",type:Y.UserInput,category:U.Start,status:K.Unknown,start_time:t,latency:o-t}},e1=e=>[],e2=function(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],o=[],n={};return e.forEach(e=>{var o=(0,I._)((0,q._)({},e),{children:[]});if("spans"in e&&t)e.spans.forEach(e=>{n[e.id]=o});else{var{id:a}=e;n[a]=o}}),e.forEach(e=>{var t,{id:a,parent_id:r}=e,l=n[a],i=n[r];""===r||void 0===i?o.push(l):(i.children=null!==(t=i.children)&&void 0!==t?t:[],i.children.push(l),l.parent=i)}),o},e4=function(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],o=t?e2(e):e,n=[];return o.forEach(e=>{var{category:t}=e;t===U.Start&&n.push(e)}),n.length>0?n[0]:e0(o)},e3=function(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],o=t?e2(e):e,n=[];return o.forEach(e=>{var{category:t}=e;t!==U.Start&&n.push(e)}),n},e5=(e,t)=>{var o=e.start_time,n=t.start_time;return o>n?1:o<n?-1:0},e6=(e,t)=>{var o=e.start_time+e.latency,n=t.start_time+t.latency;return o>n?1:o<n?-1:0},e8=function(e){var t,o,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:eV,{type:a,name:r=""}=e,l=null!==(o=null===(t=n[a])||void 0===t?void 0:t.label)&&void 0!==o?o:"";return r&&r!==l?"".concat(l," ").concat(r):l},e7=function(e){var t,o,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:eH,{status:a}=e;return null!==(o=null===(t=n[a])||void 0===t?void 0:t.label)&&void 0!==o?o:""},e9=e=>({id:eR,parent_id:"",trace_id:"",name:"",type:Y.UserInput,status:K.Broken,start_time:-1,latency:-1,children:e}),te=e=>{var t=(e,t)=>{for(var o=t.length,n=0;n<o;n++){var a=t[n],r=t[n+1],l=a.start_time+a.latency,i=r?r.start_time+r.latency:Number.POSITIVE_INFINITY;if(e>=l&&e<=i)return t[n]}},o=e.filter(e=>e.type===Y.SwitchAgent||e.type===Y.RestartAgent).sort(e6),n=e.filter(e=>e.type!==Y.SwitchAgent&&e.type!==Y.RestartAgent).sort(e5),a=[];return n.forEach(e=>{var n,r,l=t(e.start_time,o);l?(l.children=null!==(r=l.children)&&void 0!==r?r:[],null===(n=l.children)||void 0===n||n.push(e),e.parent=l):a.push(e)}),[...a,...o]},tt=e=>[Y.InvokeAgent,Y.Workflow,Y.LLMBatchCall,Y.LLMCall,Y.WorkflowLLMCall,Y.WorkflowLLMBatchCall,Y.BWStart,Y.BWEnd,Y.BWBatch,Y.BWLoop,Y.BWCondition,Y.BWLLM,Y.BWParallel,Y.BWScript,Y.BWVariable,Y.BWCallFlow,Y.BWConnector,Y.Hook].includes(e),to=e=>{var t=[],o=e=>{var n;null===(n=e.children)||void 0===n||n.forEach(e=>{var{type:n}=e;tt(n)?t.push(to(e)):(e$(e)&&t.push((0,eO.Z)(e,"children")),o(e))})};return o(e),(0,I._)((0,q._)({},e),{children:te(t)})},tn=(e,t)=>{var o=e2(e,t),n=e4(o,!1),a=e3(o,!1),r=to(n);if(a.length>0){var l,i=to(e9(a));r.children=null!==(l=r.children)&&void 0!==l?l:[],r.children.push(i),i.parent=r}return r};var ta=((s={}).SpanData="SpanData",s.TraceId="TraceId",s),tr=o("322512"),tl={labelStyle:{position:"inside-left",fontSize:12,fill:"#1D1C23CC"},rowHeight:50,globalStyle:{},datazoomDecimals:1},ti={[U.Unknown]:{rectStyle:{normal:{fill:"#F7F7FA"},hover:{fill:"#F0F0F5"},select:{fill:"#C6C6CD"}}},[U.Start]:{rectStyle:{normal:{fill:"#F1F2FD"},hover:{fill:"#D9DCFA"},select:{fill:"#B4BAF6"}},labelStyle:{},name:"start"},[U.Agent]:{rectStyle:{normal:{fill:"#F6EFFC"},hover:{fill:"#E9D6F9"},select:{fill:"#D1AEF4"}},name:"invoke agent"},[U.LLMCall]:{rectStyle:{normal:{fill:"#F7F7FA"},hover:{fill:"#F0F0F5"},select:{fill:"#C6C6CD"}},name:"invoke llm"},[U.Workflow]:{rectStyle:{normal:{fill:"#EDF9EE"},hover:{fill:"#D2F3D5"},select:{fill:"#CFECAC"}},name:"invoke workflow"},[U.WorkflowStart]:{rectStyle:{normal:{fill:"#EDF9EE"},hover:{fill:"#D2F3D5"},select:{fill:"#CFECAC"}}},[U.WorkflowEnd]:{rectStyle:{normal:{fill:"#EDF9EE"},hover:{fill:"#D2F3D5"},select:{fill:"#CFECAC"}}},[U.Plugin]:{rectStyle:{normal:{fill:"#F1F2FD"},hover:{fill:"#D9DCFA"},select:{fill:"#B4BAF6"}},name:"invoke plugin"},[U.Knowledge]:{rectStyle:{normal:{fill:"#FFEEEF"},hover:{fill:"#FFD2D7"},select:{fill:"#FFA5B2"}},name:"invoke knowledage"},[U.Code]:{rectStyle:{normal:{fill:"#E5F8F7"},hover:{fill:"#C1F2EF"},select:{fill:"#89E5E0"}},name:"execute code"},[U.Condition]:{rectStyle:{normal:{fill:"#FFFAEB"},hover:{fill:"#FFF1CC"},select:{fill:"#FFDF99"}},name:"if condition"},[U.Card]:{rectStyle:{normal:{fill:"#FFFAEB"},hover:{fill:"#FFF1CC"},select:{fill:"#FFDF99"}},name:"card"},[U.Message]:{rectStyle:{normal:{fill:"#FFFAEB"},hover:{fill:"#FFF1CC"},select:{fill:"#FFDF99"}},name:"message"}},ts={[K.Success]:{tooltip:{fill:"#3EC254"},rectStyle:{normal:{stroke:"#1D1C2314"},hover:{},select:{}}},[K.Error]:{tooltip:{fill:"#FF441E"},rectStyle:{normal:{stroke:"#1D1C2314",fill:"#FFF3EE"},hover:{fill:"#FFE0D2"},select:{fill:"#FFBDA5"}}},[K.Broken]:{tooltip:{fill:"#FF9600"}},[K.Unknown]:{tooltip:{fill:"#6B6B75"}}},td={fill:"#212629",shape:{symbolType:"square",fill:"#212629",size:5}},tc=e=>{var t,o,{status:n,category:a=U.Unknown}=e,r=null===(t=ti[a])||void 0===t?void 0:t.rectStyle,l=null===(o=ts[n])||void 0===o?void 0:o.rectStyle;return{normal:Object.assign({},null==r?void 0:r.normal,null==l?void 0:l.normal),hover:Object.assign({},null==r?void 0:r.hover,null==l?void 0:l.hover),select:Object.assign({},null==r?void 0:r.select,null==l?void 0:l.select)}},tu=e=>{var{span:t,startSpan:o,rowNo:n}=e,a=t.start_time-o.start_time;return{key:t.id,rowNo:n,start:a,end:a+t.latency,rectStyle:tc(t),extra:{span:t}}},tp=e=>{var t=e2(e),o=e4(t,!1),n=e3(t,!1),a=[],r=e=>{a=a.concat(e),e.forEach(e=>{e.children&&r(e.children)})};o.children&&r(o.children),r(n),a=a.filter(e=>e$(e));var l=(0,tr.Z)(a,e=>e.start_time);l.unshift(o);var i=[];return l.forEach((e,t)=>{i.push(tu({span:e,startSpan:o,rowNo:t}))}),i},tm=e=>{var[t,o]=(0,L.useState)([]),{dataSource:{type:n,spanData:a,traceId:r},rectStyle:l,labelStyle:i,globalStyle:s,visibleColumnCount:d,datazoomDecimals:c=tl.datazoomDecimals,axisLabelSuffix:u,selectedSpanId:p,spanTypeConfigMap:m,spanStatusConfigMap:v,disableViewScroll:h,enableAutoFit:f,onClick:g}=e;(0,L.useEffect)(()=>{if(n===ta.SpanData&&a){if((null==a?void 0:a.length)!==0||0!==t.length)o(tp(a))}else n===ta.TraceId&&r&&o(tp(e1(r)))},[n,a,r]);var y=(0,L.useMemo)(()=>{var e=tl.rectStyle;return{normal:Object.assign({},null==e?void 0:e.normal,null==l?void 0:l.normal),hover:Object.assign({},null==e?void 0:e.hover,null==l?void 0:l.hover),select:Object.assign({},null==e?void 0:e.select,null==l?void 0:l.select)}},[l]),_=(0,L.useMemo)(()=>Object.assign({},i,tl.labelStyle),[i]),b=(0,L.useMemo)(()=>Object.assign({},s,tl.globalStyle),[s]),x=(0,L.useMemo)(()=>({title:{value:(e,t,o)=>({})},content:(e,t,o)=>{var n,{span:a}=null!==(n=e.extra)&&void 0!==n?n:{};if(!a)return[];var{status:r,latency:l}=a,i=ts[r],s=[{key:J.o.t("analytic_query_status"),value:e7(a,v)},{key:J.o.t("analytic_query_latency"),value:l?"".concat(l,"ms"):"-"}],{input_tokens:d,output_tokens:c}=eG(a);return void 0!==d&&void 0!==c&&s.push({key:J.o.t("analytic_query_tokens"),value:"".concat(d+c)}),s.map(e=>{var t,{key:o,value:n}=e;return{key:{text:o,fill:td.fill},value:{text:null!=n?n:"",fill:o===J.o.t("analytic_query_status")?null==i?void 0:null===(t=i.tooltip)||void 0===t?void 0:t.fill:td.fill},shape:td.shape}})}}),[v]),w=(0,L.useCallback)((e,t,o)=>{var n,{span:a}=null!==(n=e.extra)&&void 0!==n?n:{};return e8(a,m)},[m]);return t?(0,T.jsx)(eZ,{flamethreadData:t,tooltip:x,rectStyle:y,labelStyle:_,globalStyle:b,labelText:w,datazoomDecimals:c,visibleColumnCount:d,axisLabelSuffix:u,selectedKey:p,disableViewScroll:h,enableAutoFit:f,onClick:g}):null},tv=o("30961"),th=o("371066"),tf=o("345420"),tg=(e,t)=>{var o=[],n=[],a=(e,r,l)=>{var i=(0,I._)((0,q._)({},(0,eO.Z)(e,["children"])),{colNo:r,rowNo:o.length,unindented:(null==l?void 0:l.colNo)===r});if(o.push(i),void 0!==l&&n.push({startNode:l,endNode:i}),e.children){var s=e.children;s.forEach((e,o)=>{var n;(null!==(n=e.indentDisabled)&&void 0!==n?n:t.indentDisabled)&&s.length-1===o?a(e,r,i):a(e,r+1,i)})}};return a(e,0),{nodes:o,lines:n}},ty={indent:24,verticalInterval:16,nodeBoxHeight:16,offsetX:8},t_={normal:{stroke:"#ccc",strokeDasharray:"[]",strokeWidth:2,lineRadius:6,lineGap:0},select:{stroke:"#333"},hover:{stroke:"#d25e5a"}},tb=o("597251"),tx={};tx.styleTagTransform=C(),tx.setAttributes=w(),tx.insert=b().bind(null,"head"),tx.domAPI=y(),tx.insertStyleElement=S(),f()(tb.Z,tx);var tw=tb.Z&&tb.Z.locals?tb.Z.locals:void 0,tk=e=>{var{treeData:t,selectedKey:o,disableDefaultHover:n,hoverKey:a,indentDisabled:r=!1,lineStyle:l,globalStyle:i,className:s,onMouseMove:d,onMouseEnter:c,onMouseLeave:u,onClick:p,onSelect:m}=e,[v,h]=(0,L.useState)(""),f=n?a:v,{indent:g,verticalInterval:y,nodeBoxHeight:_,offsetX:b}=(0,L.useMemo)(()=>Object.assign({},ty,i),[i]),x=(0,L.useCallback)(e=>{for(var t,n,a=0;a<e.length;){var r=e[a];r.endNode.key===o?t=e.splice(a,1)[0]:r.endNode.key===f?n=e.splice(a,1)[0]:a++}return e.sort((e,t)=>{var o,n,a=null!==(o=e.endNode.zIndex)&&void 0!==o?o:-1,r=null!==(n=t.endNode.zIndex)&&void 0!==n?n:-1;return a>r?1:a<r?-1:0}),t&&e.push(t),n&&e.push(n),e},[o,f]),w=(0,L.useCallback)(e=>({normal:Object.assign({},null==t_?void 0:t_.normal,null==l?void 0:l.normal,null==e?void 0:e.normal),select:Object.assign({},null==t_?void 0:t_.select,null==l?void 0:l.select,null==e?void 0:e.select),hover:Object.assign({},null==t_?void 0:t_.hover,null==l?void 0:l.hover,null==e?void 0:e.hover)}),[l]),k=(0,L.useCallback)(e=>{var{startNode:{colNo:t,rowNo:o},endNode:{colNo:n,rowNo:a,lineStyle:r}}=e,{normal:l={}}=w(r),{lineRadius:i=0,lineGap:s=0}=l,d=_+y,c=t*g+b,u=o*d+(_+y/2);if(t===n){var p=(a-o-1)*d+y,m="M ".concat(c," ").concat(u+s),v="L ".concat(c," ").concat(u+p);return"".concat(m," ").concat(v)}var h=(a-o-1)*d+y/2+d/2-i,f=(n-t)*g-b-i,x=u+h+i,k="M ".concat(c," ").concat(u+s),S="L ".concat(c," ").concat(u+h),j="Q ".concat(c," ").concat(x," ").concat(c+i," ").concat(x),C="L ".concat(c+f+i-s," ").concat(x);return"".concat(k," ").concat(S," ").concat(j," ").concat(C)},[w,g,_,b,y]),S=(0,L.useCallback)((e,t)=>{if(f!==o)return e===f?(0,th.Z)({},t.normal,t.hover):e===o?(0,th.Z)({},t.normal,t.select):t.normal;return e===f?(0,th.Z)({},t.normal,t.select,t.hover):t.normal},[f,o]),{nodes:j,lines:C}=tg(t,{indentDisabled:r}),N=x(C);return(0,T.jsx)("div",{className:"".concat(tw.tree," ").concat(null!=s?s:""),children:(0,T.jsxs)("div",{className:tw["tree-container"],style:{marginTop:-y/2},children:[(0,T.jsx)("div",{className:tw["tree-path-list"],children:(0,T.jsx)("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:N.map((e,t)=>{var o=k(e),{lineStyle:n}=e.endNode,a=w(n),r=S(e.endNode.key,a);return(0,T.jsx)("path",{d:o,stroke:null==r?void 0:r.stroke,strokeWidth:null==r?void 0:r.strokeWidth,strokeDasharray:null==r?void 0:r.strokeDasharray,fill:"none"},e.endNode.key)})})}),(0,T.jsx)("div",{className:tw["tree-node-list"],children:j.map(e=>{var{key:t,title:n,selectEnabled:a=!0,colNo:r}=e,l=(0,I._)((0,q._)({},e),{selected:o===t,hover:f===t});return(0,T.jsx)("div",{className:tw["tree-node"],style:{paddingTop:y/2,paddingBottom:y/2},children:(0,T.jsx)("div",{className:tw["tree-node-box"],style:{marginLeft:r*g,height:_},onClick:e=>{a&&(null==m||m({node:l})),null==p||p({event:e,node:l})},onMouseMove:e=>{null==d||d({event:e,node:l})},onMouseEnter:e=>{a&&h(t),null==c||c({event:e,node:(0,I._)((0,q._)({},l),{hover:!0})})},onMouseLeave:e=>{a&&h(""),null==u||u({event:e,node:(0,I._)((0,q._)({},l),{hover:!1})})},children:(0,tf.Z)(n)?n(l):n})},e.key)})})]})})},tS=o("915757"),tj={lineStyle:{normal:{stroke:"#C6C6CD",strokeWidth:1},hover:{stroke:"#C6C6CD",strokeWidth:2},select:{stroke:"#C6C6CD",strokeWidth:2}}},tC={[U.Unknown]:{icon:(0,T.jsx)(er.yB2,{}),title:"Unknown"},[U.Start]:{icon:(0,T.jsx)(er.GOH,{}),title:"Start"},[U.Agent]:{icon:(0,T.jsx)(er.rMo,{}),title:"Agent"},[U.LLMCall]:{icon:(0,T.jsx)(er.i7w,{}),title:"Invoke LLM"},[U.Workflow]:{icon:(0,T.jsx)(er.Cs7,{}),title:"Invoke Workflow"},[U.WorkflowStart]:{icon:(0,T.jsx)(er.GOH,{}),title:"Workflow Start"},[U.WorkflowEnd]:{icon:(0,T.jsx)(er.h3G,{}),title:"Workflow End"},[U.Plugin]:{icon:(0,T.jsx)(er.k2L,{}),title:"Invoke Plugin"},[U.Knowledge]:{icon:(0,T.jsx)(er.Jr5,{}),title:"Recall Knowledage"},[U.Code]:{icon:(0,T.jsx)(er.sZw,{}),title:"Execute Code"},[U.Condition]:{icon:(0,T.jsx)(er.cmr,{}),title:"If Condition"},[U.Card]:{icon:(0,T.jsx)(er.UCZ,{}),title:"Card"},[U.Message]:{icon:(0,T.jsx)(er.yOl,{}),title:"Message"},[U.Variable]:{icon:(0,T.jsx)(er.Pil,{}),title:"Variable"},[U.Hook]:{icon:(0,T.jsx)(er.LxD,{}),title:"Hook"},[U.Batch]:{icon:(0,T.jsx)(er.XD7,{}),title:"Batch"},[U.Loop]:{icon:(0,T.jsx)(er.XD7,{}),title:"Loop"},[U.Parallel]:{icon:(0,T.jsx)(er.K_Z,{}),title:"Parallel"},[U.Script]:{icon:(0,T.jsx)(er.sZw,{}),title:"Script"},[U.CallFlow]:{icon:(0,T.jsx)(er.Cs7,{}),title:"CallFlow"},[U.Connector]:{icon:(0,T.jsx)(er.i2p,{}),title:"Connector"}},tN={[K.Success]:{},[K.Error]:{lineStyle:{normal:{stroke:"#FF441E"},hover:{stroke:"#FF441E"},select:{stroke:"#FF441E"}}},[K.Broken]:{},[K.Unknown]:{}},tB=o("473081"),tT={};tT.styleTagTransform=C(),tT.setAttributes=w(),tT.insert=b().bind(null,"head"),tT.domAPI=y(),tT.insertStyleElement=S(),f()(tB.Z,tT);var tL=tB.Z&&tB.Z.locals?tB.Z.locals:void 0,tW=e=>{var{spanTypeConfigMap:t,spanInfoMap:o,spaceId:n,onHoverChange:a,onJumpToWorkflow:r}=e;return e=>{var l,i,s,{selected:d,unindented:c,hover:u,key:p}=e,{span:m}=null==e?void 0:e.extra,{status:v,latency:h,category:f=U.Unknown}=m,g=e8(m,t),y=(null==o?void 0:null===(l=o[m.id])||void 0===l?void 0:l.isCozeWorkflowNode)&&!!eY(m,"workflow_id")&&n,_=eY(m,"workflow_id"),b=(null===(i=eY(m,"workflow_version"))||void 0===i?void 0:i.toString())||(null==o?void 0:null===(s=o[m.id])||void 0===s?void 0:s.workflowVersion),x=()=>{var e,t,o=eY(m,"execute_id"),n=null===(e=eY(m,"workflow_node_id"))||void 0===e?void 0:e.toString(),a=null===(t=eY(m,"sub_execute_id"))||void 0===t?void 0:t.toString();null==r||r({workflowID:_,executeID:o,workflowVersion:b,workflowNodeID:n,subExecuteID:a})},{input_tokens:w,output_tokens:k}=eG(m),S="";S=void 0!==w&&void 0!==k?"".concat(J.o.t("analytic_query_latency"),": ").concat(h,"ms | ").concat(J.o.t("analytic_query_tokens"),": ").concat(w+k):"".concat(J.o.t("analytic_query_latency"),": ").concat(h,"ms");var j=tC[f];return m.id===eR?(0,T.jsx)("div",{className:ee()(tL["trace-tree-node"],{selected:!1,unindented:c,hover:u,error:v===K.Error,disabled:!0}),children:(0,T.jsx)(er.IEX,{})}):(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(H.u,{position:"right",content:S,trigger:"hover",children:(0,T.jsxs)("div",{className:ee()(tL["trace-tree-node"],{selected:d,unindented:c,hover:u,error:v===K.Error}),onMouseEnter:()=>null==a?void 0:a(p),onMouseLeave:()=>null==a?void 0:a(""),children:[null==j?void 0:j.icon,(0,T.jsx)("span",{className:tL.title,children:g})]})}),y&&void 0!==_&&void 0!==b?(0,T.jsx)(H.u,{position:"top",content:J.o.t("view_workflow_details"),children:(0,T.jsx)(eo.zx,{icon:(0,T.jsx)(tS.Ph$,{}),style:{width:16,height:16,marginLeft:4},color:"secondary",size:"mini",onClick:e=>{e.stopPropagation(),x()}})}):null]})}},tq=(e,t,o)=>{var n=tn(e),a=tI(n),r=e=>{var n,l,i,s=null===(n=tN[e.status])||void 0===n?void 0:n.lineStyle,d={key:e.id,title:tW((0,q._)({spanTypeConfigMap:t,spanInfoMap:a},o)),selectEnabled:!0,indentDisabled:!1,lineStyle:s,zIndex:e.status===K.Error?1:0,extra:{span:e}};return e.id===eR&&(d=(0,I._)((0,q._)({},d),{selectEnabled:!1,indentDisabled:!0})),d.children=null!==(i=null===(l=e.children)||void 0===l?void 0:l.map(e=>r(e)))&&void 0!==i?i:[],d};return r(n)},tI=e=>{var t={},o=e=>{if(e.type===Y.Workflow&&1===eY(e,"workflow_schema_type")){var n,a,r,l=(null===(n=t[e.parent_id])||void 0===n?void 0:n.workflowLevel)||0;t[e.id]={isCozeWorkflowNode:!0,workflowLevel:l+1,workflowVersion:l<=1?(null===(a=eY(e,"workflow_version"))||void 0===a?void 0:a.toString())||(null===(r=t[e.parent_id])||void 0===r?void 0:r.workflowVersion):void 0}}else{var i,{isCozeWorkflowNode:s,workflowLevel:d=0}=t[e.parent_id]||{};s&&(t[e.id]={isCozeWorkflowNode:!0,workflowLevel:d+1,workflowVersion:d<=1?null===(i=t[e.parent_id])||void 0===i?void 0:i.workflowVersion:void 0})}for(var c of e.children||[])o(c)};return o(e),t},tE=e=>{var[t,o]=(0,L.useState)(),[n,a]=(0,L.useState)(""),{jump:r}=(0,tv.oB)(),{dataSource:{type:l,spanData:i,traceId:s},spaceId:d,selectedSpanId:c,spanTypeConfigMap:u,indentDisabled:p,lineStyle:m,globalStyle:v,className:h}=e,f=(0,ea._)(e,["dataSource","spaceId","selectedSpanId","spanTypeConfigMap","indentDisabled","lineStyle","globalStyle","className"]),g=(0,L.useMemo)(()=>{var e,t,o;return{normal:Object.assign({},null===(e=tj.lineStyle)||void 0===e?void 0:e.normal,null==m?void 0:m.normal),select:Object.assign({},null===(t=tj.lineStyle)||void 0===t?void 0:t.select,null==m?void 0:m.select),hover:Object.assign({},null===(o=tj.lineStyle)||void 0===o?void 0:o.hover,null==m?void 0:m.hover)}},[m]),y=(0,L.useMemo)(()=>Object.assign({},tj.globalStyle,v),[v]),_=e=>{var{workflowID:t,executeID:o,workflowNodeID:n,workflowVersion:a,subExecuteID:l}=e;if(!!d)r(tv.cJ.BOT__VIEW__WORKFLOW,{workflowID:t,spaceID:d,botID:"",executeID:o,workflowNodeID:n,workflowVersion:a,subExecuteID:l,newWindow:!0})};return(0,L.useEffect)(()=>{if(l===ta.SpanData&&i){if((null==i?void 0:i.length)!==0||void 0!==t)o(tq(i,u,{spaceId:d,onHoverChange:a,onJumpToWorkflow:_}))}else l===ta.TraceId&&s&&o(tq(e1(s),u,{onHoverChange:a,onJumpToWorkflow:_}))},[l,i,s,u]),t?(0,T.jsx)(tk,(0,q._)({className:ee()(tL["trace-tree"],h),treeData:t,disableDefaultHover:!0,hoverKey:n,selectedKey:c,indentDisabled:p,lineStyle:g,globalStyle:y},f)):null},tF=o("133724");o("832479");var tM=o("416290"),tz=o("248029"),tA=o("486613"),tD=o("839974"),tZ=o("309618"),tO=o.n(tZ),tR=(0,T.jsx)(er.yB2,{});var tP=((d={}).Common="common",d);var tV=((c={}).TB="TB",c.LR="LR",c),tJ={[Y.InvokeAgent]:"TB",[Y.UserInput]:"TB",[Y.UserInputV2]:"TB",[Y.Workflow]:"LR"},tH={[Y.InvokeAgent]:tA._g.Bot,[Y.UserInput]:tA._g.Bot,[Y.UserInputV2]:tA._g.Bot,[Y.Workflow]:tA._g.Workflow},tU={0:{height:24}},tK={[U.Unknown]:(0,q._)({icon:(0,T.jsx)(er.yB2,{})},tU[0]),[U.Start]:(0,q._)({icon:(0,T.jsx)(er.GOH,{})},tU[0]),[U.Agent]:(0,q._)({icon:(0,T.jsx)(er.rMo,{})},tU[0]),[U.LLMCall]:(0,q._)({icon:(0,T.jsx)(er.i7w,{})},tU[0]),[U.Workflow]:(0,q._)({icon:(0,T.jsx)(er.Cs7,{})},tU[0]),[U.WorkflowStart]:(0,q._)({icon:(0,T.jsx)(er.GOH,{})},tU[0]),[U.WorkflowEnd]:(0,q._)({icon:(0,T.jsx)(er.h3G,{})},tU[0]),[U.Plugin]:(0,q._)({icon:(0,T.jsx)(er.k2L,{})},tU[0]),[U.Knowledge]:(0,q._)({icon:(0,T.jsx)(er.Jr5,{})},tU[0]),[U.Code]:(0,q._)({icon:(0,T.jsx)(er.sZw,{})},tU[0]),[U.Condition]:(0,q._)({icon:(0,T.jsx)(er.cmr,{})},tU[0]),[U.Card]:(0,q._)({icon:(0,T.jsx)(er.UCZ,{})},tU[0]),[U.Message]:(0,q._)({icon:(0,T.jsx)(er.yOl,{})},tU[0]),[U.Variable]:(0,q._)({icon:(0,T.jsx)(er.Pil,{})},tU[0]),[U.Database]:(0,q._)({icon:(0,T.jsx)(tS.s5X,{})},tU[0]),[U.LongTermMemory]:(0,q._)({icon:(0,T.jsx)(tS.M13,{})},tU[0]),[U.Hook]:(0,q._)({icon:(0,T.jsx)(er.LxD,{})},tU[0]),[U.Batch]:(0,q._)({icon:(0,T.jsx)(er.XD7,{})},tU[0]),[U.Loop]:(0,q._)({icon:(0,T.jsx)(er.XD7,{})},tU[0]),[U.Parallel]:(0,q._)({icon:(0,T.jsx)(er.K_Z,{})},tU[0]),[U.Script]:(0,q._)({icon:(0,T.jsx)(er.sZw,{})},tU[0]),[U.CallFlow]:(0,q._)({icon:(0,T.jsx)(er.Cs7,{})},tU[0]),[U.Connector]:(0,q._)({icon:(0,T.jsx)(er.i2p,{})},tU[0])};var tY=((u={})[u.STATIC=0]="STATIC",u[u.DYNAMIC=1]="DYNAMIC",u[u.ERROR=2]="ERROR",u),tG={0:{edgeColor:"#C8C8CA",nodeClassName:"common-node-container_static"},1:{edgeColor:"#3EC254",nodeClassName:"common-node-container_dynamic"},2:{edgeColor:"#FF441E",nodeClassName:"common-node-container_error"}},tQ=(e,t,o)=>{!e[t]&&(e[t]=o)},tX=(e,t)=>Object.keys(e).filter(e=>t.includes(e)).reduce((t,o)=>(t[o]=e[o],t),{}),t$=(e,t)=>{var o,n,a,r,l,i,s,{category:d,id:c}=e,u=null!==(n=e.workflow_node_id)&&void 0!==n?n:null===(o=e.extra)||void 0===o?void 0:o.workflow_node_id;if(u)return u;switch(d){case U.Agent:case U.Start:return(null===(a=e.extra)||void 0===a?void 0:a.agent_id)||t;case U.Workflow:return(null===(r=e.extra)||void 0===r?void 0:r.workflow_id)||c;case U.Plugin:return(null===(l=e.extra)||void 0===l?void 0:l.plugin_id)||c;case U.Knowledge:return(null===(i=e.extra)||void 0===i?void 0:i.knowledge_id)||c;case U.LLMCall:return(null===(s=e.extra)||void 0===s?void 0:s.model)||c;default:return c}},t0=e=>{var{space_id:t,resource_id:o,version:n,env:a,resource_type:r}=e;return"".concat(t,"-").concat(o,"-").concat(n,"-").concat(a,"-").concat(r)},t1=()=>(0,tD.L)()["bot.devops.use_user_input_as_agent"]?[Y.InvokeAgent,Y.UserInput,Y.UserInputV2]:[Y.InvokeAgent],t2=e=>{if(e.type===Y.Workflow){var t;return(null===(t=e.extra)||void 0===t?void 0:t.workflow_schema_type)===1}return[...t1()].includes(e.type)},t4=(e,t)=>{for(var o={},n={},a=[e];a.length>0;){var r,l=a.shift();if(l.id!==eR)for(var i of(n[l.id]=l,tQ(o,t$(l,t),l),null!==(r=l.children)&&void 0!==r?r:[]))a.push(i)}return{dynamicNodeMap:o,originDynamicNodeMap:n}},t3=e=>{for(var t=e;t;){if(t2(t))return t;t=t.parent}};function t5(e){return Object.values(e).find(e=>e.type===Y.UserInput||e.type===Y.UserInputV2)}var t6=(e,t,o)=>{var n=(0,tD.L)(),{nodes:a=[],edges:r=[],topo_type:l=tA.Ll.AgentFlow}=e,i={},s=a.map(e=>{var a,r,{node_id:l="",resource_id:s="",resource_kind:d,resource_name:c=""}=e;i[l]={node:e,resourceId:s};var u=d&&d in U?Number(d):U.Unknown,p=t[s];u===U.Agent&&!p&&n["bot.devops.use_user_input_as_agent"]&&(p=t5(t));var m="";return m=p?e8(p):t9(u,c),{id:l,type:u,position:{x:0,y:0},data:{name:m,icon:null!==(r=null===(a=tK[u])||void 0===a?void 0:a.icon)&&void 0!==r?r:tR,dynamicSpanNode:p,layoutDirection:o}}});return{nodes:s,edges:r.map(e=>{var o,a,r,{edge_id:l="",source_node_id:s="",target_node_id:d=""}=e,c=i[s],u=Number(null==c?void 0:null===(o=c.node)||void 0===o?void 0:o.resource_kind)===U.WorkflowStart,p=t[null==c?void 0:c.resourceId],m=t[null===(a=i[d])||void 0===a?void 0:a.resourceId];c.node.resource_kind===U.Agent&&!p&&n["bot.devops.use_user_input_as_agent"]&&(p=t5(t)),(u||p&&m)&&(r=m);var v=ot(r);return{id:l,source:s,target:d,type:tP.Common,markerEnd:{type:tF.QZ.Arrow,color:tG[v].edgeColor,height:17,width:17},data:{tailDynamicSpanNode:r}}}),topoType:l}},t8=document.createElement("canvas").getContext("2d"),t7=e=>t8?(t8.font="14px SF Pro Display",Math.min(Math.round(t8.measureText(e).width),200)+62):100,t9=(e,t)=>{var o,n,a=null!==(n=null===(o=eJ[e])||void 0===o?void 0:o.label)&&void 0!==n?n:"";return t&&t!==a?"".concat(a," ").concat(t):a},oe=(e,t)=>{var o=new(tO()).graphlib.Graph().setDefaultEdgeLabel(()=>({}));o.setGraph({rankdir:t,align:"UL"});var{edges:n,nodes:a,topoType:r}=e;n.forEach(e=>o.setEdge(e.source,e.target)),a.forEach(e=>{var t,n,{type:a=U.Unknown,data:r}=e,{name:l}=r;o.setNode(e.id,{label:l,height:null!==(n=null===(t=tK[a])||void 0===t?void 0:t.height)&&void 0!==n?n:24,width:t7(l)})}),tO().layout(o);var l={};return{topoType:r,nodes:a.map(e=>{var{x:t,y:n}=o.node(e.id);return l[e.id]=t,(0,I._)((0,q._)({},e),{position:{x:t,y:n}})}),edges:n.map(e=>{var{source:t,target:o}=e;return(0,I._)((0,q._)({},e),{data:(0,I._)((0,q._)({},e.data),{layoutInfo:{customSourceX:l[t]+12,customTargetX:l[o]+12}})})})}},ot=e=>e?e.status===K.Error?tY.ERROR:tY.DYNAMIC:tY.STATIC,oo=e=>{var{nodes:t=[],edges:o=[]}=e,n={},a={},r={};for(var{node_id:l="",resource_id:i=""}of t)n[l]=i,a[i]=l;for(var{source_node_id:s="",target_node_id:d=""}of o)!r[d]&&(r[d]=[]),r[d].push(s);return{resourceIdMap:n,nodeIdMap:a,topoGraph:r}},on=(e,t,o)=>{if(o[e])return o[e];var n,a=null!==(n=t[e])&&void 0!==n?n:[],r=[...a,...a.flatMap(e=>on(e,t,o))];return o[e]=r,r},oa=e=>{var t=(0,L.useRef)(null),o=(0,tM.Z)(t),n=(0,tz.Z)(o),{setCenter:a}=(0,tF._K)(),r=(0,tF.AC)();return(0,L.useEffect)(()=>{if(e&&n){var{nodeInternals:t}=r.getState(),o=Array.from(t).map(e=>{var[,t]=e;return t});if(o.length>0){var l=o[0],{height:i,width:s}=n;a(l.position.x+(l.width||0)/2+s/2*.7,l.position.y+(l.height||0)/2+i/2*.7,{zoom:.7,duration:1e3})}}},[e,a,r,n]),[t]},or=e=>(!e||!e.nodes||!e.topo_type||e.topo_type===tA.Ll.AgentFlow)&&!0,ol=e=>{var t,{botId:o,entityId:n,spaceId:a,dataSource:r,selectedSpanId:l}=e,[i,s]=(0,L.useState)(!1),[d,c]=(0,L.useState)(),u=(0,L.useRef)({}),p=(0,L.useRef)({}),m=()=>{c(void 0),s(!1)};var v=(t=(0,D._)(function*(e){return(yield G.bV.GetTopoInfo((0,q._)({},e))).data}),function(e){return t.apply(this,arguments)}),h=()=>{var{type:e,spanData:t=[]}=r;return e===ta.SpanData?t4(tn(t,!1),o||n||""):void 0};return(0,P.Z)((0,D._)(function*(){try{if(!l){m();return}s(!0);var e,t,r,i,d=h(),f=null==d?void 0:null===(e=d.originDynamicNodeMap)||void 0===e?void 0:e[l];if(!d||!f){m();return}var g=(()=>{if(p.current[l])return p.current[l];var e=t3(f);if(!!e)return p.current[l]=e,e})();if(!g){m();return}var{type:y}=g,{resource_id:_,version:b}=(()=>{var e,t,a;if(t1().includes(g.type)){;return{resource_id:o||n||"",version:null===(e=g.extra)||void 0===e?void 0:e.bot_version}}return{resource_id:null===(t=g.extra)||void 0===t?void 0:t.workflow_id,version:null===(a=g.extra)||void 0===a?void 0:a.workflow_version}})();if(!_||!b){m();return}var x={space_id:a,env:tA.Xb.Online,resource_type:tH[y],resource_id:null!=_?_:"",version:null!=b?b:""},w=t0(x),k=u.current[w],S=null!==(t=null==k?void 0:k.topoInfoMap)&&void 0!==t?t:yield v(x);if(or(S)){m();return}var j=null!==(r=null==k?void 0:k.topoMetaInfo)&&void 0!==r?r:oo(S),C=null!==(i=null==k?void 0:k.upstreamNodeMap)&&void 0!==i?i:{},N=f.id===g.id,B=j.nodeIdMap[t$(f,o||n||"")],T=N?d.dynamicNodeMap:tX(d.dynamicNodeMap,[B,...on(B,j.topoGraph,C)].map(e=>j.resourceIdMap[e])),L=tJ[y],W=t6(S,T,L),q=oe(W,L);u.current[w]={topoInfoMap:S,topoMetaInfo:j,upstreamNodeMap:C},c(q)}catch(e){m()}finally{s(!1)}}),[o,n,a,r,l]),(0,L.useEffect)(()=>()=>{u.current={topoInfoMap:{},upstreamNodeMap:{}},p.current={}},[]),[i,d]},oi=o("136515"),os=o("234383"),od={};od.styleTagTransform=C(),od.setAttributes=w(),od.insert=b().bind(null,"head"),od.domAPI=y(),od.insertStyleElement=S(),f()(os.Z,od);var oc=os.Z&&os.Z.locals?os.Z.locals:void 0,{Text:ou}=H.ZT,op=e=>{var{id:t,type:o,data:{name:n,icon:a,layoutDirection:r,dynamicSpanNode:l}}=e,i=Number(o)===U.WorkflowStart?tY.DYNAMIC:ot(l),s=(0,tF.Bn)();return(0,oi.Z)(()=>{s(t)},[r]),(0,T.jsxs)("div",{className:oc["common-node"],children:[(0,T.jsx)(tF.HH,{type:"target",position:r===tV.LR?tF.Ly.Left:tF.Ly.Top}),(0,T.jsx)(tF.HH,{type:"source",position:r===tV.LR?tF.Ly.Right:tF.Ly.Bottom}),(0,T.jsxs)("div",{className:ee()(oc["common-node-container"],oc[tG[i].nodeClassName]),children:[a,(0,T.jsx)(ou,{className:oc["common-node-container-text"],ellipsis:{showTooltip:!0},children:n})]})]})},om=o("453360"),ov={};ov.styleTagTransform=C(),ov.setAttributes=w(),ov.insert=b().bind(null,"head"),ov.domAPI=y(),ov.insertStyleElement=S(),f()(om.Z,ov);var oh=om.Z&&om.Z.locals?om.Z.locals:void 0,of=e=>e===tF.Ly.Top||e===tF.Ly.Bottom,og=e=>{var t={isBatch:!1,isError:!1,errorNumber:0,totalNumber:0};if(!e||!eX(e))return t;var{spans:o,status:n}=e;return t.isBatch=!0,t.isError=n===K.Error,o.forEach(e=>{var{status:o}=e;t.totalNumber++,o===K.Error&&t.errorNumber++}),t},oy=e=>{var{batchNodeExecutionInfo:t}=e,{isError:o,totalNumber:n,errorNumber:a}=t;return(0,T.jsx)("div",{className:ee()(oh["batch-edge-info-container"],o&&oh["batch-edge-info-container_error"]),children:o&&n!==a?(0,T.jsxs)(H.u,{content:J.o.t("analytic_query_detail_topology_tooltip",{errorCount:a,callCount:n}),children:[a,(0,T.jsxs)("span",{style:{color:"#1D1C23"},children:[(0,T.jsx)("span",{style:{margin:"0 3px"},children:"/"}),n]})]}):(0,T.jsx)(T.Fragment,{children:n})})},o_={[U.Unknown]:op,[U.Start]:op,[U.Agent]:op,[U.LLMCall]:op,[U.Workflow]:op,[U.WorkflowStart]:op,[U.WorkflowEnd]:op,[U.Plugin]:op,[U.Knowledge]:op,[U.Code]:op,[U.Condition]:op,[U.Card]:op,[U.Message]:op,[U.Loop]:op,[U.LongTermMemory]:op},ob={[tP.Common]:e=>{var t,o,n,a,{id:r,sourceX:l,sourceY:i,targetX:s,targetY:d,sourcePosition:c,targetPosition:u,markerEnd:p,data:m}=e,v=(0,L.useMemo)(()=>og(null==m?void 0:m.tailDynamicSpanNode),[null==m?void 0:m.tailDynamicSpanNode]),h=ot(null==m?void 0:m.tailDynamicSpanNode),f=of(c)&&null!==(n=null==m?void 0:null===(t=m.layoutInfo)||void 0===t?void 0:t.customSourceX)&&void 0!==n?n:l,g=of(u)&&null!==(a=null==m?void 0:null===(o=m.layoutInfo)||void 0===o?void 0:o.customTargetX)&&void 0!==a?a:s,[y,_,b]=(0,tF.OQ)({sourceX:f,sourceY:i,targetX:g,targetY:d,sourcePosition:c,targetPosition:u});return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(tF.u5,{id:r,path:y,markerEnd:p,style:{strokeWidth:2,stroke:tG[h].edgeColor}}),v.isBatch&&(0,T.jsx)(tF.XQ,{children:(0,T.jsx)("div",{style:{position:"absolute",transform:"translate(-50%, -50%) translate(".concat(_,"px, ").concat(b,"px)"),pointerEvents:"all"},children:(0,T.jsx)(oy,{batchNodeExecutionInfo:v})})})]})}},ox=o("595284"),ow={};ow.styleTagTransform=C(),ow.setAttributes=w(),ow.insert=b().bind(null,"head"),ow.domAPI=y(),ow.insertStyleElement=S(),f()(ox.Z,ow);var ok=ox.Z&&ox.Z.locals?ox.Z.locals:void 0,oS=e=>{var{style:t,className:o,renderHeader:n}=e,a=(0,ea._)(e,["style","className","renderHeader"]),[r,l]=ol((0,q._)({},a)),[i]=oa(l),s=(0,L.useMemo)(()=>n&&l?n(l.topoType):null,[n,l]);return l?(0,T.jsx)("div",{className:ee()(ok["topology-flow"],null!=o?o:ok["topology-flow_default"]),style:t,ref:i,children:r?(0,T.jsx)("div",{className:ok["topology-flow-loading"],children:(0,T.jsx)(H.yC,{})}):(0,T.jsxs)("div",{className:ok["topology-flow-container"],children:[s,(0,T.jsx)("div",{className:ok["topology-flow-container-flow"],children:(0,T.jsx)(tF.x$,{nodes:l.nodes,edges:l.edges,nodeTypes:o_,edgeTypes:ob,proOptions:{hideAttribution:!0},nodesDraggable:!1,nodesConnectable:!1})})]})}):null},oj=e=>(0,T.jsx)(tF.tV,{children:(0,T.jsx)(oS,(0,q._)({},e))}),oC=o("633697"),oN=(e,t)=>e.start_time>t.start_time?1:e.start_time<t.start_time?-1:0,oB=(e,t)=>{var o,n,a,r,l=null!==(a=null===(o=e.extra)||void 0===o?void 0:o.task_index)&&void 0!==a?a:0,i=null!==(r=null===(n=e.extra)||void 0===n?void 0:n.task_index)&&void 0!==r?r:0;return l>i?1:l<i?-1:0},oT=e=>{var t=Number.POSITIVE_INFINITY;return e.forEach(e=>{t=Math.min(e.start_time,t)}),t},oL=e=>{var t=Number.NEGATIVE_INFINITY;e.forEach(e=>{t=Math.max(e.start_time+e.latency,t)});var o=oT(e);return t-o},oW=e=>{var t=!0;return e.forEach(e=>{e.status===K.Error&&(t=!1)}),t?K.Success:K.Error},oq=function(e,t){if(0===e.length)return;var o,n,a=null===(o=e[0].extra)||void 0===o?void 0:o.task_total;if(!(e.filter(e=>{var t;return(null===(t=e.extra)||void 0===t?void 0:t.task_total)!==a}).length>0))return(0,I._)((0,q._)({},(0,eq.Z)(e[0],["trace_id","id","parent_id","name","type"])),{category:null==t?void 0:t[e[0].type],status:oW(e),start_time:oT(e),latency:oL(e),spans:e.sort(oB),workflow_node_id:null===(n=e[0].extra)||void 0===n?void 0:n.workflow_node_id})},oI=function(e,t){var o=[],n={};return e.forEach(e=>{var t,o,{type:a}=e,r=null===(t=e.extra)||void 0===t?void 0:t.workflow_node_id;if(!!r)n[a+r]=null!==(o=n[a+r])&&void 0!==o?o:[],n[a+r].push(e)}),Object.keys(n).forEach(e=>{var a=n[e];a.sort(oN);var r=[],l=[];a.forEach(e=>{var n,a=null===(n=e.extra)||void 0===n?void 0:n.task_index;if(void 0!==a){if(r.includes(a)){var i=oq(l,t);i&&o.push(i),r=[],l=[]}r.push(a),l.push(e)}});var i=oq(l,t);i&&o.push(i)}),o},oE=function(e,t){var o,n,a,r,l,i,s,d,c,u,p,m,v,h,f,g,y,_,b,x,w,k,S,j,C,N,B,T,L,W,q,I,E,F,M,z,A,D={trace_id:e.trace_id,id:e.id,parent_id:e.parent_id,name:e.name,type:e.type,start_time:Number(e.start_time),latency:Number(e.latency),status:e.status,category:null==t?void 0:t[e.type]};return D.extra=null!==(A=null!==(z=null!==(M=null!==(F=null!==(E=null!==(I=null!==(q=null!==(W=null!==(L=null!==(T=null!==(B=null!==(N=null!==(C=null!==(j=null!==(S=null!==(k=null!==(w=null!==(x=null!==(b=null!==(_=null!==(y=null!==(g=null!==(f=null!==(h=null!==(v=null!==(m=null!==(p=null!==(u=null!==(c=null!==(d=null!==(s=null!==(i=null!==(l=null!==(r=null!==(a=null!==(n=null!==(o=e.attr_user_input)&&void 0!==o?o:e.attr_user_input_v2)&&void 0!==n?n:e.attr_invoke_agent)&&void 0!==a?a:e.attr_restart_agent)&&void 0!==r?r:e.attr_switch_agent)&&void 0!==l?l:e.attr_llm_call)&&void 0!==i?i:e.attr_workflow_llm_call)&&void 0!==s?s:e.attr_llm_batch_call)&&void 0!==d?d:e.attr_workflow_llm_batch_call)&&void 0!==c?c:e.attr_workflow)&&void 0!==u?u:e.attr_workflow_end)&&void 0!==p?p:e.attr_code)&&void 0!==m?m:e.attr_workflow_code)&&void 0!==v?v:e.attr_code_batch)&&void 0!==h?h:e.attr_workflow_code_batch)&&void 0!==f?f:e.attr_condition)&&void 0!==g?g:e.attr_workflow_condition)&&void 0!==y?y:e.attr_plugin_tool)&&void 0!==_?_:e.attr_workflow_plugin_tool)&&void 0!==b?b:e.attr_plugin_tool_batch)&&void 0!==x?x:e.attr_workflow_plugin_tool_batch)&&void 0!==w?w:e.attr_knowledge)&&void 0!==k?k:e.attr_workflow_knowledge)&&void 0!==S?S:e.attr_card)&&void 0!==j?j:e.attr_workflow_message)&&void 0!==C?C:e.attr_chain)&&void 0!==N?N:e.attr_hook)&&void 0!==B?B:e.attr_bw_start)&&void 0!==T?T:e.attr_bw_end)&&void 0!==L?L:e.attr_bw_batch)&&void 0!==W?W:e.attr_bw_loop)&&void 0!==q?q:e.attr_bw_condition)&&void 0!==I?I:e.attr_bw_llm)&&void 0!==E?E:e.attr_bw_parallel)&&void 0!==F?F:e.attr_bw_variable)&&void 0!==M?M:e.attr_bw_call_flow)&&void 0!==z?z:e.attr_bw_connector)&&void 0!==A?A:e.attr_bw_script,D},oF=e=>{var t={};return Object.keys(e).forEach(o=>{var n=Number(o),a=e[n];null==a||a.forEach(e=>{t[e]=n})}),t},oM=function(e,t){var o=t?oF(t):void 0,n=(0,oC.Z)(e,"id").map(e=>oE(e,o));return[...n.filter(e=>{var{type:t}=e;return!eQ(t)}),...oI(n.filter(e=>{var{type:t}=e;return eQ(t)}),o)]},oz=(e,t)=>e.map(e=>{var o;if(e.type!==Y.UserInput&&e.type!==Y.UserInputV2)return e;return(0,I._)((0,q._)({},e),{status:null!==(o=null==t?void 0:t.status)&&void 0!==o?o:K.Unknown,input_tokens_sum:null==t?void 0:t.tokens.input,output_tokens_sum:null==t?void 0:t.tokens.output})}),oA=(e,t)=>{var o={},n=e=>{var t,{input_tokens:a,output_tokens:r}=oD(e),l=a,i=r;null===(t=e.children)||void 0===t||t.forEach(t=>{var o=n(t);return l+=o.input_tokens_sum,i+=o.output_tokens_sum,e});var s={input_tokens_sum:l,output_tokens_sum:i};return o[e.id]=s,s};return t.forEach(e=>{n(e)}),e.map(e=>{var t,n;if(e.type===Y.UserInput||e.type===Y.UserInputV2)return e;return(0,I._)((0,q._)({},e),{input_tokens_sum:null===(t=o[e.id])||void 0===t?void 0:t.input_tokens_sum,output_tokens_sum:null===(n=o[e.id])||void 0===n?void 0:n.output_tokens_sum})})},oD=e=>{if(!("spans"in e))return{input_tokens:null!==(t=eY(e,"input_tokens"))&&void 0!==t?t:0,output_tokens:null!==(o=eY(e,"output_tokens"))&&void 0!==o?o:0};var t,o,n=0,a=0;return e.spans.forEach(e=>{var t,o,r=null==e?void 0:null===(t=e.extra)||void 0===t?void 0:t.input_tokens,l=null==e?void 0:null===(o=e.extra)||void 0===o?void 0:o.output_tokens;void 0!==r&&(n+=r),void 0!==l&&(a+=l)}),{input_tokens:n,output_tokens:a}},oZ=e=>{var{rootSpan:t,spans:o}=e,{extra:n}=t,a=o.filter(e=>e.type===Y.InvokeAgent);if(a.length>0){var r,l,i=a[0];n=(0,I._)((0,q._)({},n),{dialog_round:null===(r=i.extra)||void 0===r?void 0:r.dialog_round,model:null===(l=i.extra)||void 0===l?void 0:l.model})}return(0,I._)((0,q._)({},t),{extra:n})},oO=e=>{if(e.filter(e=>{var{category:t}=e;return t===U.Start}).length>0)return e;var t=e0(e);return e.concat(t)},oR=e=>{var{orgSpans:t,traceAdvanceInfo:o,spanCategoryMeta:n,messageId:a}=e;return(0,L.useMemo)(()=>{var e=oM(t,n),r=e2(e=oz(e=oO(e),o));r.length>1&&a&&(r=r.filter(e=>{var t;return!("extra"in e)||e.extra&&!("message_id"in e.extra)||(null===(t=e.extra)||void 0===t?void 0:t.message_id)===a}));var l=e4(r,!1),i=oZ({rootSpan:l,spans:e}),s=(e,t)=>{var o,n;return t.id===e||null!==(n=null===(o=t.children)||void 0===o?void 0:o.some(t=>s(e,t)))&&void 0!==n&&n};return{rootSpan:i,spans:oA(e=e.filter(e=>s(e.id,l)),r)}},[t,o,n,a])},oP=e=>ep()(e).format("YYYY-MM-DD HH:mm:ss"),oV={[K.Success]:{icon:(0,T.jsx)(er.R$2,{}),className:"query-execute-status_success",label:"query_status_success"},[K.Broken]:{icon:(0,T.jsx)(er.O5N,{}),className:"query-execute-status_broken",label:"query_status_broken"},[K.Error]:{icon:(0,T.jsx)(er.Ucq,{}),className:"query-execute-status_error",label:"query_status_error"},[K.Unknown]:{icon:(0,T.jsx)(er.R$2,{}),className:"query-execute-status_unknown",label:"query_status_unknown"}},oJ=e=>{if(void 0!==e){if(eX(e)){var t,o,n=Number.POSITIVE_INFINITY;if(e.spans.forEach(e=>{var t,o;void 0!==e.extra&&"start_time_first_resp"in e.extra&&(null===(t=e.extra)||void 0===t?void 0:t.start_time_first_resp)!=="0"&&(n=Math.min(n,Number(null===(o=e.extra)||void 0===o?void 0:o.start_time_first_resp)))}),n===Number.POSITIVE_INFINITY)return;return n-e.start_time}return void 0!==e.extra&&"start_time_first_resp"in e.extra&&(null===(t=e.extra)||void 0===t?void 0:t.start_time_first_resp)!=="0"?Number(null==e?void 0:null===(o=e.extra)||void 0===o?void 0:o.start_time_first_resp)-e.start_time:void 0}},oH=(0,I._)((0,q._)({},{category:e=>{var{category:t}=e,o=void 0!==t?eJ[t]:void 0;return{key:J.o.t("analytic_query_type"),value:null==o?void 0:o.label}},type:e=>{var{type:t}=e,o=eV[t];return{key:J.o.t("analytic_query_subtype"),value:null==o?void 0:o.label}},os:e=>{var t=eY(e,"os"),o=eY(e,"os_version");return{key:J.o.t("analytic_query_os"),value:t?"".concat(t).concat(o?" ".concat(o):""):void 0}},latency:e=>{var{latency:t}=e;return{key:J.o.t("analytic_query_latency"),value:void 0!==t?"".concat(t,"ms"):void 0}},offline:e=>{var t=eY(e,"bot_env"),o=void 0!==t?eK[t]:void 0;return{key:J.o.t("analytic_query_env"),value:null==o?void 0:o.label}},name:e=>{var{name:t}=e;return{key:J.o.t("analytic_query_name"),value:t}},start_time:e=>{var{start_time:t}=e;return{key:J.o.t("analytic_query_starttime"),value:oP(t)}},end_time:e=>{var t=null==e?void 0:e.start_time,o=null==e?void 0:e.latency;return{key:J.o.t("analytic_query_endtime"),value:void 0!==t&&void 0!==o?oP(Number(t)+Number(o)):void 0}},call_type:e=>({key:J.o.t("analytic_query_calltype"),value:eY(e,"call_type")}),agent_type:e=>{var t;return{key:J.o.t("analytic_query_agenttype"),value:null===(t=e.extra)||void 0===t?void 0:t.agent_type}},model:e=>({key:J.o.t("analytic_query_model"),value:eY(e,"model")}),temperature:e=>({key:J.o.t("analytic_query_temperature"),value:eY(e,"temperature")}),dialog_round:e=>{var t;return{key:J.o.t("analytic_query_diagloground"),value:null===(t=e.extra)||void 0===t?void 0:t.dialog_round}},max_length_resp:e=>({key:J.o.t("analytic_query_resmaxlen"),value:eY(e,"max_length_resp")}),channel:e=>({key:J.o.t("analytic_query_channel"),value:eY(e,"channel")}),input_type:e=>({key:J.o.t("analytic_query_inputtype"),value:eY(e,"query_input_method")}),input:e=>({key:J.o.t("analytic_query_input"),value:eY(e,"input")}),card_id:e=>{var t=eY(e,"card_id");return{key:J.o.t("query_card_id"),value:t}},stream_output:e=>{var t,o=eY(e,"streaming_output");return{key:J.o.t("query_stream_output"),value:null===(t=eU[o])||void 0===t?void 0:t.label}},branch_name:e=>({key:"branch_name",value:eY(e,"branch_name")}),node_type:e=>({key:"node_type",value:eY(e,"node_type")}),hook_type:e=>{var t=eY(e,"hook_type");return{key:J.o.t("codedev_hook_hook_type"),value:t}},hook_uri:e=>({key:"Hook Uri",value:eY(e,"hook_uri")}),agent_id:e=>({key:"AgentId",value:eY(e,"agent_id")}),hook_resp_code:e=>{var t,o=null===(t=eY(e,"hook_resp_code"))||void 0===t?void 0:t.toString();return{key:J.o.t("analytic_query_hook_resp_code"),value:o}},is_stream:e=>{var t,o=null===(t=eY(e,"is_stream"))||void 0===t?void 0:t.toString();return{key:J.o.t("query_stream_output"),value:o}}}),{status:e=>{var t,{status:o}=e,{label:n}=null!==(t=oV[o])&&void 0!==t?t:{};return{key:J.o.t("analytic_query_status"),value:n?J.o.t(n):void 0}},latency_first:e=>{var t=oJ(e);return{key:J.o.t("analytic_query_latencyfirst"),value:void 0!==t?"".concat(t,"ms"):"-"}},first_response_time:e=>{var t=eY(e,"start_time_first_resp");return{key:J.o.t("analytic_query_firstrestime"),value:t&&"0"!==t?ey(Number(t)):"-"}},tokens:e=>{var t,o,{input_tokens:n,output_tokens:a}=eG(e);return{key:J.o.t("analytic_query_tokens"),value:(t=n,o=a,void 0!==t&&void 0!==o?(0,T.jsx)(H.u,{content:(0,T.jsxs)("article",{children:[(0,T.jsxs)("div",{className:"whitespace-nowrap",children:["Input Tokens: ",t]}),(0,T.jsxs)("div",{className:"whitespace-nowrap",children:["Output Tokens: ",o]})]}),position:"bottom",children:(0,T.jsx)("div",{style:{fontSize:12},children:t+o})}):"-")}},log_id:e=>({key:J.o.t("analytic_query_logid"),value:eY(e,"log_id")})}),oU=[{fields:[{name:"log_id",options:{copyable:!0,fullLine:!0}},{name:"start_time"},{name:"latency_first"}]}],oK=e=>{var{span:t}=e;return{traceCols:(0,L.useMemo)(()=>t?oU.map(e=>{var{fields:o}=e;return{fields:null==o?void 0:o.map(e=>{var{name:o,options:n}=e;return(0,I._)((0,q._)({},oH[o](t)),{options:n})})}}):[],[t])}},oY=o("882430"),oG={};oG.styleTagTransform=C(),oG.setAttributes=w(),oG.insert=b().bind(null,"head"),oG.domAPI=y(),oG.insertStyleElement=S(),f()(oY.Z,oG);var oQ=oY.Z&&oY.Z.locals?oY.Z.locals:void 0,oX=e=>{var{targetOverallSpanInfo:t}=e,{basicInfo:{botId:o,userID:n,spaceID:a}}=A(),{span:r,output:l,span:{status:i,latency:s,input_tokens_sum:d=0,output_tokens_sum:c=0}}=t,{icon:u,label:p,className:m}=oV[i],{traceCols:v}=oK({span:r});return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)("div",{className:oQ["summary-title-container"],children:[(0,T.jsxs)("div",{className:oQ["summary-title-container-data"],children:[J.o.t("query_latency",{duration:s}),"ms｜",J.o.t("query_tokens_number",{number:d+c})]}),(0,T.jsxs)("div",{className:ee()(oQ["summary-title-container-tag"],oQ[m]),children:[u,J.o.t(p)]}),(0,T.jsx)(eo.zx,{onClick:()=>{try{var e=["Logid: ".concat(oH.log_id(r).value),"UID: ".concat(n),"Botid: ".concat(o),"StartTime: ".concat(oH.start_time(r).value),"EndTime: ".concat(oH.end_time(r).value),i===en.Error&&"ErrorMsg:".concat(l),"\n".concat(J.o.t("debug_copy_suggestion"))].filter(Boolean).join("\n");X()(e),H.O$.success({content:J.o.t("debug_copy_success")}),(0,W.Gg)(W.Kg.click_debug_panel_feedback_button,{bot_id:null!=o?o:"",space_id:null!=a?a:"",host:window.location.host})}catch(e){et.kg.error({eventName:"fail_to_copy_debug_info",error:e}),H.O$.error(J.o.t("copy_failed"))}},className:"ml-2",color:"highlight",size:"small",children:J.o.t("debug_copy_report")})]}),(0,T.jsx)(eL,{cols:v})]})},o$=o("311807");var o0=((p={}).Overall="Overall",p.Summary="Summary",p.Chat="Chat",p),o1=[{id:"ALL",name:"query_status_all"},{id:en.Error,name:"query_status_failed"},{id:en.Success,name:"query_status_completed"}];var o2=((m={}).RunTree="RunTree",m.Flamethread="Flamethread",m),o4={side:{[o0.Overall]:{width:{min:400,max:800},height:{}},[o0.Summary]:{width:{},height:{min:8,max:150}},[o0.Chat]:{width:{},height:{min:1,max:500}}},bottom:{[o0.Overall]:{width:{},height:{}},[o0.Summary]:{width:{},height:{}},[o0.Chat]:{width:{},height:{}}}},o3={side:{[o0.Overall]:400,[o0.Summary]:124,[o0.Chat]:280},bottom:{[o0.Overall]:0,[o0.Summary]:0,[o0.Chat]:0}},o5={name:!1,displayDataTypes:!1,indentWidth:2,iconStyle:"triangle",enableClipboard:!1,collapsed:5,collapseStringsAfterLength:300},o6={[tA.Ll.Agent]:"Agent",[tA.Ll.AgentFlow]:"AgentFlow",[tA.Ll.Workflow]:"Workflow"},o8=o("838207"),o7={};o7.styleTagTransform=C(),o7.setAttributes=w(),o7.insert=b().bind(null,"head"),o7.domAPI=y(),o7.insertStyleElement=S(),f()(o8.Z,o7);var o9=o8.Z&&o8.Z.locals?o8.Z.locals:void 0,ne=e=>{var{children:t,activeId:o,dropdownMenuItem:n,onSelectActiveId:a}=e;return(0,T.jsx)(H.Lt,{clickToHide:!0,position:"bottomLeft",showTick:!0,contentClassName:o9["dropdown-content"],render:(0,T.jsx)(H.Lt.Menu,{children:n.map(e=>{var{id:t,name:n}=e;return(0,T.jsx)(H.Lt.Item,{onClick:()=>null==a?void 0:a(t),active:o===t,children:n},t)})}),children:t})},nt=e=>{var t,{targetDateId:o,targetExecuteStatusId:n,targetOverallSpanInfo:a,enhancedOverallSpans:r,showLoadMore:l,onSelectDate:i,onSelectExecuteStatus:s,onFetchQuery:d,onSelectQuery:c}=e,[u,p]=(0,L.useState)(!1),[m,v]=(0,L.useState)(!1),h=(0,L.useRef)(void 0);var f=(t=(0,D._)(function*(e,t){var o=t?v:p;try{o(!0),yield d(e,t)}finally{o(!1)}}),function(e,o){return t.apply(this,arguments)});return(0,T.jsxs)(H.BZ,{className:o9["query-filter"],children:[(0,T.jsxs)("div",{className:o9["query-filter-options"],children:[(0,T.jsx)(ne,{activeId:o,onSelectActiveId:i,dropdownMenuItem:["ALL",...eh()].map(e=>({id:e,name:"ALL"===e?J.o.t("query_status_all"):e})),children:(0,T.jsx)(H.y3,{theme:"borderless",icon:(0,T.jsx)(er.jt6,{}),size:"small",className:ee()("ALL"!==o&&o9["query-filter-options-button_active"])})}),(0,T.jsx)(ne,{activeId:n,onSelectActiveId:s,dropdownMenuItem:o1.map(e=>({id:e.id,name:J.o.t(e.name)})),children:(0,T.jsx)(H.y3,{theme:"borderless",icon:(0,T.jsx)(er.wHY,{}),size:"small",className:ee()("ALL"!==n&&o9["query-filter-options-button_active"])})})]}),(0,T.jsx)(H.Ph,{value:a,prefix:(0,T.jsx)(er.jVj,{className:o9["query-filter-select-search-icon"]}),filter:!0,remote:!0,loading:u,className:o9["query-filter-select"],dropdownClassName:o9["query-filter-select-dropdown"],onChangeWithObject:!0,onSearch:(0,o$.Z)(e=>{var t=""===e?void 0:e;h.current=t,f(t)},300),onDropdownVisibleChange:e=>{e&&f()},onChange:e=>{c(e)},renderSelectedItem:e=>{var{value:t,input:o,span:n}=e;return t?(0,T.jsx)(H.u,{content:o,className:o9["custom-tooltip"],children:(0,T.jsx)(H.Vp,{className:ee()(o9["query-filter-select-tag"],o9[oV[n.status].className]),children:o})}):null},innerBottomSlot:l?(0,T.jsx)(H.zx,{theme:"borderless",type:"primary",loading:m,className:"w-full",onClick:()=>f(h.current,!0),children:J.o.t("query_list_loadmore")}):null,children:r.map(e=>{var{status:t,extra:o}=e,{dateString:n}=ev(e.start_time);return(0,T.jsx)(H.Ph.Option,{value:null==o?void 0:o.log_id,input:null==o?void 0:o.input,span:e,children:(0,T.jsxs)("div",{className:o9["query-filter-select-dropdown-option"],children:[(0,T.jsx)("div",{className:o9["query-filter-select-dropdown-option-icon"],children:oV[t].icon}),(0,T.jsx)(H.u,{content:null==o?void 0:o.input,className:o9["custom-tooltip"],position:"left",children:(0,T.jsx)("div",{className:o9["query-filter-select-dropdown-option-text"],children:null==o?void 0:o.input})}),(0,T.jsx)("div",{className:"ml-2 font-normal",children:n})]})},null==o?void 0:o.log_id)})})]})},no=o("979838"),nn=o("312686"),na={};na.styleTagTransform=C(),na.setAttributes=w(),na.insert=b().bind(null,"head"),na.domAPI=y(),na.insertStyleElement=S(),f()(nn.Z,na);var nr=nn.Z&&nn.Z.locals?nn.Z.locals:void 0,nl=e=>{var{onClose:t}=e;return(0,T.jsxs)("div",{className:nr["panel-header"],children:[(0,T.jsx)("div",{className:nr["panel-header-title"],children:J.o.t("debug_detail_tab")}),(0,T.jsx)("div",{className:nr["panel-header-option"],children:(0,T.jsx)(H.y3,{className:nr["panel-header-option-icon"],theme:"borderless",icon:(0,T.jsx)(no.Z,{}),size:"small",onClick:t})})]})},ni=(e,t)=>{var o,n,a,r,l;if(eX(e)){;return null!==(a=e[t])&&void 0!==a?a:null===(n=e.spans[0])||void 0===n?void 0:null===(o=n.extra)||void 0===o?void 0:o[t]}return null!==(l=e[t])&&void 0!==l?l:null===(r=e.extra)||void 0===r?void 0:r[t]},ns=(e,t)=>{var o=t.reduce((e,t)=>(e[t.trace_id]=t,e),{});return e.map(e=>oE(e)).map(e=>{var{tokens:{input:t,output:n},status:a}=o[e.trace_id];return(0,I._)((0,q._)({},e),{status:a,input_tokens_sum:t,output_tokens_sum:n})})},nd=o("61111"),nc=()=>{var e,t=(0,L.useRef)((e=localStorage.getItem(M))&&e_(e)?JSON.parse(e):o3);return[t.current,e=>{var o="function"==typeof e?(0,nd.Uy)(t.current,t=>{e(t)}):e;t.current=o,window.localStorage.setItem(M,JSON.stringify(o))}]},nu=o("403544"),np=o.n(nu),nm=o("788637"),nv=o("318293"),nh=o("450080"),nf=/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_\+.~#?&\/=]*)$/,ng=new Set(["image","file"]),ny=e=>{var t={};return e.forEach(e=>{if(!!ng.has(e.content_type)){if("image"===e.content_type){var o,n,a=null!==(n=null===(o=e.content.image_url)||void 0===o?void 0:o.url)&&void 0!==n?n:"";t[a]={link:a,contentType:"image"}}if("file"===e.content_type){var r,l,i,s,d,c,u=null!==(s=null===(r=e.content.file_url)||void 0===r?void 0:r.suffix_type)&&void 0!==s?s:"",p=null!==(d=null===(l=e.content.file_url)||void 0===l?void 0:l.url)&&void 0!==d?d:"";t[p]={link:p,contentType:u,extraInfo:{fileName:null!==(c=null===(i=e.content.file_url)||void 0===i?void 0:i.file_name)&&void 0!==c?c:""}}}}}),t};class n_{constructor(){this.priority=0}}var nb=o("921463"),nx=null,nw=e=>{var{onClose:t,children:o,withMask:n}=e;return(0,T.jsxs)("div",{className:"p-5",style:n?{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.70)",zIndex:1e3}:{},children:[(0,T.jsx)("div",{className:"absolute top-5 right-5 rounded-[50%] w-[40px] h-[40px] p-[11px] flex items-center justify-center bg-[rgba(255,255,255,0.12)] backdrop-blur-md cursor-pointer",style:{zIndex:10010},onClick:t,children:(0,T.jsx)(tS.syE,{className:"w-[18px] h-[18px] text-white"})}),o]})},nk=()=>{nx=document.createElement("div"),document.body.appendChild(nx)},nS={show:e=>{var{content:t,withMask:o=!0}=e;!nx&&nk();var n=()=>{nx&&nb.unmountComponentAtNode(nx)};return nb.render((0,T.jsx)(nw,{onClose:n,children:null==t?void 0:t(n),withMask:o}),nx),n}};o("643095");var nj=o("187394");var nC=(v=(0,D._)(function*(e){var t=yield fetch(e);return yield t.blob()}),function(e){return v.apply(this,arguments)}),nN=(e,t)=>{var o=URL.createObjectURL(e),n=document.createElement("a");n.style.display="none",n.href=o,n.setAttribute("download",t||"document"),document.body.appendChild(n),n.click(),n.remove()},nB=o("511476"),nT={};nT.styleTagTransform=C(),nT.setAttributes=w(),nT.insert=b().bind(null,"head"),nT.domAPI=y(),nT.insertStyleElement=S(),f()(nB.Z,nT);var nL=nB.Z&&nB.Z.locals?nB.Z.locals:void 0,nW=e=>(0,T.jsx)("svg",(0,I._)((0,q._)({xmlns:"http://www.w3.org/2000/svg",width:64,height:64,fill:"none",viewBox:"0 0 64 64"},e),{children:(0,T.jsxs)("g",{fill:"#060709",fillOpacity:.3,children:[(0,T.jsx)("path",{d:"M42.777 5.333H7.999c-2.933 0-5.333 2.4-5.333 5.333v42.667c0 2.933 2.4 5.333 5.333 5.333h3.985l3.08-5.333H7.999V10.666h31.698z"}),(0,T.jsx)("path",{d:"m25.167 35.834-.602-.602a.8.8 0 0 0-1.132 0L12.032 46.634A.8.8 0 0 0 12.596 48h5.546zM27.38 48 32 39.999l17.3-17.3a.8.8 0 0 1 1.366.565V47.2a.8.8 0 0 1-.8.8H27.38"}),(0,T.jsx)("path",{d:"M24.301 53.333H56V10.666h-7.064l3.08-5.333h3.984c2.934 0 5.334 2.4 5.334 5.333v42.667c0 2.933-2.4 5.333-5.334 5.333H21.222zM24 21.333a5.333 5.333 0 1 1-10.667 0 5.333 5.333 0 0 1 10.666 0"})]})})),nq=e=>{var{onClose:t}=e;return(0,T.jsxs)("div",{className:nL.wrapper,children:[(0,T.jsxs)("div",{className:nL.header,children:[(0,T.jsx)("div",{className:nL.title,children:J.o.t("analytics_query_aigc_infopanel_title")}),(0,T.jsx)(eo.zx,{icon:(0,T.jsx)(tS.rmE,{className:"w-4 h-4"}),color:"secondary",className:"w-4 h-4",onClick:t})]}),(0,T.jsxs)("div",{className:nL.body,children:[(0,T.jsx)(nW,{className:"w-[64px] h-[64px]"}),(0,T.jsx)("span",{className:nL["error-txt"],children:J.o.t("analytics_query_aigc_errorpanel_context")})]}),(0,T.jsx)("div",{className:nL.footer,children:(0,T.jsx)(eo.zx,{type:"primary",size:"default",onClick:t,children:J.o.t("analytics_query_aigc_errorpanel_ok")})})]})},nI=o("471968"),nE={};nE.styleTagTransform=C(),nE.setAttributes=w(),nE.insert=b().bind(null,"head"),nE.domAPI=y(),nE.insertStyleElement=S(),f()(nI.Z,nE),nI.Z&&nI.Z.locals&&nI.Z.locals,(0,nj.initPdfJsWorker)();var nF=e=>{var[t,o]=(0,L.useState)(!1),[n,a]=(0,L.useState)(!1),[r,l]=(0,L.useState)(null);return(0,L.useEffect)(()=>{var t=new Image;t.src=e,t.onload=()=>{o(!0),l(t)},t.onerror=()=>{a(!0)}},[e]),{isLoaded:t,hasError:n,image:r}},nM=o("852806"),nz={};nz.styleTagTransform=C(),nz.setAttributes=w(),nz.insert=b().bind(null,"head"),nz.domAPI=y(),nz.insertStyleElement=S(),f()(nM.Z,nz);var nA=nM.Z&&nM.Z.locals?nM.Z.locals:void 0,nD=e=>{var{src:t,onClose:o}=e,{hasError:n,image:a,isLoaded:r}=nF(t);return n?(0,T.jsx)("div",{className:"w-full h-full items-center justify-center flex",children:(0,T.jsx)(nq,{onClose:o})}):r?(0,T.jsx)("div",{className:nA["image-preview-container"],children:(0,T.jsx)(eo.eT,{src:null==a?void 0:a.src,visible:!0,previewCls:nA["image-preview-wrapper"],closable:!1})}):(0,T.jsx)("div",{className:"w-full h-full items-center justify-center flex",children:(0,T.jsx)(eo.yC,{})})};class nZ extends n_{constructor(...e){super(...e),this.render=(e,t)=>(nS.show({content:t=>(0,T.jsx)(nD,{src:e,onClose:t}),withMask:!1}),(0,T.jsx)(T.Fragment,{})),this.name="Image",this.match=e=>"image"===e,this.priority=0}}var nO=e=>(0,T.jsxs)("svg",(0,I._)((0,q._)({xmlns:"http://www.w3.org/2000/svg",width:200,height:200,fill:"none",viewBox:"0 0 200 200"},e),{children:[(0,T.jsxs)("g",{clipPath:"url(#not-support_svg__a)",children:[(0,T.jsx)("path",{fill:"#000",stroke:"#000",d:"M100.749 191.987c6.215-.558 8.701-9.199 10.359-15.052l4.972 15.052z"}),(0,T.jsx)("path",{fill:"#fff",d:"M103.973 62.974c-3.941-5.03-1.949-13.818 7.345-23.034 12.98-11.882 25.529-9.255 26.117-8.98.588.274 13.004 9.06 24.825 21.305s24.193 22.732 24.345 39.535c.153 16.803-17.259 22.885-30.032 22.961s-41.277-.282-46.752-1.194c-3.435 4.507-8.898 9.378-10.913 10.434 4.227 3.632 19.318 18.976 21.133 22.216s9.722 14.519 6.092 32.279c-1.663 8.138-8.169 12.305-14.891 13.612 0 0-9.206-.052-12.334 0-7.776.13-88.02 0-90.353 0s-3.006-2.093 0-8.198 14.09-25.368 19.898-28.806c2.312-1.304 7.533 2.07 8.63 2.852 1.027.731 2.022 1.594 3.445 1.476 1.422-.119 8.838-.152 11.208-.075-4.285-3-20.033-17.685-21.958-24.83-1.53-5.678.3-8.958 1.114-9.715-8.529-4.988-17.207-14.892-13.811-29.607.952-4.128 3.53-8.428 5.453-9.667 3.616-2.33 15.882-3.507 23.32-4.186 32.698-2.986 107.186-1.904 109.448-1.883-3.118-2.375-15.199-15.931-15.48-16.388-.773 2.213-3.828 5.022-6.111 4.706-2.026-.28-3.153-3.453-.809-8.48a30 30 0 0 1-2.491 2.294c-1.244 1.011-2.804 1.219-3.37 0-.499-1.072-.333-3.117.819-5.84-1.232 1.161-2.459 2.126-3.561 2.684-3.689 1.867-4.601-5.233.341-11.275-7.103 3.473-9.117 6.309-10.881 10.469-1.087 2.564-1.471 4.914-4.462 6.243-2.294 1.02-4.215.509-5.324-.908"}),(0,T.jsx)("path",{stroke:"#515151",d:"M124.64 47.17c-7.103 3.473-9.117 6.309-10.881 10.469-1.087 2.564-1.471 4.914-4.462 6.243-2.294 1.02-4.215.509-5.324-.908-3.941-5.03-1.949-13.818 7.345-23.034 12.98-11.882 25.529-9.255 26.117-8.98.588.274 13.004 9.06 24.825 21.305s24.193 22.732 24.345 39.535c.153 16.803-17.259 22.885-30.032 22.961s-41.277-.282-46.752-1.194M124.64 47.17c6.999-2.597 6.638-4.972 6.226-5.442s-4.638 2.737-6.226 5.442Zm0 0c-4.942 6.042-4.03 13.142-.341 11.275 4.848-2.453 12.087-12.772 11.642-13.118-.316-.246-2.074.747-5.321 5.497-3.541 5.181-4.345 9.128-3.579 10.777.566 1.219 2.126 1.011 3.37 0 4.793-3.898 9.41-10.885 9.164-11.06s-1.843.447-5.609 6.767c-3.679 6.175-2.538 10.163-.255 10.48 2.283.316 5.338-2.494 6.111-4.707.281.457 12.362 14.013 15.48 16.388m-45.481 34.098c-3.435 4.507-8.898 9.378-10.913 10.434m10.913-10.434c3.584-4.914 6.761-9.938 8.313-15.295m37.168-18.803c-2.262-.021-76.75-1.103-109.447 1.883-7.439.68-19.705 1.857-23.32 4.186-1.923 1.239-4.502 5.539-5.454 9.667-3.396 14.715 5.282 24.619 13.81 29.607M155.303 79.47c2.261.021 6.136.694 5.804 3.1-.216 1.562-4.717-2.12-5.804-3.1ZM98.908 124c4.227 3.632 19.318 18.976 21.133 22.216s9.722 14.519 6.092 32.279c-1.663 8.138-8.169 12.305-14.891 13.612 0 0-9.206-.052-12.334 0-7.776.13-88.02 0-90.353 0s-3.006-2.093 0-8.198 14.09-25.368 19.898-28.806c2.312-1.304 7.533 2.07 8.63 2.852 1.027.731 2.022 1.594 3.445 1.476 1.422-.119 8.838-.152 11.208-.075m47.172-35.356H88.096m-36.36 35.356c3.059.099 9.595-.491 11.847 1.543 2.045 1.847.559 4.592-2.533 3.842-3.638-.883-8.129-4.556-9.314-5.385Zm0 0c-4.285-3-20.033-17.685-21.958-24.83-1.53-5.678.3-8.958 1.114-9.715m57.204-.811c-8.087-8.499-17.704-16.179-22.811-19.89m22.811 19.89q1.262 1.323 2.46 2.668c1.944 2.178 8.476 9.597 9.126 14.147.369 2.587.06 6.793-.907 10.96m-67.883-26.964c3.334 1.788 11.878 6.075 19.372 8.912m0 0c9.367 3.547 19.193 6.258 22.376 9.896s-.761 8.672-1.913 12.751c-.29 1.029-.622 2.59-.265 3.493.451 1.14 1.775 1.363 3.743-.17 3.525-2.745 6.653-9.565 7.304-11.572.65-2.006-4.435 8.264-4.977 12.799s3.488 3.792 6.197 0c3.172-4.442 4.8-9.545 5.017-10.521s-2.733 5.445-3.6 9.294c-.234 1.038-.843 3.472 0 4.442.959 1.103 2.871.814 5.076-2.726 2.517-4.042 4.38-9.708 4.598-11.01s-3.054 7.306-3.548 11.498c-.346 2.942.663 4.377 4.178 0 1.987-2.475 3.435-6.282 4.325-10.122m-48.511-18.052c-1.974 2.717-4.251 5.291-10.807 6.321m59.318 11.731c3.184 2.921 7.344 8.248 8.242 14.176s0 13.463-9.4 21.346m-32.332-83.187c-5.705-4.146-8.966-4.563-11.457-4.563-3.64 0-4.477 1.956-1.16 3.2 3.319 1.245 9.35 1.363 12.617 1.363Zm0 0h6.914"}),(0,T.jsx)("path",{fill:"#515151",fillRule:"evenodd",d:"m115.942 192.126-5.175-15.667-.124.437c-.829 2.93-1.861 6.538-3.458 9.484-1.599 2.948-3.742 5.196-6.779 5.468l.012.278z",clipRule:"evenodd"}),(0,T.jsx)("path",{fill:"#C6CACD",fillRule:"evenodd",d:"m122.415 137.352 5.094 9.477h-7.45l-5.094-9.477z",clipRule:"evenodd"}),(0,T.jsx)("path",{fill:"#fff",stroke:"#515151",d:"M104.096 141.476h33.95l14.826 27.432h-33.95z"}),(0,T.jsx)("path",{fill:"#E6E8EA",stroke:"#515151",d:"M183.117 155.135h-43.596v38.861h43.596zM139.868 154.692l9.286-16.84h43.454l-9.286 16.84zM139.407 155.135h-28.184v38.861h28.184z"}),(0,T.jsx)("path",{fill:"#515151",fillRule:"evenodd",d:"m166.556 154.913 3.902-6.969h-6.132l-3.591 6.412h-.312v13.379h6.133z",clipRule:"evenodd"}),(0,T.jsx)("path",{fill:"#EAF5FF",d:"M45.578 71.846c18.32 0 33.171-14.851 33.171-33.171S63.9 5.504 45.58 5.504 12.406 20.355 12.406 38.675s14.851 33.171 33.171 33.171"}),(0,T.jsx)("path",{fill:"#0064FA",fillRule:"evenodd",d:"M48.846 47.665c1.772-.45 2.874-2.098 2.465-3.88-.279-1.213.272-2.409 1.139-3.302 3.027-3.12 5.085-7.778 3.663-12.778-.748-2.717-2.77-5.095-5.43-6.596-2.904-1.6-6.473-1.906-9.876-.866l-.17.072c-5.777 1.968-8.302 7.055-8.257 11.964.02 2.047 2.12 3.205 4.09 2.645 2.003-.57 2.972-2.806 3.633-4.782.392-1.168 1.257-2.231 2.93-2.751 1.958-.63 3.35-.209 4.155.259.878.639 1.585 1.35 1.777 2.28.847 2.473-.825 5.205-2.737 6.421-2.683 1.683-3.026 5.479-2.457 8.79.361 2.101 2.545 3.166 4.611 2.642zm.026 3.154a4.097 4.097 0 1 1 2.525 7.795 4.097 4.097 0 0 1-2.525-7.795",clipRule:"evenodd"}),(0,T.jsx)("path",{fill:"#515151",fillRule:"evenodd",d:"m98.633 82.579-.111-.01-.034.105c-.786 2.422-1.657 5.232-1.519 8.035.139 2.815 1.293 5.614 4.533 8.01 3.165 2.338 6.578 1.775 9.185-.16 2.601-1.93 4.418-5.235 4.418-8.422 0-1.25-.814-2.32-2.047-3.22-1.235-.901-2.917-1.653-4.715-2.265-3.597-1.223-7.694-1.896-9.71-2.073m17.18 21.687c-1.33 3.103-4.628 7.681-6.115 9.585l.115-.146 5.241.372.037-.08c.232-.492.409-1.194.547-1.999.138-.807.237-1.729.306-2.664a58 58 0 0 0 .136-5.016zm-84.955 20.007-.161-.102-1.334 5.038.11.048c4.395 1.897 14.112 4.052 21.09 4.61l.062-.268c-7.776-3.042-16.194-7.067-19.767-9.326",clipRule:"evenodd"}),(0,T.jsx)("path",{stroke:"#515151",d:"M71.03 48.989c5.25 1.236 16.12 6.398 17.613 17.155"}),(0,T.jsx)("path",{fill:"#fff",stroke:"#515151",strokeMiterlimit:10,d:"M108.084 96.577c-5.726 0-10.367-4.641-10.367-10.366 0-5.726 4.641-10.367 10.367-10.367 5.725 0 10.367 4.641 10.367 10.367 0 5.725-4.642 10.366-10.367 10.366Z"}),(0,T.jsx)("path",{fill:"#515151",fillRule:"evenodd",d:"M110.797 85.862a.42.42 0 0 0-.561-.187c-1.415.707-2.956.884-3.526.884a.418.418 0 1 0 0 .836c.669 0 2.345-.194 3.9-.972a.42.42 0 0 0 .187-.56m-2.662 3.516a.882.882 0 1 1 1.76-.128.882.882 0 0 1-1.76.128m7.103-.945a.883.883 0 1 0 .129 1.76.883.883 0 0 0-.129-1.76",clipRule:"evenodd"}),(0,T.jsx)("path",{fill:"#515151",d:"M100.584 87.313s-5.735-6.617-.662-11.028c6.618-5.956 21.175-.441 21.175-.441s-.22 7.058-4.852 7.94c-4.412.662-12.573-2.426-12.573-2.426z"}),(0,T.jsx)("path",{fill:"#fff",stroke:"#515151",strokeMiterlimit:10,d:"M98.378 88.637a2.647 2.647 0 1 1 0-5.294 2.647 2.647 0 0 1 0 5.294Z"})]}),(0,T.jsx)("defs",{children:(0,T.jsx)("clipPath",{id:"not-support_svg__a",children:(0,T.jsx)("path",{fill:"#fff",d:"M0 0h200v200H0z"})})})]})),nR=e=>{var t,{onClose:o,url:n,filename:a}=e,[r,l]=(0,L.useState)(!1);var i=(t=(0,D._)(function*(){try{l(!0);var e=yield nC(n);nN(e,a),l(!1)}catch(e){et.kg.error({eventName:"LoadError-page",error:e}),l(!1)}}),function(){return t.apply(this,arguments)});return(0,T.jsxs)("div",{className:nL.wrapper,children:[(0,T.jsxs)("div",{className:nL.header,children:[(0,T.jsx)("div",{className:nL.title,children:J.o.t("analytics_query_aigc_inforpanel_title_file")}),(0,T.jsx)(eo.zx,{icon:(0,T.jsx)(tS.rmE,{className:"w-4 h-4"}),color:"secondary",className:"w-4 h-4",onClick:o})]}),(0,T.jsxs)("div",{className:nL.body,children:[(0,T.jsx)(nO,{className:"w-[200px] h-[200px]"}),(0,T.jsx)("span",{className:nL["error-txt"],children:J.o.t("analytics_query_aigc_infopanel_context")})]}),(0,T.jsxs)("div",{className:nL.footer,children:[(0,T.jsx)(eo.zx,{type:"primary",size:"default",onClick:o,color:"primary",className:"mr-2",children:J.o.t("analytics_query_aigc_infopanel_cancel")}),(0,T.jsx)(eo.zx,{type:"primary",size:"default",onClick:i,loading:r,children:J.o.t("analytics_query_aigc_infopanel_download")})]})]})},nP=o("741623"),nV={};nV.styleTagTransform=C(),nV.setAttributes=w(),nV.insert=b().bind(null,"head"),nV.domAPI=y(),nV.insertStyleElement=S(),f()(nP.Z,nV);var nJ=nP.Z&&nP.Z.locals?nP.Z.locals:void 0;class nH extends L.Component{componentDidUpdate(e){this.linkMap=this.parse(this.props.src)}render(){return(0,T.jsx)(nh.ZP,{className:nJ["json-link-preview"],style:{fontSize:"12px !important"},value:this.props.src,enableClipboard:!1,displayDataTypes:!1,indentWidth:2,collapsed:5,shortenTextAfterLength:300,highlightUpdates:!1,children:(0,T.jsx)(nh.ZP.String,{render:(e,t)=>{var o,{type:n,value:a}=t;if("value"===n&&"string"==typeof a&&(o=a,nf.test(o)))return(0,T.jsx)(eo.u,{content:(0,T.jsx)(eo.ZT.Text,{link:!0,onClick:()=>{var e,t;this.handleClick(a,(null===(e=this.linkMap[a])||void 0===e?void 0:e.contentType)||"",null===(t=this.linkMap[a])||void 0===t?void 0:t.extraInfo)},children:J.o.t("analytics_query_aigc_detail")}),children:(0,T.jsxs)("a",{href:a,className:nJ.link,onClick:e=>{e.preventDefault()},children:[(0,T.jsx)(nh.W8,{}),a,(0,T.jsx)(nh.W8,{})]})})}})})}constructor(e){super(e),this.handleClick=(e,t,o)=>{(0,W.Gg)(W.Kg.preview_link_click,{host:window.location.href,content_type:t,bot_id:this.props.bot_id||this.props.entityId||"",space_id:this.props.space_id});var n=this.plugins.filter(e=>e.match(t));if((0,nm.Z)(n)){nS.show({content:t=>(0,T.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,T.jsx)(nR,{onClose:t,url:e,filename:null==o?void 0:o.fileName})})});return}n.sort((e,t)=>e.priority-t.priority);var a=(0,nv.Z)(n);null==a||a.render(e,o)},this.parse=ny,this.linkMap=this.parse(e.src),this.plugins=[new nZ]}}var nU=[{fields:[{name:"category"},{name:"name"},{name:"start_time"},{name:"end_time"},{name:"first_response_time"}]},{fields:[{name:"status"},{name:"latency"},{name:"latency_first"},{name:"tokens"}]}],nK=[{fields:[{name:"category"},{name:"start_time"},{name:"end_time"}]},{fields:[{name:"status"},{name:"latency"},{name:"name"}]}],nY=[{fields:[{name:"category"},{name:"name"},{name:"call_type"},{name:"max_length_resp"},{name:"start_time"},{name:"end_time"},{name:"first_response_time"}]},{fields:[{name:"status"},{name:"latency"},{name:"latency_first"},{name:"model"},{name:"tokens"},{name:"temperature"}]}],nG=[{fields:[{name:"category"},{name:"tokens"},{name:"start_time"},{name:"end_time"}]},{fields:[{name:"status"},{name:"latency"},{name:"name"}]}],nQ=[{fields:[{name:"category"},{name:"start_time"},{name:"end_time"}]},{fields:[{name:"status"},{name:"latency"},{name:"name"}]}],nX=[{fields:[{name:"category"},{name:"start_time"},{name:"end_time"}]},{fields:[{name:"status"},{name:"latency"},{name:"name"}]}],n$=[{fields:[{name:"category"},{name:"call_type"},{name:"start_time"},{name:"end_time"}]},{fields:[{name:"status"},{name:"latency"},{name:"name"}]}],n0=[{fields:[{name:"category"},{name:"call_type"},{name:"start_time"},{name:"end_time"}]},{fields:[{name:"status"},{name:"latency"},{name:"name"}]}],n1=[{fields:[{name:"category"},{name:"start_time"},{name:"end_time"}]},{fields:[{name:"status"},{name:"latency"},{name:"name"}]}],n2={[Y.UserInput]:nU,[Y.ThirdParty]:nU,[Y.ScheduledTasks]:nU,[Y.OpenDialog]:nU,[Y.InvokeAgent]:[{fields:[{name:"category"},{name:"call_type"},{name:"agent_type"},{name:"temperature"},{name:"start_time"},{name:"end_time"},{name:"name"}]},{fields:[{name:"status"},{name:"latency"},{name:"model"},{name:"tokens"},{name:"max_length_resp"},{name:"dialog_round"}]}],[Y.RestartAgent]:nK,[Y.SwitchAgent]:nK,[Y.LLMCall]:nY,[Y.WorkflowLLMCall]:nY,[Y.LLMBatchCall]:nY,[Y.WorkflowLLMBatchCall]:nY,[Y.Workflow]:[{fields:[{name:"category"},{name:"tokens"},{name:"start_time"},{name:"end_time"}]},{fields:[{name:"status"},{name:"latency"},{name:"name"}]}],[Y.WorkflowStart]:nG,[Y.WorkflowEnd]:nG,[Y.PluginTool]:n$,[Y.WorkflowPluginTool]:n$,[Y.PluginToolBatch]:n$,[Y.WorkflowPluginToolBatch]:n$,[Y.Knowledge]:n0,[Y.WorkflowKnowledge]:n0,[Y.Code]:nQ,[Y.WorkflowCode]:nQ,[Y.CodeBatch]:nQ,[Y.WorkflowCodeBatch]:nQ,[Y.Condition]:nX,[Y.WorkflowCondition]:nX,[Y.Unknown]:n1,[Y.Chain]:[],[Y.Card]:[{fields:[{name:"category"},{name:"call_type"},{name:"status"},{name:"card_id"}]},{fields:[{name:"start_time"},{name:"end_time"},{name:"latency"}]}],[Y.WorkflowMessage]:[{fields:[{name:"category"},{name:"call_type"},{name:"status"},{name:"name"}]},{fields:[{name:"start_time"},{name:"end_time"},{name:"latency"},{name:"stream_output"}]}],[Y.Hook]:[{fields:[{name:"category"},{name:"start_time"},{name:"end_time"},{name:"hook_type"},{name:"agent_id"},{name:"is_stream"}]},{fields:[{name:"status"},{name:"latency"},{name:"name"},{name:"hook_resp_code"},{name:"hook_uri"}]}],[Y.BWStart]:n1,[Y.BWEnd]:n1,[Y.BWBatch]:n1,[Y.BWLoop]:n1,[Y.BWCondition]:[{fields:[{name:"category"},{name:"start_time"},{name:"end_time"},{name:"branch_name"}]},{fields:[{name:"status"},{name:"latency"},{name:"name"}]}],[Y.BWLLM]:nY,[Y.BWParallel]:n1,[Y.BWScript]:n1,[Y.BWVariable]:n1,[Y.BWCallFlow]:n1,[Y.BWConnector]:[{fields:[{name:"category"},{name:"start_time"},{name:"end_time"},{name:"node_type"}]},{fields:[{name:"status"},{name:"latency"},{name:"name"}]}]},n4=e=>{var{span:t}=e;return{spanCols:(0,L.useMemo)(()=>{if(!t)return[];var e=n2[t.type];return(null==e?void 0:e.map(e=>{var{fields:o}=e;return{fields:null==o?void 0:o.map(e=>{var{name:o,options:n}=e;return(0,I._)((0,q._)({},oH[o](t)),{options:n})})}}))||[]},[t])}},n3=[{fields:[{name:"status"}]},{fields:[{name:"latency"}]},{fields:[{name:"tokens"}]}],n5=[{fields:[{name:"status"}]},{fields:[{name:"latency"}]}],n6=[{fields:[{name:"status"}]},{fields:[{name:"latency"}]}],n8={[Y.LLMBatchCall]:n3,[Y.WorkflowLLMBatchCall]:n3,[Y.PluginToolBatch]:n5,[Y.WorkflowPluginToolBatch]:n5,[Y.CodeBatch]:n6,[Y.WorkflowCodeBatch]:n6},n7=e=>{var{span:t,curBatchIndex:o}=e;return{batchSpanCols:(0,L.useMemo)(()=>{if(!t||void 0===o||!eQ(t.type))return[];var e=t.spans[o];return e?n8[e.type].map(t=>{var{fields:o}=t;return{fields:null==o?void 0:o.map(t=>{var{name:o,options:n}=t;return(0,I._)((0,q._)({},oH[o](e)),{options:n})})}}):[]},[t,o])}},n9=o("812438"),ae={};ae.styleTagTransform=C(),ae.setAttributes=w(),ae.insert=b().bind(null,"head"),ae.domAPI=y(),ae.insertStyleElement=S(),f()(n9.Z,ae);var at=n9.Z&&n9.Z.locals?n9.Z.locals:void 0,ao=e=>{var{botId:t,spaceId:o,spans:n,targetDetailSpan:a,curBatchPage:r,setCurBatchPage:l}=e,i=(0,L.useMemo)(()=>eQ(a.type),[a]),{spanCols:s}=n4({span:a}),{batchSpanCols:d}=n7({span:a,curBatchIndex:r-1}),c=(0,L.useMemo)(()=>i?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(eT,{text:J.o.t("query_select_batch")}),(0,T.jsx)(H.tl,{className:at["detail-pagination"],total:a.spans.length,pageSize:1,currentPage:r,onPageChange:l}),(0,T.jsx)(eB,{cols:d})]}):null,[i,a,r,d]),u=(0,L.useMemo)(()=>{var e,n=i?null==a?void 0:a.spans[r-1]:a,l=ew(eg(null==n?void 0:null===(e=n.extra)||void 0===e?void 0:e.input));return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(eT,{text:J.o.t("query_detail_title_input"),copyContent:"string"==typeof l?l:JSON.stringify(l)}),(0,T.jsx)("div",{className:at["detail-border-box"],children:"string"==typeof l?(0,T.jsx)("div",{className:at["detail-text"],children:l}):(0,T.jsx)("div",{className:at["react-json-container"],children:Array.isArray(l)?(0,T.jsx)(nH,{src:l,bot_id:t,space_id:o}):(0,T.jsx)(np(),(0,I._)((0,q._)({src:l},o5),{style:{fontSize:12}}))})})]})},[i,a,r]),p=(0,L.useMemo)(()=>{var e,n=i?null==a?void 0:a.spans[r-1]:a,{status:l}=n,s=ew(eg(null==n?void 0:null===(e=n.extra)||void 0===e?void 0:e.output)),d=l===K.Error;return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(eT,{text:J.o.t("query_detail_title_output"),copyContent:"string"==typeof s?s:JSON.stringify(s)}),(0,T.jsx)("div",{className:ee()(at["detail-border-box"],d&&at["detail-border-box_error"]),children:"string"==typeof s?(0,T.jsx)("div",{className:at["detail-text"],children:s}):(0,T.jsx)("div",{className:at["react-json-container"],children:Array.isArray(s)?(0,T.jsx)(nH,{src:s,bot_id:t,space_id:o}):(0,T.jsx)(np(),(0,I._)((0,q._)({src:s},o5),{style:{fontSize:12}}))})})]})},[i,a,r]),m=(0,L.useMemo)(()=>(0,T.jsx)(oj,{botId:t,spaceId:o,dataSource:{type:ta.SpanData,spanData:n},selectedSpanId:a.id,className:at["topology-flow"],renderHeader:e=>(0,T.jsxs)("div",{className:at["topology-flow-header"],children:[(0,T.jsx)("div",{className:at["topology-flow-header-title"],children:J.o.t("analytic_query_detail_topology")}),(0,T.jsx)(H.Vp,{size:"small",style:{top:1},children:o6[e]})]})}),[t,o,n,a.id]);return(0,T.jsxs)("div",{className:at["detail-container"],children:[(0,T.jsx)("div",{className:at["detail-title-container"],children:J.o.t("query_node_details")}),(0,T.jsx)(eB,{cols:s}),(0,T.jsx)(H.iz,{margin:24}),c,u,p,m]})},an=o("664319"),aa=o("322562"),ar={};ar.styleTagTransform=C(),ar.setAttributes=w(),ar.insert=b().bind(null,"head"),ar.domAPI=y(),ar.insertStyleElement=S(),f()(aa.Z,ar);var al=aa.Z&&aa.Z.locals?aa.Z.locals:void 0,ai=e=>{var{children:t}=e,[o,n]=nc();return(0,T.jsx)(Z.e,{minHeight:o4.side[o0.Chat].height.min,maxHeight:o4.side[o0.Chat].height.max,minWidth:"100%",enable:{bottom:!0},defaultSize:{height:o.side[o0.Chat],width:"100%"},onResizeStop:(e,t,o,a)=>{n(e=>{e.side[o0.Chat]+=a.height})},children:(0,T.jsx)("div",{className:ee()(al["resize-container-chat"]),children:t})})},as=e=>{var{rootSpan:t,spans:o,targetDetailSpan:n,onTargetDetailSpanChange:a}=e,{basicInfo:{spaceID:r}}=A((0,an.N)(e=>({basicInfo:e.basicInfo}))),[l,i]=(0,L.useState)(o2.RunTree);(0,L.useEffect)(()=>{a(t)},[t.id]);var s=(0,L.useCallback)(e=>{var{activeKey:t,list:o}=e;return(0,T.jsx)("div",{className:al["chat-trace-tabs-bar"],children:null==o?void 0:o.map(e=>{var{tab:o,itemKey:n}=e;return(0,T.jsx)("div",{className:ee()(al["chat-trace-tabs-bar-tab-bar"],{[al.active]:t===n}),onClick:()=>i(n),children:o},n)})})},[]),d=(0,L.useCallback)((e,t)=>{var o,n,{span:r}=null==t?void 0:null===(n=t.data)||void 0===n?void 0:null===(o=n[0])||void 0===o?void 0:o.extra;(null==r?void 0:r.id)!==void 0&&a(r)},[]);return(0,T.jsx)(ai,{children:(0,T.jsxs)(H.mQ,{className:al["chat-trace-tabs"],activeKey:l,renderTabBar:s,children:[(0,T.jsx)(H.Jm,{tab:J.o.t("query_run_tree"),itemKey:o2.RunTree,className:al["chat-trace-tab-pane_scroll"],children:(0,T.jsx)(tE,{className:al["chat-trace-tree"],dataSource:{type:ta.SpanData,spanData:o},spaceId:r,selectedSpanId:null==n?void 0:n.id,onSelect:e=>{var{node:t}=e,{span:o}=t.extra;(null==o?void 0:o.id)!==void 0&&a(o)}})}),(0,T.jsx)(H.Jm,{tab:J.o.t("query_flamethread"),className:"h-full overflow-hidden",itemKey:o2.Flamethread,children:(0,T.jsx)("div",{className:al["chat-flamethread"],children:(0,T.jsx)(tm,{dataSource:{type:ta.SpanData,spanData:o},disableViewScroll:!0,selectedSpanId:null==n?void 0:n.id,axisLabelSuffix:"ms",globalStyle:{height:"100%"},onClick:d})})})]})})},ad=o("437266"),ac={};ac.styleTagTransform=C(),ac.setAttributes=w(),ac.insert=b().bind(null,"head"),ac.domAPI=y(),ac.insertStyleElement=S(),f()(ad.Z,ac);var au=ad.Z&&ad.Z.locals?ad.Z.locals:void 0,ap=e=>{var t,{botId:o,spaceId:n,targetDetailSpan:a,orgDetailSpans:r,spanCategory:l,targetOverallSpanInfo:i,curBatchPage:s,setTargetDetailSpan:d,setCurBatchPage:c}=e,{status:u=K.Unknown,input_tokens_sum:p=0,output_tokens_sum:m=0}=null!==(t=null==i?void 0:i.span)&&void 0!==t?t:{},{rootSpan:v,spans:h}=oR({orgSpans:null!=r?r:[],traceAdvanceInfo:(0,L.useMemo)(()=>({tokens:{input:p,output:m},status:u}),[p,m,u]),spanCategoryMeta:l});return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("div",{className:au["side-debug-panel-container-scroll-box-chat"],children:r&&l&&i?(0,T.jsx)(as,{rootSpan:v,spans:h,targetDetailSpan:a,onTargetDetailSpanChange:e=>{c(1),d(e)}}):null}),(0,T.jsx)(H.iz,{className:au["side-debug-panel-divider"]}),(0,T.jsx)("div",{className:au["side-debug-panel-container-scroll-box-detail"],children:a&&s?(0,T.jsx)(ao,{botId:o,spaceId:n,spans:h,targetDetailSpan:a,curBatchPage:s,setCurBatchPage:c}):null})]})},am=e=>{var t,o,n,{onClose:a}=e,[r,l]=(0,L.useState)(!1),[i,s]=(0,L.useState)(!1),[d,c]=(0,L.useState)(!1),{basicInfo:{spaceID:u="",botId:p=""},isPanelShow:m,targetDateId:v,targetExecuteStatusId:h,targetOverallSpanInfo:f,enhancedOverallSpans:g,spanCategory:y,orgDetailSpans:_,targetDetailSpan:b,curBatchPage:x,entranceMessageLogId:w,setTargetOverallSpanInfo:k,onSelectDate:S,onSelectExecuteStatus:j,setEnhancedOverallSpans:C,setOrgDetailSpans:N,setSpanCategory:B,setTargetDetailSpan:W,setCurBatchPage:I}=A(),E=(0,L.useRef)("0"),[F,M]=nc();var z=(t=(0,D._)(function*(e,t){!t&&(s(!1),E.current="0");var o,n,{data:a}=yield G.wy.ListDebugQueries((0,q._)({spaceID:u,botID:p,status:"ALL"===h?void 0:[h],inputSearch:e,limit:30,pageToken:"0"===E.current?void 0:E.current},ef(v)),{paramsSerializer:e=>R().stringify(e,{arrayFormat:"comma"})});E.current=(null==a?void 0:a.next_page_token)&&""!==a.next_page_token?a.next_page_token:"0";var r=null!==(o=null==a?void 0:a.spans)&&void 0!==o?o:[];if(s(null!==(n=null==a?void 0:a.has_more)&&void 0!==n&&n),0===r.length)return C([]),[];var{data:{traces_advance_info:l}}=yield G.wy.BatchGetTracesAdvanceInfo({space_id:null!=u?u:"",bot_id:null!=p?p:"",traces:r.map(e=>{var{trace_id:t,start_time:o,latency:n}=e;return{trace_id:t,start_time:o,end_time:String(Number(o)+Number(n)+1e3)}})}),i=ns(r,l),d=t?[...g,...i]:i;return C(d),d}),function(e,o){return t.apply(this,arguments)});var O=(o=(0,D._)(function*(e){var{data:{spans:t}}=yield G.wy.GetTraceByLogID({space_id:u,bot_id:p,log_id:e});return N(t),t}),function(e){return o.apply(this,arguments)});var U=(n=(0,D._)(function*(){var{data:e}=yield G.wy.GetTracesMetaInfo();B(null==e?void 0:e.span_category)}),function(){return n.apply(this,arguments)}),K=e=>{var t=ni(e,"log_id"),o=ni(e,"simple_input");k({value:t,input:o,output:ni(e,"output"),span:e})};return(0,P.Z)((0,D._)(function*(){if(f){var{span:e}=f,t=ni(e,"log_id");l(!0);try{yield O(t)}finally{l(!1)}}}),[f]),(0,P.Z)((0,D._)(function*(){if(m){if(c(!0),S("ALL"),j("ALL"),!y&&(yield U()),w)try{var e=(yield O(w)).find(e=>e.type===Y.UserInput);if(e){var t,{trace_id:o,start_time:n,latency:a}=e,{data:{traces_advance_info:r}}=yield G.wy.BatchGetTracesAdvanceInfo({space_id:u,bot_id:p,traces:[{trace_id:o,start_time:n,end_time:String(Number(n)+Number(a)+1e3)}]}),l=null===(t=ns([e],r))||void 0===t?void 0:t[0];K(l)}}finally{c(!1)}else try{var i=yield z(),s=null==i?void 0:i[0];s&&K(s)}finally{c(!1)}}}),[m,w]),(0,T.jsx)(Z.e,{minWidth:o4.side[o0.Overall].width.min,maxWidth:o4.side[o0.Overall].width.max,enable:{left:!0},defaultSize:{height:"100%",width:F.side[o0.Overall]},onResizeStop:(e,t,o,n)=>{M(e=>{e.side[o0.Overall]+=n.width})},children:(0,T.jsxs)("div",{className:au["side-debug-panel"],children:[(0,T.jsx)(nl,{onClose:a}),d?(0,T.jsx)("div",{className:au["side-debug-panel-no-data"],children:(0,T.jsx)(H.yC,{})}):(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)("div",{className:au["side-debug-panel-container"],children:[(0,T.jsx)("div",{className:au["side-debug-panel-container-sheet"],children:(0,T.jsx)(nt,{targetDateId:v,targetExecuteStatusId:h,targetOverallSpanInfo:f,enhancedOverallSpans:g,showLoadMore:i,onSelectDate:S,onSelectExecuteStatus:j,onSelectQuery:k,onFetchQuery:z})}),f?(0,T.jsxs)("div",{className:au["side-debug-panel-container-scroll-box"],children:[(0,T.jsx)(Z.e,{minHeight:o4.side[o0.Summary].height.min,maxHeight:o4.side[o0.Summary].height.max,minWidth:"100%",enable:{bottom:!0},defaultSize:{height:F.side[o0.Summary],width:"100%"},onResizeStop:(e,t,o,n)=>{M(e=>{e.side[o0.Summary]+=n.height})},children:(0,T.jsx)("div",{className:au["side-debug-panel-container-scroll-box-summary"],children:f?(0,T.jsx)(oX,{targetOverallSpanInfo:f}):null})}),(0,T.jsx)(H.iz,{className:au["side-debug-panel-divider"]}),r?(0,T.jsx)("div",{className:au["side-debug-panel-container-scroll-box-sub-loading"],children:(0,T.jsx)(H.yC,{})}):(0,T.jsx)(ap,{botId:p,spaceId:u,targetDetailSpan:b,orgDetailSpans:_,spanCategory:y,targetOverallSpanInfo:f,curBatchPage:x,setTargetDetailSpan:W,setCurBatchPage:I})]}):(0,T.jsx)("div",{className:au["side-debug-panel-no-data"],children:(0,T.jsx)(H.HY,{image:(0,T.jsx)(V.xs,{}),description:J.o.t("query_data_empty")})})]})})]})})},av=e=>{var{botId:t,spaceID:o,userID:n,placement:a,currentQueryLogId:r,isShow:l,onClose:i}=e,{setBasicInfo:s,setEntranceMessageLogId:d,setIsPanelShow:c,resetStore:u}=A();return(0,L.useEffect)(()=>{s({botId:t,spaceID:o,userID:n,placement:a}),d(r),c(l)},[t,o,n,a,l,r]),(0,L.useEffect)(()=>{(0,W.Gg)(W.Kg.debug_page_show,{bot_id:t,workspace_id:o})},[]),(0,L.useEffect)(()=>()=>{u()},[]),(0,T.jsx)(am,{onClose:()=>{i()}})}},453360:function(e,t,o){var n=o(125161),a=o.n(n),r=o(404442),l=o.n(r)()(a());l.push([e.id,".batch-edge-info-container-kSwVsF{color:rgba(29,28,35,.8);background:#f7f7fa;border-radius:4px;justify-content:center;align-items:center;padding:2px 4px;font-size:14px;display:flex}.batch-edge-info-container_error-gxQ3vT{color:#ff441e;background:#fff3ee;font-weight:600}",""]),l.locals={"batch-edge-info-container":"batch-edge-info-container-kSwVsF",batchEdgeInfoContainer:"batch-edge-info-container-kSwVsF","batch-edge-info-container_error":"batch-edge-info-container_error-gxQ3vT",batchEdgeInfoContainerError:"batch-edge-info-container_error-gxQ3vT"},t.Z=l},234383:function(e,t,o){var n=o(125161),a=o.n(n),r=o(404442),l=o.n(r)()(a());l.push([e.id,".common-node-JvJ2AT{width:auto;height:24px}.common-node-JvJ2AT .common-node-container-w3Kpdm{color:rgba(29,28,35,.8);border-radius:4px;align-items:center;gap:8px;width:100%;height:24px;padding:2px 4px;font-size:14px;display:flex}.common-node-JvJ2AT .common-node-container-w3Kpdm .common-node-container-text-_13tv6{max-width:200px;font-size:inherit;font-weight:inherit;color:inherit}.common-node-JvJ2AT .common-node-container_static-trScJy{background:0 0}.common-node-JvJ2AT .common-node-container_dynamic-BZYvoL{background:#edf9ee}.common-node-JvJ2AT .common-node-container_error-X9ymdf{color:#ff441e;background:#fff3ee;font-weight:600}.common-node-JvJ2AT .react-flow__handle{visibility:hidden}",""]),l.locals={"common-node":"common-node-JvJ2AT",commonNode:"common-node-JvJ2AT","common-node-container":"common-node-container-w3Kpdm",commonNodeContainer:"common-node-container-w3Kpdm","common-node-container-text":"common-node-container-text-_13tv6",commonNodeContainerText:"common-node-container-text-_13tv6","common-node-container_static":"common-node-container_static-trScJy",commonNodeContainerStatic:"common-node-container_static-trScJy","common-node-container_dynamic":"common-node-container_dynamic-BZYvoL",commonNodeContainerDynamic:"common-node-container_dynamic-BZYvoL","common-node-container_error":"common-node-container_error-X9ymdf",commonNodeContainerError:"common-node-container_error-X9ymdf"},t.Z=l},595284:function(e,t,o){var n=o(125161),a=o.n(n),r=o(404442),l=o.n(r)()(a());l.push([e.id,".topology-flow-OfzKmc .topology-flow-loading-MVvJEQ{justify-content:center;align-items:center;width:100%;height:100%;display:flex}.topology-flow-OfzKmc .topology-flow-loading-MVvJEQ .semi-spin-children{background:0 0!important}.topology-flow-OfzKmc .topology-flow-container-vPFmvR{flex-direction:column;width:100%;height:100%;display:flex}.topology-flow-OfzKmc .topology-flow-container-vPFmvR .topology-flow-container-flow-fDMbdq{flex:1}.topology-flow_default-Kv2v6O{width:100%;height:300px;padding:24px}",""]),l.locals={"topology-flow":"topology-flow-OfzKmc",topologyFlow:"topology-flow-OfzKmc","topology-flow-loading":"topology-flow-loading-MVvJEQ",topologyFlowLoading:"topology-flow-loading-MVvJEQ","topology-flow-container":"topology-flow-container-vPFmvR",topologyFlowContainer:"topology-flow-container-vPFmvR","topology-flow-container-flow":"topology-flow-container-flow-fDMbdq",topologyFlowContainerFlow:"topology-flow-container-flow-fDMbdq","topology-flow_default":"topology-flow_default-Kv2v6O",topologyFlowDefault:"topology-flow_default-Kv2v6O"},t.Z=l},473081:function(e,t,o){var n=o(125161),a=o.n(n),r=o(404442),l=o.n(r)()(a());l.push([e.id,".trace-tree-daHv3i .trace-tree-node-NwtnZm{cursor:pointer;align-items:stretch;display:flex}.trace-tree-daHv3i .trace-tree-node-NwtnZm .title-cR4Se1{color:#1d1c23;white-space:nowrap;border-radius:2px;align-items:center;margin-left:4px;padding:0 4px;font-size:12px;display:flex}.trace-tree-daHv3i .trace-tree-node-NwtnZm.selected .title-cR4Se1{background:rgba(46,46,56,.12)}.trace-tree-daHv3i .trace-tree-node-NwtnZm.hover .title-cR4Se1{background:rgba(46,46,56,.08)}.trace-tree-daHv3i .trace-tree-node-NwtnZm.error .title-cR4Se1{color:#ff441e}.trace-tree-daHv3i .trace-tree-node-NwtnZm.error.selected .title-cR4Se1{background:#ffe0d2}.trace-tree-daHv3i .trace-tree-node-NwtnZm.error.hover .title-cR4Se1{background:#fff3ee}.trace-tree-daHv3i .trace-tree-node-NwtnZm.disabled{cursor:default}",""]),l.locals={"trace-tree":"trace-tree-daHv3i",traceTree:"trace-tree-daHv3i","trace-tree-node":"trace-tree-node-NwtnZm",traceTreeNode:"trace-tree-node-NwtnZm",title:"title-cR4Se1"},t.Z=l},597251:function(e,t,o){var n=o(125161),a=o.n(n),r=o(404442),l=o.n(r)()(a());l.push([e.id,".tree-AQppr5{box-sizing:border-box;display:flex;overflow:auto}.tree-AQppr5 .tree-container-bZJndT{width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;position:relative}.tree-AQppr5 .tree-container-bZJndT .tree-path-list-tozB7e{width:100%;height:100%;position:absolute}.tree-AQppr5 .tree-container-bZJndT .tree-node-list-FcrMgS{position:relative}.tree-AQppr5 .tree-container-bZJndT .tree-node-list-FcrMgS .tree-node-_SulNE{align-items:flex-start;display:flex}.tree-AQppr5 .tree-container-bZJndT .tree-node-list-FcrMgS .tree-node-_SulNE .tree-node-box-TWuJBK{align-items:stretch;display:flex}",""]),l.locals={tree:"tree-AQppr5","tree-container":"tree-container-bZJndT",treeContainer:"tree-container-bZJndT","tree-path-list":"tree-path-list-tozB7e",treePathList:"tree-path-list-tozB7e","tree-node-list":"tree-node-list-FcrMgS",treeNodeList:"tree-node-list-FcrMgS","tree-node":"tree-node-_SulNE",treeNode:"tree-node-_SulNE","tree-node-box":"tree-node-box-TWuJBK",treeNodeBox:"tree-node-box-TWuJBK"},t.Z=l},322562:function(e,t,o){var n=o(125161),a=o.n(n),r=o(404442),l=o.n(r)()(a());l.push([e.id,".chat-trace-tabs-swZs04{flex-direction:column;height:100%;display:flex;overflow:hidden}.chat-trace-tabs-swZs04 .semi-tabs-content{flex:1;padding:0;overflow:hidden}.chat-trace-tabs-swZs04 .semi-tabs-pane-motion-overlay{height:100%}.chat-trace-tabs-bar-lBPXWt{align-items:center;gap:12px;padding:24px 24px 10px;display:flex}.chat-trace-tabs-bar-lBPXWt .chat-trace-tabs-bar-tab-bar-tTm7aE{cursor:pointer;color:var(--Light-usage-text---color-text-1,rgba(29,28,35,.8));padding:0 4px;font-size:16px;font-weight:600;line-height:22px}.chat-trace-tabs-bar-lBPXWt .chat-trace-tabs-bar-tab-bar-tTm7aE.active-phOvy2{color:var(--Light-color-brand---brand-5,#4d53e8)}.chat-trace-tab-pane_scroll-suHQVz{height:100%;overflow:auto}.chat-trace-tab-pane_scroll-suHQVz::-webkit-scrollbar-thumb{background-color:rgba(125,125,125,.3);background-clip:padding-box;border:2px solid transparent;border-radius:9999px;transition:background .2s cubic-bezier(.34,.69,.1,1)}.chat-trace-tab-pane_scroll-suHQVz::-webkit-scrollbar{background-color:transparent;width:11px;height:11px}.chat-trace-tab-pane_scroll-suHQVz::-webkit-scrollbar-thumb:hover{background-color:rgba(125,125,125,.6)!important}.chat-trace-tab-pane_scroll-suHQVz::-webkit-scrollbar:hover{width:11px;height:11px}.chat-trace-tab-pane_scroll-suHQVz::-webkit-scrollbar-button{display:none}.chat-trace-tab-pane_scroll-suHQVz::-webkit-scrollbar-track{background-color:transparent}.chat-trace-tab-pane_scroll-suHQVz::-webkit-scrollbar-corner{background-color:transparent}.chat-trace-tree-czqlxr{height:100%;padding:8px 24px 20px;overflow:visible}.chat-flamethread-jNBJKZ{height:100%;padding:0 10px 20px 24px;overflow:hidden}.resize-container-chat-KBeopq{width:100%;height:100%}",""]),l.locals={"chat-trace-tabs":"chat-trace-tabs-swZs04",chatTraceTabs:"chat-trace-tabs-swZs04","chat-trace-tabs-bar":"chat-trace-tabs-bar-lBPXWt",chatTraceTabsBar:"chat-trace-tabs-bar-lBPXWt","chat-trace-tabs-bar-tab-bar":"chat-trace-tabs-bar-tab-bar-tTm7aE",chatTraceTabsBarTabBar:"chat-trace-tabs-bar-tab-bar-tTm7aE",active:"active-phOvy2","chat-trace-tab-pane_scroll":"chat-trace-tab-pane_scroll-suHQVz",chatTraceTabPaneScroll:"chat-trace-tab-pane_scroll-suHQVz","chat-trace-tree":"chat-trace-tree-czqlxr",chatTraceTree:"chat-trace-tree-czqlxr","chat-flamethread":"chat-flamethread-jNBJKZ",chatFlamethread:"chat-flamethread-jNBJKZ","resize-container-chat":"resize-container-chat-KBeopq",resizeContainerChat:"resize-container-chat-KBeopq"},t.Z=l},113418:function(e,t,o){var n=o(125161),a=o.n(n),r=o(404442),l=o.n(r)()(a());l.push([e.id,".description-container-L7aSjR{justify-content:space-between;gap:24px;display:flex}.description-container-L7aSjR .description-container-box-eJOF2f{flex-direction:column;flex:1;width:0;display:flex}.description-container-L7aSjR .description-container-box-eJOF2f .description-container-item-mgjIFy{text-align:left;align-items:center;width:100%;font-size:12px;line-height:22px;display:flex}.description-container-L7aSjR .description-container-box-eJOF2f .description-container-item-mgjIFy .description-container-item-key-lDwk1N{color:var(--Light-usage-text---color-text-3,rgba(29,28,35,.35));flex-shrink:0}.description-container-L7aSjR .description-container-box-eJOF2f .description-container-item-mgjIFy .description-container-item-value-wTU00z{width:0;color:var(--Light-usage-text---color-text-1,rgba(29,28,35,.8));flex:1;display:flex}.node-detail-title-LGz7Uq{justify-content:space-between;align-items:center;height:20px;margin:20px 0 17px;display:flex}.node-detail-title-LGz7Uq .node-detail-title-left-ZuAIlN{color:var(--Light-color-black---black,#000);font-size:14px;font-weight:600}.node-detail-title-LGz7Uq .node-detail-title-right-NveqdG{color:var(--Light-usage-text---color-text-2,rgba(29,28,35,.6));font-size:12px}.common-container-HPOyN2{align-items:center;width:100%;display:flex}.common-container-HPOyN2 .semi-typography-action-copied{vertical-align:middle}.common-container-HPOyN2 svg{transform:translateY(-1px)}.common-text-content-LvuNov{max-width:400px}.copy-icon-PgLk1T{color:#6b6b75}.description-container-with-full-line-R8jFWz .description-container-with-full-line-item-UTOhoN{text-align:left;align-items:center;font-size:12px;line-height:22px;display:flex}.description-container-with-full-line-R8jFWz .description-container-with-full-line-item-UTOhoN:nth-child(2){min-width:182px}.description-container-with-full-line-R8jFWz .description-container-with-full-line-item-UTOhoN .description-container-with-full-line-item-key-xIPtXp{color:var(--Light-usage-text---color-text-3,rgba(29,28,35,.35));flex-shrink:0}.description-container-with-full-line-R8jFWz .description-container-with-full-line-item-UTOhoN .description-container-with-full-line-item-value-GAmA_j{width:0;color:var(--Light-usage-text---color-text-1,rgba(29,28,35,.8));flex:1;display:flex}",""]),l.locals={"description-container":"description-container-L7aSjR",descriptionContainer:"description-container-L7aSjR","description-container-box":"description-container-box-eJOF2f",descriptionContainerBox:"description-container-box-eJOF2f","description-container-item":"description-container-item-mgjIFy",descriptionContainerItem:"description-container-item-mgjIFy","description-container-item-key":"description-container-item-key-lDwk1N",descriptionContainerItemKey:"description-container-item-key-lDwk1N","description-container-item-value":"description-container-item-value-wTU00z",descriptionContainerItemValue:"description-container-item-value-wTU00z","node-detail-title":"node-detail-title-LGz7Uq",nodeDetailTitle:"node-detail-title-LGz7Uq","node-detail-title-left":"node-detail-title-left-ZuAIlN",nodeDetailTitleLeft:"node-detail-title-left-ZuAIlN","node-detail-title-right":"node-detail-title-right-NveqdG",nodeDetailTitleRight:"node-detail-title-right-NveqdG","common-container":"common-container-HPOyN2",commonContainer:"common-container-HPOyN2","common-text-content":"common-text-content-LvuNov",commonTextContent:"common-text-content-LvuNov","copy-icon":"copy-icon-PgLk1T",copyIcon:"copy-icon-PgLk1T","description-container-with-full-line":"description-container-with-full-line-R8jFWz",descriptionContainerWithFullLine:"description-container-with-full-line-R8jFWz","description-container-with-full-line-item":"description-container-with-full-line-item-UTOhoN",descriptionContainerWithFullLineItem:"description-container-with-full-line-item-UTOhoN","description-container-with-full-line-item-key":"description-container-with-full-line-item-key-xIPtXp",descriptionContainerWithFullLineItemKey:"description-container-with-full-line-item-key-xIPtXp","description-container-with-full-line-item-value":"description-container-with-full-line-item-value-GAmA_j",descriptionContainerWithFullLineItemValue:"description-container-with-full-line-item-value-GAmA_j"},t.Z=l},812438:function(e,t,o){var n=o(125161),a=o.n(n),r=o(404442),l=o.n(r)()(a());l.push([e.id,".detail-container-_Nq0E5 .detail-title-container-tYmzwm{color:#000;padding:24px 0 10px;font-size:14px;font-weight:600}.detail-container-_Nq0E5 .detail-border-box-jasOP8{border:1px solid rgba(29,28,35,.08);border-radius:8px;max-height:340px;padding:8px 4px;font-family:Menlo;overflow:auto}.detail-container-_Nq0E5 .detail-border-box-jasOP8::-webkit-scrollbar-thumb{background-color:rgba(125,125,125,.3);background-clip:padding-box;border:2px solid transparent;border-radius:9999px;transition:background .2s cubic-bezier(.34,.69,.1,1)}.detail-container-_Nq0E5 .detail-border-box-jasOP8::-webkit-scrollbar{background-color:transparent;width:11px;height:11px}.detail-container-_Nq0E5 .detail-border-box-jasOP8::-webkit-scrollbar-thumb:hover{background-color:rgba(125,125,125,.6)!important}.detail-container-_Nq0E5 .detail-border-box-jasOP8::-webkit-scrollbar:hover{width:11px;height:11px}.detail-container-_Nq0E5 .detail-border-box-jasOP8::-webkit-scrollbar-button{display:none}.detail-container-_Nq0E5 .detail-border-box-jasOP8::-webkit-scrollbar-track{background-color:transparent}.detail-container-_Nq0E5 .detail-border-box-jasOP8::-webkit-scrollbar-corner{background-color:transparent}.detail-container-_Nq0E5 .detail-border-box_error-L3lAzN{border:1px solid #ff441e}.detail-container-_Nq0E5 .detail-text-SKWTy5{color:#1d1c23;word-break:break-word;white-space:pre-wrap;font-size:12px}.detail-container-_Nq0E5 .detail-pagination-G1VFqv{margin-bottom:10px}.detail-container-_Nq0E5 .detail-pagination-G1VFqv .semi-page-prev{display:none}.detail-container-_Nq0E5 .detail-pagination-G1VFqv .semi-page-next{display:none}.detail-container-_Nq0E5 .detail-pagination-G1VFqv .semi-page-item{background:0 0;border:1px solid rgba(29,28,35,.08);border-radius:8px}.detail-container-_Nq0E5 .detail-pagination-G1VFqv .semi-page-item.semi-page-item-active{color:#4d53e8;background:#f1f2fd;border:none;border-radius:8px;font-weight:600}.detail-container-_Nq0E5 .detail-pagination-G1VFqv .semi-page-item:hover{color:#4d53e8;background:#f1f2fd;border:none;border-radius:8px;font-weight:600}.detail-container-_Nq0E5 .react-json-container-khs7Rn .string-value{word-break:break-word}.detail-container-_Nq0E5 .topology-flow-xf0iG8{width:100%;height:300px;padding:24px 0}.detail-container-_Nq0E5 .topology-flow-xf0iG8 .topology-flow-header-Qe9UqK{align-items:center;width:100%;height:20px;margin-bottom:16px;display:flex}.detail-container-_Nq0E5 .topology-flow-xf0iG8 .topology-flow-header-Qe9UqK .topology-flow-header-title-Ra4yqE{color:#1d1c23;margin-right:4px;font-size:14px;font-weight:600}",""]),l.locals={"detail-container":"detail-container-_Nq0E5",detailContainer:"detail-container-_Nq0E5","detail-title-container":"detail-title-container-tYmzwm",detailTitleContainer:"detail-title-container-tYmzwm","detail-border-box":"detail-border-box-jasOP8",detailBorderBox:"detail-border-box-jasOP8","detail-border-box_error":"detail-border-box_error-L3lAzN",detailBorderBoxError:"detail-border-box_error-L3lAzN","detail-text":"detail-text-SKWTy5",detailText:"detail-text-SKWTy5","detail-pagination":"detail-pagination-G1VFqv",detailPagination:"detail-pagination-G1VFqv","react-json-container":"react-json-container-khs7Rn",reactJsonContainer:"react-json-container-khs7Rn","topology-flow":"topology-flow-xf0iG8",topologyFlow:"topology-flow-xf0iG8","topology-flow-header":"topology-flow-header-Qe9UqK",topologyFlowHeader:"topology-flow-header-Qe9UqK","topology-flow-header-title":"topology-flow-header-title-Ra4yqE",topologyFlowHeaderTitle:"topology-flow-header-title-Ra4yqE"},t.Z=l},312686:function(e,t,o){var n=o(125161),a=o.n(n),r=o(404442),l=o.n(r)()(a());l.push([e.id,".panel-header-BwStWY{background-color:var(--light-color-grey-grey-0,#f7f7fa);border-bottom:1px solid var(--light-usage-border-color-border,rgba(29,28,35,.08));align-items:center;height:56px;padding:16px 24px;display:flex}.panel-header-BwStWY .panel-header-title-RfAGRy{color:var(--light-usage-text-color-text-0,#1c1d23);flex-shrink:0;margin-right:24px;font-size:18px;font-weight:600;line-height:24px}.panel-header-BwStWY .panel-header-option-yJgLbK{flex-wrap:nowrap;flex:1;justify-content:flex-end;align-items:center;width:0;display:flex}.panel-header-BwStWY .panel-header-option-yJgLbK .panel-header-option-icon-VoLV9y{color:var(--light-usage-text-color-text-2,rgba(29,28,35,.6))}",""]),l.locals={"panel-header":"panel-header-BwStWY",panelHeader:"panel-header-BwStWY","panel-header-title":"panel-header-title-RfAGRy",panelHeaderTitle:"panel-header-title-RfAGRy","panel-header-option":"panel-header-option-yJgLbK",panelHeaderOption:"panel-header-option-yJgLbK","panel-header-option-icon":"panel-header-option-icon-VoLV9y",panelHeaderOptionIcon:"panel-header-option-icon-VoLV9y"},t.Z=l},838207:function(e,t,o){var n=o(125161),a=o.n(n),r=o(404442),l=o.n(r)()(a());l.push([e.id,".query-filter-dnlgHp{width:100%}.query-filter-dnlgHp .query-filter-options-IZbi70{border:1px solid rgba(29,28,35,.08);border-right:none;border-radius:8px 0 0 8px;align-items:center;gap:4px;height:32px;padding-left:8px;padding-right:6px;display:flex}.query-filter-dnlgHp .query-filter-options-IZbi70 .query-filter-options-button_active-LTD5at{background:rgba(46,46,56,.12)}.query-filter-dnlgHp .query-filter-select-W8tV9B{flex:1;width:0}.query-filter-dnlgHp .query-filter-select-W8tV9B .query-filter-select-search-icon-Pm5WNg{padding:0 8px}.query-filter-dnlgHp .query-filter-select-W8tV9B .query-filter-select-search-icon-Pm5WNg svg{width:16px;height:16px}.query-filter-dnlgHp .query-filter-select-W8tV9B .query-filter-select-tag-eKWzqt{text-overflow:ellipsis;white-space:nowrap;border-radius:6px;max-width:100%;overflow:hidden}.query-filter-select-dropdown-nILS2m .semi-select-loading-wrapper{justify-content:center;align-items:center;height:50px;display:flex}.query-filter-select-dropdown-nILS2m .semi-select-option-selected .semi-select-option-icon{color:#4d53e8}.query-filter-select-dropdown-nILS2m .query-filter-select-dropdown-option-hab2ok .query-filter-select-dropdown-option-icon-nukM4R{align-items:center;margin-right:8px;display:flex}.query-filter-select-dropdown-nILS2m .query-filter-select-dropdown-option-hab2ok .query-filter-select-dropdown-option-icon-nukM4R svg{width:16px;height:16px}.query-filter-select-dropdown-nILS2m .query-filter-select-dropdown-option-hab2ok .query-filter-select-dropdown-option-text-aavkPq{text-overflow:ellipsis;white-space:nowrap;flex:1;overflow:hidden}.dropdown-content-gk_5DB .semi-dropdown-item > .semi-icon{color:#4d53e8}.custom-tooltip-JSiM4g{padding-right:0}.custom-tooltip-JSiM4g .semi-tooltip-content{max-height:500px;padding-right:12px;overflow-y:auto}.custom-tooltip-JSiM4g .semi-tooltip-content::-webkit-scrollbar-thumb{background-color:rgba(125,125,125,.3);background-clip:padding-box;border:2px solid transparent;border-radius:9999px;transition:background .2s cubic-bezier(.34,.69,.1,1)}.custom-tooltip-JSiM4g .semi-tooltip-content::-webkit-scrollbar{background-color:transparent;width:11px;height:11px}.custom-tooltip-JSiM4g .semi-tooltip-content::-webkit-scrollbar-thumb:hover{background-color:rgba(125,125,125,.6)!important}.custom-tooltip-JSiM4g .semi-tooltip-content::-webkit-scrollbar:hover{width:11px;height:11px}.custom-tooltip-JSiM4g .semi-tooltip-content::-webkit-scrollbar-button{display:none}.custom-tooltip-JSiM4g .semi-tooltip-content::-webkit-scrollbar-track{background-color:transparent}.custom-tooltip-JSiM4g .semi-tooltip-content::-webkit-scrollbar-corner{background-color:transparent}",""]),l.locals={"query-filter":"query-filter-dnlgHp",queryFilter:"query-filter-dnlgHp","query-filter-options":"query-filter-options-IZbi70",queryFilterOptions:"query-filter-options-IZbi70","query-filter-options-button_active":"query-filter-options-button_active-LTD5at",queryFilterOptionsButtonActive:"query-filter-options-button_active-LTD5at","query-filter-select":"query-filter-select-W8tV9B",queryFilterSelect:"query-filter-select-W8tV9B","query-filter-select-search-icon":"query-filter-select-search-icon-Pm5WNg",queryFilterSelectSearchIcon:"query-filter-select-search-icon-Pm5WNg","query-filter-select-tag":"query-filter-select-tag-eKWzqt",queryFilterSelectTag:"query-filter-select-tag-eKWzqt","query-filter-select-dropdown":"query-filter-select-dropdown-nILS2m",queryFilterSelectDropdown:"query-filter-select-dropdown-nILS2m","query-filter-select-dropdown-option":"query-filter-select-dropdown-option-hab2ok",queryFilterSelectDropdownOption:"query-filter-select-dropdown-option-hab2ok","query-filter-select-dropdown-option-icon":"query-filter-select-dropdown-option-icon-nukM4R",queryFilterSelectDropdownOptionIcon:"query-filter-select-dropdown-option-icon-nukM4R","query-filter-select-dropdown-option-text":"query-filter-select-dropdown-option-text-aavkPq",queryFilterSelectDropdownOptionText:"query-filter-select-dropdown-option-text-aavkPq","dropdown-content":"dropdown-content-gk_5DB",dropdownContent:"dropdown-content-gk_5DB","custom-tooltip":"custom-tooltip-JSiM4g",customTooltip:"custom-tooltip-JSiM4g"},t.Z=l},437266:function(e,t,o){var n=o(125161),a=o.n(n),r=o(404442),l=o.n(r)()(a());l.push([e.id,".side-debug-panel-TR452R{background-color:#fff;flex-direction:column;width:100%;height:100%;display:flex;position:relative;box-shadow:0 6px 8px rgba(29,28,35,.06),0 0 2px rgba(29,28,35,.18)}.side-debug-panel-TR452R .side-debug-panel-divider-iVuJ4r{border-bottom:1px solid #efeff0;margin:0;position:relative}.side-debug-panel-TR452R .side-debug-panel-no-data-hZjF0U{flex:1;justify-content:center;align-items:center;height:0;display:flex}.side-debug-panel-TR452R .side-debug-panel-no-data-hZjF0U .semi-empty-description{color:var(--Light-usage-text---color-text-0,#1d1c23);font-size:16px;font-weight:600}.side-debug-panel-TR452R .side-debug-panel-container-J84KIf{flex-direction:column;flex:1;width:100%;height:0;display:flex}.side-debug-panel-TR452R .side-debug-panel-container-J84KIf .side-debug-panel-container-sheet-XXdybm{width:100%;padding:24px 24px 4px}.side-debug-panel-TR452R .side-debug-panel-container-J84KIf .side-debug-panel-container-scroll-box-t3inaC{flex-direction:column;flex:1;height:0;display:flex;overflow-y:auto}.side-debug-panel-TR452R .side-debug-panel-container-J84KIf .side-debug-panel-container-scroll-box-t3inaC::-webkit-scrollbar-thumb{background-color:rgba(125,125,125,.3);background-clip:padding-box;border:2px solid transparent;border-radius:9999px;transition:background .2s cubic-bezier(.34,.69,.1,1)}.side-debug-panel-TR452R .side-debug-panel-container-J84KIf .side-debug-panel-container-scroll-box-t3inaC::-webkit-scrollbar{background-color:transparent;width:11px;height:11px}.side-debug-panel-TR452R .side-debug-panel-container-J84KIf .side-debug-panel-container-scroll-box-t3inaC::-webkit-scrollbar-thumb:hover{background-color:rgba(125,125,125,.6)!important}.side-debug-panel-TR452R .side-debug-panel-container-J84KIf .side-debug-panel-container-scroll-box-t3inaC::-webkit-scrollbar:hover{width:11px;height:11px}.side-debug-panel-TR452R .side-debug-panel-container-J84KIf .side-debug-panel-container-scroll-box-t3inaC::-webkit-scrollbar-button{display:none}.side-debug-panel-TR452R .side-debug-panel-container-J84KIf .side-debug-panel-container-scroll-box-t3inaC::-webkit-scrollbar-track{background-color:transparent}.side-debug-panel-TR452R .side-debug-panel-container-J84KIf .side-debug-panel-container-scroll-box-t3inaC::-webkit-scrollbar-corner{background-color:transparent}.side-debug-panel-TR452R .side-debug-panel-container-J84KIf .side-debug-panel-container-scroll-box-t3inaC .side-debug-panel-container-scroll-box-summary-W9A575{background-color:#fff;width:100%;min-height:145px;padding:16px 24px 24px;position:relative}.side-debug-panel-TR452R .side-debug-panel-container-J84KIf .side-debug-panel-container-scroll-box-t3inaC .side-debug-panel-container-scroll-box-sub-loading-pSGgj0{flex:1;justify-content:center;align-items:center;height:0;display:flex}.side-debug-panel-TR452R .side-debug-panel-container-J84KIf .side-debug-panel-container-scroll-box-t3inaC .side-debug-panel-container-scroll-box-chat-YnYtyv{background-color:#fff;width:100%;position:relative}.side-debug-panel-TR452R .side-debug-panel-container-J84KIf .side-debug-panel-container-scroll-box-t3inaC .side-debug-panel-container-scroll-box-detail-M2i2hL{background-color:#fff;width:100%;padding:0 24px 20px;position:relative}",""]),l.locals={"side-debug-panel":"side-debug-panel-TR452R",sideDebugPanel:"side-debug-panel-TR452R","side-debug-panel-divider":"side-debug-panel-divider-iVuJ4r",sideDebugPanelDivider:"side-debug-panel-divider-iVuJ4r","side-debug-panel-no-data":"side-debug-panel-no-data-hZjF0U",sideDebugPanelNoData:"side-debug-panel-no-data-hZjF0U","side-debug-panel-container":"side-debug-panel-container-J84KIf",sideDebugPanelContainer:"side-debug-panel-container-J84KIf","side-debug-panel-container-sheet":"side-debug-panel-container-sheet-XXdybm",sideDebugPanelContainerSheet:"side-debug-panel-container-sheet-XXdybm","side-debug-panel-container-scroll-box":"side-debug-panel-container-scroll-box-t3inaC",sideDebugPanelContainerScrollBox:"side-debug-panel-container-scroll-box-t3inaC","side-debug-panel-container-scroll-box-summary":"side-debug-panel-container-scroll-box-summary-W9A575",sideDebugPanelContainerScrollBoxSummary:"side-debug-panel-container-scroll-box-summary-W9A575","side-debug-panel-container-scroll-box-sub-loading":"side-debug-panel-container-scroll-box-sub-loading-pSGgj0",sideDebugPanelContainerScrollBoxSubLoading:"side-debug-panel-container-scroll-box-sub-loading-pSGgj0","side-debug-panel-container-scroll-box-chat":"side-debug-panel-container-scroll-box-chat-YnYtyv",sideDebugPanelContainerScrollBoxChat:"side-debug-panel-container-scroll-box-chat-YnYtyv","side-debug-panel-container-scroll-box-detail":"side-debug-panel-container-scroll-box-detail-M2i2hL",sideDebugPanelContainerScrollBoxDetail:"side-debug-panel-container-scroll-box-detail-M2i2hL"},t.Z=l},882430:function(e,t,o){var n=o(125161),a=o.n(n),r=o(404442),l=o.n(r)()(a());l.push([e.id,".summary-title-container-dg31rL{align-items:center;margin-bottom:16px;display:flex}.summary-title-container-dg31rL .summary-title-container-data-TGiCJX{color:var(--Light-usage-text---color-text-0,#1d1c23);margin-right:8px;font-size:14px;font-weight:600}.summary-title-container-dg31rL .summary-title-container-tag-ni1fY8{white-space:nowrap;border-radius:4px;align-items:center;gap:2px;height:16px;padding:0 6px;font-size:12px;display:inline-flex}.summary-title-container-dg31rL .summary-title-container-tag-ni1fY8 svg{width:12px;height:12px}.summary-title-container-dg31rL .query-execute-status_success-KUjRSt{color:var(--Light-usage-success---color-success,#3ec254);background:var(--Light-color-green---green-1,#d2f3d5)}.summary-title-container-dg31rL .query-execute-status_broken-WcE96h{color:var(--Light-color-orange---orange-5,#ff9600);background:var(--Light-color-orange---orange-1,#fff1cc)}.summary-title-container-dg31rL .query-execute-status_error-LKJ4xR{color:#ff441e;background:var(--Light-color-red---red-1,#ffe0d2)}.summary-title-container-dg31rL .feedback-button-LiYfbZ{cursor:pointer}",""]),l.locals={"summary-title-container":"summary-title-container-dg31rL",summaryTitleContainer:"summary-title-container-dg31rL","summary-title-container-data":"summary-title-container-data-TGiCJX",summaryTitleContainerData:"summary-title-container-data-TGiCJX","summary-title-container-tag":"summary-title-container-tag-ni1fY8",summaryTitleContainerTag:"summary-title-container-tag-ni1fY8","query-execute-status_success":"query-execute-status_success-KUjRSt",queryExecuteStatusSuccess:"query-execute-status_success-KUjRSt","query-execute-status_broken":"query-execute-status_broken-WcE96h",queryExecuteStatusBroken:"query-execute-status_broken-WcE96h","query-execute-status_error":"query-execute-status_error-LKJ4xR",queryExecuteStatusError:"query-execute-status_error-LKJ4xR","feedback-button":"feedback-button-LiYfbZ",feedbackButton:"feedback-button-LiYfbZ"},t.Z=l},511476:function(e,t,o){var n=o(125161),a=o.n(n),r=o(404442),l=o.n(r)()(a());l.push([e.id,".wrapper-hvaNhY{background:var(--coz-bg-plus,#f9f9f9);border-radius:var(--default,8px);flex-direction:column;align-items:center;gap:16px;width:640px;min-width:640px;max-width:640px;min-height:480px;padding:16px 24px 24px;display:flex}.header-T8aaE5{justify-content:space-between;align-items:center;width:100%;height:32px;min-height:32px;display:flex}.body-KtRcan{flex-direction:column;flex:1 0 0;justify-content:center;align-items:center;display:flex}.footer-xuNt6T{justify-content:flex-end;align-items:center;width:100%;display:flex}.title-hpzD1J{color:var(--coz-fg-plus,rgba(6,7,9,.96));font-size:20px;font-style:normal;font-weight:500;line-height:28px}.error-txt-f1_TUO{color:var(--Light-usage-text---color-text-1,rgba(28,31,35,.8));margin-top:16px;font-size:14px;font-style:normal;font-weight:400;line-height:normal}",""]),l.locals={wrapper:"wrapper-hvaNhY",header:"header-T8aaE5",body:"body-KtRcan",footer:"footer-xuNt6T",title:"title-hpzD1J","error-txt":"error-txt-f1_TUO",errorTxt:"error-txt-f1_TUO"},t.Z=l},741623:function(e,t,o){var n=o(125161),a=o.n(n),r=o(404442),l=o.n(r)()(a());l.push([e.id,".json-link-preview-JCncb_{font-size:12px!important}.json-link-preview-JCncb_ .link-_3vVi4{cursor:pointer;color:var(--coz-fg-hglt,#4e40e5);text-overflow:ellipsis;font-size:14px;font-style:normal;font-weight:400;line-height:20px;-webkit-text-decoration-line:underline;text-decoration-line:underline;overflow:hidden}",""]),l.locals={"json-link-preview":"json-link-preview-JCncb_",jsonLinkPreview:"json-link-preview-JCncb_",link:"link-_3vVi4"},t.Z=l},852806:function(e,t,o){var n=o(125161),a=o.n(n),r=o(404442),l=o.n(r)()(a());l.push([e.id,".image-preview-container-CbSHRC{justify-content:center;align-items:center;width:100%;max-width:100%;height:100%;max-height:100%;display:flex;position:relative}.image-preview-container-CbSHRC .semi-image-preview{opacity:1!important}.image-preview-container-CbSHRC .semi-icon-chevron_left{display:none}.image-preview-container-CbSHRC .semi-image-preview-footer-page{display:none}.image-preview-wrapper-VzfWNE .semi-image-preview-footer-content{border-radius:12px;height:48px;min-height:48px;max-height:48px;padding:8px;opacity:1!important}.image-preview-wrapper-VzfWNE .semi-image-preview-footer-content>div:nth-child(4){display:none}.image-preview-wrapper-VzfWNE .semi-image-preview-footer-content .semi-slider-rail{background-color:var(--semi-color-white)!important}.image-preview-wrapper-VzfWNE .semi-icon-chevron_left{display:none}.image-preview-wrapper-VzfWNE .semi-image-preview-footer-page{display:none}.image-preview-wrapper-VzfWNE .semi-icon-chevron_right{display:none}.image-preview-wrapper-VzfWNE .semi-divider-vertical:first-child{display:none}.image-preview-wrapper-VzfWNE .semi-icon-rotate{display:none}.image-preview-wrapper-VzfWNE .semi-icon-download{margin-left:0}",""]),l.locals={"image-preview-container":"image-preview-container-CbSHRC",imagePreviewContainer:"image-preview-container-CbSHRC","image-preview-wrapper":"image-preview-wrapper-VzfWNE",imagePreviewWrapper:"image-preview-wrapper-VzfWNE"},t.Z=l},471968:function(e,t,o){var n=o(125161),a=o.n(n),r=o(404442),l=o.n(r)()(a());l.push([e.id,".control-bar-tSeQt2{background:var(--coz-bg-max,#fff);border:1px solid var(--coz-stroke-primary,rgba(6,7,9,.1));border-radius:12px;align-items:center;gap:8px;height:48px;min-height:48px;max-height:48px;padding:8px;display:inline-flex;position:absolute;bottom:16px;left:50%;transform:translate(-50%);box-shadow:0 4px 12px rgba(0,0,0,.08),0 8px 24px rgba(0,0,0,.04)}.control-bar-tSeQt2 .page-number-Inntxl{color:var(--coz-fg-plus,rgba(6,7,9,.96));margin:0 4px;font-size:16px;font-style:normal;font-weight:400;line-height:22px}.pdf-title-vOojIv{color:var(--coz-fg-plus,rgba(6,7,9,.96));margin-left:8px;font-size:16px;font-style:normal;font-weight:500;line-height:22px}",""]),l.locals={"control-bar":"control-bar-tSeQt2",controlBar:"control-bar-tSeQt2","page-number":"page-number-Inntxl",pageNumber:"page-number-Inntxl","pdf-title":"pdf-title-vOojIv",pdfTitle:"pdf-title-vOojIv"},t.Z=l},535637:function(e,t,o){var n=o(125161),a=o.n(n),r=o(404442),l=o.n(r)()(a());l.push([e.id,"",""]),t.Z=l}}]);
//# sourceMappingURL=6720.e048e5b7.js.map