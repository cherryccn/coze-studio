/*
 * Copyright 2025 coze-dev Authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

"use strict";(self.webpackChunk_coze_studio_app=self.webpackChunk_coze_studio_app||[]).push([["637"],{543592:function(e,t,i){i.r(t),i.d(t,{ScriptListPage:()=>T,ScriptDetailPage:()=>I});var a=i("151064"),r=i("455069"),s=i("157728"),n=i("674343"),o=i("44172"),l=i("336205"),c=i("252237"),d=i.n(c),p=i("825955"),x=i("165882"),h=()=>{var[e,t]=(0,r.useState)(null),[i,a]=(0,r.useState)(!1),[s,n]=(0,r.useState)(null);return{data:e,loading:i,error:s,fetchScripts:(0,r.useCallback)((0,p._)(function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(!0),n(null);try{var i=yield x.Z.get("/api/edu/scripts",{params:{keyword:e.keyword||"",difficulty:e.difficulty||void 0,page:e.page||1,page_size:e.page_size||20}});if(0===i.data.code)t(i.data.data);else throw Error(i.data.msg||"Failed to fetch scripts")}catch(e){n(e),console.error("Failed to fetch scripts:",e)}finally{a(!1)}}),[])}},m=i("407821"),u=i.n(m),g=i("472772"),v=i.n(g),f=i("395245"),j=i.n(f),y=i("297998"),b=i.n(y),_=i("646576"),C=i.n(_),k=i("606121"),w=i.n(k),N=i("708626"),S={};S.styleTagTransform=w(),S.setAttributes=b(),S.insert=j().bind(null,"head"),S.domAPI=v(),S.insertStyleElement=C(),u()(N.Z,S);var z=N.Z&&N.Z.locals?N.Z.locals:void 0,{Title:Z,Text:L,Paragraph:D}=n.ZT,B={1:{text:"简单",color:"green"},2:{text:"中等",color:"orange"},3:{text:"困难",color:"red"}},T=()=>{var e,t,i=(0,s.useNavigate)(),[c,p]=(0,r.useState)(""),[x,m]=(0,r.useState)(null),{data:u,loading:g,fetchScripts:v}=h();(0,r.useEffect)(()=>{v({keyword:c,difficulty:x})},[c,x]);var f=e=>{i("/edu/scripts/".concat(e))};return(0,a.jsxs)("div",{className:z.container,children:[(0,a.jsxs)("div",{className:z.header,children:[(0,a.jsx)(Z,{heading:3,children:l.o.t("edu_script_library_title",{},"剧本库")}),(0,a.jsx)(L,{type:"secondary",children:l.o.t("edu_script_library_subtitle",{},"选择一个剧本开始你的实训之旅")})]}),(0,a.jsxs)("div",{className:z.filterBar,children:[(0,a.jsx)(n.II,{prefix:(0,a.jsx)(o.jVj,{}),placeholder:l.o.t("edu_search_scripts",{},"搜索剧本名称或描述"),value:c,onChange:p,style:{width:300}}),(0,a.jsxs)(n.Ph,{placeholder:l.o.t("edu_select_difficulty",{},"选择难度"),value:x,onChange:m,style:{width:150},allowClear:!0,children:[(0,a.jsx)(n.Ph.Option,{value:1,children:"简单"}),(0,a.jsx)(n.Ph.Option,{value:2,children:"中等"}),(0,a.jsx)(n.Ph.Option,{value:3,children:"困难"})]})]}),(0,a.jsx)(n.yC,{spinning:g,children:(0,a.jsx)("div",{className:z.scriptList,children:(null==u?void 0:null===(e=u.list)||void 0===e?void 0:e.length)===0?(0,a.jsx)(n.HY,{description:l.o.t("edu_no_scripts",{},"暂无剧本")}):null==u?void 0:null===(t=u.list)||void 0===t?void 0:t.map(e=>(0,a.jsxs)("div",{className:d()(z.scriptCard,z.hoverable),onClick:()=>f(e.id),children:[(0,a.jsxs)("div",{className:z.cardHeader,children:[(0,a.jsx)("span",{className:z.icon,children:e.icon}),(0,a.jsxs)("div",{className:z.titleSection,children:[(0,a.jsx)(Z,{heading:5,className:z.title,children:e.name}),e.nameEn&&(0,a.jsx)(L,{type:"tertiary",size:"small",children:e.nameEn})]})]}),(0,a.jsx)(L,{type:"secondary",className:z.description,children:e.description}),(0,a.jsxs)("div",{className:z.cardFooter,children:[(0,a.jsx)(n.Vp,{color:B[e.difficulty].color,children:B[e.difficulty].text}),(0,a.jsxs)(L,{type:"tertiary",size:"small",children:[e.duration," 分钟"]})]})]},e.id))})})]})},E=i("158237"),F={};F.styleTagTransform=w(),F.setAttributes=b(),F.insert=j().bind(null,"head"),F.domAPI=v(),F.insertStyleElement=C(),u()(E.Z,F);var H=E.Z&&E.Z.locals?E.Z.locals:void 0,{Title:O,Text:G,Paragraph:V}=n.ZT,A={1:{text:"简单",color:"green"},2:{text:"中等",color:"orange"},3:{text:"困难",color:"red"}},I=()=>{var e,t,{id:i}=(0,s.useParams)(),c=(0,s.useNavigate)(),[d,h]=(0,r.useState)(null),[m,u]=(0,r.useState)(!0),[g,v]=(0,r.useState)(!1);(0,r.useEffect)(()=>{f()},[i]);var f=(e=(0,p._)(function*(){try{var e=yield x.Z.get("/api/edu/scripts/".concat(i));0===e.data.code&&h(e.data.data)}catch(e){console.error("Failed to fetch script detail:",e)}finally{u(!1)}}),function(){return e.apply(this,arguments)});var j=(t=(0,p._)(function*(){try{var e=yield x.Z.post("/api/edu/projects",{script_id:Number(i),title:"".concat(null==d?void 0:d.name," - 项目")});if(0===e.data.code){var t=e.data.data.project_id;c("/edu/workspace/".concat(t))}}catch(e){console.error("Failed to start script:",e)}}),function(){return t.apply(this,arguments)});return m?(0,a.jsx)(n.yC,{size:"large",style:{display:"flex",justifyContent:"center",padding:"100px"}}):d?(0,a.jsxs)("div",{className:H.container,children:[(0,a.jsx)(n.zx,{icon:(0,a.jsx)(o.D6v,{}),type:"tertiary",onClick:()=>c("/edu/scripts"),className:H.backButton,children:l.o.t("common_back",{},"返回")}),(0,a.jsxs)("div",{className:H.headerCard,children:[(0,a.jsxs)("div",{className:H.header,children:[(0,a.jsx)("span",{className:H.icon,children:d.icon}),(0,a.jsxs)("div",{className:H.headerContent,children:[(0,a.jsxs)("div",{className:H.titleRow,children:[(0,a.jsx)(O,{heading:2,className:H.title,children:d.name}),(0,a.jsx)(n.Vp,{color:A[d.difficulty].color,children:A[d.difficulty].text})]}),d.nameEn&&(0,a.jsx)(G,{type:"secondary",children:d.nameEn}),(0,a.jsx)(V,{type:"secondary",className:H.description,children:d.description}),(0,a.jsx)("div",{className:H.meta,children:(0,a.jsxs)(G,{type:"tertiary",children:["⏱️ 预计时长：",d.duration," 分钟"]})})]})]}),(0,a.jsx)(n.zx,{type:"primary",size:"large",onClick:()=>v(!0),className:H.startButton,children:l.o.t("edu_start_script",{},"开始剧本")})]}),(0,a.jsxs)("div",{className:H.section,children:[(0,a.jsx)(O,{heading:4,children:l.o.t("edu_background",{},"背景故事")}),(0,a.jsx)(V,{style:{whiteSpace:"pre-wrap"},children:d.background})]}),(0,a.jsxs)("div",{className:H.section,children:[(0,a.jsx)(O,{heading:4,children:l.o.t("edu_objectives",{},"学习目标")}),(0,a.jsx)("ul",{className:H.objectivesList,children:d.objectives.map((e,t)=>(0,a.jsx)("li",{children:(0,a.jsx)(G,{children:e})},t))})]}),(0,a.jsxs)("div",{className:H.section,children:[(0,a.jsx)(O,{heading:4,children:l.o.t("edu_stages",{},"阶段流程")}),(0,a.jsx)(n.Rg,{direction:"vertical",current:-1,children:d.stages.map((e,t)=>(0,a.jsx)(n.Rg.Step,{title:"阶段 ".concat(e.order,": ").concat(e.name),description:(0,a.jsxs)("div",{className:H.stageDescription,children:[(0,a.jsx)(G,{type:"secondary",children:e.description}),(0,a.jsxs)("div",{className:H.stageMeta,children:[(0,a.jsxs)(G,{type:"tertiary",size:"small",children:["⏱️ ",e.duration," 分钟"]}),(0,a.jsxs)(G,{type:"tertiary",size:"small",children:["\uD83D\uDCDD 产出：",e.output_template]})]})]})},t))})]}),(0,a.jsxs)(n.u_,{title:l.o.t("edu_confirm_start",{},"确认开始剧本"),visible:g,onOk:j,onCancel:()=>v(!1),okText:l.o.t("common_confirm",{},"确认"),cancelText:l.o.t("common_cancel",{},"取消"),children:[(0,a.jsx)(V,{children:l.o.t("edu_start_confirm_message",{},"确认开始《{name}》剧本吗？",{name:d.name})}),(0,a.jsx)(V,{type:"secondary",children:l.o.t("edu_start_tip",{},"开始后，系统将为你创建一个新的项目，你可以在项目中与智能体协作完成任务。")})]})]}):(0,a.jsx)("div",{children:"Script not found"})}},158237:function(e,t,i){var a=i(125161),r=i.n(a),s=i(404442),n=i.n(s)()(r());n.push([e.id,`.container-bcGOau{max-width:1200px;margin:0 auto;padding:24px}.backButton-M0bh_I{margin-bottom:24px}.headerCard-CEhA3Q{border:1px solid var(--semi-color-border);background:var(--semi-color-bg-2);border-radius:8px;margin-bottom:24px;padding:24px;position:relative}.header-Mbk5IH{gap:24px;margin-bottom:24px;display:flex}.icon-j9Eye2{flex-shrink:0;font-size:96px}.headerContent-x7Bp5T{flex:1;min-width:0}.titleRow-U24Gza{align-items:center;gap:12px;margin-bottom:8px;display:flex}.title-WFWZmV{margin:0!important}.description-iEGUVt{margin:12px 0!important}.meta-L2b8Aa{gap:24px;margin-top:16px;display:flex}.startButton-wHG5_K{float:right}.section-iHVk4n{border:1px solid var(--semi-color-border);background:var(--semi-color-bg-2);border-radius:8px;margin-bottom:24px;padding:24px}.objectivesList-rmfDnH{margin:0;padding:0;list-style:none}.objectivesList-rmfDnH li{padding:8px 0 8px 24px;position:relative}.objectivesList-rmfDnH li:before{content:"✓";color:var(--semi-color-success);font-weight:700;position:absolute;left:0}.stageDescription-xLCn8z{margin-top:8px}.stageMeta-K0q4kR{gap:16px;margin-top:8px;display:flex}`,""]),n.locals={container:"container-bcGOau",backButton:"backButton-M0bh_I",headerCard:"headerCard-CEhA3Q",header:"header-Mbk5IH",icon:"icon-j9Eye2",headerContent:"headerContent-x7Bp5T",titleRow:"titleRow-U24Gza",title:"title-WFWZmV",description:"description-iEGUVt",meta:"meta-L2b8Aa",startButton:"startButton-wHG5_K",section:"section-iHVk4n",objectivesList:"objectivesList-rmfDnH",stageDescription:"stageDescription-xLCn8z",stageMeta:"stageMeta-K0q4kR"},t.Z=n},708626:function(e,t,i){var a=i(125161),r=i.n(a),s=i(404442),n=i.n(s)()(r());n.push([e.id,".container-xNLw3L{max-width:1400px;margin:0 auto;padding:24px}.header-tgnCVt{margin-bottom:32px}.filterBar-O533XG{gap:16px;margin-bottom:24px;display:flex}.scriptList-Selg_h{grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:24px;display:grid}.scriptCard-OX2cZF{cursor:pointer;border:1px solid var(--semi-color-border);background:var(--semi-color-bg-2);border-radius:8px;flex-direction:column;height:100%;padding:20px;transition:all .3s;display:flex}.scriptCard-OX2cZF.hoverable-AsRyze:hover{transform:translateY(-4px);box-shadow:0 4px 12px rgba(0,0,0,.1)}.cardHeader-Q9laSI{align-items:flex-start;gap:12px;margin-bottom:16px;display:flex}.icon-MTuKlG{flex-shrink:0;font-size:48px}.titleSection-imOQn3{flex:1;min-width:0}.title-C34FvD{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;margin:0!important}.description-uB7SC9{-webkit-line-clamp:2;-webkit-box-orient:vertical;min-height:44px;margin-bottom:16px;display:-webkit-box;overflow:hidden}.cardFooter-yT9az2{border-top:1px solid var(--semi-color-border);justify-content:space-between;align-items:center;margin-top:auto;padding-top:16px;display:flex}",""]),n.locals={container:"container-xNLw3L",header:"header-tgnCVt",filterBar:"filterBar-O533XG",scriptList:"scriptList-Selg_h",scriptCard:"scriptCard-OX2cZF",hoverable:"hoverable-AsRyze",cardHeader:"cardHeader-Q9laSI",icon:"icon-MTuKlG",titleSection:"titleSection-imOQn3",title:"title-C34FvD",description:"description-uB7SC9",cardFooter:"cardFooter-yT9az2"},t.Z=n}}]);
//# sourceMappingURL=637.ba2a585a.js.map